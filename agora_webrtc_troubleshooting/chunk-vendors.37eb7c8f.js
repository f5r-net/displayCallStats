(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"007d":function(t,e,n){var i=n("3eba");n("cb8f"),n("a96b"),n("42f6"),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))},"0156":function(t,e,n){var i=n("6d8b");function r(t,e,n){n=n||{};var r=t.coordinateSystem,o=e.axis,s={},a=o.getAxesOnZeroOf()[0],c=o.position,l=a?"onZero":c,u=o.dim,d=r.getRect(),h=[d.x,d.x+d.width,d.y,d.y+d.height],p={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,m="x"===u?[h[2]-f,h[3]+f]:[h[0]-f,h[1]+f];if(a){var v=a.toGlobalCoord(a.dataToCoord(0));m[p.onZero]=Math.max(Math.min(v,m[1]),m[0])}s.position=["y"===u?m[p[l]]:h[0],"x"===u?m[p[l]]:h[3]],s.rotation=Math.PI/2*("x"===u?0:1);var g={top:-1,bottom:1,left:-1,right:1};s.labelDirection=s.tickDirection=s.nameDirection=g[c],s.labelOffset=a?m[p[c]]-m[p.onZero]:0,e.get("axisTick.inside")&&(s.tickDirection=-s.tickDirection),i.retrieve(n.labelInside,e.get("axisLabel.inside"))&&(s.labelDirection=-s.labelDirection);var _=e.get("axisLabel.rotate");return s.labelRotate="top"===l?-_:_,s.z2=1,s}e.layout=r},"01ed":function(t,e,n){var i=n("3eba"),r=n("6d8b"),o=n("2306");n("5aa9"),n("af24"),i.extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new o.Rect({shape:t.coordinateSystem.getRect(),style:r.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),i.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))},"01f9":function(t,e,n){"use strict";var i=n("2d00"),r=n("5ca1"),o=n("2aba"),s=n("32e9"),a=n("84f2"),c=n("41a0"),l=n("7f20"),u=n("38fd"),d=n("2b4c")("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",f="keys",m="values",v=function(){return this};t.exports=function(t,e,n,g,_,y,E){c(n,e,g);var b,S,T,w=function(t){if(!h&&t in A)return A[t];switch(t){case f:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",I=_==m,R=!1,A=t.prototype,O=A[d]||A[p]||_&&A[_],x=O||w(_),D=_?I?w("entries"):x:void 0,k="Array"==e&&A.entries||O;if(k&&(T=u(k.call(new t)),T!==Object.prototype&&T.next&&(l(T,C,!0),i||"function"==typeof T[d]||s(T,d,v))),I&&O&&O.name!==m&&(R=!0,x=function(){return O.call(this)}),i&&!E||!h&&!R&&A[d]||s(A,d,x),a[e]=x,a[C]=v,_)if(b={values:I?x:w(m),keys:y?x:w(f),entries:D},E)for(S in b)S in A||o(A,S,b[S]);else r(r.P+r.F*(h||R),e,b);return b}},"02f4":function(t,e,n){var i=n("4588"),r=n("be13");t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),c=i(n),l=a.length;return c<0||c>=l?t?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},"0352":function(t,e,n){var i=n("6cb7"),r=n("b12f"),o=n("0f99"),s=o.detectSourceFormat,a=n("93d0"),c=a.SERIES_LAYOUT_BY_COLUMN;i.extend({type:"dataset",defaultOption:{seriesLayoutBy:c,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){s(this)}}),r.extend({type:"dataset"})},"0390":function(t,e,n){"use strict";var i=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"042e":function(t,e,n){var i=n("5ca1");i(i.S,"Math",{fround:n("91ca")})},"049f":function(t,e,n){var i=n("5ca1");i(i.S,"Math",{log1p:n("d6c6")})},"04f6":function(t,e){var n=32,i=7;function r(t){var e=0;while(t>=n)e|=1&t,t>>=1;return t+e}function o(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){while(r<n&&i(t[r],t[r-1])<0)r++;s(t,e,r)}else while(r<n&&i(t[r],t[r-1])>=0)r++;return r-e}function s(t,e,n){n--;while(e<n){var i=t[e];t[e++]=t[n],t[n--]=i}}function a(t,e,n,i,r){for(i===e&&i++;i<n;i++){var o,s=t[i],a=e,c=i;while(a<c)o=a+c>>>1,r(s,t[o])<0?c=o:a=o+1;var l=i-a;switch(l){case 3:t[a+3]=t[a+2];case 2:t[a+2]=t[a+1];case 1:t[a+1]=t[a];break;default:while(l>0)t[a+l]=t[a+l-1],l--}t[a]=s}}function c(t,e,n,i,r,o){var s=0,a=0,c=1;if(o(t,e[n+r])>0){a=i-r;while(c<a&&o(t,e[n+r+c])>0)s=c,c=1+(c<<1),c<=0&&(c=a);c>a&&(c=a),s+=r,c+=r}else{a=r+1;while(c<a&&o(t,e[n+r-c])<=0)s=c,c=1+(c<<1),c<=0&&(c=a);c>a&&(c=a);var l=s;s=r-c,c=r-l}s++;while(s<c){var u=s+(c-s>>>1);o(t,e[n+u])>0?s=u+1:c=u}return c}function l(t,e,n,i,r,o){var s=0,a=0,c=1;if(o(t,e[n+r])<0){a=r+1;while(c<a&&o(t,e[n+r-c])<0)s=c,c=1+(c<<1),c<=0&&(c=a);c>a&&(c=a);var l=s;s=r-c,c=r-l}else{a=i-r;while(c<a&&o(t,e[n+r+c])>=0)s=c,c=1+(c<<1),c<=0&&(c=a);c>a&&(c=a),s+=r,c+=r}s++;while(s<c){var u=s+(c-s>>>1);o(t,e[n+u])<0?c=u:s=u+1}return c}function u(t,e){var n,r,o=i,s=0,a=0;s=t.length;var u=[];function d(t,e){n[a]=t,r[a]=e,a+=1}function h(){while(a>1){var t=a-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;f(t)}}function p(){while(a>1){var t=a-2;t>0&&r[t-1]<r[t+1]&&t--,f(t)}}function f(i){var o=n[i],s=r[i],u=n[i+1],d=r[i+1];r[i]=s+d,i===a-3&&(n[i+1]=n[i+2],r[i+1]=r[i+2]),a--;var h=l(t[u],t,o,s,0,e);o+=h,s-=h,0!==s&&(d=c(t[o+s-1],t,u,d,d-1,e),0!==d&&(s<=d?m(o,s,u,d):v(o,s,u,d)))}function m(n,r,s,a){var d=0;for(d=0;d<r;d++)u[d]=t[n+d];var h=0,p=s,f=n;if(t[f++]=t[p++],0!==--a)if(1!==r){var m,v,g,_=o;while(1){m=0,v=0,g=!1;do{if(e(t[p],u[h])<0){if(t[f++]=t[p++],v++,m=0,0===--a){g=!0;break}}else if(t[f++]=u[h++],m++,v=0,1===--r){g=!0;break}}while((m|v)<_);if(g)break;do{if(m=l(t[p],u,h,r,0,e),0!==m){for(d=0;d<m;d++)t[f+d]=u[h+d];if(f+=m,h+=m,r-=m,r<=1){g=!0;break}}if(t[f++]=t[p++],0===--a){g=!0;break}if(v=c(u[h],t,p,a,0,e),0!==v){for(d=0;d<v;d++)t[f+d]=t[p+d];if(f+=v,p+=v,a-=v,0===a){g=!0;break}}if(t[f++]=u[h++],1===--r){g=!0;break}_--}while(m>=i||v>=i);if(g)break;_<0&&(_=0),_+=2}if(o=_,o<1&&(o=1),1===r){for(d=0;d<a;d++)t[f+d]=t[p+d];t[f+a]=u[h]}else{if(0===r)throw new Error;for(d=0;d<r;d++)t[f+d]=u[h+d]}}else{for(d=0;d<a;d++)t[f+d]=t[p+d];t[f+a]=u[h]}else for(d=0;d<r;d++)t[f+d]=u[h+d]}function v(n,r,s,a){var d=0;for(d=0;d<a;d++)u[d]=t[s+d];var h=n+r-1,p=a-1,f=s+a-1,m=0,v=0;if(t[f--]=t[h--],0!==--r)if(1!==a){var g=o;while(1){var _=0,y=0,E=!1;do{if(e(u[p],t[h])<0){if(t[f--]=t[h--],_++,y=0,0===--r){E=!0;break}}else if(t[f--]=u[p--],y++,_=0,1===--a){E=!0;break}}while((_|y)<g);if(E)break;do{if(_=r-l(u[p],t,n,r,r-1,e),0!==_){for(f-=_,h-=_,r-=_,v=f+1,m=h+1,d=_-1;d>=0;d--)t[v+d]=t[m+d];if(0===r){E=!0;break}}if(t[f--]=u[p--],1===--a){E=!0;break}if(y=a-c(t[h],u,0,a,a-1,e),0!==y){for(f-=y,p-=y,a-=y,v=f+1,m=p+1,d=0;d<y;d++)t[v+d]=u[m+d];if(a<=1){E=!0;break}}if(t[f--]=t[h--],0===--r){E=!0;break}g--}while(_>=i||y>=i);if(E)break;g<0&&(g=0),g+=2}if(o=g,o<1&&(o=1),1===a){for(f-=r,h-=r,v=f+1,m=h+1,d=r-1;d>=0;d--)t[v+d]=t[m+d];t[f]=u[p]}else{if(0===a)throw new Error;for(m=f-(a-1),d=0;d<a;d++)t[m+d]=u[d]}}else{for(f-=r,h-=r,v=f+1,m=h+1,d=r-1;d>=0;d--)t[v+d]=t[m+d];t[f]=u[p]}else for(m=f-(a-1),d=0;d<a;d++)t[m+d]=u[d]}n=[],r=[],this.mergeRuns=h,this.forceMergeRuns=p,this.pushRun=d}function d(t,e,i,s){i||(i=0),s||(s=t.length);var c=s-i;if(!(c<2)){var l=0;if(c<n)return l=o(t,i,s,e),void a(t,i,s,i+l,e);var d=new u(t,e),h=r(c);do{if(l=o(t,i,s,e),l<h){var p=c;p>h&&(p=h),a(t,i,i+p,i+l,e),l=p}d.pushRun(i,l),d.mergeRuns(),c-=l,i+=l}while(0!==c);d.forceMergeRuns()}}t.exports=d},"04ff":function(t,e,n){var i=n("5ca1"),r=n("3ca5");i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},"0655":function(t,e,n){var i=n("8728"),r=1e-8;function o(t,e){return Math.abs(t-e)<r}function s(t,e,n){var r=0,s=t[0];if(!s)return!1;for(var a=1;a<t.length;a++){var c=t[a];r+=i(s[0],s[1],c[0],c[1],e,n),s=c}var l=t[0];return o(s[0],l[0])&&o(s[1],l[1])||(r+=i(s[0],s[1],l[0],l[1],e,n)),0!==r}e.contain=s},"06ad":function(t,e,n){var i=n("4436"),r=n("41ef"),o=n("6d8b"),s=o.isArrayLike,a=Array.prototype.slice;function c(t,e){return t[e]}function l(t,e,n){t[e]=n}function u(t,e,n){return(e-t)*n+t}function d(t,e,n){return n>.5?e:t}function h(t,e,n,i,r){var o=t.length;if(1===r)for(var s=0;s<o;s++)i[s]=u(t[s],e[s],n);else{var a=o&&t[0].length;for(s=0;s<o;s++)for(var c=0;c<a;c++)i[s][c]=u(t[s][c],e[s][c],n)}}function p(t,e,n){var i=t.length,r=e.length;if(i!==r){var o=i>r;if(o)t.length=r;else for(var s=i;s<r;s++)t.push(1===n?e[s]:a.call(e[s]))}var c=t[0]&&t[0].length;for(s=0;s<t.length;s++)if(1===n)isNaN(t[s])&&(t[s]=e[s]);else for(var l=0;l<c;l++)isNaN(t[s][l])&&(t[s][l]=e[s][l])}function f(t,e,n){if(t===e)return!0;var i=t.length;if(i!==e.length)return!1;if(1===n){for(var r=0;r<i;r++)if(t[r]!==e[r])return!1}else{var o=t[0].length;for(r=0;r<i;r++)for(var s=0;s<o;s++)if(t[r][s]!==e[r][s])return!1}return!0}function m(t,e,n,i,r,o,s,a,c){var l=t.length;if(1===c)for(var u=0;u<l;u++)a[u]=v(t[u],e[u],n[u],i[u],r,o,s);else{var d=t[0].length;for(u=0;u<l;u++)for(var h=0;h<d;h++)a[u][h]=v(t[u][h],e[u][h],n[u][h],i[u][h],r,o,s)}}function v(t,e,n,i,r,o,s){var a=.5*(n-t),c=.5*(i-e);return(2*(e-n)+a+c)*s+(-3*(e-n)-2*a-c)*o+a*r+e}function g(t){if(s(t)){var e=t.length;if(s(t[0])){for(var n=[],i=0;i<e;i++)n.push(a.call(t[i]));return n}return a.call(t)}return t}function _(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function y(t){var e=t[t.length-1].value;return s(e&&e[0])?2:1}function E(t,e,n,o,a,c){var l=t._getter,g=t._setter,E="spline"===e,b=o.length;if(b){var S,T=o[0].value,w=s(T),C=!1,I=!1,R=w?y(o):0;o.sort((function(t,e){return t.time-e.time})),S=o[b-1].time;for(var A=[],O=[],x=o[0].value,D=!0,k=0;k<b;k++){A.push(o[k].time/S);var N=o[k].value;if(w&&f(N,x,R)||!w&&N===x||(D=!1),x=N,"string"===typeof N){var P=r.parse(N);P?(N=P,C=!0):I=!0}O.push(N)}if(c||!D){var L=O[b-1];for(k=0;k<b-1;k++)w?p(O[k],L,R):!isNaN(O[k])||isNaN(L)||I||C||(O[k]=L);w&&p(l(t._target,a),L,R);var M,V,U,B,j,F,H=0,W=0;if(C)var G=[0,0,0,0];var $=function(t,e){var n;if(e<0)n=0;else if(e<W){for(M=Math.min(H+1,b-1),n=M;n>=0;n--)if(A[n]<=e)break;n=Math.min(n,b-2)}else{for(n=H;n<b;n++)if(A[n]>e)break;n=Math.min(n-1,b-2)}H=n,W=e;var i=A[n+1]-A[n];if(0!==i)if(V=(e-A[n])/i,E)if(B=O[n],U=O[0===n?n:n-1],j=O[n>b-2?b-1:n+1],F=O[n>b-3?b-1:n+2],w)m(U,B,j,F,V,V*V,V*V*V,l(t,a),R);else{if(C)r=m(U,B,j,F,V,V*V,V*V*V,G,1),r=_(G);else{if(I)return d(B,j,V);r=v(U,B,j,F,V,V*V,V*V*V)}g(t,a,r)}else if(w)h(O[n],O[n+1],V,l(t,a),R);else{var r;if(C)h(O[n],O[n+1],V,G,1),r=_(G);else{if(I)return d(O[n],O[n+1],V);r=u(O[n],O[n+1],V)}g(t,a,r)}},z=new i({target:t._target,life:S,loop:t._loop,delay:t._delay,onframe:$,ondestroy:n});return e&&"spline"!==e&&(z.easing=e),z}}}var b=function(t,e,n,i){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||c,this._setter=i||l,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};b.prototype={when:function(t,e){var n=this._tracks;for(var i in e)if(e.hasOwnProperty(i)){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==t&&n[i].push({time:0,value:g(r)})}n[i].push({time:t,value:e[i]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,i=this,r=0,o=function(){r--,r||i._doneCallback()};for(var s in this._tracks)if(this._tracks.hasOwnProperty(s)){var a=E(this,t,o,this._tracks[s],s,e);a&&(this._clipList.push(a),r++,this.animation&&this.animation.addClip(a),n=a)}if(n){var c=n.onframe;n.onframe=function(t,e){c(t,e);for(var n=0;n<i._onframeList.length;n++)i._onframeList[n](t,e)}}return r||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,i=0;i<e.length;i++){var r=e[i];t&&r.onframe(this._target,1),n&&n.removeClip(r)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var S=b;t.exports=S},"07d7":function(t,e,n){var i=n("6d8b"),r=n("41ef"),o=n("607d"),s=n("65ed"),a=n("22d1"),c=n("eda2"),l=i.each,u=c.toCamelCase,d=["","-webkit-","-moz-","-o-"],h="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function p(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",n="left "+t+"s "+e+",top "+t+"s "+e;return i.map(d,(function(t){return t+"transition:"+n})).join(";")}function f(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();return i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px"),l(["decoration","align"],(function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)})),e.join(";")}function m(t){var e=[],n=t.get("transitionDuration"),i=t.get("backgroundColor"),o=t.getModel("textStyle"),s=t.get("padding");return n&&e.push(p(n)),i&&(a.canvasSupported?e.push("background-Color:"+i):(e.push("background-Color:#"+r.toHex(i)),e.push("filter:alpha(opacity=70)"))),l(["width","color","radius"],(function(n){var i="border-"+n,r=u(i),o=t.get(r);null!=o&&e.push(i+":"+o+("color"===n?"":"px"))})),e.push(f(o)),null!=s&&e.push("padding:"+c.normalizeCssArray(s).join("px ")+"px"),e.join(";")+";"}function v(t,e,n,i,r){var o=e&&e.painter;if(n){var a=o&&o.getViewportRoot();a&&s.transformLocalCoord(t,a,document.body,i,r)}else{t[0]=i,t[1]=r;var c=o&&o.getViewportRootOffset();c&&(t[0]+=c.offsetLeft,t[1]+=c.offsetTop)}}function g(t,e,n){if(a.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=e.getZr(),s=this._appendToBody=n&&n.appendToBody;this._styleCoord=[0,0],v(this._styleCoord,r,s,e.getWidth()/2,e.getHeight()/2),s?document.body.appendChild(i):t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var c=this;i.onmouseenter=function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!c._enterable){var e=r.handler,n=r.painter.getViewportRoot();o.normalizeEvent(n,t,!0),e.dispatch("mousemove",t)}},i.onmouseleave=function(){c._enterable&&c._show&&c.hideLater(c._hideDelay),c._inContent=!1}}g.prototype={constructor:g,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el,n=this._styleCoord;e.style.cssText=h+m(t)+";left:"+n[0]+"px;top:"+n[1]+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n=this._styleCoord;v(n,this._zr,this._appendToBody,t,e);var i=this.el.style;i.left=n[0]+"px",i.top=n[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(i.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(t+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),e+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:t,height:e}}};var _=g;t.exports=_},"097d":function(t,e,n){"use strict";var i=n("5ca1"),r=n("8378"),o=n("7726"),s=n("ebd6"),a=n("bcaa");i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},"09fa":function(t,e,n){var i=n("4588"),r=n("9def");t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},"0a49":function(t,e,n){var i=n("9b43"),r=n("626a"),o=n("4bf8"),s=n("9def"),a=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,d=6==t,h=5==t||d,p=e||a;return function(e,a,f){for(var m,v,g=o(e),_=r(g),y=i(a,f,3),E=s(_.length),b=0,S=n?p(e,E):c?p(e,0):void 0;E>b;b++)if((h||b in _)&&(m=_[b],v=y(m,b,g),t))if(n)S[b]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return b;case 2:S.push(m)}else if(u)return!1;return d?-1:l||u?u:S}}},"0b21":function(t,e,n){var i=n("5ca1");i(i.S,"Math",{sign:n("96fb")})},"0b44":function(t,e,n){var i=n("607d"),r=function(){this._track=[]};function o(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function s(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}r.prototype={constructor:r,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},s=0,a=r.length;s<a;s++){var c=r[s],l=i.clientToLocal(n,c,{});o.points.push([l.zrX,l.zrY]),o.touches.push(c)}this._track.push(o)}},_recognize:function(t){for(var e in a)if(a.hasOwnProperty(e)){var n=a[e](this._track,t);if(n)return n}}};var a={pinch:function(t,e){var n=t.length;if(n){var i=(t[n-1]||{}).points,r=(t[n-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var a=o(i)/o(r);!isFinite(a)&&(a=1),e.pinchScale=a;var c=s(i);return e.pinchX=c[0],e.pinchY=c[1],{type:"pinch",target:t[0].target,event:e}}}}},c=r;t.exports=c},"0bfb":function(t,e,n){"use strict";var i=n("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0cde":function(t,e,n){var i=n("1687"),r=n("401b"),o=i.identity,s=5e-5;function a(t){return t>s||t<-s}var c=function(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},l=c.prototype;l.transform=null,l.needLocalTransform=function(){return a(this.rotation)||a(this.position[0])||a(this.position[1])||a(this.scale[0]-1)||a(this.scale[1]-1)};var u=[];l.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;if(n||e){r=r||i.create(),n?this.getLocalTransform(r):o(r),e&&(n?i.mul(r,t.transform,r):i.copy(r,t.transform)),this.transform=r;var s=this.globalScaleRatio;if(null!=s&&1!==s){this.getGlobalScale(u);var a=u[0]<0?-1:1,c=u[1]<0?-1:1,l=((u[0]-a)*s+a)/u[0]||0,d=((u[1]-c)*s+c)/u[1]||0;r[0]*=l,r[1]*=l,r[2]*=d,r[3]*=d}this.invTransform=this.invTransform||i.create(),i.invert(this.invTransform,r)}else r&&o(r)},l.getLocalTransform=function(t){return c.getLocalTransform(this,t)},l.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},l.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var d=[],h=i.create();l.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=this.position,r=this.scale;a(e-1)&&(e=Math.sqrt(e)),a(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),i[0]=t[4],i[1]=t[5],r[0]=e,r[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e)}},l.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(i.mul(d,t.invTransform,e),e=d);var n=this.origin;n&&(n[0]||n[1])&&(h[4]=n[0],h[5]=n[1],i.mul(d,e,h),d[4]-=n[0],d[5]-=n[1],e=d),this.setLocalTransform(e)}},l.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},l.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&r.applyTransform(n,n,i),n},l.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&r.applyTransform(n,n,i),n},c.getLocalTransform=function(t,e){e=e||[],o(e);var n=t.origin,r=t.scale||[1,1],s=t.rotation||0,a=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),i.scale(e,e,r),s&&i.rotate(e,e,s),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=a[0],e[5]+=a[1],e};var p=c;t.exports=p},"0d58":function(t,e,n){var i=n("ce10"),r=n("e11e");t.exports=Object.keys||function(t){return i(t,r)}},"0d6d":function(t,e,n){var i=n("d3f4"),r=n("67ab").onFreeze;n("5eda")("freeze",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},"0da8":function(t,e,n){var i=n("19eb"),r=n("9850"),o=n("6d8b"),s=n("5e76");function a(t){i.call(this,t)}a.prototype={constructor:a,type:"image",brush:function(t,e){var n=this.style,i=n.image;n.bind(t,this,e);var r=this._image=s.createOrUpdateImage(i,this._image,this,this.onload);if(r&&s.isImageReady(r)){var o=n.x||0,a=n.y||0,c=n.width,l=n.height,u=r.width/r.height;if(null==c&&null!=l?c=l*u:null==l&&null!=c?l=c/u:null==c&&null==l&&(c=r.width,l=r.height),this.setTransform(t),n.sWidth&&n.sHeight){var d=n.sx||0,h=n.sy||0;t.drawImage(r,d,h,n.sWidth,n.sHeight,o,a,c,l)}else if(n.sx&&n.sy){d=n.sx,h=n.sy;var p=c-d,f=l-h;t.drawImage(r,d,h,p,f,o,a,c,l)}else t.drawImage(r,o,a,c,l);null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new r(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},o.inherits(a,i);var c=a;t.exports=c},"0f88":function(t,e,n){var i,r=n("7726"),o=n("32e9"),s=n("ca5a"),a=s("typed_array"),c=s("view"),l=!(!r.ArrayBuffer||!r.DataView),u=l,d=0,h=9,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(d<h)(i=r[p[d++]])?(o(i.prototype,a,!0),o(i.prototype,c,!0)):u=!1;t.exports={ABV:l,CONSTR:u,TYPED:a,VIEW:c}},"0f99":function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("e0d3")),o=r.makeInner,s=r.getDataItemValue,a=n("6d8b"),c=a.createHashMap,l=a.each,u=a.map,d=a.isArray,h=a.isString,p=a.isObject,f=a.isTypedArray,m=a.isArrayLike,v=a.extend,g=(a.assert,n("ec6f")),_=n("93d0"),y=_.SOURCE_FORMAT_ORIGINAL,E=_.SOURCE_FORMAT_ARRAY_ROWS,b=_.SOURCE_FORMAT_OBJECT_ROWS,S=_.SOURCE_FORMAT_KEYED_COLUMNS,T=_.SOURCE_FORMAT_UNKNOWN,w=_.SOURCE_FORMAT_TYPED_ARRAY,C=_.SERIES_LAYOUT_BY_ROW,I={Must:1,Might:2,Not:3},R=o();function A(t){var e=t.option.source,n=T;if(f(e))n=w;else if(d(e)){0===e.length&&(n=E);for(var i=0,r=e.length;i<r;i++){var o=e[i];if(null!=o){if(d(o)){n=E;break}if(p(o)){n=b;break}}}}else if(p(e)){for(var s in e)if(e.hasOwnProperty(s)&&m(e[s])){n=S;break}}else if(null!=e)throw new Error("Invalid data");R(t).sourceFormat=n}function O(t){return R(t).source}function x(t){R(t).datasetMap=c()}function D(t){var e=t.option,n=e.data,i=f(n)?w:y,r=!1,o=e.seriesLayoutBy,s=e.sourceHeader,a=e.dimensions,c=U(t);if(c){var l=c.option;n=l.source,i=R(c).sourceFormat,r=!0,o=o||l.seriesLayoutBy,null==s&&(s=l.sourceHeader),a=a||l.dimensions}var u=k(n,i,o,s,a);R(t).source=new g({data:n,fromDataset:r,seriesLayoutBy:o,sourceFormat:i,dimensionsDefine:u.dimensionsDefine,startIndex:u.startIndex,dimensionsDetectCount:u.dimensionsDetectCount,encodeDefine:e.encode})}function k(t,e,n,i,r){if(!t)return{dimensionsDefine:N(r)};var o,a;if(e===E)"auto"===i||null==i?P((function(t){null!=t&&"-"!==t&&(h(t)?null==a&&(a=1):a=0)}),n,t,10):a=i?1:0,r||1!==a||(r=[],P((function(t,e){r[e]=null!=t?t:""}),n,t)),o=r?r.length:n===C?t.length:t[0]?t[0].length:null;else if(e===b)r||(r=L(t));else if(e===S)r||(r=[],l(t,(function(t,e){r.push(e)})));else if(e===y){var c=s(t[0]);o=d(c)&&c.length||1}return{startIndex:a,dimensionsDefine:N(r),dimensionsDetectCount:o}}function N(t){if(t){var e=c();return u(t,(function(t,n){if(t=v({},p(t)?t:{name:t}),null==t.name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var i=e.get(t.name);return i?t.name+="-"+i.count++:e.set(t.name,{count:1}),t}))}}function P(t,e,n,i){if(null==i&&(i=1/0),e===C)for(var r=0;r<n.length&&r<i;r++)t(n[r]?n[r][0]:null,r);else{var o=n[0]||[];for(r=0;r<o.length&&r<i;r++)t(o[r],r)}}function L(t){var e,n=0;while(n<t.length&&!(e=t[n++]));if(e){var i=[];return l(e,(function(t,e){i.push(e)})),i}}function M(t,e,n){var i={},r=U(e);if(!r||!t)return i;var o,s,a=[],c=[],u=e.ecModel,d=R(u).datasetMap,h=r.uid+"_"+n.seriesLayoutBy;t=t.slice(),l(t,(function(e,n){!p(e)&&(t[n]={name:e}),"ordinal"===e.type&&null==o&&(o=n,s=v(t[n])),i[e.name]=[]}));var f=d.get(h)||d.set(h,{categoryWayDim:s,valueWayDim:0});function m(t,e,n){for(var i=0;i<n;i++)t.push(e+i)}function v(t){var e=t.dimsDef;return e?e.length:1}return l(t,(function(t,e){var n=t.name,r=v(t);if(null==o){var s=f.valueWayDim;m(i[n],s,r),m(c,s,r),f.valueWayDim+=r}else if(o===e)m(i[n],0,r),m(a,0,r);else{s=f.categoryWayDim;m(i[n],s,r),m(c,s,r),f.categoryWayDim+=r}})),a.length&&(i.itemName=a),c.length&&(i.seriesName=c),i}function V(t,e,n){var i={},r=U(t);if(!r)return i;var o,s=e.sourceFormat,a=e.dimensionsDefine;s!==b&&s!==S||l(a,(function(t,e){"name"===(p(t)?t.name:t)&&(o=e)}));var c=function(){for(var t={},i={},r=[],c=0,l=Math.min(5,n);c<l;c++){var u=j(e.data,s,e.seriesLayoutBy,a,e.startIndex,c);r.push(u);var d=u===I.Not;if(d&&null==t.v&&c!==o&&(t.v=c),(null==t.n||t.n===t.v||!d&&r[t.n]===I.Not)&&(t.n=c),h(t)&&r[t.n]!==I.Not)return t;d||(u===I.Might&&null==i.v&&c!==o&&(i.v=c),null!=i.n&&i.n!==i.v||(i.n=c))}function h(t){return null!=t.v&&null!=t.n}return h(t)?t:h(i)?i:null}();if(c){i.value=c.v;var u=null!=o?o:c.n;i.itemName=[u],i.seriesName=[u]}return i}function U(t){var e=t.option,n=e.data;if(!n)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}function B(t,e){return j(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function j(t,e,n,i,r,o){var a,c,l,u=5;if(f(t))return I.Not;if(i){var m=i[o];p(m)?(c=m.name,l=m.type):h(m)&&(c=m)}if(null!=l)return"ordinal"===l?I.Must:I.Not;if(e===E)if(n===C){for(var v=t[o],g=0;g<(v||[]).length&&g<u;g++)if(null!=(a=R(v[r+g])))return a}else for(g=0;g<t.length&&g<u;g++){var _=t[r+g];if(_&&null!=(a=R(_[o])))return a}else if(e===b){if(!c)return I.Not;for(g=0;g<t.length&&g<u;g++){var T=t[g];if(T&&null!=(a=R(T[c])))return a}}else if(e===S){if(!c)return I.Not;v=t[c];if(!v||f(v))return I.Not;for(g=0;g<v.length&&g<u;g++)if(null!=(a=R(v[g])))return a}else if(e===y)for(g=0;g<t.length&&g<u;g++){T=t[g];var w=s(T);if(!d(w))return I.Not;if(null!=(a=R(w[o])))return a}function R(t){var e=h(t);return null!=t&&isFinite(t)&&""!==t?e?I.Might:I.Not:e&&"-"!==t?I.Must:void 0}return I.Not}e.BE_ORDINAL=I,e.detectSourceFormat=A,e.getSource=O,e.resetSourceDefaulter=x,e.prepareSource=D,e.makeSeriesEncodeForAxisCoordSys=M,e.makeSeriesEncodeForNameBased=V,e.guessOrdinal=B},"10ad":function(t,e,n){"use strict";var i,r=n("7726"),o=n("0a49")(0),s=n("2aba"),a=n("67ab"),c=n("7333"),l=n("643e"),u=n("d3f4"),d=n("b39a"),h=n("b39a"),p=!r.ActiveXObject&&"ActiveXObject"in r,f="WeakMap",m=a.getWeak,v=Object.isExtensible,g=l.ufstore,_=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(u(t)){var e=m(t);return!0===e?g(d(this,f)).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(d(this,f),t,e)}},E=t.exports=n("e0b8")(f,_,y,l,!0,!0);h&&p&&(i=l.getConstructor(_,f),c(i.prototype,y),a.NEED=!0,o(["delete","has","get","set"],(function(t){var e=E.prototype,n=e[t];s(e,t,(function(e,r){if(u(e)&&!v(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)}))})))},1169:function(t,e,n){var i=n("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"11e9":function(t,e,n){var i=n("52a7"),r=n("4630"),o=n("6821"),s=n("6a99"),a=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=o(t),e=s(e,!0),c)try{return l(t,e)}catch(n){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},"130f":function(t,e,n){var i=n("5ca1"),r=n("1991");i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},"133d":function(t,e,n){var i=n("6d8b"),r=n("e0d3");function o(t,e){var n,o=[],s=t.seriesIndex;if(null==s||!(n=e.getSeriesByIndex(s)))return{point:[]};var a=n.getData(),c=r.queryDataIndex(a,t);if(null==c||c<0||i.isArray(c))return{point:[]};var l=a.getItemGraphicEl(c),u=n.coordinateSystem;if(n.getTooltipPosition)o=n.getTooltipPosition(c)||[];else if(u&&u.dataToPoint)o=u.dataToPoint(a.getValues(i.map(u.dimensions,(function(t){return a.mapDimension(t)})),c,!0))||[];else if(l){var d=l.getBoundingRect().clone();d.applyTransform(l.transform),o=[d.x+d.width/2,d.y+d.height/2]}return{point:o,el:l}}t.exports=o},1418:function(t,e,n){var i=n("6d8b"),r=n("a15a"),o=r.createSymbol,s=n("2306"),a=n("3842"),c=a.parsePercent,l=n("c775"),u=l.getDefaultLabel;function d(t,e,n){s.Group.call(this),this.updateData(t,e,n)}var h=d.prototype,p=d.getSymbolSize=function(t,e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};function f(t){return[t[0]/2,t[1]/2]}function m(t,e){this.parent.drift(t,e)}h._createSymbol=function(t,e,n,i,r){this.removeAll();var s=e.getItemVisual(n,"color"),a=o(t,-1,-1,2,2,s,r);a.attr({z2:100,culling:!0,scale:f(i)}),a.drift=m,this._symbolType=t,this.add(a)},h.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},h.getSymbolPath=function(){return this.childAt(0)},h.getScale=function(){return this.childAt(0).scale},h.highlight=function(){this.childAt(0).trigger("emphasis")},h.downplay=function(){this.childAt(0).trigger("normal")},h.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},h.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},h.updateData=function(t,e,n){this.silent=!1;var i=t.getItemVisual(e,"symbol")||"circle",r=t.hostModel,o=p(t,e),a=i!==this._symbolType;if(a){var c=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(i,t,e,o,c)}else{var l=this.childAt(0);l.silent=!1,s.updateProps(l,{scale:f(o)},r,e)}if(this._updateCommon(t,e,o,n),a){l=this.childAt(0);var u=n&&n.fadeIn,d={scale:l.scale.slice()};u&&(d.style={opacity:l.style.opacity}),l.scale=[0,0],u&&(l.style.opacity=0),s.initProps(l,d,r,e)}this._seriesModel=r};var v=["itemStyle"],g=["emphasis","itemStyle"],_=["label"],y=["emphasis","label"];function E(t,e){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===e){var n=this.__symbolOriginalScale,i=n[1]/n[0],r={scale:[Math.max(1.1*n[0],n[0]+3),Math.max(1.1*n[1],n[1]+3*i)]};this.animateTo(r,400,"elasticOut")}else"normal"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}h._updateCommon=function(t,e,n,r){var o=this.childAt(0),a=t.hostModel,l=t.getItemVisual(e,"color");"image"!==o.type?o.useStyle({strokeNoScale:!0}):o.setStyle({opacity:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var d=r&&r.itemStyle,h=r&&r.hoverItemStyle,p=r&&r.symbolOffset,m=r&&r.labelModel,b=r&&r.hoverLabelModel,S=r&&r.hoverAnimation,T=r&&r.cursorStyle;if(!r||t.hasItemOption){var w=r&&r.itemModel?r.itemModel:t.getItemModel(e);d=w.getModel(v).getItemStyle(["color"]),h=w.getModel(g).getItemStyle(),p=w.getShallow("symbolOffset"),m=w.getModel(_),b=w.getModel(y),S=w.getShallow("hoverAnimation"),T=w.getShallow("cursor")}else h=i.extend({},h);var C=o.style,I=t.getItemVisual(e,"symbolRotate");o.attr("rotation",(I||0)*Math.PI/180||0),p&&o.attr("position",[c(p[0],n[0]),c(p[1],n[1])]),T&&o.attr("cursor",T),o.setColor(l,r&&r.symbolInnerColor),o.setStyle(d);var R=t.getItemVisual(e,"opacity");null!=R&&(C.opacity=R);var A=t.getItemVisual(e,"liftZ"),O=o.__z2Origin;null!=A?null==O&&(o.__z2Origin=o.z2,o.z2+=A):null!=O&&(o.z2=O,o.__z2Origin=null);var x=r&&r.useNameLabel;function D(e,n){return x?t.getName(e):u(t,e)}s.setLabelStyle(C,h,m,b,{labelFetcher:a,labelDataIndex:e,defaultText:D,isRectText:!0,autoColor:l}),o.__symbolOriginalScale=f(n),o.hoverStyle=h,o.highDownOnUpdate=S&&a.isAnimationEnabled()?E:null,s.setHoverStyle(o)},h.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,(!e||!e.keepLabel)&&(n.style.text=null),s.updateProps(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},i.inherits(d,s.Group);var b=d;t.exports=b},1448:function(t,e,n){"use strict";n("386b")("strike",(function(t){return function(){return t(this,"strike","","")}}))},1495:function(t,e,n){var i=n("86cc"),r=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){r(t);var n,s=o(e),a=s.length,c=0;while(a>c)i.f(t,n=s[c++],e[n]);return t}},"14b9":function(t,e,n){var i=n("5ca1");i(i.P,"String",{repeat:n("9744")})},1548:function(t,e,n){var i=n("6d8b"),r=n("3301"),o=n("697e"),s=n("2023"),a=n("4319"),c=n("f934");c.getLayoutRect;e.getLayoutRect=c.getLayoutRect;var l=n("ee1a"),u=l.enableDataStack,d=l.isDimensionStacked,h=l.getStackedDimension,p=n("862d");e.completeDimensions=p;var f=n("b1d4");e.createDimensions=f;var m=n("a15a");function v(t){return r(t.getSource(),t)}e.createSymbol=m.createSymbol;var g={isDimensionStacked:d,enableDataStack:u,getStackedDimension:h};function _(t,e){var n=e;a.isInstance(e)||(n=new a(e),i.mixin(n,s));var r=o.createScaleByModel(n);return r.setExtent(t[0],t[1]),o.niceScaleExtent(r,n),r}function y(t){i.mixin(t,s)}e.createList=v,e.dataStack=g,e.createScale=_,e.mixinAxisModelCommonMethods=y},"15ac":function(t,e,n){n("ec30")("Int16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},"165b":function(t,e,n){var i=n("d3f4");n("5eda")("isExtensible",(function(t){return function(e){return!!i(e)&&(!t||t(e))}}))},1687:function(t,e){var n="undefined"===typeof Float32Array?Array:Float32Array;function i(){var t=new n(6);return r(t),t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function s(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],s=e[1]*n[2]+e[3]*n[3],a=e[0]*n[4]+e[2]*n[5]+e[4],c=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=s,t[4]=a,t[5]=c,t}function a(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function c(t,e,n){var i=e[0],r=e[2],o=e[4],s=e[1],a=e[3],c=e[5],l=Math.sin(n),u=Math.cos(n);return t[0]=i*u+s*l,t[1]=-i*l+s*u,t[2]=r*u+a*l,t[3]=-r*l+u*a,t[4]=u*o+l*c,t[5]=u*c-l*o,t}function l(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t}function u(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],s=e[3],a=e[5],c=n*s-o*i;return c?(c=1/c,t[0]=s*c,t[1]=-o*c,t[2]=-i*c,t[3]=n*c,t[4]=(i*a-s*r)*c,t[5]=(o*r-n*a)*c,t):null}function d(t){var e=i();return o(e,t),e}e.create=i,e.identity=r,e.copy=o,e.mul=s,e.translate=a,e.rotate=c,e.scale=l,e.invert=u,e.clone=d},"17d6":function(t,e,n){var i=n("6d8b"),r=n("22d1"),o=n("e0d3"),s=o.makeInner,a=s(),c=i.each;function l(t,e,n){if(!r.node){var i=e.getZr();a(i).records||(a(i).records={}),u(i,e);var o=a(i).records[t]||(a(i).records[t]={});o.handler=n}}function u(t,e){function n(n,i){t.on(n,(function(n){var r=f(e);c(a(t).records,(function(t){t&&i(t,n,r.dispatchAction)})),d(r.pendings,e)}))}a(t).initialized||(a(t).initialized=!0,n("click",i.curry(p,"click")),n("mousemove",i.curry(p,"mousemove")),n("globalout",h))}function d(t,e){var n,i=t.showTip.length,r=t.hideTip.length;i?n=t.showTip[i-1]:r&&(n=t.hideTip[r-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}function h(t,e,n){t.handler("leave",null,n)}function p(t,e,n,i){e.handler(t,n,i)}function f(t){var e={showTip:[],hideTip:[]},n=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=n,t.dispatchAction(i))};return{dispatchAction:n,pendings:e}}function m(t,e){if(!r.node){var n=e.getZr(),i=(a(n).records||{})[t];i&&(a(n).records[t]=null)}}e.register=l,e.unregister=m},"18c0":function(t,e,n){var i=n("6d8b"),r=n("e0d8"),o=n("8e43"),s=r.prototype,a=r.extend({type:"ordinal",init:function(t,e){t&&!i.isArray(t)||(t=new o({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"===typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),s.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return s.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(s.scale.call(this,t))},getTicks:function(){var t=[],e=this._extent,n=e[0];while(n<=e[1])t.push(n),n++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:i.noop,niceExtent:i.noop});a.create=function(){return new a};var c=a;t.exports=c},1991:function(t,e,n){var i,r,o,s=n("9b43"),a=n("31f4"),c=n("fab2"),l=n("230e"),u=n("7726"),d=u.process,h=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,v=0,g={},_="onreadystatechange",y=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},E=function(t){y.call(t.data)};h&&p||(h=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return g[++v]=function(){a("function"==typeof t?t:Function(t),e)},i(v),v},p=function(t){delete g[t]},"process"==n("2d95")(d)?i=function(t){d.nextTick(s(y,t,1))}:m&&m.now?i=function(t){m.now(s(y,t,1))}:f?(r=new f,o=r.port2,r.port1.onmessage=E,i=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",E,!1)):i=_ in l("script")?function(t){c.appendChild(l("script"))[_]=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:h,clear:p}},"19eb":function(t,e,n){var i=n("6d8b"),r=n("2b61"),o=n("d5b7"),s=n("9e2e");function a(t){for(var e in t=t||{},o.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new r(t.style,this),this._rect=null,this.__clipPaths=null}a.prototype={constructor:a,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();return i.contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?o.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new r(t,this),this.dirty(!1),this},calculateTextPosition:null},i.inherits(a,o),i.mixin(a,s);var c=a;t.exports=c},"1c4c":function(t,e,n){"use strict";var i=n("9b43"),r=n("5ca1"),o=n("4bf8"),s=n("1fa8"),a=n("33a4"),c=n("9def"),l=n("f1ae"),u=n("27ee");r(r.S+r.F*!n("5cc5")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,d,h=o(t),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,v=void 0!==m,g=0,_=u(h);if(v&&(m=i(m,f>2?arguments[2]:void 0,2)),void 0==_||p==Array&&a(_))for(e=c(h.length),n=new p(e);e>g;g++)l(n,g,v?m(h[g],g):h[g]);else for(d=_.call(h),n=new p;!(r=d.next()).done;g++)l(n,g,v?s(d,m,[r.value,g],!0):r.value);return n.length=g,n}})},"1fa8":function(t,e,n){var i=n("cb7c");t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(s){var o=t["return"];throw void 0!==o&&i(o.call(t)),s}}},"1fab":function(t,e){var n=Array.prototype.slice,i=function(t){this._$handlers={},this._$eventProcessor=t};function r(t,e){var n=t._$eventProcessor;return null!=e&&n&&n.normalizeQuery&&(e=n.normalizeQuery(e)),e}function o(t,e,n,i,o,s){var a=t._$handlers;if("function"===typeof n&&(o=i,i=n,n=null),!i||!e)return t;n=r(t,n),a[e]||(a[e]=[]);for(var c=0;c<a[e].length;c++)if(a[e][c].h===i)return t;var l={h:i,one:s,query:n,ctx:o||t,callAtLast:i.zrEventfulCallAtLast},u=a[e].length-1,d=a[e][u];return d&&d.callAtLast?a[e].splice(u,0,l):a[e].push(l),t}i.prototype={constructor:i,one:function(t,e,n,i){return o(this,t,e,n,i,!0)},on:function(t,e,n,i){return o(this,t,e,n,i,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,o=n[t].length;r<o;r++)n[t][r].h!==e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var r=arguments,o=r.length;o>3&&(r=n.call(r,1));for(var s=e.length,a=0;a<s;){var c=e[a];if(i&&i.filter&&null!=c.query&&!i.filter(t,c.query))a++;else{switch(o){case 1:c.h.call(c.ctx);break;case 2:c.h.call(c.ctx,r[1]);break;case 3:c.h.call(c.ctx,r[1],r[2]);break;default:c.h.apply(c.ctx,r);break}c.one?(e.splice(a,1),s--):a++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var r=arguments,o=r.length;o>4&&(r=n.call(r,1,r.length-1));for(var s=r[r.length-1],a=e.length,c=0;c<a;){var l=e[c];if(i&&i.filter&&null!=l.query&&!i.filter(t,l.query))c++;else{switch(o){case 1:l.h.call(s);break;case 2:l.h.call(s,r[1]);break;case 3:l.h.call(s,r[1],r[2]);break;default:l.h.apply(s,r);break}l.one?(e.splice(c,1),a--):c++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this}};var s=i;t.exports=s},"1fb5":function(t,e,n){"use strict";e.byteLength=u,e.toByteArray=h,e.fromByteArray=m;for(var i=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var i=n===e?0:4-n%4;return[n,i]}function u(t){var e=l(t),n=e[0],i=e[1];return 3*(n+i)/4-i}function d(t,e,n){return 3*(e+n)/4-n}function h(t){var e,n,i=l(t),s=i[0],a=i[1],c=new o(d(t,s,a)),u=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return 2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[u++]=255&e),1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c}function p(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}function f(t,e,n){for(var i,r=[],o=e;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(p(i));return r.join("")}function m(t){for(var e,n=t.length,r=n%3,o=[],s=16383,a=0,c=n-r;a<c;a+=s)o.push(f(t,a,a+s>c?c:a+s));return 1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2023:function(t,e,n){var i=n("6d8b"),r={getMin:function(t){var e=this.option,n=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!==typeof n&&!i.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(t){var e=this.option,n=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!==typeof n&&!i.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:i.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};t.exports=r},2039:function(t,e,n){var i=n("6d8b"),r={};function o(){this._coordinateSystems=[]}o.prototype={constructor:o,create:function(t,e){var n=[];i.each(r,(function(i,r){var o=i.create(t,e);n=n.concat(o||[])})),this._coordinateSystems=n},update:function(t,e){i.each(this._coordinateSystems,(function(n){n.update&&n.update(t,e)}))},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},o.register=function(t,e){r[t]=e},o.get=function(t){return r[t]};var s=o;t.exports=s},"20c8":function(t,e,n){var i=n("4a3f"),r=n("401b"),o=n("e263"),s=n("9850"),a=n("2cf4"),c=a.devicePixelRatio,l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},u=[],d=[],h=[],p=[],f=Math.min,m=Math.max,v=Math.cos,g=Math.sin,_=Math.sqrt,y=Math.abs,E="undefined"!==typeof Float32Array,b=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};b.prototype={constructor:b,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,n){n=n||0,this._ux=y(n/c/t)||0,this._uy=y(n/c/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=y(t-this._xi)>this._ux||y(e-this._yi)>this._uy||this._len<5;return this.addData(l.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,i,r,o){return this.addData(l.C,t,e,n,i,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,i,r,o):this._ctx.bezierCurveTo(t,e,n,i,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(t,e,n,i){return this.addData(l.Q,t,e,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,i):this._ctx.quadraticCurveTo(t,e,n,i)),this._xi=n,this._yi=i,this},arc:function(t,e,n,i,r,o){return this.addData(l.A,t,e,n,n,i,r-i,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,o),this._xi=v(r)*n+t,this._yi=g(r)*n+e,this},arcTo:function(t,e,n,i,r){return this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},rect:function(t,e,n,i){return this._ctx&&this._ctx.rect(t,e,n,i),this.addData(l.R,t,e,n,i),this},closePath:function(){this.addData(l.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!E||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,r=0;r<e;r++)n+=t[r].len();E&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(r=0;r<e;r++)for(var o=t[r].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,i,r=this._dashSum,o=this._dashOffset,s=this._lineDash,a=this._ctx,c=this._xi,l=this._yi,u=t-c,d=e-l,h=_(u*u+d*d),p=c,v=l,g=s.length;u/=h,d/=h,o<0&&(o=r+o),o%=r,p-=o*u,v-=o*d;while(u>0&&p<=t||u<0&&p>=t||0===u&&(d>0&&v<=e||d<0&&v>=e))i=this._dashIdx,n=s[i],p+=u*n,v+=d*n,this._dashIdx=(i+1)%g,u>0&&p<c||u<0&&p>c||d>0&&v<l||d<0&&v>l||a[i%2?"moveTo":"lineTo"](u>=0?f(p,t):m(p,t),d>=0?f(v,e):m(v,e));u=p-t,d=v-e,this._dashOffset=-_(u*u+d*d)},_dashedBezierTo:function(t,e,n,r,o,s){var a,c,l,u,d,h=this._dashSum,p=this._dashOffset,f=this._lineDash,m=this._ctx,v=this._xi,g=this._yi,y=i.cubicAt,E=0,b=this._dashIdx,S=f.length,T=0;for(p<0&&(p=h+p),p%=h,a=0;a<1;a+=.1)c=y(v,t,n,o,a+.1)-y(v,t,n,o,a),l=y(g,e,r,s,a+.1)-y(g,e,r,s,a),E+=_(c*c+l*l);for(;b<S;b++)if(T+=f[b],T>p)break;a=(T-p)/E;while(a<=1)u=y(v,t,n,o,a),d=y(g,e,r,s,a),b%2?m.moveTo(u,d):m.lineTo(u,d),a+=f[b]/E,b=(b+1)%S;b%2!==0&&m.lineTo(o,s),c=o-u,l=s-d,this._dashOffset=-_(c*c+l*l)},_dashedQuadraticTo:function(t,e,n,i){var r=n,o=i;n=(n+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,i,r,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,E&&(this.data=new Float32Array(t)))},getBoundingRect:function(){u[0]=u[1]=h[0]=h[1]=Number.MAX_VALUE,d[0]=d[1]=p[0]=p[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,i=0,a=0,c=0;c<t.length;){var f=t[c++];switch(1===c&&(e=t[c],n=t[c+1],i=e,a=n),f){case l.M:i=t[c++],a=t[c++],e=i,n=a,h[0]=i,h[1]=a,p[0]=i,p[1]=a;break;case l.L:o.fromLine(e,n,t[c],t[c+1],h,p),e=t[c++],n=t[c++];break;case l.C:o.fromCubic(e,n,t[c++],t[c++],t[c++],t[c++],t[c],t[c+1],h,p),e=t[c++],n=t[c++];break;case l.Q:o.fromQuadratic(e,n,t[c++],t[c++],t[c],t[c+1],h,p),e=t[c++],n=t[c++];break;case l.A:var m=t[c++],_=t[c++],y=t[c++],E=t[c++],b=t[c++],S=t[c++]+b;c+=1;var T=1-t[c++];1===c&&(i=v(b)*y+m,a=g(b)*E+_),o.fromArc(m,_,y,E,b,S,T,h,p),e=v(S)*y+m,n=g(S)*E+_;break;case l.R:i=e=t[c++],a=n=t[c++];var w=t[c++],C=t[c++];o.fromLine(i,a,i+w,a+C,h,p);break;case l.Z:e=i,n=a;break}r.min(u,u,h),r.max(d,d,p)}return 0===c&&(u[0]=u[1]=d[0]=d[1]=0),new s(u[0],u[1],d[0]-u[0],d[1]-u[1])},rebuildPath:function(t){for(var e,n,i,r,o,s,a=this.data,c=this._ux,u=this._uy,d=this._len,h=0;h<d;){var p=a[h++];switch(1===h&&(i=a[h],r=a[h+1],e=i,n=r),p){case l.M:e=i=a[h++],n=r=a[h++],t.moveTo(i,r);break;case l.L:o=a[h++],s=a[h++],(y(o-i)>c||y(s-r)>u||h===d-1)&&(t.lineTo(o,s),i=o,r=s);break;case l.C:t.bezierCurveTo(a[h++],a[h++],a[h++],a[h++],a[h++],a[h++]),i=a[h-2],r=a[h-1];break;case l.Q:t.quadraticCurveTo(a[h++],a[h++],a[h++],a[h++]),i=a[h-2],r=a[h-1];break;case l.A:var f=a[h++],m=a[h++],_=a[h++],E=a[h++],b=a[h++],S=a[h++],T=a[h++],w=a[h++],C=_>E?_:E,I=_>E?1:_/E,R=_>E?E/_:1,A=Math.abs(_-E)>.001,O=b+S;A?(t.translate(f,m),t.rotate(T),t.scale(I,R),t.arc(0,0,C,b,O,1-w),t.scale(1/I,1/R),t.rotate(-T),t.translate(-f,-m)):t.arc(f,m,C,b,O,1-w),1===h&&(e=v(b)*_+f,n=g(b)*E+m),i=v(O)*_+f,r=g(O)*E+m;break;case l.R:e=i=a[h],n=r=a[h+1],t.rect(a[h++],a[h++],a[h++],a[h++]);break;case l.Z:t.closePath(),i=e,r=n}}}},b.CMD=l;var S=b;t.exports=S},"20d6":function(t,e,n){"use strict";var i=n("5ca1"),r=n("0a49")(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),i(i.P+i.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"214f":function(t,e,n){"use strict";n("b0c5");var i=n("2aba"),r=n("32e9"),o=n("79e5"),s=n("be13"),a=n("2b4c"),c=n("520a"),l=a("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=a(t),p=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),f=p?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[h](""),!e})):void 0;if(!p||!f||"replace"===t&&!u||"split"===t&&!d){var m=/./[h],v=n(s,h,""[t],(function(t,e,n,i,r){return e.exec===c?p&&!r?{done:!0,value:m.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),g=v[0],_=v[1];i(String.prototype,t,g),r(RegExp.prototype,h,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}}},"216a":function(t,e,n){var i=n("6d8b"),r=n("3842"),o=n("eda2"),s=n("944e"),a=n("89e3"),c=a.prototype,l=Math.ceil,u=Math.floor,d=1e3,h=60*d,p=60*h,f=24*p,m=function(t,e,n,i){while(n<i){var r=n+i>>>1;t[r][1]<e?n=r+1:i=r}return n},v=a.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return o.formatTime(e[0],n,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=f,e[1]+=f),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-f}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=r.round(u(e[0]/i)*i)),t.fixMax||(e[1]=r.round(l(e[1]/i)*i))},niceTicks:function(t,e,n){t=t||10;var i=this._extent,o=i[1]-i[0],a=o/t;null!=e&&a<e&&(a=e),null!=n&&a>n&&(a=n);var c=g.length,d=m(g,a,0,c),h=g[Math.min(d,c-1)],p=h[1];if("year"===h[0]){var f=o/p,v=r.nice(f/t,!0);p*=v}var _=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,y=[Math.round(l((i[0]-_)/p)*p+_),Math.round(u((i[1]-_)/p)*p+_)];s.fixExtent(y,i),this._stepLvl=h,this._interval=p,this._niceExtent=y},parse:function(t){return+r.parseDate(t)}});i.each(["contain","normalize"],(function(t){v.prototype[t]=function(e){return c[t].call(this,this.parse(e))}}));var g=[["hh:mm:ss",d],["hh:mm:ss",5*d],["hh:mm:ss",10*d],["hh:mm:ss",15*d],["hh:mm:ss",30*d],["hh:mm\nMM-dd",h],["hh:mm\nMM-dd",5*h],["hh:mm\nMM-dd",10*h],["hh:mm\nMM-dd",15*h],["hh:mm\nMM-dd",30*h],["hh:mm\nMM-dd",p],["hh:mm\nMM-dd",2*p],["hh:mm\nMM-dd",6*p],["hh:mm\nMM-dd",12*p],["MM-dd\nyyyy",f],["MM-dd\nyyyy",2*f],["MM-dd\nyyyy",3*f],["MM-dd\nyyyy",4*f],["MM-dd\nyyyy",5*f],["MM-dd\nyyyy",6*f],["week",7*f],["MM-dd\nyyyy",10*f],["week",14*f],["week",21*f],["month",31*f],["week",42*f],["month",62*f],["week",70*f],["quarter",95*f],["month",31*f*4],["month",31*f*5],["half-year",380*f/2],["month",31*f*8],["month",31*f*10],["year",380*f]];v.create=function(t){return new v({useUTC:t.ecModel.get("useUTC")})};var _=v;t.exports=_},"217b":function(t,e,n){"use strict";var i=n("d3f4"),r=n("38fd"),o=n("2b4c")("hasInstance"),s=Function.prototype;o in s||n("86cc").f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;while(t=r(t))if(this.prototype===t)return!0;return!1}})},"217b8":function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("3301")),o=n("4f85"),s=o.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return r(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});t.exports=s},2251:function(t,e,n){var i=n("5ca1"),r=n("cb7c"),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},"22d1":function(t,e){var n={};n="object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"===typeof document&&"undefined"!==typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"===typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:r(navigator.userAgent);var i=n;function r(t){var e={},n={},i=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge\/([\d.]+)/),s=/micromessenger/i.test(t);return i&&(n.firefox=!0,n.version=i[1]),r&&(n.ie=!0,n.version=r[1]),o&&(n.edge=!0,n.version=o[1]),s&&(n.weChat=!0),{browser:n,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!==typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11),domSupported:"undefined"!==typeof document}}t.exports=i},2306:function(t,e,n){var i=n("6d8b"),r=n("342d"),o=n("41ef"),s=n("1687"),a=n("401b"),c=n("cbe5"),l=n("0cde"),u=n("0da8");e.Image=u;var d=n("e1fc");e.Group=d;var h=n("76a5");e.Text=h;var p=n("d9fc");e.Circle=p;var f=n("4aa2");e.Sector=f;var m=n("4573");e.Ring=m;var v=n("87b1");e.Polygon=v;var g=n("d498");e.Polyline=g;var _=n("c7a2");e.Rect=_;var y=n("cb11");e.Line=y;var E=n("ac0f");e.BezierCurve=E;var b=n("8d32");e.Arc=b;var S=n("d4c6");e.CompoundPath=S;var T=n("48a9");e.LinearGradient=T;var w=n("dded");e.RadialGradient=w;var C=n("9850");e.BoundingRect=C;var I=n("392f");e.IncrementalDisplayable=I;var R=n("9cf9"),A=Math.max,O=Math.min,x={},D=1,k={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},N="emphasis",P="normal",L=1,M={},V={};function U(t){return c.extend(t)}function B(t,e){return r.extendFromString(t,e)}function j(t,e){V[t]=e}function F(t){if(V.hasOwnProperty(t))return V[t]}function H(t,e,n,i){var o=r.createFromString(t,e);return n&&("center"===i&&(n=G(n,o.getBoundingRect())),z(o,n)),o}function W(t,e,n){var i=new u({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var r={width:t.width,height:t.height};i.setStyle(G(e,r))}}});return i}function G(t,e){var n,i=e.width/e.height,r=t.height*i;r<=t.width?n=t.height:(r=t.width,n=r/i);var o=t.x+t.width/2,s=t.y+t.height/2;return{x:o-r/2,y:s-n/2,width:r,height:n}}var $=r.mergePath;function z(t,e){if(t.applyTransform){var n=t.getBoundingRect(),i=n.calculateTransform(e);t.applyTransform(i)}}function Y(t){return R.subPixelOptimizeLine(t.shape,t.shape,t.style),t}function K(t){return R.subPixelOptimizeRect(t.shape,t.shape,t.style),t}var q=R.subPixelOptimize;function X(t){return null!=t&&"none"!==t}var J=i.createHashMap(),Z=0;function Q(t){if("string"!==typeof t)return t;var e=J.get(t);return e||(e=o.lift(t,-.1),Z<1e4&&(J.set(t,e),Z++)),e}function tt(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(e){var n=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var i=t.style;for(var r in e)null!=e[r]&&(n[r]=i[r]);n.fill=i.fill,n.stroke=i.stroke}else t.__cachedNormalStl=t.__cachedNormalZ2=null}}function et(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var n=t.__zr,i=t.useHoverLayer&&n&&"canvas"===n.painter.type;if(t.__highlighted=i?"layer":"plain",!(t.isGroup||!n&&t.useHoverLayer)){var r=t,o=t.style;i&&(r=n.addHover(t),o=r.style),wt(o),i||tt(r),o.extendFrom(e),nt(o,e,"fill"),nt(o,e,"stroke"),Tt(o),i||(t.dirty(!1),t.z2+=D)}}}function nt(t,e,n){!X(e[n])&&X(t[n])&&(t[n]=Q(t[n]))}function it(t){var e=t.__highlighted;if(e&&(t.__highlighted=!1,!t.isGroup))if("layer"===e)t.__zr&&t.__zr.removeHover(t);else{var n=t.style,i=t.__cachedNormalStl;i&&(wt(n),t.setStyle(i),Tt(n));var r=t.__cachedNormalZ2;null!=r&&t.z2-r===D&&(t.z2=r)}}function rt(t,e,n){var i,r=P,o=P;t.__highlighted&&(r=N,i=!0),e(t,n),t.__highlighted&&(o=N,i=!0),t.isGroup&&t.traverse((function(t){!t.isGroup&&e(t,n)})),i&&t.__highDownOnUpdate&&t.__highDownOnUpdate(r,o)}function ot(t,e){e=t.__hoverStl=!1!==e&&(t.hoverStyle||e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,it(t),et(t))}function st(t){!ut(this,t)&&!this.__highByOuter&&rt(this,et)}function at(t){!ut(this,t)&&!this.__highByOuter&&rt(this,it)}function ct(t){this.__highByOuter|=1<<(t||0),rt(this,et)}function lt(t){!(this.__highByOuter&=~(1<<(t||0)))&&rt(this,it)}function ut(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function dt(t,e){ht(t,!0),rt(t,ot,e)}function ht(t,e){var n=!1===e;if(t.__highDownSilentOnTouch=t.highDownSilentOnTouch,t.__highDownOnUpdate=t.highDownOnUpdate,!n||t.__highDownDispatcher){var i=n?"off":"on";t[i]("mouseover",st)[i]("mouseout",at),t[i]("emphasis",ct)[i]("normal",lt),t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!n}}function pt(t){return!(!t||!t.__highDownDispatcher)}function ft(t){var e=M[t];return null==e&&L<=32&&(e=M[t]=L++),e}function mt(t,e,n,r,o,s,a){o=o||x;var c,l=o.labelFetcher,u=o.labelDataIndex,d=o.labelDimIndex,h=o.labelProp,p=n.getShallow("show"),f=r.getShallow("show");(p||f)&&(l&&(c=l.getFormattedLabel(u,"normal",null,d,h)),null==c&&(c=i.isFunction(o.defaultText)?o.defaultText(u,o):o.defaultText));var m=p?c:null,v=f?i.retrieve2(l?l.getFormattedLabel(u,"emphasis",null,d,h):null,c):null;null==m&&null==v||(gt(t,n,s,o),gt(e,r,a,o,!0)),t.text=m,e.text=v}function vt(t,e,n){var r=t.style;e&&(wt(r),t.setStyle(e),Tt(r)),r=t.__hoverStl,n&&r&&(wt(r),i.extend(r,n),Tt(r))}function gt(t,e,n,r,o){return yt(t,e,r,o),n&&i.extend(t,n),t}function _t(t,e,n){var i,r={isRectText:!0};!1===n?i=!0:r.autoColor=n,yt(t,e,r,i)}function yt(t,e,n,r){if(n=n||x,n.isRectText){var o;n.getTextPosition?o=n.getTextPosition(e,r):(o=e.getShallow("position")||(r?null:"inside"),"outside"===o&&(o="top")),t.textPosition=o,t.textOffset=e.getShallow("offset");var s=e.getShallow("rotate");null!=s&&(s*=Math.PI/180),t.textRotation=s,t.textDistance=i.retrieve2(e.getShallow("distance"),r?null:5)}var a,c=e.ecModel,l=c&&c.option.textStyle,u=Et(e);if(u)for(var d in a={},u)if(u.hasOwnProperty(d)){var h=e.getModel(["rich",d]);bt(a[d]={},h,l,n,r)}return t.rich=a,bt(t,e,l,n,r,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function Et(t){var e;while(t&&t!==t.ecModel){var n=(t.option||x).rich;if(n)for(var i in e=e||{},n)n.hasOwnProperty(i)&&(e[i]=1);t=t.parentModel}return e}function bt(t,e,n,r,o,s){n=!o&&n||x,t.textFill=St(e.getShallow("color"),r)||n.color,t.textStroke=St(e.getShallow("textBorderColor"),r)||n.textBorderColor,t.textStrokeWidth=i.retrieve2(e.getShallow("textBorderWidth"),n.textBorderWidth),o||(s&&(t.insideRollbackOpt=r,Tt(t)),null==t.textFill&&(t.textFill=r.autoColor)),t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),s&&r.disableBox||(t.textBackgroundColor=St(e.getShallow("backgroundColor"),r),t.textPadding=e.getShallow("padding"),t.textBorderColor=St(e.getShallow("borderColor"),r),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function St(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function Tt(t){var e,n=t.textPosition,i=t.insideRollbackOpt;if(i&&null==t.textFill){var r=i.autoColor,o=i.isRectText,s=i.useInsideStyle,a=!1!==s&&(!0===s||o&&n&&"string"===typeof n&&n.indexOf("inside")>=0),c=!a&&null!=r;(a||c)&&(e={textFill:t.textFill,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth}),a&&(t.textFill="#fff",null==t.textStroke&&(t.textStroke=r,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),c&&(t.textFill=r)}t.insideRollback=e}function wt(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function Ct(t,e){var n=e&&e.getModel("textStyle");return i.trim([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function It(t,e,n,i,r,o){"function"===typeof r&&(o=r,r=null);var s=i&&i.isAnimationEnabled();if(s){var a=t?"Update":"",c=i.getShallow("animationDuration"+a),l=i.getShallow("animationEasing"+a),u=i.getShallow("animationDelay"+a);"function"===typeof u&&(u=u(r,i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null)),"function"===typeof c&&(c=c(r)),c>0?e.animateTo(n,c,u||0,l,o,!!o):(e.stopAnimation(),e.attr(n),o&&o())}else e.stopAnimation(),e.attr(n),o&&o()}function Rt(t,e,n,i,r){It(!0,t,e,n,i,r)}function At(t,e,n,i,r){It(!1,t,e,n,i,r)}function Ot(t,e){var n=s.identity([]);while(t&&t!==e)s.mul(n,t.getLocalTransform(),n),t=t.parent;return n}function xt(t,e,n){return e&&!i.isArrayLike(e)&&(e=l.getLocalTransform(e)),n&&(e=s.invert([],e)),a.applyTransform([],t,e)}function Dt(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-i:"right"===t?i:0,"top"===t?-r:"bottom"===t?r:0];return o=xt(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function kt(t,e,n,r){if(t&&e){var o=s(t);e.traverse((function(t){if(!t.isGroup&&t.anid){var e=o[t.anid];if(e){var i=c(t);t.attr(c(e)),Rt(t,i,n,t.dataIndex)}}}))}function s(t){var e={};return t.traverse((function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)})),e}function c(t){var e={position:a.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=i.extend({},t.shape)),e}}function Nt(t,e){return i.map(t,(function(t){var n=t[0];n=A(n,e.x),n=O(n,e.x+e.width);var i=t[1];return i=A(i,e.y),i=O(i,e.y+e.height),[n,i]}))}function Pt(t,e){var n=A(t.x,e.x),i=O(t.x+t.width,e.x+e.width),r=A(t.y,e.y),o=O(t.y+t.height,e.y+e.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}}function Lt(t,e,n){e=i.extend({rectHover:!0},e);var r=e.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(r.image=t.slice(8),i.defaults(r,n),new u(e)):H(t.replace("path://",""),e,n,"center")}function Mt(t,e,n,i,r){for(var o=0,s=r[r.length-1];o<r.length;o++){var a=r[o];if(Vt(t,e,n,i,a[0],a[1],s[0],s[1]))return!0;s=a}}function Vt(t,e,n,i,r,o,s,a){var c=n-t,l=i-e,u=s-r,d=a-o,h=Ut(u,d,c,l);if(Bt(h))return!1;var p=t-r,f=e-o,m=Ut(p,f,c,l)/h;if(m<0||m>1)return!1;var v=Ut(p,f,u,d)/h;return!(v<0||v>1)}function Ut(t,e,n,i){return t*i-n*e}function Bt(t){return t<=1e-6&&t>=-1e-6}j("circle",p),j("sector",f),j("ring",m),j("polygon",v),j("polyline",g),j("rect",_),j("line",y),j("bezierCurve",E),j("arc",b),e.Z2_EMPHASIS_LIFT=D,e.CACHED_LABEL_STYLE_PROPERTIES=k,e.extendShape=U,e.extendPath=B,e.registerShape=j,e.getShapeClass=F,e.makePath=H,e.makeImage=W,e.mergePath=$,e.resizePath=z,e.subPixelOptimizeLine=Y,e.subPixelOptimizeRect=K,e.subPixelOptimize=q,e.setElementHoverStyle=ot,e.setHoverStyle=dt,e.setAsHighDownDispatcher=ht,e.isHighDownDispatcher=pt,e.getHighlightDigit=ft,e.setLabelStyle=mt,e.modifyLabelStyle=vt,e.setTextStyle=gt,e.setText=_t,e.getFont=Ct,e.updateProps=Rt,e.initProps=At,e.getTransform=Ot,e.applyTransform=xt,e.transformDirection=Dt,e.groupTransition=kt,e.clipPointsByRect=Nt,e.clipRectByRect=Pt,e.createIcon=Lt,e.linePolygonIntersect=Mt,e.lineLineIntersect=Vt},"230e":function(t,e,n){var i=n("d3f4"),r=n("7726").document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},2397:function(t,e,n){var i=n("5ca1"),r=n("2aeb"),o=n("d8e8"),s=n("cb7c"),a=n("d3f4"),c=n("79e5"),l=n("f0c1"),u=(n("7726").Reflect||{}).construct,d=c((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),h=!c((function(){u((function(){}))}));i(i.S+i.F*(d||h),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!d)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(l.apply(t,i))}var c=n.prototype,p=r(a(c)?c:Object.prototype),f=Function.apply.call(t,p,e);return a(f)?f:p}})},"23c6":function(t,e,n){var i=n("2d95"),r=n("2b4c")("toStringTag"),o="Arguments"==i(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},"242a":function(t,e,n){"use strict";n("386b")("sup",(function(t){return function(){return t(this,"sup","","")}}))},"25c9":function(t,e,n){var i=n("5ca1"),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},"25db":function(t,e,n){n("5eda")("getOwnPropertyNames",(function(){return n("7bbc").f}))},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"26e1":function(t,e,n){var i=n("6d8b"),r=n("e0d3"),o=i.each,s=i.isObject,a=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function c(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=a.length;n<r;n++){var o=a[n],s=e.normal,c=e.emphasis;s&&s[o]&&(t[o]=t[o]||{},t[o].normal?i.merge(t[o].normal,s[o]):t[o].normal=s[o],s[o]=null),c&&c[o]&&(t[o]=t[o]||{},t[o].emphasis?i.merge(t[o].emphasis,c[o]):t[o].emphasis=c[o],c[o]=null)}}function l(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,o=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,i.defaults(t[e],r)):t[e]=r),o&&(t.emphasis=t.emphasis||{},t.emphasis[e]=o)}}function u(t){l(t,"itemStyle"),l(t,"lineStyle"),l(t,"areaStyle"),l(t,"label"),l(t,"labelLine"),l(t,"upperLabel"),l(t,"edgeLabel")}function d(t,e){var n=s(t)&&t[e],i=s(n)&&n.textStyle;if(i)for(var o=0,a=r.TEXT_STYLE_OPTIONS.length;o<a;o++){e=r.TEXT_STYLE_OPTIONS[o];i.hasOwnProperty(e)&&(n[e]=i[e])}}function h(t){t&&(u(t),d(t,"label"),t.emphasis&&d(t.emphasis,"label"))}function p(t){if(s(t)){c(t),u(t),d(t,"label"),d(t,"upperLabel"),d(t,"edgeLabel"),t.emphasis&&(d(t.emphasis,"label"),d(t.emphasis,"upperLabel"),d(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(c(e),h(e));var n=t.markLine;n&&(c(n),h(n));var r=t.markArea;r&&h(r);var o=t.data;if("graph"===t.type){o=o||t.nodes;var a=t.links||t.edges;if(a&&!i.isTypedArray(a))for(var p=0;p<a.length;p++)h(a[p]);i.each(t.categories,(function(t){u(t)}))}if(o&&!i.isTypedArray(o))for(p=0;p<o.length;p++)h(o[p]);e=t.markPoint;if(e&&e.data){var f=e.data;for(p=0;p<f.length;p++)h(f[p])}n=t.markLine;if(n&&n.data){var m=n.data;for(p=0;p<m.length;p++)i.isArray(m[p])?(h(m[p][0]),h(m[p][1])):h(m[p])}"gauge"===t.type?(d(t,"axisLabel"),d(t,"title"),d(t,"detail")):"treemap"===t.type?(l(t.breadcrumb,"itemStyle"),i.each(t.levels,(function(t){u(t)}))):"tree"===t.type&&u(t.leaves)}}function f(t){return i.isArray(t)?t:t?[t]:[]}function m(t){return(i.isArray(t)?t[0]:t)||{}}function v(t,e){o(f(t.series),(function(t){s(t)&&p(t)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),o(n,(function(e){o(f(t[e]),(function(t){t&&(d(t,"axisLabel"),d(t.axisPointer,"label"))}))})),o(f(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;d(e,"axisLabel"),d(e&&e.axisPointer,"label")})),o(f(t.calendar),(function(t){l(t,"itemStyle"),d(t,"dayLabel"),d(t,"monthLabel"),d(t,"yearLabel")})),o(f(t.radar),(function(t){d(t,"name")})),o(f(t.geo),(function(t){s(t)&&(h(t),o(f(t.regions),(function(t){h(t)})))})),o(f(t.timeline),(function(t){h(t),l(t,"label"),l(t,"itemStyle"),l(t,"controlStyle",!0);var e=t.data;i.isArray(e)&&i.each(e,(function(t){i.isObject(t)&&(l(t,"label"),l(t,"itemStyle"))}))})),o(f(t.toolbox),(function(t){l(t,"iconStyle"),o(t.feature,(function(t){l(t,"iconStyle")}))})),d(m(t.axisPointer),"label"),d(m(t.tooltip).axisPointer,"label")}t.exports=v},"27ee":function(t,e,n){var i=n("23c6"),r=n("2b4c")("iterator"),o=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},"282b":function(t,e,n){var i=n("6d8b");function r(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,n,r){for(var o={},s=0;s<t.length;s++){var a=t[s][1];if(!(n&&i.indexOf(n,a)>=0||r&&i.indexOf(r,a)<0)){var c=e.getShallow(a);null!=c&&(o[t[s][0]]=c)}}return o}}t.exports=r},2877:function(t,e,n){"use strict";function i(t,e,n,i,r,o,s,a){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):r&&(c=a?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}n.d(e,"a",(function(){return i}))},"28a5":function(t,e,n){"use strict";var i=n("aae3"),r=n("cb7c"),o=n("ebd6"),s=n("0390"),a=n("9def"),c=n("5f1b"),l=n("520a"),u=n("79e5"),d=Math.min,h=[].push,p="split",f="length",m="lastIndex",v=4294967295,g=!u((function(){RegExp(v,"y")}));n("214f")("split",2,(function(t,e,n,u){var _;return _="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[f]||2!="ab"[p](/(?:ab)*/)[f]||4!="."[p](/(.?)(.?)/)[f]||"."[p](/()()/)[f]>1||""[p](/.?/)[f]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);var o,s,a,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,p=void 0===e?v:e>>>0,g=new RegExp(t.source,u+"g");while(o=l.call(g,r)){if(s=g[m],s>d&&(c.push(r.slice(d,o.index)),o[f]>1&&o.index<r[f]&&h.apply(c,o.slice(1)),a=o[0][f],d=s,c[f]>=p))break;g[m]===o.index&&g[m]++}return d===r[f]?!a&&g.test("")||c.push(""):c.push(r.slice(d)),c[f]>p?c.slice(0,p):c}:"0"[p](void 0,0)[f]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,r,i):_.call(String(r),n,i)},function(t,e){var i=u(_,t,this,e,_!==n);if(i.done)return i.value;var l=r(t),h=String(this),p=o(l,RegExp),f=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(g?"y":"g"),y=new p(g?l:"^(?:"+l.source+")",m),E=void 0===e?v:e>>>0;if(0===E)return[];if(0===h.length)return null===c(y,h)?[h]:[];var b=0,S=0,T=[];while(S<h.length){y.lastIndex=g?S:0;var w,C=c(y,g?h:h.slice(S));if(null===C||(w=d(a(y.lastIndex+(g?0:S)),h.length))===b)S=s(h,S,f);else{if(T.push(h.slice(b,S)),T.length===E)return T;for(var I=1;I<=C.length-1;I++)if(T.push(C[I]),T.length===E)return T;S=b=w}}return T.push(h.slice(b)),T}]}))},"29a8":function(t,e){var n={legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};t.exports=n},"2aba":function(t,e,n){var i=n("7726"),r=n("32e9"),o=n("69a8"),s=n("ca5a")("src"),a=n("fa5b"),c="toString",l=(""+a).split(c);n("8378").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(c&&(o(n,s)||r(n,s,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},"2aeb":function(t,e,n){var i=n("cb7c"),r=n("1495"),o=n("e11e"),s=n("613b")("IE_PROTO"),a=function(){},c="prototype",l=function(){var t,e=n("230e")("iframe"),i=o.length,r="<",s=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+s+"document.F=Object"+r+"/script"+s),t.close(),l=t.F;while(i--)delete l[c][o[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=i(t),n=new a,a[c]=null,n[s]=t):n=l(),void 0===e?n:r(n,e)}},"2b0e":function(t,e,n){"use strict";n.r(e),function(t){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function o(t){return!0===t}function s(t){return!1===t}function a(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function c(t){return null!==t&&"object"===typeof t}var l=Object.prototype.toString;function u(t){return"[object Object]"===l.call(t)}function d(t){return"[object RegExp]"===l.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return r(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function f(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function v(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}v("slot,component",!0);var g=v("key,ref,slot,slot-scope,is");function _(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function E(t,e){return y.call(t,e)}function b(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var S=/-(\w)/g,T=b((function(t){return t.replace(S,(function(t,e){return e?e.toUpperCase():""}))})),w=b((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),C=/\B([A-Z])/g,I=b((function(t){return t.replace(C,"-$1").toLowerCase()}));function R(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function A(t,e){return t.bind(e)}var O=Function.prototype.bind?A:R;function x(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function D(t,e){for(var n in e)t[n]=e[n];return t}function k(t){for(var e={},n=0;n<t.length;n++)t[n]&&D(e,t[n]);return e}function N(t,e,n){}var P=function(t,e,n){return!1},L=function(t){return t};function M(t,e){if(t===e)return!0;var n=c(t),i=c(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),o=Array.isArray(e);if(r&&o)return t.length===e.length&&t.every((function(t,n){return M(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(n){return M(t[n],e[n])}))}catch(l){return!1}}function V(t,e){for(var n=0;n<t.length;n++)if(M(t[n],e))return n;return-1}function U(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var B="data-server-rendered",j=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:P,isReservedAttr:P,isUnknownElement:P,getTagNamespace:N,parsePlatformTagName:L,mustUseProp:P,async:!0,_lifecycleHooks:F},W=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function G(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function $(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var z=new RegExp("[^"+W.source+".$_\\d]");function Y(t){if(!z.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var K,q="__proto__"in{},X="undefined"!==typeof window,J="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Z=J&&WXEnvironment.platform.toLowerCase(),Q=X&&window.navigator.userAgent.toLowerCase(),tt=Q&&/msie|trident/.test(Q),et=Q&&Q.indexOf("msie 9.0")>0,nt=Q&&Q.indexOf("edge/")>0,it=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===Z),rt=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),ot={}.watch,st=!1;if(X)try{var at={};Object.defineProperty(at,"passive",{get:function(){st=!0}}),window.addEventListener("test-passive",null,at)}catch(Ts){}var ct=function(){return void 0===K&&(K=!X&&!J&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),K},lt=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"===typeof t&&/native code/.test(t.toString())}var dt,ht="undefined"!==typeof Symbol&&ut(Symbol)&&"undefined"!==typeof Reflect&&ut(Reflect.ownKeys);dt="undefined"!==typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var pt=N,ft=0,mt=function(){this.id=ft++,this.subs=[]};mt.prototype.addSub=function(t){this.subs.push(t)},mt.prototype.removeSub=function(t){_(this.subs,t)},mt.prototype.depend=function(){mt.target&&mt.target.addDep(this)},mt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},mt.target=null;var vt=[];function gt(t){vt.push(t),mt.target=t}function _t(){vt.pop(),mt.target=vt[vt.length-1]}var yt=function(t,e,n,i,r,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Et={child:{configurable:!0}};Et.child.get=function(){return this.componentInstance},Object.defineProperties(yt.prototype,Et);var bt=function(t){void 0===t&&(t="");var e=new yt;return e.text=t,e.isComment=!0,e};function St(t){return new yt(void 0,void 0,void 0,String(t))}function Tt(t){var e=new yt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var wt=Array.prototype,Ct=Object.create(wt),It=["push","pop","shift","unshift","splice","sort","reverse"];It.forEach((function(t){var e=wt[t];$(Ct,t,(function(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];var r,o=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2);break}return r&&s.observeArray(r),s.dep.notify(),o}))}));var Rt=Object.getOwnPropertyNames(Ct),At=!0;function Ot(t){At=t}var xt=function(t){this.value=t,this.dep=new mt,this.vmCount=0,$(t,"__ob__",this),Array.isArray(t)?(q?Dt(t,Ct):kt(t,Ct,Rt),this.observeArray(t)):this.walk(t)};function Dt(t,e){t.__proto__=e}function kt(t,e,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];$(t,o,e[o])}}function Nt(t,e){var n;if(c(t)&&!(t instanceof yt))return E(t,"__ob__")&&t.__ob__ instanceof xt?n=t.__ob__:At&&!ct()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new xt(t)),e&&n&&n.vmCount++,n}function Pt(t,e,n,i,r){var o=new mt,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,c=s&&s.set;a&&!c||2!==arguments.length||(n=t[e]);var l=!r&&Nt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return mt.target&&(o.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Vt(e))),e},set:function(e){var i=a?a.call(t):n;e===i||e!==e&&i!==i||a&&!c||(c?c.call(t,e):n=e,l=!r&&Nt(e),o.notify())}})}}function Lt(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(Pt(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Mt(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||E(t,e)&&(delete t[e],n&&n.dep.notify())}}function Vt(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Vt(e)}xt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Pt(t,e[n])},xt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Nt(t[e])};var Ut=H.optionMergeStrategies;function Bt(t,e){if(!e)return t;for(var n,i,r,o=ht?Reflect.ownKeys(e):Object.keys(e),s=0;s<o.length;s++)n=o[s],"__ob__"!==n&&(i=t[n],r=e[n],E(t,n)?i!==r&&u(i)&&u(r)&&Bt(i,r):Lt(t,n,r));return t}function jt(t,e,n){return n?function(){var i="function"===typeof e?e.call(n,n):e,r="function"===typeof t?t.call(n,n):t;return i?Bt(i,r):r}:e?t?function(){return Bt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Ft(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Ht(n):n}function Ht(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Wt(t,e,n,i){var r=Object.create(t||null);return e?D(r,e):r}Ut.data=function(t,e,n){return n?jt(t,e,n):e&&"function"!==typeof e?t:jt(t,e)},F.forEach((function(t){Ut[t]=Ft})),j.forEach((function(t){Ut[t+"s"]=Wt})),Ut.watch=function(t,e,n,i){if(t===ot&&(t=void 0),e===ot&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var o in D(r,t),e){var s=r[o],a=e[o];s&&!Array.isArray(s)&&(s=[s]),r[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return r},Ut.props=Ut.methods=Ut.inject=Ut.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return D(r,t),e&&D(r,e),r},Ut.provide=jt;var Gt=function(t,e){return void 0===e?t:e};function $t(t,e){var n=t.props;if(n){var i,r,o,s={};if(Array.isArray(n)){i=n.length;while(i--)r=n[i],"string"===typeof r&&(o=T(r),s[o]={type:null})}else if(u(n))for(var a in n)r=n[a],o=T(a),s[o]=u(r)?r:{type:r};else 0;t.props=s}}function zt(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(u(n))for(var o in n){var s=n[o];i[o]=u(s)?D({from:o},s):{from:s}}else 0}}function Yt(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"===typeof i&&(e[n]={bind:i,update:i})}}function Kt(t,e,n){if("function"===typeof e&&(e=e.options),$t(e,n),zt(e,n),Yt(e),!e._base&&(e.extends&&(t=Kt(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Kt(t,e.mixins[i],n);var o,s={};for(o in t)a(o);for(o in e)E(t,o)||a(o);function a(i){var r=Ut[i]||Gt;s[i]=r(t[i],e[i],n,i)}return s}function qt(t,e,n,i){if("string"===typeof n){var r=t[e];if(E(r,n))return r[n];var o=T(n);if(E(r,o))return r[o];var s=w(o);if(E(r,s))return r[s];var a=r[n]||r[o]||r[s];return a}}function Xt(t,e,n,i){var r=e[t],o=!E(n,t),s=n[t],a=te(Boolean,r.type);if(a>-1)if(o&&!E(r,"default"))s=!1;else if(""===s||s===I(t)){var c=te(String,r.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=Jt(i,r,t);var l=At;Ot(!0),Nt(s),Ot(l)}return s}function Jt(t,e,n){if(E(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof i&&"Function"!==Zt(e.type)?i.call(t):i}}function Zt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Qt(t,e){return Zt(t)===Zt(e)}function te(t,e){if(!Array.isArray(e))return Qt(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Qt(e[n],t))return n;return-1}function ee(t,e,n){gt();try{if(e){var i=e;while(i=i.$parent){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{var s=!1===r[o].call(i,t,e,n);if(s)return}catch(Ts){ie(Ts,i,"errorCaptured hook")}}}ie(t,e,n)}finally{_t()}}function ne(t,e,n,i,r){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(t){return ee(t,i,r+" (Promise/async)")})),o._handled=!0)}catch(Ts){ee(Ts,i,r)}return o}function ie(t,e,n){if(H.errorHandler)try{return H.errorHandler.call(null,t,e,n)}catch(Ts){Ts!==t&&re(Ts,null,"config.errorHandler")}re(t,e,n)}function re(t,e,n){if(!X&&!J||"undefined"===typeof console)throw t;console.error(t)}var oe,se=!1,ae=[],ce=!1;function le(){ce=!1;var t=ae.slice(0);ae.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ut(Promise)){var ue=Promise.resolve();oe=function(){ue.then(le),it&&setTimeout(N)},se=!0}else if(tt||"undefined"===typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())oe="undefined"!==typeof setImmediate&&ut(setImmediate)?function(){setImmediate(le)}:function(){setTimeout(le,0)};else{var de=1,he=new MutationObserver(le),pe=document.createTextNode(String(de));he.observe(pe,{characterData:!0}),oe=function(){de=(de+1)%2,pe.data=String(de)},se=!0}function fe(t,e){var n;if(ae.push((function(){if(t)try{t.call(e)}catch(Ts){ee(Ts,e,"nextTick")}else n&&n(e)})),ce||(ce=!0,oe()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}var me=new dt;function ve(t){ge(t,me),me.clear()}function ge(t,e){var n,i,r=Array.isArray(t);if(!(!r&&!c(t)||Object.isFrozen(t)||t instanceof yt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(r){n=t.length;while(n--)ge(t[n],e)}else{i=Object.keys(t),n=i.length;while(n--)ge(t[i[n]],e)}}}var _e=b((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}}));function ye(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return ne(i,null,arguments,e,"v-on handler");for(var r=i.slice(),o=0;o<r.length;o++)ne(r[o],null,t,e,"v-on handler")}return n.fns=t,n}function Ee(t,e,n,r,s,a){var c,l,u,d;for(c in t)l=t[c],u=e[c],d=_e(c),i(l)||(i(u)?(i(l.fns)&&(l=t[c]=ye(l,a)),o(d.once)&&(l=t[c]=s(d.name,l,d.capture)),n(d.name,l,d.capture,d.passive,d.params)):l!==u&&(u.fns=l,t[c]=u));for(c in e)i(t[c])&&(d=_e(c),r(d.name,e[c],d.capture))}function be(t,e,n){var s;t instanceof yt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function c(){n.apply(this,arguments),_(s.fns,c)}i(a)?s=ye([c]):r(a.fns)&&o(a.merged)?(s=a,s.fns.push(c)):s=ye([a,c]),s.merged=!0,t[e]=s}function Se(t,e,n){var o=e.options.props;if(!i(o)){var s={},a=t.attrs,c=t.props;if(r(a)||r(c))for(var l in o){var u=I(l);Te(s,c,l,u,!0)||Te(s,a,l,u,!1)}return s}}function Te(t,e,n,i,o){if(r(e)){if(E(e,n))return t[n]=e[n],o||delete e[n],!0;if(E(e,i))return t[n]=e[i],o||delete e[i],!0}return!1}function we(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Ce(t){return a(t)?[St(t)]:Array.isArray(t)?Re(t):void 0}function Ie(t){return r(t)&&r(t.text)&&s(t.isComment)}function Re(t,e){var n,s,c,l,u=[];for(n=0;n<t.length;n++)s=t[n],i(s)||"boolean"===typeof s||(c=u.length-1,l=u[c],Array.isArray(s)?s.length>0&&(s=Re(s,(e||"")+"_"+n),Ie(s[0])&&Ie(l)&&(u[c]=St(l.text+s[0].text),s.shift()),u.push.apply(u,s)):a(s)?Ie(l)?u[c]=St(l.text+s):""!==s&&u.push(St(s)):Ie(s)&&Ie(l)?u[c]=St(l.text+s.text):(o(t._isVList)&&r(s.tag)&&i(s.key)&&r(e)&&(s.key="__vlist"+e+"_"+n+"__"),u.push(s)));return u}function Ae(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Oe(t){var e=xe(t.$options.inject,t);e&&(Ot(!1),Object.keys(e).forEach((function(n){Pt(t,n,e[n])})),Ot(!0))}function xe(t,e){if(t){for(var n=Object.create(null),i=ht?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){var s=t[o].from,a=e;while(a){if(a._provided&&E(a._provided,s)){n[o]=a._provided[s];break}a=a.$parent}if(!a)if("default"in t[o]){var c=t[o].default;n[o]="function"===typeof c?c.call(e):c}else 0}}return n}}function De(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var o=t[i],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var l in n)n[l].every(ke)&&delete n[l];return n}function ke(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Ne(t,e,i){var r,o=Object.keys(e).length>0,s=t?!!t.$stable:!o,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&i&&i!==n&&a===i.$key&&!o&&!i.$hasNormal)return i;for(var c in r={},t)t[c]&&"$"!==c[0]&&(r[c]=Pe(e,c,t[c]))}else r={};for(var l in e)l in r||(r[l]=Le(e,l));return t&&Object.isExtensible(t)&&(t._normalized=r),$(r,"$stable",s),$(r,"$key",a),$(r,"$hasNormal",o),r}function Pe(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Ce(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function Le(t,e){return function(){return t[e]}}function Me(t,e){var n,i,o,s,a;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),i=0,o=t.length;i<o;i++)n[i]=e(t[i],i);else if("number"===typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(c(t))if(ht&&t[Symbol.iterator]){n=[];var l=t[Symbol.iterator](),u=l.next();while(!u.done)n.push(e(u.value,n.length)),u=l.next()}else for(s=Object.keys(t),n=new Array(s.length),i=0,o=s.length;i<o;i++)a=s[i],n[i]=e(t[a],a,i);return r(n)||(n=[]),n._isVList=!0,n}function Ve(t,e,n,i){var r,o=this.$scopedSlots[t];o?(n=n||{},i&&(n=D(D({},i),n)),r=o(n)||e):r=this.$slots[t]||e;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},r):r}function Ue(t){return qt(this.$options,"filters",t,!0)||L}function Be(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function je(t,e,n,i,r){var o=H.keyCodes[e]||n;return r&&i&&!H.keyCodes[e]?Be(r,i):o?Be(o,t):i?I(i)!==e:void 0}function Fe(t,e,n,i,r){if(n)if(c(n)){var o;Array.isArray(n)&&(n=k(n));var s=function(s){if("class"===s||"style"===s||g(s))o=t;else{var a=t.attrs&&t.attrs.type;o=i||H.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=T(s),l=I(s);if(!(c in o)&&!(l in o)&&(o[s]=n[s],r)){var u=t.on||(t.on={});u["update:"+s]=function(t){n[s]=t}}};for(var a in n)s(a)}else;return t}function He(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e||(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Ge(i,"__static__"+t,!1)),i}function We(t,e,n){return Ge(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ge(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&$e(t[i],e+"_"+i,n);else $e(t,e,n)}function $e(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function ze(t,e){if(e)if(u(e)){var n=t.on=t.on?D({},t.on):{};for(var i in e){var r=n[i],o=e[i];n[i]=r?[].concat(r,o):o}}else;return t}function Ye(t,e,n,i){e=e||{$stable:!n};for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?Ye(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return i&&(e.$key=i),e}function Ke(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"===typeof i&&i&&(t[e[n]]=e[n+1])}return t}function qe(t,e){return"string"===typeof t?e+t:t}function Xe(t){t._o=We,t._n=m,t._s=f,t._l=Me,t._t=Ve,t._q=M,t._i=V,t._m=He,t._f=Ue,t._k=je,t._b=Fe,t._v=St,t._e=bt,t._u=Ye,t._g=ze,t._d=Ke,t._p=qe}function Je(t,e,i,r,s){var a,c=this,l=s.options;E(r,"_uid")?(a=Object.create(r),a._original=r):(a=r,r=r._original);var u=o(l._compiled),d=!u;this.data=t,this.props=e,this.children=i,this.parent=r,this.listeners=t.on||n,this.injections=xe(l.inject,r),this.slots=function(){return c.$slots||Ne(t.scopedSlots,c.$slots=De(i,r)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ne(t.scopedSlots,this.slots())}}),u&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Ne(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,n,i){var o=dn(a,t,e,n,i,d);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=r),o}:this._c=function(t,e,n,i){return dn(a,t,e,n,i,d)}}function Ze(t,e,i,o,s){var a=t.options,c={},l=a.props;if(r(l))for(var u in l)c[u]=Xt(u,l,e||n);else r(i.attrs)&&tn(c,i.attrs),r(i.props)&&tn(c,i.props);var d=new Je(i,c,s,o,t),h=a.render.call(null,d._c,d);if(h instanceof yt)return Qe(h,i,d.parent,a,d);if(Array.isArray(h)){for(var p=Ce(h)||[],f=new Array(p.length),m=0;m<p.length;m++)f[m]=Qe(p[m],i,d.parent,a,d);return f}}function Qe(t,e,n,i,r){var o=Tt(t);return o.fnContext=n,o.fnOptions=i,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function tn(t,e){for(var n in e)t[T(n)]=e[n]}Xe(Je.prototype);var en={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;en.prepatch(n,n)}else{var i=t.componentInstance=on(t,xn);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;Ln(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Bn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Zn(n):Vn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Un(e,!0):e.$destroy())}},nn=Object.keys(en);function rn(t,e,n,s,a){if(!i(t)){var l=n.$options._base;if(c(t)&&(t=l.extend(t)),"function"===typeof t){var u;if(i(t.cid)&&(u=t,t=bn(u,l),void 0===t))return En(u,e,n,s,a);e=e||{},bi(t),r(e.model)&&cn(t.options,e);var d=Se(e,t,a);if(o(t.options.functional))return Ze(t,d,e,n,s);var h=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}sn(e);var f=t.options.name||a,m=new yt("vue-component-"+t.cid+(f?"-"+f:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:d,listeners:h,tag:a,children:s},u);return m}}}function on(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}function sn(t){for(var e=t.hook||(t.hook={}),n=0;n<nn.length;n++){var i=nn[n],r=e[i],o=en[i];r===o||r&&r._merged||(e[i]=r?an(o,r):o)}}function an(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function cn(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),s=o[i],a=e.model.callback;r(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[i]=[a].concat(s)):o[i]=a}var ln=1,un=2;function dn(t,e,n,i,r,s){return(Array.isArray(n)||a(n))&&(r=i,i=n,n=void 0),o(s)&&(r=un),hn(t,e,n,i,r)}function hn(t,e,n,i,o){if(r(n)&&r(n.__ob__))return bt();if(r(n)&&r(n.is)&&(e=n.is),!e)return bt();var s,a,c;(Array.isArray(i)&&"function"===typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),o===un?i=Ce(i):o===ln&&(i=we(i)),"string"===typeof e)?(a=t.$vnode&&t.$vnode.ns||H.getTagNamespace(e),s=H.isReservedTag(e)?new yt(H.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!r(c=qt(t.$options,"components",e))?new yt(e,n,i,void 0,void 0,t):rn(c,n,t,i,e)):s=rn(e,n,t,i);return Array.isArray(s)?s:r(s)?(r(a)&&pn(s,a),r(n)&&fn(n),s):bt()}function pn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),r(t.children))for(var s=0,a=t.children.length;s<a;s++){var c=t.children[s];r(c.tag)&&(i(c.ns)||o(n)&&"svg"!==c.tag)&&pn(c,e,n)}}function fn(t){c(t.style)&&ve(t.style),c(t.class)&&ve(t.class)}function mn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,r=i&&i.context;t.$slots=De(e._renderChildren,r),t.$scopedSlots=n,t._c=function(e,n,i,r){return dn(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return dn(t,e,n,i,r,!0)};var o=i&&i.data;Pt(t,"$attrs",o&&o.attrs||n,null,!0),Pt(t,"$listeners",e._parentListeners||n,null,!0)}var vn,gn=null;function _n(t){Xe(t.prototype),t.prototype.$nextTick=function(t){return fe(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,r=n._parentVnode;r&&(e.$scopedSlots=Ne(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{gn=e,t=i.call(e._renderProxy,e.$createElement)}catch(Ts){ee(Ts,e,"render"),t=e._vnode}finally{gn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof yt||(t=bt()),t.parent=r,t}}function yn(t,e){return(t.__esModule||ht&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function En(t,e,n,i,r){var o=bt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:i,tag:r},o}function bn(t,e){if(o(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var n=gn;if(n&&r(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&r(t.loadingComp))return t.loadingComp;if(n&&!r(t.owners)){var s=t.owners=[n],a=!0,l=null,u=null;n.$on("hook:destroyed",(function(){return _(s,n)}));var d=function(t){for(var e=0,n=s.length;e<n;e++)s[e].$forceUpdate();t&&(s.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},h=U((function(n){t.resolved=yn(n,e),a?s.length=0:d(!0)})),f=U((function(e){r(t.errorComp)&&(t.error=!0,d(!0))})),m=t(h,f);return c(m)&&(p(m)?i(t.resolved)&&m.then(h,f):p(m.component)&&(m.component.then(h,f),r(m.error)&&(t.errorComp=yn(m.error,e)),r(m.loading)&&(t.loadingComp=yn(m.loading,e),0===m.delay?t.loading=!0:l=setTimeout((function(){l=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,d(!1))}),m.delay||200)),r(m.timeout)&&(u=setTimeout((function(){u=null,i(t.resolved)&&f(null)}),m.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}function Sn(t){return t.isComment&&t.asyncFactory}function Tn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||Sn(n)))return n}}function wn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&An(t,e)}function Cn(t,e){vn.$on(t,e)}function In(t,e){vn.$off(t,e)}function Rn(t,e){var n=vn;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function An(t,e,n){vn=t,Ee(e,n||{},Cn,In,Rn,t),vn=void 0}function On(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var o,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;var a=s.length;while(a--)if(o=s[a],o===e||o.fn===e){s.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?x(n):n;for(var i=x(arguments,1),r='event handler for "'+t+'"',o=0,s=n.length;o<s;o++)ne(n[o],e,i,e,r)}return e}}var xn=null;function Dn(t){var e=xn;return xn=t,function(){xn=e}}function kn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Nn(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,o=Dn(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Bn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||_(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Bn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Pn(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=bt),Bn(t,"beforeMount"),i=function(){t._update(t._render(),n)},new ni(t,i,N,{before:function(){t._isMounted&&!t._isDestroyed&&Bn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Bn(t,"mounted")),t}function Ln(t,e,i,r,o){var s=r.data.scopedSlots,a=t.$scopedSlots,c=!!(s&&!s.$stable||a!==n&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key),l=!!(o||t.$options._renderChildren||c);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o,t.$attrs=r.data.attrs||n,t.$listeners=i||n,e&&t.$options.props){Ot(!1);for(var u=t._props,d=t.$options._propKeys||[],h=0;h<d.length;h++){var p=d[h],f=t.$options.props;u[p]=Xt(p,f,e,t)}Ot(!0),t.$options.propsData=e}i=i||n;var m=t.$options._parentListeners;t.$options._parentListeners=i,An(t,i,m),l&&(t.$slots=De(o,r.context),t.$forceUpdate())}function Mn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Vn(t,e){if(e){if(t._directInactive=!1,Mn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Vn(t.$children[n]);Bn(t,"activated")}}function Un(t,e){if((!e||(t._directInactive=!0,!Mn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Un(t.$children[n]);Bn(t,"deactivated")}}function Bn(t,e){gt();var n=t.$options[e],i=e+" hook";if(n)for(var r=0,o=n.length;r<o;r++)ne(n[r],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),_t()}var jn=[],Fn=[],Hn={},Wn=!1,Gn=!1,$n=0;function zn(){$n=jn.length=Fn.length=0,Hn={},Wn=Gn=!1}var Yn=0,Kn=Date.now;if(X&&!tt){var qn=window.performance;qn&&"function"===typeof qn.now&&Kn()>document.createEvent("Event").timeStamp&&(Kn=function(){return qn.now()})}function Xn(){var t,e;for(Yn=Kn(),Gn=!0,jn.sort((function(t,e){return t.id-e.id})),$n=0;$n<jn.length;$n++)t=jn[$n],t.before&&t.before(),e=t.id,Hn[e]=null,t.run();var n=Fn.slice(),i=jn.slice();zn(),Qn(n),Jn(i),lt&&H.devtools&&lt.emit("flush")}function Jn(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Bn(i,"updated")}}function Zn(t){t._inactive=!1,Fn.push(t)}function Qn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Vn(t[e],!0)}function ti(t){var e=t.id;if(null==Hn[e]){if(Hn[e]=!0,Gn){var n=jn.length-1;while(n>$n&&jn[n].id>t.id)n--;jn.splice(n+1,0,t)}else jn.push(t);Wn||(Wn=!0,fe(Xn))}}var ei=0,ni=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++ei,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new dt,this.newDepIds=new dt,this.expression="","function"===typeof e?this.getter=e:(this.getter=Y(e),this.getter||(this.getter=N)),this.value=this.lazy?void 0:this.get()};ni.prototype.get=function(){var t;gt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Ts){if(!this.user)throw Ts;ee(Ts,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ve(t),_t(),this.cleanupDeps()}return t},ni.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},ni.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},ni.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ti(this)},ni.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(Ts){ee(Ts,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},ni.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ni.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},ni.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var ii={enumerable:!0,configurable:!0,get:N,set:N};function ri(t,e,n){ii.get=function(){return this[e][n]},ii.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ii)}function oi(t){t._watchers=[];var e=t.$options;e.props&&si(t,e.props),e.methods&&fi(t,e.methods),e.data?ai(t):Nt(t._data={},!0),e.computed&&ui(t,e.computed),e.watch&&e.watch!==ot&&mi(t,e.watch)}function si(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[],o=!t.$parent;o||Ot(!1);var s=function(o){r.push(o);var s=Xt(o,e,n,t);Pt(i,o,s),o in t||ri(t,"_props",o)};for(var a in e)s(a);Ot(!0)}function ai(t){var e=t.$options.data;e=t._data="function"===typeof e?ci(e,t):e||{},u(e)||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);while(r--){var o=n[r];0,i&&E(i,o)||G(o)||ri(t,"_data",o)}Nt(e,!0)}function ci(t,e){gt();try{return t.call(e,e)}catch(Ts){return ee(Ts,e,"data()"),{}}finally{_t()}}var li={lazy:!0};function ui(t,e){var n=t._computedWatchers=Object.create(null),i=ct();for(var r in e){var o=e[r],s="function"===typeof o?o:o.get;0,i||(n[r]=new ni(t,s||N,N,li)),r in t||di(t,r,o)}}function di(t,e,n){var i=!ct();"function"===typeof n?(ii.get=i?hi(e):pi(n),ii.set=N):(ii.get=n.get?i&&!1!==n.cache?hi(e):pi(n.get):N,ii.set=n.set||N),Object.defineProperty(t,e,ii)}function hi(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),mt.target&&e.depend(),e.value}}function pi(t){return function(){return t.call(this,this)}}function fi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?N:O(e[n],t)}function mi(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)vi(t,n,i[r]);else vi(t,n,i)}}function vi(t,e,n,i){return u(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function gi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Lt,t.prototype.$delete=Mt,t.prototype.$watch=function(t,e,n){var i=this;if(u(e))return vi(i,t,e,n);n=n||{},n.user=!0;var r=new ni(i,t,e,n);if(n.immediate)try{e.call(i,r.value)}catch(o){ee(o,i,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}var _i=0;function yi(t){t.prototype._init=function(t){var e=this;e._uid=_i++,e._isVue=!0,t&&t._isComponent?Ei(e,t):e.$options=Kt(bi(e.constructor),t||{},e),e._renderProxy=e,e._self=e,kn(e),wn(e),mn(e),Bn(e,"beforeCreate"),Oe(e),oi(e),Ae(e),Bn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Ei(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function bi(t){var e=t.options;if(t.super){var n=bi(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var r=Si(t);r&&D(t.extendOptions,r),e=t.options=Kt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Si(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}function Ti(t){this._init(t)}function wi(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=x(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Ci(t){t.mixin=function(t){return this.options=Kt(this.options,t),this}}function Ii(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var o=t.name||n.options.name;var s=function(t){this._init(t)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=e++,s.options=Kt(n.options,t),s["super"]=n,s.options.props&&Ri(s),s.options.computed&&Ai(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,j.forEach((function(t){s[t]=n[t]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=D({},s.options),r[i]=s,s}}function Ri(t){var e=t.options.props;for(var n in e)ri(t.prototype,"_props",n)}function Ai(t){var e=t.options.computed;for(var n in e)di(t.prototype,n,e[n])}function Oi(t){j.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function xi(t){return t&&(t.Ctor.options.name||t.tag)}function Di(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!d(t)&&t.test(e)}function ki(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var o in n){var s=n[o];if(s){var a=xi(s.componentOptions);a&&!e(a)&&Ni(n,o,i,r)}}}function Ni(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,_(n,e)}yi(Ti),gi(Ti),On(Ti),Nn(Ti),_n(Ti);var Pi=[String,RegExp,Array],Li={name:"keep-alive",abstract:!0,props:{include:Pi,exclude:Pi,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ni(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){ki(t,(function(t){return Di(e,t)}))})),this.$watch("exclude",(function(e){ki(t,(function(t){return!Di(e,t)}))}))},render:function(){var t=this.$slots.default,e=Tn(t),n=e&&e.componentOptions;if(n){var i=xi(n),r=this,o=r.include,s=r.exclude;if(o&&(!i||!Di(o,i))||s&&i&&Di(s,i))return e;var a=this,c=a.cache,l=a.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;c[u]?(e.componentInstance=c[u].componentInstance,_(l,u),l.push(u)):(c[u]=e,l.push(u),this.max&&l.length>parseInt(this.max)&&Ni(c,l[0],l,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Mi={KeepAlive:Li};function Vi(t){var e={get:function(){return H}};Object.defineProperty(t,"config",e),t.util={warn:pt,extend:D,mergeOptions:Kt,defineReactive:Pt},t.set=Lt,t.delete=Mt,t.nextTick=fe,t.observable=function(t){return Nt(t),t},t.options=Object.create(null),j.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,D(t.options.components,Mi),wi(t),Ci(t),Ii(t),Oi(t)}Vi(Ti),Object.defineProperty(Ti.prototype,"$isServer",{get:ct}),Object.defineProperty(Ti.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ti,"FunctionalRenderContext",{value:Je}),Ti.version="2.6.11";var Ui=v("style,class"),Bi=v("input,textarea,option,select,progress"),ji=function(t,e,n){return"value"===n&&Bi(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Fi=v("contenteditable,draggable,spellcheck"),Hi=v("events,caret,typing,plaintext-only"),Wi=function(t,e){return Ki(e)||"false"===e?"false":"contenteditable"===t&&Hi(e)?e:"true"},Gi=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),$i="http://www.w3.org/1999/xlink",zi=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Yi=function(t){return zi(t)?t.slice(6,t.length):""},Ki=function(t){return null==t||!1===t};function qi(t){var e=t.data,n=t,i=t;while(r(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=Xi(i.data,e));while(r(n=n.parent))n&&n.data&&(e=Xi(e,n.data));return Ji(e.staticClass,e.class)}function Xi(t,e){return{staticClass:Zi(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Ji(t,e){return r(t)||r(e)?Zi(t,Qi(e)):""}function Zi(t,e){return t?e?t+" "+e:t:e||""}function Qi(t){return Array.isArray(t)?tr(t):c(t)?er(t):"string"===typeof t?t:""}function tr(t){for(var e,n="",i=0,o=t.length;i<o;i++)r(e=Qi(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function er(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var nr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ir=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),rr=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),or=function(t){return ir(t)||rr(t)};function sr(t){return rr(t)?"svg":"math"===t?"math":void 0}var ar=Object.create(null);function cr(t){if(!X)return!0;if(or(t))return!1;if(t=t.toLowerCase(),null!=ar[t])return ar[t];var e=document.createElement(t);return t.indexOf("-")>-1?ar[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ar[t]=/HTMLUnknownElement/.test(e.toString())}var lr=v("text,number,password,search,email,tel,url");function ur(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function dr(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function hr(t,e){return document.createElementNS(nr[t],e)}function pr(t){return document.createTextNode(t)}function fr(t){return document.createComment(t)}function mr(t,e,n){t.insertBefore(e,n)}function vr(t,e){t.removeChild(e)}function gr(t,e){t.appendChild(e)}function _r(t){return t.parentNode}function yr(t){return t.nextSibling}function Er(t){return t.tagName}function br(t,e){t.textContent=e}function Sr(t,e){t.setAttribute(e,"")}var Tr=Object.freeze({createElement:dr,createElementNS:hr,createTextNode:pr,createComment:fr,insertBefore:mr,removeChild:vr,appendChild:gr,parentNode:_r,nextSibling:yr,tagName:Er,setTextContent:br,setStyleScope:Sr}),wr={create:function(t,e){Cr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Cr(t,!0),Cr(e))},destroy:function(t){Cr(t,!0)}};function Cr(t,e){var n=t.data.ref;if(r(n)){var i=t.context,o=t.componentInstance||t.elm,s=i.$refs;e?Array.isArray(s[n])?_(s[n],o):s[n]===o&&(s[n]=void 0):t.data.refInFor?Array.isArray(s[n])?s[n].indexOf(o)<0&&s[n].push(o):s[n]=[o]:s[n]=o}}var Ir=new yt("",{},[]),Rr=["create","activate","update","remove","destroy"];function Ar(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&Or(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function Or(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,o=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===o||lr(i)&&lr(o)}function xr(t,e,n){var i,o,s={};for(i=e;i<=n;++i)o=t[i].key,r(o)&&(s[o]=i);return s}function Dr(t){var e,n,s={},c=t.modules,l=t.nodeOps;for(e=0;e<Rr.length;++e)for(s[Rr[e]]=[],n=0;n<c.length;++n)r(c[n][Rr[e]])&&s[Rr[e]].push(c[n][Rr[e]]);function u(t){return new yt(l.tagName(t).toLowerCase(),{},[],void 0,t)}function d(t,e){function n(){0===--n.listeners&&h(t)}return n.listeners=e,n}function h(t){var e=l.parentNode(t);r(e)&&l.removeChild(e,t)}function p(t,e,n,i,s,a,c){if(r(t.elm)&&r(a)&&(t=a[c]=Tt(t)),t.isRootInsert=!s,!f(t,e,n,i)){var u=t.data,d=t.children,h=t.tag;r(h)?(t.elm=t.ns?l.createElementNS(t.ns,h):l.createElement(h,t),S(t),y(t,d,e),r(u)&&b(t,e),_(n,t.elm,i)):o(t.isComment)?(t.elm=l.createComment(t.text),_(n,t.elm,i)):(t.elm=l.createTextNode(t.text),_(n,t.elm,i))}}function f(t,e,n,i){var s=t.data;if(r(s)){var a=r(t.componentInstance)&&s.keepAlive;if(r(s=s.hook)&&r(s=s.init)&&s(t,!1),r(t.componentInstance))return m(t,e),_(n,t.elm,i),o(a)&&g(t,e,n,i),!0}}function m(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,E(t)?(b(t,e),S(t)):(Cr(t),e.push(t))}function g(t,e,n,i){var o,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,r(o=a.data)&&r(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](Ir,a);e.push(a);break}_(n,t.elm,i)}function _(t,e,n){r(t)&&(r(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function y(t,e,n){if(Array.isArray(e)){0;for(var i=0;i<e.length;++i)p(e[i],n,t.elm,null,!0,e,i)}else a(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function E(t){while(t.componentInstance)t=t.componentInstance._vnode;return r(t.tag)}function b(t,n){for(var i=0;i<s.create.length;++i)s.create[i](Ir,t);e=t.data.hook,r(e)&&(r(e.create)&&e.create(Ir,t),r(e.insert)&&n.push(t))}function S(t){var e;if(r(e=t.fnScopeId))l.setStyleScope(t.elm,e);else{var n=t;while(n)r(e=n.context)&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent}r(e=xn)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function T(t,e,n,i,r,o){for(;i<=r;++i)p(n[i],o,t,e,!1,n,i)}function w(t){var e,n,i=t.data;if(r(i))for(r(e=i.hook)&&r(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)w(t.children[n])}function C(t,e,n){for(;e<=n;++e){var i=t[e];r(i)&&(r(i.tag)?(I(i),w(i)):h(i.elm))}}function I(t,e){if(r(e)||r(t.data)){var n,i=s.remove.length+1;for(r(e)?e.listeners+=i:e=d(t.elm,i),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&I(n,e),n=0;n<s.remove.length;++n)s.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else h(t.elm)}function R(t,e,n,o,s){var a,c,u,d,h=0,f=0,m=e.length-1,v=e[0],g=e[m],_=n.length-1,y=n[0],E=n[_],b=!s;while(h<=m&&f<=_)i(v)?v=e[++h]:i(g)?g=e[--m]:Ar(v,y)?(O(v,y,o,n,f),v=e[++h],y=n[++f]):Ar(g,E)?(O(g,E,o,n,_),g=e[--m],E=n[--_]):Ar(v,E)?(O(v,E,o,n,_),b&&l.insertBefore(t,v.elm,l.nextSibling(g.elm)),v=e[++h],E=n[--_]):Ar(g,y)?(O(g,y,o,n,f),b&&l.insertBefore(t,g.elm,v.elm),g=e[--m],y=n[++f]):(i(a)&&(a=xr(e,h,m)),c=r(y.key)?a[y.key]:A(y,e,h,m),i(c)?p(y,o,t,v.elm,!1,n,f):(u=e[c],Ar(u,y)?(O(u,y,o,n,f),e[c]=void 0,b&&l.insertBefore(t,u.elm,v.elm)):p(y,o,t,v.elm,!1,n,f)),y=n[++f]);h>m?(d=i(n[_+1])?null:n[_+1].elm,T(t,d,n,f,_,o)):f>_&&C(e,h,m)}function A(t,e,n,i){for(var o=n;o<i;o++){var s=e[o];if(r(s)&&Ar(t,s))return o}}function O(t,e,n,a,c,u){if(t!==e){r(e.elm)&&r(a)&&(e=a[c]=Tt(e));var d=e.elm=t.elm;if(o(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?k(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,p=e.data;r(p)&&r(h=p.hook)&&r(h=h.prepatch)&&h(t,e);var f=t.children,m=e.children;if(r(p)&&E(e)){for(h=0;h<s.update.length;++h)s.update[h](t,e);r(h=p.hook)&&r(h=h.update)&&h(t,e)}i(e.text)?r(f)&&r(m)?f!==m&&R(d,f,m,n,u):r(m)?(r(t.text)&&l.setTextContent(d,""),T(d,null,m,0,m.length-1,n)):r(f)?C(f,0,f.length-1):r(t.text)&&l.setTextContent(d,""):t.text!==e.text&&l.setTextContent(d,e.text),r(p)&&r(h=p.hook)&&r(h=h.postpatch)&&h(t,e)}}}function x(t,e,n){if(o(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var D=v("attrs,class,staticClass,staticStyle,key");function k(t,e,n,i){var s,a=e.tag,c=e.data,l=e.children;if(i=i||c&&c.pre,e.elm=t,o(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(c)&&(r(s=c.hook)&&r(s=s.init)&&s(e,!0),r(s=e.componentInstance)))return m(e,n),!0;if(r(a)){if(r(l))if(t.hasChildNodes())if(r(s=c)&&r(s=s.domProps)&&r(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var u=!0,d=t.firstChild,h=0;h<l.length;h++){if(!d||!k(d,l[h],n,i)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else y(e,l,n);if(r(c)){var p=!1;for(var f in c)if(!D(f)){p=!0,b(e,n);break}!p&&c["class"]&&ve(c["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!i(e)){var c=!1,d=[];if(i(t))c=!0,p(e,d);else{var h=r(t.nodeType);if(!h&&Ar(t,e))O(t,e,d,null,null,a);else{if(h){if(1===t.nodeType&&t.hasAttribute(B)&&(t.removeAttribute(B),n=!0),o(n)&&k(t,e,d))return x(e,d,!0),t;t=u(t)}var f=t.elm,m=l.parentNode(f);if(p(e,d,f._leaveCb?null:m,l.nextSibling(f)),r(e.parent)){var v=e.parent,g=E(e);while(v){for(var _=0;_<s.destroy.length;++_)s.destroy[_](v);if(v.elm=e.elm,g){for(var y=0;y<s.create.length;++y)s.create[y](Ir,v);var b=v.data.hook.insert;if(b.merged)for(var S=1;S<b.fns.length;S++)b.fns[S]()}else Cr(v);v=v.parent}}r(m)?C([t],0,0):r(t.tag)&&w(t)}}return x(e,d,c),e.elm}r(t)&&w(t)}}var kr={create:Nr,update:Nr,destroy:function(t){Nr(t,Ir)}};function Nr(t,e){(t.data.directives||e.data.directives)&&Pr(t,e)}function Pr(t,e){var n,i,r,o=t===Ir,s=e===Ir,a=Mr(t.data.directives,t.context),c=Mr(e.data.directives,e.context),l=[],u=[];for(n in c)i=a[n],r=c[n],i?(r.oldValue=i.value,r.oldArg=i.arg,Ur(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(Ur(r,"bind",e,t),r.def&&r.def.inserted&&l.push(r));if(l.length){var d=function(){for(var n=0;n<l.length;n++)Ur(l[n],"inserted",e,t)};o?be(e,"insert",d):d()}if(u.length&&be(e,"postpatch",(function(){for(var n=0;n<u.length;n++)Ur(u[n],"componentUpdated",e,t)})),!o)for(n in a)c[n]||Ur(a[n],"unbind",t,t,s)}var Lr=Object.create(null);function Mr(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)i=t[n],i.modifiers||(i.modifiers=Lr),r[Vr(i)]=i,i.def=qt(e.$options,"directives",i.name,!0);return r}function Vr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Ur(t,e,n,i,r){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,i,r)}catch(Ts){ee(Ts,n.context,"directive "+t.name+" "+e+" hook")}}var Br=[wr,kr];function jr(t,e){var n=e.componentOptions;if((!r(n)||!1!==n.Ctor.options.inheritAttrs)&&(!i(t.data.attrs)||!i(e.data.attrs))){var o,s,a,c=e.elm,l=t.data.attrs||{},u=e.data.attrs||{};for(o in r(u.__ob__)&&(u=e.data.attrs=D({},u)),u)s=u[o],a=l[o],a!==s&&Fr(c,o,s);for(o in(tt||nt)&&u.value!==l.value&&Fr(c,"value",u.value),l)i(u[o])&&(zi(o)?c.removeAttributeNS($i,Yi(o)):Fi(o)||c.removeAttribute(o))}}function Fr(t,e,n){t.tagName.indexOf("-")>-1?Hr(t,e,n):Gi(e)?Ki(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Fi(e)?t.setAttribute(e,Wi(e,n)):zi(e)?Ki(n)?t.removeAttributeNS($i,Yi(e)):t.setAttributeNS($i,e,n):Hr(t,e,n)}function Hr(t,e,n){if(Ki(n))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var Wr={create:jr,update:jr};function Gr(t,e){var n=e.elm,o=e.data,s=t.data;if(!(i(o.staticClass)&&i(o.class)&&(i(s)||i(s.staticClass)&&i(s.class)))){var a=qi(e),c=n._transitionClasses;r(c)&&(a=Zi(a,Qi(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var $r,zr={create:Gr,update:Gr},Yr="__r",Kr="__c";function qr(t){if(r(t[Yr])){var e=tt?"change":"input";t[e]=[].concat(t[Yr],t[e]||[]),delete t[Yr]}r(t[Kr])&&(t.change=[].concat(t[Kr],t.change||[]),delete t[Kr])}function Xr(t,e,n){var i=$r;return function r(){var o=e.apply(null,arguments);null!==o&&Qr(t,r,n,i)}}var Jr=se&&!(rt&&Number(rt[1])<=53);function Zr(t,e,n,i){if(Jr){var r=Yn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}$r.addEventListener(t,e,st?{capture:n,passive:i}:n)}function Qr(t,e,n,i){(i||$r).removeEventListener(t,e._wrapper||e,n)}function to(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};$r=e.elm,qr(n),Ee(n,r,Zr,Qr,Xr,e.context),$r=void 0}}var eo,no={create:to,update:to};function io(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,o,s=e.elm,a=t.data.domProps||{},c=e.data.domProps||{};for(n in r(c.__ob__)&&(c=e.data.domProps=D({},c)),a)n in c||(s[n]="");for(n in c){if(o=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=o;var l=i(o)?"":String(o);ro(s,l)&&(s.value=l)}else if("innerHTML"===n&&rr(s.tagName)&&i(s.innerHTML)){eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+o+"</svg>";var u=eo.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(u.firstChild)s.appendChild(u.firstChild)}else if(o!==a[n])try{s[n]=o}catch(Ts){}}}}function ro(t,e){return!t.composing&&("OPTION"===t.tagName||oo(t,e)||so(t,e))}function oo(t,e){var n=!0;try{n=document.activeElement!==t}catch(Ts){}return n&&t.value!==e}function so(t,e){var n=t.value,i=t._vModifiers;if(r(i)){if(i.number)return m(n)!==m(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}var ao={create:io,update:io},co=b((function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function lo(t){var e=uo(t.style);return t.staticStyle?D(t.staticStyle,e):e}function uo(t){return Array.isArray(t)?k(t):"string"===typeof t?co(t):t}function ho(t,e){var n,i={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(n=lo(r.data))&&D(i,n)}(n=lo(t.data))&&D(i,n);var o=t;while(o=o.parent)o.data&&(n=lo(o.data))&&D(i,n);return i}var po,fo=/^--/,mo=/\s*!important$/,vo=function(t,e,n){if(fo.test(e))t.style.setProperty(e,n);else if(mo.test(n))t.style.setProperty(I(e),n.replace(mo,""),"important");else{var i=_o(e);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)t.style[i]=n[r];else t.style[i]=n}},go=["Webkit","Moz","ms"],_o=b((function(t){if(po=po||document.createElement("div").style,t=T(t),"filter"!==t&&t in po)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<go.length;n++){var i=go[n]+e;if(i in po)return i}}));function yo(t,e){var n=e.data,o=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(o.staticStyle)&&i(o.style))){var s,a,c=e.elm,l=o.staticStyle,u=o.normalizedStyle||o.style||{},d=l||u,h=uo(e.data.style)||{};e.data.normalizedStyle=r(h.__ob__)?D({},h):h;var p=ho(e,!0);for(a in d)i(p[a])&&vo(c,a,"");for(a in p)s=p[a],s!==d[a]&&vo(c,a,null==s?"":s)}}var Eo={create:yo,update:yo},bo=/\s+/;function So(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(bo).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function To(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(bo).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function wo(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&D(e,Co(t.name||"v")),D(e,t),e}return"string"===typeof t?Co(t):void 0}}var Co=b((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Io=X&&!et,Ro="transition",Ao="animation",Oo="transition",xo="transitionend",Do="animation",ko="animationend";Io&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Oo="WebkitTransition",xo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Do="WebkitAnimation",ko="webkitAnimationEnd"));var No=X?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Po(t){No((function(){No(t)}))}function Lo(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),So(t,e))}function Mo(t,e){t._transitionClasses&&_(t._transitionClasses,e),To(t,e)}function Vo(t,e,n){var i=Bo(t,e),r=i.type,o=i.timeout,s=i.propCount;if(!r)return n();var a=r===Ro?xo:ko,c=0,l=function(){t.removeEventListener(a,u),n()},u=function(e){e.target===t&&++c>=s&&l()};setTimeout((function(){c<s&&l()}),o+1),t.addEventListener(a,u)}var Uo=/\b(transform|all)(,|$)/;function Bo(t,e){var n,i=window.getComputedStyle(t),r=(i[Oo+"Delay"]||"").split(", "),o=(i[Oo+"Duration"]||"").split(", "),s=jo(r,o),a=(i[Do+"Delay"]||"").split(", "),c=(i[Do+"Duration"]||"").split(", "),l=jo(a,c),u=0,d=0;e===Ro?s>0&&(n=Ro,u=s,d=o.length):e===Ao?l>0&&(n=Ao,u=l,d=c.length):(u=Math.max(s,l),n=u>0?s>l?Ro:Ao:null,d=n?n===Ro?o.length:c.length:0);var h=n===Ro&&Uo.test(i[Oo+"Property"]);return{type:n,timeout:u,propCount:d,hasTransform:h}}function jo(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Fo(e)+Fo(t[n])})))}function Fo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Ho(t,e){var n=t.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=wo(t.data.transition);if(!i(o)&&!r(n._enterCb)&&1===n.nodeType){var s=o.css,a=o.type,l=o.enterClass,u=o.enterToClass,d=o.enterActiveClass,h=o.appearClass,p=o.appearToClass,f=o.appearActiveClass,v=o.beforeEnter,g=o.enter,_=o.afterEnter,y=o.enterCancelled,E=o.beforeAppear,b=o.appear,S=o.afterAppear,T=o.appearCancelled,w=o.duration,C=xn,I=xn.$vnode;while(I&&I.parent)C=I.context,I=I.parent;var R=!C._isMounted||!t.isRootInsert;if(!R||b||""===b){var A=R&&h?h:l,O=R&&f?f:d,x=R&&p?p:u,D=R&&E||v,k=R&&"function"===typeof b?b:g,N=R&&S||_,P=R&&T||y,L=m(c(w)?w.enter:w);0;var M=!1!==s&&!et,V=$o(k),B=n._enterCb=U((function(){M&&(Mo(n,x),Mo(n,O)),B.cancelled?(M&&Mo(n,A),P&&P(n)):N&&N(n),n._enterCb=null}));t.data.show||be(t,"insert",(function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),k&&k(n,B)})),D&&D(n),M&&(Lo(n,A),Lo(n,O),Po((function(){Mo(n,A),B.cancelled||(Lo(n,x),V||(Go(L)?setTimeout(B,L):Vo(n,a,B)))}))),t.data.show&&(e&&e(),k&&k(n,B)),M||V||B()}}}function Wo(t,e){var n=t.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=wo(t.data.transition);if(i(o)||1!==n.nodeType)return e();if(!r(n._leaveCb)){var s=o.css,a=o.type,l=o.leaveClass,u=o.leaveToClass,d=o.leaveActiveClass,h=o.beforeLeave,p=o.leave,f=o.afterLeave,v=o.leaveCancelled,g=o.delayLeave,_=o.duration,y=!1!==s&&!et,E=$o(p),b=m(c(_)?_.leave:_);0;var S=n._leaveCb=U((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(Mo(n,u),Mo(n,d)),S.cancelled?(y&&Mo(n,l),v&&v(n)):(e(),f&&f(n)),n._leaveCb=null}));g?g(T):T()}function T(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),h&&h(n),y&&(Lo(n,l),Lo(n,d),Po((function(){Mo(n,l),S.cancelled||(Lo(n,u),E||(Go(b)?setTimeout(S,b):Vo(n,a,S)))}))),p&&p(n,S),y||E||S())}}function Go(t){return"number"===typeof t&&!isNaN(t)}function $o(t){if(i(t))return!1;var e=t.fns;return r(e)?$o(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function zo(t,e){!0!==e.data.show&&Ho(e)}var Yo=X?{create:zo,activate:zo,remove:function(t,e){!0!==t.data.show?Wo(t,e):e()}}:{},Ko=[Wr,zr,no,ao,Eo,Yo],qo=Ko.concat(Br),Xo=Dr({nodeOps:Tr,modules:qo});et&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&rs(t,"input")}));var Jo={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?be(n,"postpatch",(function(){Jo.componentUpdated(t,e,n)})):Zo(t,e,n.context),t._vOptions=[].map.call(t.options,es)):("textarea"===n.tag||lr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ns),t.addEventListener("compositionend",is),t.addEventListener("change",is),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Zo(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,es);if(r.some((function(t,e){return!M(t,i[e])}))){var o=t.multiple?e.value.some((function(t){return ts(t,r)})):e.value!==e.oldValue&&ts(e.value,r);o&&rs(t,"change")}}}};function Zo(t,e,n){Qo(t,e,n),(tt||nt)&&setTimeout((function(){Qo(t,e,n)}),0)}function Qo(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var o,s,a=0,c=t.options.length;a<c;a++)if(s=t.options[a],r)o=V(i,es(s))>-1,s.selected!==o&&(s.selected=o);else if(M(es(s),i))return void(t.selectedIndex!==a&&(t.selectedIndex=a));r||(t.selectedIndex=-1)}}function ts(t,e){return e.every((function(e){return!M(e,t)}))}function es(t){return"_value"in t?t._value:t.value}function ns(t){t.target.composing=!0}function is(t){t.target.composing&&(t.target.composing=!1,rs(t.target,"input"))}function rs(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function os(t){return!t.componentInstance||t.data&&t.data.transition?t:os(t.componentInstance._vnode)}var ss={bind:function(t,e,n){var i=e.value;n=os(n);var r=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,Ho(n,(function(){t.style.display=o}))):t.style.display=i?o:"none"},update:function(t,e,n){var i=e.value,r=e.oldValue;if(!i!==!r){n=os(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,i?Ho(n,(function(){t.style.display=t.__vOriginalDisplay})):Wo(n,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},as={model:Jo,show:ss},cs={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ls(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ls(Tn(e.children)):t}function us(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var o in r)e[T(o)]=r[o];return e}function ds(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function hs(t){while(t=t.parent)if(t.data.transition)return!0}function ps(t,e){return e.key===t.key&&e.tag===t.tag}var fs=function(t){return t.tag||Sn(t)},ms=function(t){return"show"===t.name},vs={name:"transition",props:cs,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(fs),n.length)){0;var i=this.mode;0;var r=n[0];if(hs(this.$vnode))return r;var o=ls(r);if(!o)return r;if(this._leaving)return ds(t,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var c=(o.data||(o.data={})).transition=us(this),l=this._vnode,u=ls(l);if(o.data.directives&&o.data.directives.some(ms)&&(o.data.show=!0),u&&u.data&&!ps(o,u)&&!Sn(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=D({},c);if("out-in"===i)return this._leaving=!0,be(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ds(t,r);if("in-out"===i){if(Sn(o))return l;var h,p=function(){h()};be(c,"afterEnter",p),be(c,"enterCancelled",p),be(d,"delayLeave",(function(t){h=t}))}}return r}}},gs=D({tag:String,moveClass:String},cs);delete gs.mode;var _s={props:gs,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=Dn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=us(this),a=0;a<r.length;a++){var c=r[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s;else;}if(i){for(var l=[],u=[],d=0;d<i.length;d++){var h=i[d];h.data.transition=s,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?l.push(h):u.push(h)}this.kept=t(e,null,l),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(ys),t.forEach(Es),t.forEach(bs),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,i=n.style;Lo(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(xo,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(xo,t),n._moveCb=null,Mo(n,e))})}})))},methods:{hasMove:function(t,e){if(!Io)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){To(n,t)})),So(n,e),n.style.display="none",this.$el.appendChild(n);var i=Bo(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function ys(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Es(t){t.data.newPos=t.elm.getBoundingClientRect()}function bs(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}var Ss={Transition:vs,TransitionGroup:_s};Ti.config.mustUseProp=ji,Ti.config.isReservedTag=or,Ti.config.isReservedAttr=Ui,Ti.config.getTagNamespace=sr,Ti.config.isUnknownElement=cr,D(Ti.options.directives,as),D(Ti.options.components,Ss),Ti.prototype.__patch__=X?Xo:N,Ti.prototype.$mount=function(t,e){return t=t&&X?ur(t):void 0,Pn(this,t,e)},X&&setTimeout((function(){H.devtools&&lt&&lt.emit("init",Ti)}),0),e["default"]=Ti}.call(this,n("c8ba"))},"2b17":function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("6d8b")),o=(r.isTypedArray,r.extend),s=(r.assert,r.each),a=r.isObject,c=n("e0d3"),l=c.getDataItemValue,u=c.isDataItemOption,d=n("3842"),h=d.parseDate,p=n("ec6f"),f=n("93d0"),m=f.SOURCE_FORMAT_TYPED_ARRAY,v=f.SOURCE_FORMAT_ARRAY_ROWS,g=f.SOURCE_FORMAT_ORIGINAL,_=f.SOURCE_FORMAT_OBJECT_ROWS;function y(t,e){p.isInstance(t)||(t=p.seriesDataToSource(t)),this._source=t;var n=this._data=t.data,i=t.sourceFormat;i===m&&(this._offset=0,this._dimSize=e,this._data=n);var r=b[i===v?i+"_"+t.seriesLayoutBy:i];o(this,r)}var E=y.prototype;E.pure=!1,E.persistent=!0,E.getSource=function(){return this._source};var b={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:w},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],n=this._data,i=0;i<n.length;i++){var r=n[i];e.push(r?r[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:S,getItem:T,appendData:w},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var r=this._data[n[i].name];e.push(r?r[t]:null)}return e},appendData:function(t){var e=this._data;s(t,(function(t,n){for(var i=e[n]||(e[n]=[]),r=0;r<(t||[]).length;r++)i.push(t[r])}))}},original:{count:S,getItem:T,appendData:w},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var n=this._dimSize*t,i=0;i<this._dimSize;i++)e[i]=this._data[n+i];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}};function S(){return this._data.length}function T(t){return this._data[t]}function w(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}var C={arrayRows:I,objectRows:function(t,e,n,i){return null!=n?t[i]:t},keyedColumns:I,original:function(t,e,n,i){var r=l(t);return null!=n&&r instanceof Array?r[n]:r},typedArray:I};function I(t,e,n,i){return null!=n?t[n]:t}var R={arrayRows:A,objectRows:function(t,e,n,i){return O(t[e],this._dimensionInfos[e])},keyedColumns:A,original:function(t,e,n,i){var r=t&&(null==t.value?t:t.value);return!this._rawData.pure&&u(t)&&(this.hasItemOption=!0),O(r instanceof Array?r[i]:r,this._dimensionInfos[e])},typedArray:function(t,e,n,i){return t[i]}};function A(t,e,n,i){return O(t[i],this._dimensionInfos[e])}function O(t,e){var n=e&&e.type;if("ordinal"===n){var i=e&&e.ordinalMeta;return i?i.parseAndCollect(t):t}return"time"===n&&"number"!==typeof t&&null!=t&&"-"!==t&&(t=+h(t)),null==t||""===t?NaN:+t}function x(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var r,o,s=t.getProvider().getSource().sourceFormat,a=t.getDimensionInfo(n);return a&&(r=a.name,o=a.index),C[s](i,e,o,r)}}}function D(t,e,n){if(t){var i=t.getProvider().getSource().sourceFormat;if(i===g||i===_){var r=t.getRawDataItem(e);return i!==g||a(r)||(r=null),r?r[n]:void 0}}}e.DefaultDataProvider=y,e.defaultDimValueGetters=R,e.retrieveRawValue=x,e.retrieveRawAttr=D},"2b4c":function(t,e,n){var i=n("5537")("wks"),r=n("ca5a"),o=n("7726").Symbol,s="function"==typeof o,a=t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))};a.store=i},"2b61":function(t,e,n){var i=n("7d6d"),r=n("82eb"),o=r.ContextCachedBy,s=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],a=function(t){this.extendFrom(t,!1)};function c(t,e,n){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,s=null==e.y2?0:e.y2;e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,s=s*n.height+n.y),i=isNaN(i)?0:i,r=isNaN(r)?1:r,o=isNaN(o)?0:o,s=isNaN(s)?0:s;var a=t.createLinearGradient(i,o,r,s);return a}function l(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),s=null==e.x?.5:e.x,a=null==e.y?.5:e.y,c=null==e.r?.5:e.r;e.global||(s=s*i+n.x,a=a*r+n.y,c*=o);var l=t.createRadialGradient(s,a,0,s,a,c);return l}a.prototype={constructor:a,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){var r=this,a=n&&n.style,c=!a||t.__attrCachedBy!==o.STYLE_BIND;t.__attrCachedBy=o.STYLE_BIND;for(var l=0;l<s.length;l++){var u=s[l],d=u[0];(c||r[d]!==a[d])&&(t[d]=i(t,d,r[d]||u[1]))}if((c||r.fill!==a.fill)&&(t.fillStyle=r.fill),(c||r.stroke!==a.stroke)&&(t.strokeStyle=r.stroke),(c||r.opacity!==a.opacity)&&(t.globalAlpha=null==r.opacity?1:r.opacity),(c||r.blend!==a.blend)&&(t.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()){var h=r.lineWidth;t.lineWidth=h/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"===typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var i="radial"===e.type?l:c,r=i(t,e,n),o=e.colorStops,s=0;s<o.length;s++)r.addColorStop(o[s].offset,o[s].color);return r}};for(var u=a.prototype,d=0;d<s.length;d++){var h=s[d];h[0]in u||(u[h[0]]=h[1])}a.getGradient=u.getGradient;var p=a;t.exports=p},"2cf4":function(t,e){var n=1;"undefined"!==typeof window&&(n=Math.max(window.devicePixelRatio||1,1));var i=0,r=n;e.debugMode=i,e.devicePixelRatio=r},"2d00":function(t,e){t.exports=!1},"2d34":function(t,e,n){var i=n("5ca1"),r=n("38fd"),o=n("cb7c");i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},"2d5c":function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2e08":function(t,e,n){var i=n("9def"),r=n("9744"),o=n("be13");t.exports=function(t,e,n,s){var a=String(o(t)),c=a.length,l=void 0===n?" ":String(n),u=i(e);if(u<=c||""==l)return a;var d=u-c,h=r.call(l,Math.ceil(d/l.length));return h.length>d&&(h=h.slice(0,d)),s?h+a:a+h}},"2e37":function(t,e,n){var i=n("5ca1");i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},"2f21":function(t,e,n){"use strict";var i=n("79e5");t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"2f45":function(t,e,n){var i=n("6d8b"),r=i.each,o=i.createHashMap,s=(i.assert,n("4e08")),a=(s.__DEV__,o(["tooltip","label","itemName","itemId","seriesName"]));function c(t){var e={},n=e.encode={},i=o(),s=[],c=[],u=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};r(t.dimensions,(function(e){var r=t.getDimensionInfo(e),o=r.coordDim;if(o){var h=r.coordDimIndex;l(n,o)[h]=e,r.isExtraCoord||(i.set(o,1),d(r.type)&&(s[0]=e),l(u.encode,o)[h]=r.index),r.defaultTooltip&&c.push(e)}a.each((function(t,e){var i=l(n,e),o=r.otherDims[e];null!=o&&!1!==o&&(i[o]=r.name)}))}));var h=[],p={};i.each((function(t,e){var i=n[e];p[e]=i[0],h=h.concat(i)})),e.dataDimsOnCoord=h,e.encodeFirstDimNotExtra=p;var f=n.label;f&&f.length&&(s=f.slice());var m=n.tooltip;return m&&m.length?c=m.slice():c.length||(c=s.slice()),n.defaultedLabel=s,n.defaultedTooltip=c,e}function l(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function u(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function d(t){return!("ordinal"===t||"time"===t)}e.OTHER_DIMENSIONS=a,e.summarizeDimensions=c,e.getDimensionTypeByAxis=u},"2fdb":function(t,e,n){"use strict";var i=n("5ca1"),r=n("d2c8"),o="includes";i(i.P+i.F*n("5147")(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},3041:function(t,e,n){var i=n("e1fc"),r=n("0da8"),o=n("76a5"),s=n("d9fc"),a=n("c7a2"),c=n("ae69"),l=n("cb11"),u=n("cbe5"),d=n("87b1"),h=n("d498"),p=n("48a9"),f=n("2b61"),m=n("1687"),v=n("342d"),g=v.createFromString,_=n("6d8b"),y=_.isString,E=_.extend,b=_.defaults,S=_.trim,T=_.each,w=/[\s,]+/;function C(t){if(y(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}9===t.nodeType&&(t=t.firstChild);while("svg"!==t.nodeName.toLowerCase()||1!==t.nodeType)t=t.nextSibling;return t}function I(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}I.prototype.parse=function(t,e){e=e||{};var n=C(t);if(!n)throw new Error("Illegal svg");var r=new i;this._root=r;var o=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||e.width),c=parseFloat(n.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(c)&&(c=null),N(n,r,null,!0);var l,u,d=n.firstChild;while(d)this._parseNode(d,r),d=d.nextSibling;if(o){var h=S(o).split(w);h.length>=4&&(l={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(l&&null!=s&&null!=c&&(u=j(l,s,c),!e.ignoreViewBox)){var p=r;r=new i,r.add(p),p.scale=u.scale.slice(),p.position=u.position.slice()}return e.ignoreRootClip||null==s||null==c||r.setClipPath(new a({shape:{x:0,y:0,width:s,height:c}})),{root:r,width:s,height:c,viewBoxRect:l,viewBoxTransform:u}},I.prototype._parseNode=function(t,e){var n,i=t.nodeName.toLowerCase();if("defs"===i?this._isDefine=!0:"text"===i&&(this._isText=!0),this._isDefine){var r=A[i];if(r){var o=r.call(this,t),s=t.getAttribute("id");s&&(this._defs[s]=o)}}else{r=R[i];r&&(n=r.call(this,t,e),e.add(n))}var a=t.firstChild;while(a)1===a.nodeType&&this._parseNode(a,n),3===a.nodeType&&this._isText&&this._parseText(a,n),a=a.nextSibling;"defs"===i?this._isDefine=!1:"text"===i&&(this._isText=!1)},I.prototype._parseText=function(t,e){if(1===t.nodeType){var n=t.getAttribute("dx")||0,i=t.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(i)}var r=new o({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});x(e,r),N(t,r,this._defs);var s=r.style.fontSize;s&&s<9&&(r.style.fontSize=9,r.scale=r.scale||[1,1],r.scale[0]*=s/9,r.scale[1]*=s/9);var a=r.getBoundingRect();return this._textX+=a.width,e.add(r),r};var R={g:function(t,e){var n=new i;return x(e,n),N(t,n,this._defs),n},rect:function(t,e){var n=new a;return x(e,n),N(t,n,this._defs),n.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),n},circle:function(t,e){var n=new s;return x(e,n),N(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),n},line:function(t,e){var n=new l;return x(e,n),N(t,n,this._defs),n.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),n},ellipse:function(t,e){var n=new c;return x(e,n),N(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),n},polygon:function(t,e){var n=t.getAttribute("points");n&&(n=D(n));var i=new d({shape:{points:n||[]}});return x(e,i),N(t,i,this._defs),i},polyline:function(t,e){var n=new u;x(e,n),N(t,n,this._defs);var i=t.getAttribute("points");i&&(i=D(i));var r=new h({shape:{points:i||[]}});return r},image:function(t,e){var n=new r;return x(e,n),N(t,n,this._defs),n.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),n},text:function(t,e){var n=t.getAttribute("x")||0,r=t.getAttribute("y")||0,o=t.getAttribute("dx")||0,s=t.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(s);var a=new i;return x(e,a),N(t,a,this._defs),a},tspan:function(t,e){var n=t.getAttribute("x"),r=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var o=t.getAttribute("dx")||0,s=t.getAttribute("dy")||0,a=new i;return x(e,a),N(t,a,this._defs),this._textX+=o,this._textY+=s,a},path:function(t,e){var n=t.getAttribute("d")||"",i=g(n);return x(e,i),N(t,i,this._defs),i}},A={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),n=parseInt(t.getAttribute("y1")||0,10),i=parseInt(t.getAttribute("x2")||10,10),r=parseInt(t.getAttribute("y2")||0,10),o=new p(e,n,i,r);return O(t,o),o},radialgradient:function(t){}};function O(t,e){var n=t.firstChild;while(n){if(1===n.nodeType){var i=n.getAttribute("offset");i=i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var r=n.getAttribute("stop-color")||"#000000";e.addColorStop(i,r)}n=n.nextSibling}}function x(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),b(e.__inheritedStyle,t.__inheritedStyle))}function D(t){for(var e=S(t).split(w),n=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);n.push([r,o])}return n}var k={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function N(t,e,n,i){var r=e.__inheritedStyle||{},o="text"===e.type;if(1===t.nodeType&&(V(t,e),E(r,B(t)),!i))for(var s in k)if(k.hasOwnProperty(s)){var a=t.getAttribute(s);null!=a&&(r[k[s]]=a)}var c=o?"textFill":"fill",l=o?"textStroke":"stroke";e.style=e.style||new f;var u=e.style;null!=r.fill&&u.set(c,L(r.fill,n)),null!=r.stroke&&u.set(l,L(r.stroke,n)),T(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){var e="lineWidth"===t&&o?"textStrokeWidth":t;null!=r[t]&&u.set(e,parseFloat(r[t]))})),r.textBaseline&&"auto"!==r.textBaseline||(r.textBaseline="alphabetic"),"alphabetic"===r.textBaseline&&(r.textBaseline="bottom"),"start"===r.textAlign&&(r.textAlign="left"),"end"===r.textAlign&&(r.textAlign="right"),T(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],(function(t){null!=r[t]&&u.set(t,r[t])})),r.lineDash&&(e.style.lineDash=S(r.lineDash).split(w)),u[l]&&"none"!==u[l]&&(e[l]=!0),e.__inheritedStyle=r}var P=/url\(\s*#(.*?)\)/;function L(t,e){var n=e&&t&&t.match(P);if(n){var i=S(n[1]),r=e[i];return r}return t}var M=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function V(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var i=null,r=[];n.replace(M,(function(t,e,n){r.push(e,n)}));for(var o=r.length-1;o>0;o-=2){var s=r[o],a=r[o-1];switch(i=i||m.create(),a){case"translate":s=S(s).split(w),m.translate(i,i,[parseFloat(s[0]),parseFloat(s[1]||0)]);break;case"scale":s=S(s).split(w),m.scale(i,i,[parseFloat(s[0]),parseFloat(s[1]||s[0])]);break;case"rotate":s=S(s).split(w),m.rotate(i,i,parseFloat(s[0]));break;case"skew":s=S(s).split(w),console.warn("Skew transform is not supported yet");break;case"matrix":s=S(s).split(w);i[0]=parseFloat(s[0]),i[1]=parseFloat(s[1]),i[2]=parseFloat(s[2]),i[3]=parseFloat(s[3]),i[4]=parseFloat(s[4]),i[5]=parseFloat(s[5]);break}}e.setLocalTransform(i)}}var U=/([^\s:;]+)\s*:\s*([^:;]+)/g;function B(t){var e=t.getAttribute("style"),n={};if(!e)return n;var i,r={};U.lastIndex=0;while(null!=(i=U.exec(e)))r[i[1]]=i[2];for(var o in k)k.hasOwnProperty(o)&&null!=r[o]&&(n[k[o]]=r[o]);return n}function j(t,e,n){var i=e/t.width,r=n/t.height,o=Math.min(i,r),s=[o,o],a=[-(t.x+t.width/2)*o+e/2,-(t.y+t.height/2)*o+n/2];return{scale:s,position:a}}function F(t,e){var n=new I;return n.parse(t,e)}e.parseXML=C,e.makeViewBoxTransform=j,e.parseSVG=F},"30a3":function(t,e,n){var i=n("6d8b"),r=n("607d"),o=r.Dispatcher,s=n("98b7"),a=n("06ad"),c=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,o.call(this)};c.prototype={constructor:c,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=i.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,i=n.length,r=[],o=[],s=0;s<i;s++){var a=n[s],c=a.step(t,e);c&&(r.push(c),o.push(a))}for(s=0;s<i;)n[s]._needsRemove?(n[s]=n[i-1],n.pop(),i--):s++;i=r.length;for(s=0;s<i;s++)o[s].fire(r[s]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;function e(){t._running&&(s(e),!t._paused&&t._update())}this._running=!0,s(e)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){e=e||{};var n=new a(t,e.loop,e.getter,e.setter);return this.addAnimator(n),n}},i.mixin(c,o);var l=c;t.exports=l},"31f4":function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"32d7":function(t,e,n){var i=n("5ca1");i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},"32e9":function(t,e,n){var i=n("86cc"),r=n("4630");t.exports=n("9e1e")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},3301:function(t,e,n){var i=n("6d8b"),r=n("6179"),o=n("b1d4"),s=n("93d0"),a=s.SOURCE_FORMAT_ORIGINAL,c=n("2f45"),l=c.getDimensionTypeByAxis,u=n("e0d3"),d=u.getDataItemValue,h=n("2039"),p=n("8b7f"),f=p.getCoordSysInfoBySeries,m=n("ec6f"),v=n("ee1a"),g=v.enableDataStack,_=n("0f99"),y=_.makeSeriesEncodeForAxisCoordSys;function E(t,e,n){n=n||{},m.isInstance(t)||(t=m.seriesDataToSource(t));var s,a=e.get("coordinateSystem"),c=h.get(a),u=f(e);u&&(s=i.map(u.coordSysDims,(function(t){var e={name:t},n=u.axisMap.get(t);if(n){var i=n.get("type");e.type=l(i)}return e}))),s||(s=c&&(c.getDimensionsInfo?c.getDimensionsInfo():c.dimensions.slice())||["x","y"]);var d,p,v=o(t,{coordDimensions:s,generateCoord:n.generateCoord,encodeDefaulter:n.useEncodeDefaulter?i.curry(y,s,e):null});u&&i.each(v,(function(t,e){var n=t.coordDim,i=u.categoryAxisMap.get(n);i&&(null==d&&(d=e),t.ordinalMeta=i.getOrdinalMeta()),null!=t.otherDims.itemName&&(p=!0)})),p||null==d||(v[d].otherDims.itemName=0);var _=g(e,v),E=new r(v,e);E.setCalculationInfo(_);var S=null!=d&&b(t)?function(t,e,n,i){return i===d?n:this.defaultDimValueGetter(t,e,n,i)}:null;return E.hasItemOption=!1,E.initData(t,null,S),E}function b(t){if(t.sourceFormat===a){var e=S(t.data||[]);return null!=e&&!i.isArray(d(e))}}function S(t){var e=0;while(e<t.length&&null==t[e])e++;return t[e]}var T=E;t.exports=T},"33a4":function(t,e,n){var i=n("84f2"),r=n("2b4c")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},"342d":function(t,e,n){var i=n("cbe5"),r=n("20c8"),o=n("ee84"),s=Math.sqrt,a=Math.sin,c=Math.cos,l=Math.PI,u=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},d=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(u(t)*u(e))},h=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(d(t,e))};function p(t,e,n,i,r,o,u,p,f,m,v){var g=f*(l/180),_=c(g)*(t-n)/2+a(g)*(e-i)/2,y=-1*a(g)*(t-n)/2+c(g)*(e-i)/2,E=_*_/(u*u)+y*y/(p*p);E>1&&(u*=s(E),p*=s(E));var b=(r===o?-1:1)*s((u*u*(p*p)-u*u*(y*y)-p*p*(_*_))/(u*u*(y*y)+p*p*(_*_)))||0,S=b*u*y/p,T=b*-p*_/u,w=(t+n)/2+c(g)*S-a(g)*T,C=(e+i)/2+a(g)*S+c(g)*T,I=h([1,0],[(_-S)/u,(y-T)/p]),R=[(_-S)/u,(y-T)/p],A=[(-1*_-S)/u,(-1*y-T)/p],O=h(R,A);d(R,A)<=-1&&(O=l),d(R,A)>=1&&(O=0),0===o&&O>0&&(O-=2*l),1===o&&O<0&&(O+=2*l),v.addData(m,w,C,u,p,I,O,g,o)}var f=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,m=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function v(t){if(!t)return new r;for(var e,n=0,i=0,o=n,s=i,a=new r,c=r.CMD,l=t.match(f),u=0;u<l.length;u++){for(var d,h=l[u],v=h.charAt(0),g=h.match(m)||[],_=g.length,y=0;y<_;y++)g[y]=parseFloat(g[y]);var E=0;while(E<_){var b,S,T,w,C,I,R,A=n,O=i;switch(v){case"l":n+=g[E++],i+=g[E++],d=c.L,a.addData(d,n,i);break;case"L":n=g[E++],i=g[E++],d=c.L,a.addData(d,n,i);break;case"m":n+=g[E++],i+=g[E++],d=c.M,a.addData(d,n,i),o=n,s=i,v="l";break;case"M":n=g[E++],i=g[E++],d=c.M,a.addData(d,n,i),o=n,s=i,v="L";break;case"h":n+=g[E++],d=c.L,a.addData(d,n,i);break;case"H":n=g[E++],d=c.L,a.addData(d,n,i);break;case"v":i+=g[E++],d=c.L,a.addData(d,n,i);break;case"V":i=g[E++],d=c.L,a.addData(d,n,i);break;case"C":d=c.C,a.addData(d,g[E++],g[E++],g[E++],g[E++],g[E++],g[E++]),n=g[E-2],i=g[E-1];break;case"c":d=c.C,a.addData(d,g[E++]+n,g[E++]+i,g[E++]+n,g[E++]+i,g[E++]+n,g[E++]+i),n+=g[E-2],i+=g[E-1];break;case"S":b=n,S=i;var x=a.len(),D=a.data;e===c.C&&(b+=n-D[x-4],S+=i-D[x-3]),d=c.C,A=g[E++],O=g[E++],n=g[E++],i=g[E++],a.addData(d,b,S,A,O,n,i);break;case"s":b=n,S=i;x=a.len(),D=a.data;e===c.C&&(b+=n-D[x-4],S+=i-D[x-3]),d=c.C,A=n+g[E++],O=i+g[E++],n+=g[E++],i+=g[E++],a.addData(d,b,S,A,O,n,i);break;case"Q":A=g[E++],O=g[E++],n=g[E++],i=g[E++],d=c.Q,a.addData(d,A,O,n,i);break;case"q":A=g[E++]+n,O=g[E++]+i,n+=g[E++],i+=g[E++],d=c.Q,a.addData(d,A,O,n,i);break;case"T":b=n,S=i;x=a.len(),D=a.data;e===c.Q&&(b+=n-D[x-4],S+=i-D[x-3]),n=g[E++],i=g[E++],d=c.Q,a.addData(d,b,S,n,i);break;case"t":b=n,S=i;x=a.len(),D=a.data;e===c.Q&&(b+=n-D[x-4],S+=i-D[x-3]),n+=g[E++],i+=g[E++],d=c.Q,a.addData(d,b,S,n,i);break;case"A":T=g[E++],w=g[E++],C=g[E++],I=g[E++],R=g[E++],A=n,O=i,n=g[E++],i=g[E++],d=c.A,p(A,O,n,i,I,R,T,w,C,d,a);break;case"a":T=g[E++],w=g[E++],C=g[E++],I=g[E++],R=g[E++],A=n,O=i,n+=g[E++],i+=g[E++],d=c.A,p(A,O,n,i,I,R,T,w,C,d,a);break}}"z"!==v&&"Z"!==v||(d=c.Z,a.addData(d),n=o,i=s),e=d}return a.toStatic(),a}function g(t,e){var n=v(t);return e=e||{},e.buildPath=function(t){if(t.setData){t.setData(n.data);var e=t.getContext();e&&t.rebuildPath(e)}else{e=t;n.rebuildPath(e)}},e.applyTransform=function(t){o(n,t),this.dirty(!0)},e}function _(t,e){return new i(g(t,e))}function y(t,e){return i.extend(g(t,e))}function E(t,e){for(var n=[],r=t.length,o=0;o<r;o++){var s=t[o];s.path||s.createPathProxy(),s.__dirtyPath&&s.buildPath(s.path,s.shape,!0),n.push(s.path)}var a=new i(e);return a.createPathProxy(),a.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},a}e.createFromString=_,e.extendFromString=y,e.mergePath=E},"34ef":function(t,e,n){n("ec30")("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},"36bd":function(t,e,n){"use strict";var i=n("4bf8"),r=n("77f1"),o=n("9def");t.exports=function(t){var e=i(this),n=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),c=s>2?arguments[2]:void 0,l=void 0===c?n:r(c,n);while(l>a)e[a++]=t;return e}},"37c8":function(t,e,n){e.f=n("2b4c")},3842:function(t,e,n){var i=n("6d8b"),r=1e-4;function o(t){return t.replace(/^\s+|\s+$/g,"")}function s(t,e,n,i){var r=e[1]-e[0],o=n[1]-n[0];if(0===r)return 0===o?n[0]:(n[0]+n[1])/2;if(i)if(r>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/r*o+n[0]}function a(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return"string"===typeof t?o(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function c(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function l(t){return t.sort((function(t,e){return t-e})),t}function u(t){if(t=+t,isNaN(t))return 0;var e=1,n=0;while(Math.round(t*e)/e!==t)e*=10,n++;return n}function d(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var i=+e.slice(n+1);return i<0?-i:0}var r=e.indexOf(".");return r<0?0:e.length-1-r}function h(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),o=Math.round(n(Math.abs(e[1]-e[0]))/i),s=Math.min(Math.max(-r+o,0),20);return isFinite(s)?s:20}function p(t,e,n){if(!t[e])return 0;var r=i.reduce(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===r)return 0;var o=Math.pow(10,n),s=i.map(t,(function(t){return(isNaN(t)?0:t)/r*o*100})),a=100*o,c=i.map(s,(function(t){return Math.floor(t)})),l=i.reduce(c,(function(t,e){return t+e}),0),u=i.map(s,(function(t,e){return t-c[e]}));while(l<a){for(var d=Number.NEGATIVE_INFINITY,h=null,p=0,f=u.length;p<f;++p)u[p]>d&&(d=u[p],h=p);++c[h],u[h]=0,++l}return c[e]/o}var f=9007199254740991;function m(t){var e=2*Math.PI;return(t%e+e)%e}function v(t){return t>-r&&t<r}var g=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function _(t){if(t instanceof Date)return t;if("string"===typeof t){var e=g.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function y(t){return Math.pow(10,E(t))}function E(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function b(t,e){var n,i=E(t),r=Math.pow(10,i),o=t/r;return n=e?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10,t=n*r,i>=-20?+t.toFixed(i<0?-i:0):t}function S(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r}function T(t){t.sort((function(t,e){return a(t,e,0)?-1:1}));for(var e=-1/0,n=1,i=0;i<t.length;){for(var r=t[i].interval,o=t[i].close,s=0;s<2;s++)r[s]<=e&&(r[s]=e,o[s]=s?1:1-n),e=r[s],n=o[s];r[0]===r[1]&&o[0]*o[1]!==1?t.splice(i,1):i++}return t;function a(t,e,n){return t.interval[n]<e.interval[n]||t.interval[n]===e.interval[n]&&(t.close[n]-e.close[n]===(n?-1:1)||!n&&a(t,e,1))}}function w(t){return t-parseFloat(t)>=0}e.linearMap=s,e.parsePercent=a,e.round=c,e.asc=l,e.getPrecision=u,e.getPrecisionSafe=d,e.getPixelPrecision=h,e.getPercentWithPrecision=p,e.MAX_SAFE_INTEGER=f,e.remRadian=m,e.isRadianAroundZero=v,e.parseDate=_,e.quantity=y,e.quantityExponent=E,e.nice=b,e.quantile=S,e.reformIntervals=T,e.isNumeric=w},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"386b":function(t,e,n){var i=n("5ca1"),r=n("79e5"),o=n("be13"),s=/"/g,a=function(t,e,n,i){var r=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),a+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),i(i.P+i.F*r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},"386d":function(t,e,n){"use strict";var i=n("cb7c"),r=n("83a1"),o=n("5f1b");n("214f")("search",1,(function(t,e,n,s){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var a=i(t),c=String(this),l=a.lastIndex;r(l,0)||(a.lastIndex=0);var u=o(a,c);return r(a.lastIndex,l)||(a.lastIndex=l),null===u?-1:u.index}]}))},"38a2":function(t,e,n){var i=n("2b17"),r=i.retrieveRawValue,o=n("eda2"),s=o.getTooltipMarker,a=o.formatTpl,c=n("e0d3"),l=c.getTooltipRenderMode,u=/\{@(.+?)\}/g,d={getDataParams:function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),r=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),c=n.getItemVisual(t,"color"),u=n.getItemVisual(t,"borderColor"),d=this.ecModel.getComponent("tooltip"),h=d&&d.get("renderMode"),p=l(h),f=this.mainType,m="series"===f,v=n.userOutput;return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:m?this.subType:null,seriesIndex:this.seriesIndex,seriesId:m?this.id:null,seriesName:m?this.name:null,name:o,dataIndex:r,data:a,dataType:e,value:i,color:c,borderColor:u,dimensionNames:v?v.dimensionNames:null,encode:v?v.encode:null,marker:s({color:c,renderMode:p}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,i,o){e=e||"normal";var s=this.getData(n),c=s.getItemModel(t),l=this.getDataParams(t,n);null!=i&&l.value instanceof Array&&(l.value=l.value[i]);var d=c.get("normal"===e?[o||"label","formatter"]:[e,o||"label","formatter"]);if("function"===typeof d)return l.status=e,l.dimensionIndex=i,d(l);if("string"===typeof d){var h=a(d,l);return h.replace(u,(function(e,n){var i=n.length;return"["===n.charAt(0)&&"]"===n.charAt(i-1)&&(n=+n.slice(1,i-1)),r(s,t,n)}))}},getRawValue:function(t,e){return r(this.getData(e),t)},formatTooltip:function(){}};t.exports=d},"38fd":function(t,e,n){var i=n("69a8"),r=n("4bf8"),o=n("613b")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},3901:function(t,e,n){var i=n("282b"),r=i([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),o={getLineStyle:function(t){var e=r(this,t);return e.lineDash=this.getLineDash(e.lineWidth),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),i=4*t;return"solid"!==e&&null!=e&&("dashed"===e?[i,i]:[n,n])}};t.exports=o},"392f":function(t,e,n){var i=n("6d8b"),r=i.inherits,o=n("19eb"),s=n("9850");function a(t){o.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}a.prototype.incremental=!0,a.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},a.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},a.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},a.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},a.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},a.prototype.brush=function(t,e){for(var n=this._cursor;n<this._displayables.length;n++){var i=this._displayables[n];i.beforeBrush&&i.beforeBrush(t),i.brush(t,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(t)}this._cursor=n;for(n=0;n<this._temporaryDisplayables.length;n++){i=this._temporaryDisplayables[n];i.beforeBrush&&i.beforeBrush(t),i.brush(t,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var c=[];a.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new s(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(c)),t.union(i)}this._rect=t}return this._rect},a.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();if(i.contain(n[0],n[1]))for(var r=0;r<this._displayables.length;r++){var o=this._displayables[r];if(o.contain(t,e))return!0}return!1},r(a,o);var l=a;t.exports=l},"3a34":function(module,exports,__webpack_require__){
/*!
 * vConsole v3.3.4 (https://github.com/Tencent/vConsole)
 * 
 * Tencent is pleased to support the open source community by making vConsole available.
 * Copyright (C) 2017 THL A29 Limited, a Tencent company. All rights reserved.
 * Licensed under the MIT License (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at
 * http://opensource.org/licenses/MIT
 * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
 */
!function(t,e){module.exports=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){var i,r,o;r=[e],void 0===(o="function"==typeof(i=function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return"[object Number]"==Object.prototype.toString.call(t)}function i(t){return"[object String]"==Object.prototype.toString.call(t)}function r(t){return"[object Array]"==Object.prototype.toString.call(t)}function o(t){return"[object Boolean]"==Object.prototype.toString.call(t)}function s(t){return void 0===t}function a(t){return null===t}function c(t){return"[object Symbol]"==Object.prototype.toString.call(t)}function l(t){return!("[object Object]"!=Object.prototype.toString.call(t)&&(n(t)||i(t)||o(t)||r(t)||a(t)||u(t)||s(t)||c(t)))}function u(t){return"[object Function]"==Object.prototype.toString.call(t)}function d(t){var e=Object.prototype.toString.call(t);return"[object global]"==e||"[object Window]"==e||"[object DOMWindow]"==e}function h(t){if(!l(t)&&!r(t))return[];if(r(t)){var e=[];return t.forEach((function(t,n){e.push(n)})),e}return Object.getOwnPropertyNames(t).sort()}Object.defineProperty(t,"__esModule",{value:!0}),t.getDate=function(t){var e=t>0?new Date(t):new Date,n=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1,r=e.getFullYear(),o=e.getHours()<10?"0"+e.getHours():e.getHours(),s=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),a=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),c=e.getMilliseconds()<10?"0"+e.getMilliseconds():e.getMilliseconds();return c<100&&(c="0"+c),{time:+e,year:r,month:i,day:n,hour:o,minute:s,second:a,millisecond:c}},t.isNumber=n,t.isString=i,t.isArray=r,t.isBoolean=o,t.isUndefined=s,t.isNull=a,t.isSymbol=c,t.isObject=l,t.isFunction=u,t.isElement=function(t){return"object"===("undefined"==typeof HTMLElement?"undefined":e(HTMLElement))?t instanceof HTMLElement:t&&"object"===e(t)&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},t.isWindow=d,t.isPlainObject=function(t){var n,i=Object.prototype.hasOwnProperty;if(!t||"object"!==e(t)||t.nodeType||d(t))return!1;try{if(t.constructor&&!i.call(t,"constructor")&&!i.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(n in t);return void 0===n||i.call(t,n)},t.htmlEncode=function(t){return document.createElement("a").appendChild(document.createTextNode(t)).parentNode.innerHTML},t.JSONStringify=function(t){if(!l(t)&&!r(t))return JSON.stringify(t);var e="{",n="}";r(t)&&(e="[",n="]");for(var i=e,o=h(t),s=0;s<o.length;s++){var a=o[s],d=t[a];try{r(t)||(l(a)||r(a)||c(a)?i+=Object.prototype.toString.call(a):i+=a,i+=": "),r(d)?i+="Array["+d.length+"]":l(d)||c(d)||u(d)?i+=Object.prototype.toString.call(d):i+=JSON.stringify(d),s<o.length-1&&(i+=", ")}catch(t){continue}}return i+n},t.getObjAllKeys=h,t.getObjName=function(t){return Object.prototype.toString.call(t).replace("[object ","").replace("]","")},t.setStorage=function(t,e){window.localStorage&&(t="vConsole_"+t,localStorage.setItem(t,e))},t.getStorage=function(t){if(window.localStorage)return t="vConsole_"+t,localStorage.getItem(t)}})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[e,n(0),n(10)],void 0===(o="function"==typeof(i=function(n,i,r){"use strict";var o;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=(o=r)&&o.__esModule?o:{default:o};var s={one:function(t,e){try{return(e||document).querySelector(t)||void 0}catch(t){return}},all:function(t,e){try{var n=(e||document).querySelectorAll(t);return Array.from(n)}catch(t){return[]}},addClass:function(t,e){if(t){(0,i.isArray)(t)||(t=[t]);for(var n=0;n<t.length;n++){var r=(t[n].className||"").split(" ");r.indexOf(e)>-1||(r.push(e),t[n].className=r.join(" "))}}},removeClass:function(t,e){if(t){(0,i.isArray)(t)||(t=[t]);for(var n=0;n<t.length;n++){for(var r=t[n].className.split(" "),o=0;o<r.length;o++)r[o]==e&&(r[o]="");t[n].className=r.join(" ").trim()}}},hasClass:function(t,e){return!(!t||!t.classList)&&t.classList.contains(e)},bind:function(t,e,n,r){t&&((0,i.isArray)(t)||(t=[t]),t.forEach((function(t){t.addEventListener(e,n,!!r)})))},delegate:function(t,e,n,i){t&&t.addEventListener(e,(function(e){var r=s.all(n,t);if(r)t:for(var o=0;o<r.length;o++)for(var a=e.target;a;){if(a==r[o]){i.call(a,e);break t}if((a=a.parentNode)==t)break}}),!1)}};s.render=r.default;var a=s;n.default=a,t.exports=e.default})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[e],void 0===(o="function"==typeof(i=function(n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"newPlugin";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.name=n,this.isReady=!1,this.eventList={}}var e,n,r;return e=t,(n=[{key:"on",value:function(t,e){return this.eventList[t]=e,this}},{key:"trigger",value:function(t,e){if("function"==typeof this.eventList[t])this.eventList[t].call(this,e);else{var n="on"+t.charAt(0).toUpperCase()+t.slice(1);"function"==typeof this[n]&&this[n].call(this,e)}return this}},{key:"id",get:function(){return this._id},set:function(t){if(!t)throw"Plugin ID cannot be empty";this._id=t.toLowerCase()}},{key:"name",get:function(){return this._name},set:function(t){if(!t)throw"Plugin name cannot be empty";this._name=t}},{key:"vConsole",get:function(){return this._vConsole||void 0},set:function(t){if(!t)throw"vConsole cannot be empty";this._vConsole=t}}])&&i(e.prototype,n),r&&i(e,r),t}();n.default=r,t.exports=e.default})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[e,n(0),n(1),n(2),n(18),n(19),n(20)],void 0===(o="function"==typeof(i=function(n,i,r,o,s,a,c){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(i),r=l(r),o=l(o),s=l(s),a=l(a),c=l(c);var m=1e3,v=[],g={},_=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=h(this,(t=p(e)).call.apply(t,[this].concat(r))),v.push(n.id),n.tplTabbox="",n.allowUnformattedLog=!0,n.isReady=!1,n.isShow=!1,n.$tabbox=null,n.console={},n.logList=[],n.isInBottom=!0,n.maxLogNumber=m,n.logNumber=0,n.mockConsole(),n}var n,l,_;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.default),n=e,(l=[{key:"onInit",value:function(){this.$tabbox=r.default.render(this.tplTabbox,{}),this.updateMaxLogNumber()}},{key:"onRenderTab",value:function(t){t(this.$tabbox)}},{key:"onAddTopBar",value:function(t){for(var e=this,n=["All","Log","Info","Warn","Error"],i=[],o=0;o<n.length;o++)i.push({name:n[o],data:{type:n[o].toLowerCase()},className:"",onClick:function(){if(r.default.hasClass(this,"vc-actived"))return!1;e.showLogType(this.dataset.type||"all")}});i[0].className="vc-actived",t(i)}},{key:"onAddTool",value:function(t){var e=this;t([{name:"Clear",global:!1,onClick:function(){e.clearLog(),e.vConsole.triggerEvent("clearLog")}}])}},{key:"onReady",value:function(){var t=this;t.isReady=!0;var e=r.default.all(".vc-subtab",t.$tabbox);r.default.bind(e,"click",(function(n){if(n.preventDefault(),r.default.hasClass(this,"vc-actived"))return!1;r.default.removeClass(e,"vc-actived"),r.default.addClass(this,"vc-actived");var i=this.dataset.type,o=r.default.one(".vc-log",t.$tabbox);r.default.removeClass(o,"vc-log-partly-log"),r.default.removeClass(o,"vc-log-partly-info"),r.default.removeClass(o,"vc-log-partly-warn"),r.default.removeClass(o,"vc-log-partly-error"),"all"==i?r.default.removeClass(o,"vc-log-partly"):(r.default.addClass(o,"vc-log-partly"),r.default.addClass(o,"vc-log-partly-"+i))}));var n=r.default.one(".vc-content");r.default.bind(n,"scroll",(function(e){t.isShow&&(n.scrollTop+n.offsetHeight>=n.scrollHeight?t.isInBottom=!0:t.isInBottom=!1)}));for(var i=0;i<t.logList.length;i++)t.printLog(t.logList[i]);t.logList=[]}},{key:"onRemove",value:function(){window.console.log=this.console.log,window.console.info=this.console.info,window.console.warn=this.console.warn,window.console.debug=this.console.debug,window.console.error=this.console.error,window.console.time=this.console.time,window.console.timeEnd=this.console.timeEnd,window.console.clear=this.console.clear,this.console={};var t=v.indexOf(this.id);t>-1&&v.splice(t,1)}},{key:"onShow",value:function(){this.isShow=!0,1==this.isInBottom&&this.autoScrollToBottom()}},{key:"onHide",value:function(){this.isShow=!1}},{key:"onShowConsole",value:function(){1==this.isInBottom&&this.autoScrollToBottom()}},{key:"onUpdateOption",value:function(){this.vConsole.option.maxLogNumber!=this.maxLogNumber&&(this.updateMaxLogNumber(),this.limitMaxLogs())}},{key:"updateMaxLogNumber",value:function(){this.maxLogNumber=this.vConsole.option.maxLogNumber||m,this.maxLogNumber=Math.max(1,this.maxLogNumber)}},{key:"limitMaxLogs",value:function(){if(this.isReady)for(;this.logNumber>this.maxLogNumber;){var t=r.default.one(".vc-item",this.$tabbox);if(!t)break;t.parentNode.removeChild(t),this.logNumber--}}},{key:"showLogType",value:function(t){var e=r.default.one(".vc-log",this.$tabbox);r.default.removeClass(e,"vc-log-partly-log"),r.default.removeClass(e,"vc-log-partly-info"),r.default.removeClass(e,"vc-log-partly-warn"),r.default.removeClass(e,"vc-log-partly-error"),"all"==t?r.default.removeClass(e,"vc-log-partly"):(r.default.addClass(e,"vc-log-partly"),r.default.addClass(e,"vc-log-partly-"+t))}},{key:"autoScrollToBottom",value:function(){this.vConsole.option.disableLogScrolling||this.scrollToBottom()}},{key:"scrollToBottom",value:function(){var t=r.default.one(".vc-content");t&&(t.scrollTop=t.scrollHeight-t.offsetHeight)}},{key:"mockConsole",value:function(){var t=this,e=this,n=["log","info","warn","debug","error"];window.console?(n.map((function(t){e.console[t]=window.console[t]})),e.console.time=window.console.time,e.console.timeEnd=window.console.timeEnd,e.console.clear=window.console.clear):window.console={},n.map((function(e){window.console[e]=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t.printLog({logType:e,logs:i})}}));var i={};window.console.time=function(t){i[t]=Date.now()},window.console.timeEnd=function(t){var e=i[t];e?(console.log(t+":",Date.now()-e+"ms"),delete i[t]):console.log(t+": 0ms")},window.console.clear=function(){e.clearLog();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.console.clear.apply(window.console,n)}}},{key:"clearLog",value:function(){r.default.one(".vc-log",this.$tabbox).innerHTML="",this.logNumber=0,g={}}},{key:"printOriginLog",value:function(t){"function"==typeof this.console[t.logType]&&this.console[t.logType].apply(window.console,t.logs)}},{key:"printLog",value:function(t){var e=t.logs||[];if(e.length||t.content){e=[].slice.call(e||[]);var n=/^\[(\w+)\]$/i,r="",o=!1;if(i.isString(e[0])){var s=e[0].match(n);null!==s&&s.length>0&&(r=s[1].toLowerCase(),o=v.indexOf(r)>-1)}if(r===this.id||!0!==o&&"default"===this.id)if(t._id||(t._id="__vc_"+Math.random().toString(36).substring(2,8)),t.date||(t.date=+new Date),this.isReady){i.isString(e[0])&&o&&(e[0]=e[0].replace(n,""),""===e[0]&&e.shift());for(var a={_id:t._id,logType:t.logType,logText:[],hasContent:!!t.content,count:1},c=0;c<e.length;c++)i.isFunction(e[c])?a.logText.push(e[c].toString()):i.isObject(e[c])||i.isArray(e[c])?a.logText.push(i.JSONStringify(e[c])):a.logText.push(e[c]);a.logText=a.logText.join(" "),a.hasContent||g.logType!==a.logType||g.logText!==a.logText?(this.printNewLog(t,e),g=a):this.printRepeatLog(),this.isInBottom&&this.isShow&&this.autoScrollToBottom(),t.noOrigin||this.printOriginLog(t)}else this.logList.push(t);else t.noOrigin||this.printOriginLog(t)}}},{key:"printRepeatLog",value:function(){var t=r.default.one("#"+g._id),e=r.default.one(".vc-item-repeat",t);e||((e=document.createElement("i")).className="vc-item-repeat",t.insertBefore(e,t.lastChild)),g.count,g.count++,e.innerHTML=g.count}},{key:"printNewLog",value:function(t,e){var n=r.default.render(s.default,{_id:t._id,logType:t.logType,style:t.style||""}),o=/(\%c )|( \%c)/g,a=[];if(i.isString(e[0])&&o.test(e[0])){for(var c=e[0].split(o).filter((function(t){return void 0!==t&&""!==t&&!/ ?\%c ?/.test(t)})),l=e[0].match(o),d=0;d<l.length;d++)i.isString(e[d+1])&&a.push(e[d+1]);for(var h=l.length+1;h<e.length;h++)c.push(e[h]);e=c}for(var p=r.default.one(".vc-item-content",n),f=0;f<e.length;f++){var m=void 0;try{if(""===e[f])continue;m=i.isFunction(e[f])?"<span> "+e[f].toString()+"</span>":i.isObject(e[f])||i.isArray(e[f])?this.getFoldedLine(e[f]):(a[f]?'<span style="'.concat(a[f],'"> '):"<span> ")+i.htmlEncode(e[f]).replace(/\n/g,"<br/>")+"</span>"}catch(t){m="<span> ["+u(e[f])+"]</span>"}m&&("string"==typeof m?p.insertAdjacentHTML("beforeend",m):p.insertAdjacentElement("beforeend",m))}i.isObject(t.content)&&p.insertAdjacentElement("beforeend",t.content),r.default.one(".vc-log",this.$tabbox).insertAdjacentElement("beforeend",n),this.logNumber++,this.limitMaxLogs()}},{key:"getFoldedLine",value:function(t,e){var n=this;if(!e){var o=i.JSONStringify(t),s=o.substr(0,36);e=i.getObjName(t),o.length>36&&(s+="..."),e+=" "+s}var l=r.default.render(a.default,{outer:e,lineType:"obj"});return r.default.bind(r.default.one(".vc-fold-outer",l),"click",(function(e){e.preventDefault(),e.stopPropagation(),r.default.hasClass(l,"vc-toggle")?(r.default.removeClass(l,"vc-toggle"),r.default.removeClass(r.default.one(".vc-fold-inner",l),"vc-toggle"),r.default.removeClass(r.default.one(".vc-fold-outer",l),"vc-toggle")):(r.default.addClass(l,"vc-toggle"),r.default.addClass(r.default.one(".vc-fold-inner",l),"vc-toggle"),r.default.addClass(r.default.one(".vc-fold-outer",l),"vc-toggle"));var o=r.default.one(".vc-fold-inner",l);return setTimeout((function(){if(0==o.children.length&&t){for(var e=i.getObjAllKeys(t),s=0;s<e.length;s++){var l=void 0,u="undefined",d="";try{l=t[e[s]]}catch(t){continue}i.isString(l)?(u="string",l='"'+l+'"'):i.isNumber(l)?u="number":i.isBoolean(l)?u="boolean":i.isNull(l)?(u="null",l="null"):i.isUndefined(l)?(u="undefined",l="undefined"):i.isFunction(l)?(u="function",l="function()"):i.isSymbol(l)&&(u="symbol");var h=void 0;if(i.isArray(l)){var p=i.getObjName(l)+"["+l.length+"]";h=n.getFoldedLine(l,r.default.render(c.default,{key:e[s],keyType:d,value:p,valueType:"array"},!0))}else if(i.isObject(l)){var f=i.getObjName(l);h=n.getFoldedLine(l,r.default.render(c.default,{key:i.htmlEncode(e[s]),keyType:d,value:f,valueType:"object"},!0))}else{t.hasOwnProperty&&!t.hasOwnProperty(e[s])&&(d="private");var m={lineType:"kv",key:i.htmlEncode(e[s]),keyType:d,value:i.htmlEncode(l),valueType:u};h=r.default.render(a.default,m)}o.insertAdjacentElement("beforeend",h)}if(i.isObject(t)){var v,g=t.__proto__;v=i.isObject(g)?n.getFoldedLine(g,r.default.render(c.default,{key:"__proto__",keyType:"private",value:i.getObjName(g),valueType:"object"},!0)):r.default.render(c.default,{key:"__proto__",keyType:"private",value:"null",valueType:"null"}),o.insertAdjacentElement("beforeend",v)}}})),!1})),l}}])&&d(n.prototype,l),_&&d(n,_),e}();_.AddedLogID=[];var y=_;n.default=y,t.exports=e.default})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,i,r,o=t[1]||"",s=t[3];if(!s)return o;if(e&&"function"==typeof btoa){var a=(n=s,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(r," */")),c=s.sources.map((function(t){return"/*# sourceURL=".concat(s.sourceRoot).concat(t," */")}));return[o].concat(c).concat([a]).join("\n")}return[o].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(var s=0;s<t.length;s++){var a=t[s];null!=a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="(".concat(a[2],") and (").concat(n,")")),e.push(a))}},e}},function(t,e,n){"use strict";var i,r={},o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},s=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function a(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function c(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=r[i.id],s=0;if(o){for(o.refs++;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(m(i.parts[s],e))}else{for(var a=[];s<i.parts.length;s++)a.push(m(i.parts[s],e));r[i.id]={id:i.id,refs:1,parts:a}}}}function l(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var i=n.nc;i&&(t.attributes.nonce=i)}if(Object.keys(t.attributes).forEach((function(n){e.setAttribute(n,t.attributes[n])})),"function"==typeof t.insert)t.insert(e);else{var r=s(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function h(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=d(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}var p=null,f=0;function m(t,e){var n,i,r;if(e.singleton){var o=f++;n=p||(p=l(e)),i=h.bind(null,n,o,!1),r=h.bind(null,n,o,!0)}else n=l(e),i=function(t,e,n){var i=n.css,r=n.media,o=n.sourceMap;if(r&&t.setAttribute("media",r),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=a(t,e);return c(n,e),function(t){for(var i=[],o=0;o<n.length;o++){var s=n[o],l=r[s.id];l&&(l.refs--,i.push(l))}t&&c(a(t,e),e);for(var u=0;u<i.length;u++){var d=i[u];if(0===d.refs){for(var h=0;h<d.parts.length;h++)d.parts[h]();delete r[d.id]}}}}},function(t,e,n){var i,r,o;r=[e,n(7),n(8)],void 0===(o="function"==typeof(i=function(n,i,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,s=(o=r,r=o&&o.__esModule?o:{default:o}).default;n.default=s,t.exports=e.default})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){"use strict";if("undefined"==typeof Symbol){window.Symbol=function(){};var t="__symbol_iterator_key";window.Symbol.iterator=t,Array.prototype[t]=function(){var t=this,e=0;return{next:function(){return{done:t.length===e,value:t.length===e?void 0:t[e++]}}}}}})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[e,n(9),n(0),n(1),n(11),n(13),n(14),n(15),n(16),n(17),n(2),n(3),n(21),n(24),n(26),n(30),n(37)],void 0===(o="function"==typeof(i=function(n,i,r,o,s,a,c,l,u,d,h,p,f,m,v,g,_){"use strict";function y(t){return t&&t.__esModule?t:{default:t}}function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=y(i),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(r),o=y(o),a=y(a),c=y(c),l=y(l),u=y(u),d=y(d),h=y(h),p=y(p),f=y(f),m=y(m),v=y(v),g=y(g),_=y(_);var b="#__vconsole",S=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o.default.one(b))console.debug("vConsole is already exists.");else{var n=this;if(this.version=i.default.version,this.$dom=null,this.isInited=!1,this.option={defaultPlugins:["system","network","element","storage"]},this.activedTab="",this.tabList=[],this.pluginList={},this.switchPos={x:10,y:10,startX:0,startY:0,endX:0,endY:0},this.tool=r,this.$=o.default,r.isObject(e))for(var s in e)this.option[s]=e[s];this._addBuiltInPlugins();var a,c=function(){n.isInited||(n._render(),n._mockTap(),n._bindEvent(),n._autoRun())};void 0!==document?"loading"===document.readyState?o.default.bind(window,"DOMContentLoaded",c):c():a=setTimeout((function t(){document&&"complete"==document.readyState?(a&&clearTimeout(a),c()):a=setTimeout(t,1)}),1)}}var e,n,s;return e=t,(n=[{key:"_addBuiltInPlugins",value:function(){this.addPlugin(new f.default("default","Log"));var t=this.option.defaultPlugins,e={system:{proto:m.default,name:"System"},network:{proto:v.default,name:"Network"},element:{proto:g.default,name:"Element"},storage:{proto:_.default,name:"Storage"}};if(t&&r.isArray(t))for(var n=0;n<t.length;n++){var i=e[t[n]];i?this.addPlugin(new i.proto(t[n],i.name)):console.debug("Unrecognized default plugin ID:",t[n])}}},{key:"_render",value:function(){if(!o.default.one(b)){var t=document.createElement("div");t.innerHTML=a.default,document.documentElement.insertAdjacentElement("beforeend",t.children[0])}this.$dom=o.default.one(b);var e=o.default.one(".vc-switch",this.$dom),n=1*r.getStorage("switch_x"),i=1*r.getStorage("switch_y");(n||i)&&(n+e.offsetWidth>document.documentElement.offsetWidth&&(n=document.documentElement.offsetWidth-e.offsetWidth),i+e.offsetHeight>document.documentElement.offsetHeight&&(i=document.documentElement.offsetHeight-e.offsetHeight),n<0&&(n=0),i<0&&(i=0),this.switchPos.x=n,this.switchPos.y=i,o.default.one(".vc-switch").style.right=n+"px",o.default.one(".vc-switch").style.bottom=i+"px");var s=window.devicePixelRatio||1,c=document.querySelector('[name="viewport"]');if(c&&c.content){var l=c.content.match(/initial\-scale\=\d+(\.\d+)?/);(l?parseFloat(l[0].split("=")[1]):1)<1&&(this.$dom.style.fontSize=13*s+"px")}o.default.one(".vc-mask",this.$dom).style.display="none"}},{key:"_mockTap",value:function(){var t,e,n,i=!1,r=null;this.$dom.addEventListener("touchstart",(function(i){if(void 0===t){var o=i.targetTouches[0];e=o.pageX,n=o.pageY,t=i.timeStamp,r=i.target.nodeType===Node.TEXT_NODE?i.target.parentNode:i.target}}),!1),this.$dom.addEventListener("touchmove",(function(t){var r=t.changedTouches[0];(Math.abs(r.pageX-e)>10||Math.abs(r.pageY-n)>10)&&(i=!0)})),this.$dom.addEventListener("touchend",(function(e){if(!1===i&&e.timeStamp-t<700&&null!=r){var n=!1;switch(r.tagName.toLowerCase()){case"textarea":n=!0;break;case"input":switch(r.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":n=!1;break;default:n=!r.disabled&&!r.readOnly}}n?r.focus():e.preventDefault();var o=e.changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),s.forwardedTouchEvent=!0,s.initEvent("click",!0,!0),r.dispatchEvent(s)}t=void 0,i=!1,r=null}),!1)}},{key:"_bindEvent",value:function(){var t=this,e=o.default.one(".vc-switch",t.$dom);o.default.bind(e,"touchstart",(function(e){t.switchPos.startX=e.touches[0].pageX,t.switchPos.startY=e.touches[0].pageY})),o.default.bind(e,"touchend",(function(e){t.switchPos.x=t.switchPos.endX,t.switchPos.y=t.switchPos.endY,t.switchPos.startX=0,t.switchPos.startY=0,r.setStorage("switch_x",t.switchPos.x),r.setStorage("switch_y",t.switchPos.y)})),o.default.bind(e,"touchmove",(function(n){if(n.touches.length>0){var i=n.touches[0].pageX-t.switchPos.startX,r=n.touches[0].pageY-t.switchPos.startY,o=t.switchPos.x-i,s=t.switchPos.y-r;o+e.offsetWidth>document.documentElement.offsetWidth&&(o=document.documentElement.offsetWidth-e.offsetWidth),s+e.offsetHeight>document.documentElement.offsetHeight&&(s=document.documentElement.offsetHeight-e.offsetHeight),o<0&&(o=0),s<0&&(s=0),e.style.right=o+"px",e.style.bottom=s+"px",t.switchPos.endX=o,t.switchPos.endY=s,n.preventDefault()}})),o.default.bind(o.default.one(".vc-switch",t.$dom),"click",(function(){t.show()})),o.default.bind(o.default.one(".vc-hide",t.$dom),"click",(function(){t.hide()})),o.default.bind(o.default.one(".vc-mask",t.$dom),"click",(function(e){if(e.target!=o.default.one(".vc-mask"))return!1;t.hide()})),o.default.delegate(o.default.one(".vc-tabbar",t.$dom),"click",".vc-tab",(function(e){var n=this.dataset.tab;n!=t.activedTab&&t.showTab(n)})),o.default.bind(o.default.one(".vc-panel",t.$dom),"transitionend webkitTransitionEnd oTransitionEnd otransitionend",(function(e){if(e.target!=o.default.one(".vc-panel"))return!1;o.default.hasClass(t.$dom,"vc-toggle")||(e.target.style.display="none")}));var n=o.default.one(".vc-content",t.$dom),i=!1;o.default.bind(n,"touchstart",(function(t){var e=n.scrollTop,r=n.scrollHeight,s=e+n.offsetHeight;0===e?(n.scrollTop=1,0===n.scrollTop&&(o.default.hasClass(t.target,"vc-cmd-input")||(i=!0))):s===r&&(n.scrollTop=e-1,n.scrollTop===e&&(o.default.hasClass(t.target,"vc-cmd-input")||(i=!0)))})),o.default.bind(n,"touchmove",(function(t){i&&t.preventDefault()})),o.default.bind(n,"touchend",(function(t){i=!1}))}},{key:"_autoRun",value:function(){for(var t in this.isInited=!0,this.pluginList)this._initPlugin(this.pluginList[t]);this.tabList.length>0&&this.showTab(this.tabList[0]),this.triggerEvent("ready")}},{key:"triggerEvent",value:function(t,e){t="on"+t.charAt(0).toUpperCase()+t.slice(1),r.isFunction(this.option[t])&&this.option[t].apply(this,e)}},{key:"_initPlugin",value:function(t){var e=this;t.vConsole=this,t.trigger("init"),t.trigger("renderTab",(function(n){e.tabList.push(t.id);var i=o.default.render(c.default,{id:t.id,name:t.name});o.default.one(".vc-tabbar",e.$dom).insertAdjacentElement("beforeend",i);var s=o.default.render(l.default,{id:t.id});n&&(r.isString(n)?s.innerHTML+=n:r.isFunction(n.appendTo)?n.appendTo(s):r.isElement(n)&&s.insertAdjacentElement("beforeend",n)),o.default.one(".vc-content",e.$dom).insertAdjacentElement("beforeend",s)})),t.trigger("addTopBar",(function(n){if(n)for(var i=o.default.one(".vc-topbar",e.$dom),s=function(e){var s=n[e],a=o.default.render(u.default,{name:s.name||"Undefined",className:s.className||"",pluginID:t.id});if(s.data)for(var c in s.data)a.dataset[c]=s.data[c];r.isFunction(s.onClick)&&o.default.bind(a,"click",(function(e){!1===s.onClick.call(a)||(o.default.removeClass(o.default.all(".vc-topbar-"+t.id),"vc-actived"),o.default.addClass(a,"vc-actived"))})),i.insertAdjacentElement("beforeend",a)},a=0;a<n.length;a++)s(a)})),t.trigger("addTool",(function(n){if(n)for(var i=o.default.one(".vc-tool-last",e.$dom),s=function(e){var s=n[e],a=o.default.render(d.default,{name:s.name||"Undefined",pluginID:t.id});1==s.global&&o.default.addClass(a,"vc-global-tool"),r.isFunction(s.onClick)&&o.default.bind(a,"click",(function(t){s.onClick.call(a)})),i.parentNode.insertBefore(a,i)},a=0;a<n.length;a++)s(a)})),t.isReady=!0,t.trigger("ready")}},{key:"_triggerPluginsEvent",value:function(t){for(var e in this.pluginList)this.pluginList[e].isReady&&this.pluginList[e].trigger(t)}},{key:"_triggerPluginEvent",value:function(t,e){var n=this.pluginList[t];n&&n.isReady&&n.trigger(e)}},{key:"addPlugin",value:function(t){return void 0!==this.pluginList[t.id]?(console.debug("Plugin "+t.id+" has already been added."),!1):(this.pluginList[t.id]=t,this.isInited&&(this._initPlugin(t),1==this.tabList.length&&this.showTab(this.tabList[0])),!0)}},{key:"removePlugin",value:function(t){t=(t+"").toLowerCase();var e=this.pluginList[t];if(void 0===e)return console.debug("Plugin "+t+" does not exist."),!1;if(e.trigger("remove"),this.isInited){var n=o.default.one("#__vc_tab_"+t);n&&n.parentNode.removeChild(n);for(var i=o.default.all(".vc-topbar-"+t,this.$dom),r=0;r<i.length;r++)i[r].parentNode.removeChild(i[r]);var s=o.default.one("#__vc_log_"+t);s&&s.parentNode.removeChild(s);for(var a=o.default.all(".vc-tool-"+t,this.$dom),c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c])}var l=this.tabList.indexOf(t);l>-1&&this.tabList.splice(l,1);try{delete this.pluginList[t]}catch(e){this.pluginList[t]=void 0}return this.activedTab==t&&this.tabList.length>0&&this.showTab(this.tabList[0]),!0}},{key:"show",value:function(){if(this.isInited){var t=this;o.default.one(".vc-panel",this.$dom).style.display="block",setTimeout((function(){o.default.addClass(t.$dom,"vc-toggle"),t._triggerPluginsEvent("showConsole"),o.default.one(".vc-mask",t.$dom).style.display="block"}),10)}}},{key:"hide",value:function(){if(this.isInited){o.default.removeClass(this.$dom,"vc-toggle"),this._triggerPluginsEvent("hideConsole");var t=o.default.one(".vc-mask",this.$dom),e=o.default.one(".vc-panel",this.$dom);o.default.bind(t,"transitionend",(function(n){t.style.display="none",e.style.display="none"}))}}},{key:"showSwitch",value:function(){this.isInited&&(o.default.one(".vc-switch",this.$dom).style.display="block")}},{key:"hideSwitch",value:function(){this.isInited&&(o.default.one(".vc-switch",this.$dom).style.display="none")}},{key:"showTab",value:function(t){if(this.isInited){var e=o.default.one("#__vc_log_"+t);o.default.removeClass(o.default.all(".vc-tab",this.$dom),"vc-actived"),o.default.addClass(o.default.one("#__vc_tab_"+t),"vc-actived"),o.default.removeClass(o.default.all(".vc-logbox",this.$dom),"vc-actived"),o.default.addClass(e,"vc-actived");var n=o.default.all(".vc-topbar-"+t,this.$dom);o.default.removeClass(o.default.all(".vc-toptab",this.$dom),"vc-toggle"),o.default.addClass(n,"vc-toggle"),n.length>0?o.default.addClass(o.default.one(".vc-content",this.$dom),"vc-has-topbar"):o.default.removeClass(o.default.one(".vc-content",this.$dom),"vc-has-topbar"),o.default.removeClass(o.default.all(".vc-tool",this.$dom),"vc-toggle"),o.default.addClass(o.default.all(".vc-tool-"+t,this.$dom),"vc-toggle"),this.activedTab&&this._triggerPluginEvent(this.activedTab,"hide"),this.activedTab=t,this._triggerPluginEvent(this.activedTab,"show")}}},{key:"setOption",value:function(t,e){if(r.isString(t))this.option[t]=e,this._triggerPluginsEvent("updateOption");else if(r.isObject(t)){for(var n in t)this.option[n]=t[n];this._triggerPluginsEvent("updateOption")}else console.debug("The first parameter of vConsole.setOption() must be a string or an object.")}},{key:"destroy",value:function(){if(this.isInited){for(var t=Object.keys(this.pluginList),e=t.length-1;e>=0;e--)this.removePlugin(t[e]);this.$dom.parentNode.removeChild(this.$dom),this.isInited=!1}}}])&&E(e.prototype,n),s&&E(e,s),t}();S.VConsolePlugin=h.default,S.VConsoleLogPlugin=p.default,S.VConsoleDefaultPlugin=f.default,S.VConsoleSystemPlugin=m.default,S.VConsoleNetworkPlugin=v.default,S.VConsoleElementPlugin=g.default,S.VConsoleStoragePlugin=_.default;var T=S;n.default=T,t.exports=e.default})?i.apply(e,r):i)||(t.exports=o)},function(t){t.exports=JSON.parse('{"name":"vconsole","version":"3.3.4","description":"A lightweight, extendable front-end developer tool for mobile web page.","homepage":"https://github.com/Tencent/vConsole","main":"dist/vconsole.min.js","typings":"dist/vconsole.min.d.ts","scripts":{"test":"mocha","build":"webpack"},"keywords":["console","debug","mobile"],"repository":{"type":"git","url":"git+https://github.com/Tencent/vConsole.git"},"dependencies":{},"devDependencies":{"@babel/core":"^7.5.5","@babel/plugin-proposal-class-properties":"^7.5.5","@babel/plugin-proposal-export-namespace-from":"^7.5.2","@babel/plugin-proposal-object-rest-spread":"^7.5.5","@babel/preset-env":"^7.5.5","babel-loader":"^8.0.6","babel-plugin-add-module-exports":"^1.0.2","chai":"^4.2.0","copy-webpack-plugin":"^5.0.4","css-loader":"^3.2.0","html-loader":"^0.5.5","jsdom":"^15.1.1","json-loader":"^0.5.7","less":"^3.10.0","less-loader":"^5.0.0","mocha":"^5.2.0","style-loader":"^1.0.0","webpack":"^4.39.2","webpack-cli":"^3.3.6"},"author":"Tencent","license":"MIT"}')},function(t,e,n){var i,r,o;r=[e],void 0===(o="function"==typeof(i=function(n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n){var i=/\{\{([^\}]+)\}\}/g,r="",o="",s=0,a=[],c=function(t,e){""!==t&&(e?t.match(/^ ?else/g)?r+="} "+t+" {\n":t.match(/\/(if|for|switch)/g)?r+="}\n":t.match(/^ ?if|for|switch/g)?r+=t+" {\n":t.match(/^ ?(break|continue) ?$/g)?r+=t+";\n":t.match(/^ ?(case|default)/g)?r+=t+":\n":r+="arr.push("+t+");\n":r+='arr.push("'+t.replace(/"/g,'\\"')+'");\n')};for(window.__mito_data=e,window.__mito_code="",window.__mito_result="",t=(t=t.replace(/(\{\{ ?switch(.+?)\}\})[\r\n\t ]+\{\{/g,"$1{{")).replace(/^[\r\n]/,"").replace(/\n/g,"\\\n").replace(/\r/g,"\\\r"),o="(function(){\n",r="var arr = [];\n";a=i.exec(t);)c(t.slice(s,a.index),!1),c(a[1],!0),s=a.index+a[0].length;c(t.substr(s,t.length-s),!1),o+=r="with (__mito_data) {\n"+(r+='__mito_result = arr.join("");')+"\n}",o+="})();";var l=document.getElementsByTagName("script"),u="";l.length>0&&(u=l[0].nonce||"");var d=document.createElement("SCRIPT");d.innerHTML=o,d.setAttribute("nonce",u),document.documentElement.appendChild(d);var h=__mito_result;if(document.documentElement.removeChild(d),!n){var p=document.createElement("DIV");p.innerHTML=h,h=p.children[0]}return h},t.exports=e.default})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i=n(12);"string"==typeof i&&(i=[[t.i,i,""]]);var r={insert:"head",singleton:!1};n(5)(i,r),i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,'#__vconsole {\n  color: #000;\n  font-size: 13px;\n  font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n  /* global */\n  /* compoment */\n}\n#__vconsole .vc-max-height {\n  max-height: 19.23076923em;\n}\n#__vconsole .vc-max-height-line {\n  max-height: 3.38461538em;\n}\n#__vconsole .vc-min-height {\n  min-height: 3.07692308em;\n}\n#__vconsole dd,\n#__vconsole dl,\n#__vconsole pre {\n  margin: 0;\n}\n#__vconsole .vc-switch {\n  display: block;\n  position: fixed;\n  right: 0.76923077em;\n  bottom: 0.76923077em;\n  color: #FFF;\n  background-color: #04BE02;\n  line-height: 1;\n  font-size: 1.07692308em;\n  padding: 0.61538462em 1.23076923em;\n  z-index: 10000;\n  border-radius: 0.30769231em;\n  box-shadow: 0 0 0.61538462em rgba(0, 0, 0, 0.4);\n}\n#__vconsole .vc-mask {\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0);\n  z-index: 10001;\n  transition: background 0.3s;\n  -webkit-tap-highlight-color: transparent;\n  overflow-y: scroll;\n}\n#__vconsole .vc-panel {\n  display: none;\n  position: fixed;\n  min-height: 85%;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10002;\n  background-color: #EFEFF4;\n  -webkit-transition: -webkit-transform 0.3s;\n  transition: -webkit-transform 0.3s;\n  transition: transform 0.3s;\n  transition: transform 0.3s, -webkit-transform 0.3s;\n  -webkit-transform: translate(0, 100%);\n  transform: translate(0, 100%);\n}\n#__vconsole .vc-tabbar {\n  border-bottom: 1px solid #D9D9D9;\n  overflow-x: auto;\n  height: 3em;\n  width: auto;\n  white-space: nowrap;\n}\n#__vconsole .vc-tabbar .vc-tab {\n  display: inline-block;\n  line-height: 3em;\n  padding: 0 1.15384615em;\n  border-right: 1px solid #D9D9D9;\n  text-decoration: none;\n  color: #000;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n#__vconsole .vc-tabbar .vc-tab:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n#__vconsole .vc-tabbar .vc-tab.vc-actived {\n  background-color: #FFF;\n}\n#__vconsole .vc-content {\n  background-color: #FFF;\n  overflow-x: hidden;\n  overflow-y: auto;\n  position: absolute;\n  top: 3.07692308em;\n  left: 0;\n  right: 0;\n  bottom: 3.07692308em;\n  -webkit-overflow-scrolling: touch;\n  margin-bottom: constant(safe-area-inset-bottom);\n  margin-bottom: env(safe-area-inset-bottom);\n}\n#__vconsole .vc-content.vc-has-topbar {\n  top: 5.46153846em;\n}\n#__vconsole .vc-topbar {\n  background-color: #FBF9FE;\n  display: flex;\n  display: -webkit-box;\n  flex-direction: row;\n  flex-wrap: wrap;\n  -webkit-box-direction: row;\n  -webkit-flex-wrap: wrap;\n  width: 100%;\n}\n#__vconsole .vc-topbar .vc-toptab {\n  display: none;\n  flex: 1;\n  -webkit-box-flex: 1;\n  line-height: 2.30769231em;\n  padding: 0 1.15384615em;\n  border-bottom: 1px solid #D9D9D9;\n  text-decoration: none;\n  text-align: center;\n  color: #000;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n#__vconsole .vc-topbar .vc-toptab.vc-toggle {\n  display: block;\n}\n#__vconsole .vc-topbar .vc-toptab:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n#__vconsole .vc-topbar .vc-toptab.vc-actived {\n  border-bottom: 1px solid #3e82f7;\n}\n#__vconsole .vc-logbox {\n  display: none;\n  position: relative;\n  min-height: 100%;\n}\n#__vconsole .vc-logbox i {\n  font-style: normal;\n}\n#__vconsole .vc-logbox .vc-log {\n  padding-bottom: 3em;\n  -webkit-tap-highlight-color: transparent;\n}\n#__vconsole .vc-logbox .vc-log:empty:before {\n  content: "Empty";\n  color: #999;\n  position: absolute;\n  top: 45%;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  font-size: 1.15384615em;\n  text-align: center;\n}\n#__vconsole .vc-logbox .vc-item {\n  margin: 0;\n  padding: 0.46153846em 0.61538462em;\n  overflow: hidden;\n  line-height: 1.3;\n  border-bottom: 1px solid #EEE;\n  word-break: break-word;\n}\n#__vconsole .vc-logbox .vc-item-info {\n  color: #6A5ACD;\n}\n#__vconsole .vc-logbox .vc-item-debug {\n  color: #DAA520;\n}\n#__vconsole .vc-logbox .vc-item-warn {\n  color: #FFA500;\n  border-color: #FFB930;\n  background-color: #FFFACD;\n}\n#__vconsole .vc-logbox .vc-item-error {\n  color: #DC143C;\n  border-color: #F4A0AB;\n  background-color: #FFE4E1;\n}\n#__vconsole .vc-logbox .vc-log.vc-log-partly .vc-item {\n  display: none;\n}\n#__vconsole .vc-logbox .vc-log.vc-log-partly-log .vc-item-log,\n#__vconsole .vc-logbox .vc-log.vc-log-partly-info .vc-item-info,\n#__vconsole .vc-logbox .vc-log.vc-log-partly-warn .vc-item-warn,\n#__vconsole .vc-logbox .vc-log.vc-log-partly-error .vc-item-error {\n  display: block;\n}\n#__vconsole .vc-logbox .vc-item .vc-item-content {\n  margin-right: 4.61538462em;\n  display: inline-block;\n}\n#__vconsole .vc-logbox .vc-item .vc-item-repeat {\n  display: inline-block;\n  margin-right: 0.30769231em;\n  padding: 0 6.5px;\n  color: #D7E0EF;\n  background-color: #42597F;\n  border-radius: 8.66666667px;\n}\n#__vconsole .vc-logbox .vc-item.vc-item-error .vc-item-repeat {\n  color: #901818;\n  background-color: #DC2727;\n}\n#__vconsole .vc-logbox .vc-item.vc-item-warn .vc-item-repeat {\n  color: #987D20;\n  background-color: #F4BD02;\n}\n#__vconsole .vc-logbox .vc-item .vc-item-code {\n  display: block;\n  white-space: pre-wrap;\n  overflow: auto;\n  position: relative;\n}\n#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-input,\n#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-output {\n  padding-left: 0.92307692em;\n}\n#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-input:before,\n#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-output:before {\n  content: "";\n  position: absolute;\n  top: -0.23076923em;\n  left: 0;\n  font-size: 1.23076923em;\n  color: #6A5ACD;\n}\n#__vconsole .vc-logbox .vc-item .vc-item-code.vc-item-code-output:before {\n  content: "";\n}\n#__vconsole .vc-logbox .vc-item .vc-fold {\n  display: block;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer {\n  display: block;\n  font-style: italic;\n  padding-left: 0.76923077em;\n  position: relative;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer:active {\n  background-color: #E6E6E6;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer:before {\n  content: "";\n  position: absolute;\n  top: 0.30769231em;\n  left: 0.15384615em;\n  width: 0;\n  height: 0;\n  border: transparent solid 0.30769231em;\n  border-left-color: #000;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer.vc-toggle:before {\n  top: 0.46153846em;\n  left: 0;\n  border-top-color: #000;\n  border-left-color: transparent;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-inner {\n  display: none;\n  margin-left: 0.76923077em;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-inner.vc-toggle {\n  display: block;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-inner .vc-code-key {\n  margin-left: 0.76923077em;\n}\n#__vconsole .vc-logbox .vc-item .vc-fold .vc-fold-outer .vc-code-key {\n  margin-left: 0;\n}\n#__vconsole .vc-logbox .vc-code-key {\n  color: #905;\n}\n#__vconsole .vc-logbox .vc-code-private-key {\n  color: #D391B5;\n}\n#__vconsole .vc-logbox .vc-code-function {\n  color: #905;\n  font-style: italic;\n}\n#__vconsole .vc-logbox .vc-code-number,\n#__vconsole .vc-logbox .vc-code-boolean {\n  color: #0086B3;\n}\n#__vconsole .vc-logbox .vc-code-string {\n  color: #183691;\n}\n#__vconsole .vc-logbox .vc-code-null,\n#__vconsole .vc-logbox .vc-code-undefined {\n  color: #666;\n}\n#__vconsole .vc-logbox .vc-cmd {\n  position: absolute;\n  height: 3.07692308em;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-top: 1px solid #D9D9D9;\n  display: block!important;\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-input-wrap {\n  display: block;\n  height: 2.15384615em;\n  margin-right: 3.07692308em;\n  padding: 0.46153846em 0.61538462em;\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-input {\n  width: 100%;\n  border: none;\n  resize: none;\n  outline: none;\n  padding: 0;\n  font-size: 0.92307692em;\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-input::-webkit-input-placeholder {\n  line-height: 2.15384615em;\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-btn {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 3.07692308em;\n  border: none;\n  background-color: #EFEFF4;\n  outline: none;\n  -webkit-touch-callout: none;\n  font-size: 1em;\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-btn:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-prompted {\n  position: fixed;\n  width: 100%;\n  background-color: #FBF9FE;\n  border: 1px solid #D9D9D9;\n  overflow-x: scroll;\n  display: none;\n}\n#__vconsole .vc-logbox .vc-cmd .vc-cmd-prompted li {\n  list-style: none;\n  line-height: 30px;\n  padding: 0 0.46153846em;\n  border-bottom: 1px solid #D9D9D9;\n}\n#__vconsole .vc-logbox .vc-group .vc-group-preview {\n  -webkit-touch-callout: none;\n}\n#__vconsole .vc-logbox .vc-group .vc-group-preview:active {\n  background-color: #E6E6E6;\n}\n#__vconsole .vc-logbox .vc-group .vc-group-detail {\n  display: none;\n  padding: 0 0 0.76923077em 1.53846154em;\n  border-bottom: 1px solid #EEE;\n}\n#__vconsole .vc-logbox .vc-group.vc-actived .vc-group-detail {\n  display: block;\n  background-color: #FBF9FE;\n}\n#__vconsole .vc-logbox .vc-group.vc-actived .vc-table-row {\n  background-color: #FFF;\n}\n#__vconsole .vc-logbox .vc-group.vc-actived .vc-group-preview {\n  background-color: #FBF9FE;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-row {\n  display: flex;\n  display: -webkit-flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  -webkit-box-direction: row;\n  -webkit-flex-wrap: wrap;\n  overflow: hidden;\n  border-bottom: 1px solid #EEE;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-row.vc-left-border {\n  border-left: 1px solid #EEE;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col {\n  flex: 1;\n  -webkit-box-flex: 1;\n  padding: 0.23076923em 0.30769231em;\n  border-left: 1px solid #EEE;\n  overflow: auto;\n  white-space: pre-wrap;\n  word-break: break-word;\n  /*white-space: nowrap;\n        text-overflow: ellipsis;*/\n  -webkit-overflow-scrolling: touch;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col:first-child {\n  border: none;\n}\n#__vconsole .vc-logbox .vc-table .vc-small .vc-table-col {\n  padding: 0 0.30769231em;\n  font-size: 0.92307692em;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col-2 {\n  flex: 2;\n  -webkit-box-flex: 2;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col-3 {\n  flex: 3;\n  -webkit-box-flex: 3;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col-4 {\n  flex: 4;\n  -webkit-box-flex: 4;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col-5 {\n  flex: 5;\n  -webkit-box-flex: 5;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col-6 {\n  flex: 6;\n  -webkit-box-flex: 6;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-row-error {\n  border-color: #F4A0AB;\n  background-color: #FFE4E1;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-row-error .vc-table-col {\n  color: #DC143C;\n  border-color: #F4A0AB;\n}\n#__vconsole .vc-logbox .vc-table .vc-table-col-title {\n  font-weight: bold;\n}\n#__vconsole .vc-logbox.vc-actived {\n  display: block;\n}\n#__vconsole .vc-toolbar {\n  border-top: 1px solid #D9D9D9;\n  line-height: 3em;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  display: -webkit-box;\n  flex-direction: row;\n  -webkit-box-direction: row;\n}\n#__vconsole .vc-toolbar .vc-tool {\n  display: none;\n  text-decoration: none;\n  color: #000;\n  width: 50%;\n  flex: 1;\n  -webkit-box-flex: 1;\n  text-align: center;\n  position: relative;\n  -webkit-touch-callout: none;\n}\n#__vconsole .vc-toolbar .vc-tool.vc-toggle,\n#__vconsole .vc-toolbar .vc-tool.vc-global-tool {\n  display: block;\n}\n#__vconsole .vc-toolbar .vc-tool:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n#__vconsole .vc-toolbar .vc-tool:after {\n  content: " ";\n  position: absolute;\n  top: 0.53846154em;\n  bottom: 0.53846154em;\n  right: 0;\n  border-left: 1px solid #D9D9D9;\n}\n#__vconsole .vc-toolbar .vc-tool-last:after {\n  border: none;\n}\n@supports (bottom: constant(safe-area-inset-bottom)) or (bottom: env(safe-area-inset-bottom)) {\n  #__vconsole .vc-toolbar,\n  #__vconsole .vc-switch {\n    bottom: constant(safe-area-inset-bottom);\n    bottom: env(safe-area-inset-bottom);\n  }\n}\n#__vconsole.vc-toggle .vc-switch {\n  display: none;\n}\n#__vconsole.vc-toggle .vc-mask {\n  background: rgba(0, 0, 0, 0.6);\n  display: block;\n}\n#__vconsole.vc-toggle .vc-panel {\n  -webkit-transform: translate(0, 0);\n  transform: translate(0, 0);\n}\n',""])},function(t,e){t.exports='<div id="__vconsole" class="">\n  <div class="vc-switch">vConsole</div>\n  <div class="vc-mask">\n  </div>\n  <div class="vc-panel">\n    <div class="vc-tabbar">\n    </div>\n    <div class="vc-topbar">\n    </div>\n    <div class="vc-content">\n    </div>\n    <div class="vc-toolbar">\n      <a class="vc-tool vc-global-tool vc-tool-last vc-hide">Hide</a>\n    </div>\n  </div>\n</div>'},function(t,e){t.exports='<a class="vc-tab" data-tab="{{id}}" id="__vc_tab_{{id}}">{{name}}</a>'},function(t,e){t.exports='<div class="vc-logbox" id="__vc_log_{{id}}">\n  \n</div>'},function(t,e){t.exports='<a class="vc-toptab vc-topbar-{{pluginID}}{{if (className)}} {{className}}{{/if}}">{{name}}</a>'},function(t,e){t.exports='<a class="vc-tool vc-tool-{{pluginID}}">{{name}}</a>'},function(t,e){t.exports='<div id="{{_id}}" class="vc-item vc-item-{{logType}} {{style}}">\n\t<div class="vc-item-content"></div>\n</div>'},function(t,e){t.exports='<div class="vc-fold">\n  {{if (lineType == \'obj\')}}\n    <i class="vc-fold-outer">{{outer}}</i>\n    <div class="vc-fold-inner"></div>\n  {{else if (lineType == \'value\')}}\n    <i class="vc-code-{{valueType}}">{{value}}</i>\n  {{else if (lineType == \'kv\')}}\n    <i class="vc-code-key{{if (keyType)}} vc-code-{{keyType}}-key{{/if}}">{{key}}</i>: <i class="vc-code-{{valueType}}">{{value}}</i>\n  {{/if}}\n</div>'},function(t,e){t.exports='<span>\n  <i class="vc-code-key{{if (keyType)}} vc-code-{{keyType}}-key{{/if}}">{{key}}</i>: <i class="vc-code-{{valueType}}">{{value}}</i>\n</span>'},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;factory=function(_exports,_query,tool,_log,_tabbox_default,_item_code){"use strict";function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_query=_interopRequireDefault(_query),tool=_interopRequireWildcard(tool),_log=_interopRequireDefault(_log),_tabbox_default=_interopRequireDefault(_tabbox_default),_item_code=_interopRequireDefault(_item_code);var VConsoleDefaultTab=function(_VConsoleLogTab){function VConsoleDefaultTab(){var t,e;_classCallCheck(this,VConsoleDefaultTab);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=_possibleConstructorReturn(this,(t=_getPrototypeOf(VConsoleDefaultTab)).call.apply(t,[this].concat(i)))).tplTabbox=_tabbox_default.default,e}return _inherits(VConsoleDefaultTab,_VConsoleLogTab),_createClass(VConsoleDefaultTab,[{key:"onReady",value:function onReady(){var that=this;_get(_getPrototypeOf(VConsoleDefaultTab.prototype),"onReady",this).call(this),window.winKeys=Object.getOwnPropertyNames(window).sort(),window.keyTypes={};for(var i=0;i<winKeys.length;i++)keyTypes[winKeys[i]]=_typeof(window[winKeys[i]]);var cacheObj={},ID_REGEX=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/,retrievePrecedingIdentifier=function(t,e,n){n=n||ID_REGEX;for(var i=[],r=e-1;r>=0&&n.test(t[r]);r--)i.push(t[r]);if(0==i.length){n=/\./;for(var o=e-1;o>=0&&n.test(t[o]);o--)i.push(t[o])}if(0===i.length){var s=t.match(/[\(\)\[\]\{\}]/gi)||[];return s[s.length-1]}return i.reverse().join("")};_query.default.bind(_query.default.one(".vc-cmd-input"),"keyup",(function(e){var isDeleteKeyCode=8===e.keyCode||46===e.keyCode,$prompted=_query.default.one(".vc-cmd-prompted");$prompted.style.display="none",$prompted.innerHTML="";var tempValue=this.value,value=retrievePrecedingIdentifier(this.value,this.value.length);if(value&&value.length>0){if(/\(/.test(value)&&!isDeleteKeyCode)return void(_query.default.one(".vc-cmd-input").value+=")");if(/\[/.test(value)&&!isDeleteKeyCode)return void(_query.default.one(".vc-cmd-input").value+="]");if(/\{/.test(value)&&!isDeleteKeyCode)return void(_query.default.one(".vc-cmd-input").value+="}");if("."===value){var key=retrievePrecedingIdentifier(tempValue,tempValue.length-1);if(!cacheObj[key])try{cacheObj[key]=Object.getOwnPropertyNames(eval("("+key+")")).sort()}catch(e){}try{for(var _i3=0;_i3<cacheObj[key].length;_i3++){var $li=document.createElement("li"),_key=cacheObj[key][_i3];$li.innerHTML=_key,$li.onclick=function(){_query.default.one(".vc-cmd-input").value="",_query.default.one(".vc-cmd-input").value=tempValue+this.innerHTML,$prompted.style.display="none"},$prompted.appendChild($li)}}catch(e){}}else if("."!==value.substring(value.length-1)&&value.indexOf(".")<0){for(var _i4=0;_i4<winKeys.length;_i4++)if(winKeys[_i4].toLowerCase().indexOf(value.toLowerCase())>=0){var _$li=document.createElement("li");_$li.innerHTML=winKeys[_i4],_$li.onclick=function(){_query.default.one(".vc-cmd-input").value="",_query.default.one(".vc-cmd-input").value=this.innerHTML,"function"==keyTypes[this.innerHTML]&&(_query.default.one(".vc-cmd-input").value+="()"),$prompted.style.display="none"},$prompted.appendChild(_$li)}}else{var arr=value.split(".");if(cacheObj[arr[0]]){cacheObj[arr[0]].sort();for(var _i5=0;_i5<cacheObj[arr[0]].length;_i5++){var _$li2=document.createElement("li"),_key3=cacheObj[arr[0]][_i5];_key3.indexOf(arr[1])>=0&&(_$li2.innerHTML=_key3,_$li2.onclick=function(){_query.default.one(".vc-cmd-input").value="",_query.default.one(".vc-cmd-input").value=tempValue+this.innerHTML,$prompted.style.display="none"},$prompted.appendChild(_$li2))}}}if($prompted.children.length>0){var m=Math.min(200,31*$prompted.children.length);$prompted.style.display="block",$prompted.style.height=m+"px",$prompted.style.marginTop=-m+"px"}}else $prompted.style.display="none"})),_query.default.bind(_query.default.one(".vc-cmd",this.$tabbox),"submit",(function(t){t.preventDefault();var e=_query.default.one(".vc-cmd-input",t.target),n=e.value;e.value="",""!==n&&that.evalCommand(n);var i=_query.default.one(".vc-cmd-prompted");i&&(i.style.display="none")}));var code="";code+="if (!!window) {",code+="window.__vConsole_cmd_result = undefined;",code+="window.__vConsole_cmd_error = false;",code+="}";var scriptList=document.getElementsByTagName("script"),nonce="";scriptList.length>0&&(nonce=scriptList[0].nonce||"");var script=document.createElement("SCRIPT");script.innerHTML=code,script.setAttribute("nonce",nonce),document.documentElement.appendChild(script),document.documentElement.removeChild(script)}},{key:"mockConsole",value:function(){_get(_getPrototypeOf(VConsoleDefaultTab.prototype),"mockConsole",this).call(this);var t=this;tool.isFunction(window.onerror)&&(this.windowOnError=window.onerror),window.onerror=function(e,n,i,r,o){var s=e;n&&(s+="\n"+n.replace(location.origin,"")),(i||r)&&(s+=":"+i+":"+r);var a=!!o&&!!o.stack&&o.stack.toString()||"";t.printLog({logType:"error",logs:[s,a],noOrigin:!0}),tool.isFunction(t.windowOnError)&&t.windowOnError.call(window,e,n,i,r,o)}}},{key:"evalCommand",value:function(t){this.printLog({logType:"log",content:_query.default.render(_item_code.default,{content:t,type:"input"}),style:""});var e,n=void 0;try{n=eval.call(window,"("+t+")")}catch(e){try{n=eval.call(window,t)}catch(t){}}tool.isArray(n)||tool.isObject(n)?e=this.getFoldedLine(n):(tool.isNull(n)?n="null":tool.isUndefined(n)?n="undefined":tool.isFunction(n)?n="function()":tool.isString(n)&&(n='"'+n+'"'),e=_query.default.render(_item_code.default,{content:n,type:"output"})),this.printLog({logType:"log",content:e,style:""}),window.winKeys=Object.getOwnPropertyNames(window).sort()}}]),VConsoleDefaultTab}(_log.default),_default=VConsoleDefaultTab;_exports.default=_default,module.exports=exports.default},__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(1),__webpack_require__(0),__webpack_require__(3),__webpack_require__(22),__webpack_require__(23)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e){t.exports='<div>\n  <div class="vc-log"></div>\n  <form class="vc-cmd">\n    <button class="vc-cmd-btn" type="submit">OK</button>\n    <ul class=\'vc-cmd-prompted\'></ul>\n    <div class="vc-cmd-input-wrap">\n      <textarea class="vc-cmd-input" placeholder="command..."></textarea>\n    </div>\n  </form>\n</div>'},function(t,e){t.exports='<pre class="vc-item-code vc-item-code-{{type}}">{{content}}</pre>'},function(t,e,n){var i,r,o;r=[e,n(3),n(25)],void 0===(o="function"==typeof(i=function(n,i,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=o(i),r=o(r);var h=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(n=c(this,(t=u(e)).call.apply(t,[this].concat(o)))).tplTabbox=r.default,n.allowUnformattedLog=!1,n}var n,o,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,i.default),n=e,(o=[{key:"onInit",value:function(){l(u(e.prototype),"onInit",this).call(this),this.printSystemInfo()}},{key:"printSystemInfo",value:function(){var t=navigator.userAgent,e="",n=t.match(/(ipod).*\s([\d_]+)/i),i=t.match(/(ipad).*\s([\d_]+)/i),r=t.match(/(iphone)\sos\s([\d_]+)/i),o=t.match(/(android)\s([\d\.]+)/i);e="Unknown",o?e="Android "+o[2]:r?e="iPhone, iOS "+r[2].replace(/_/g,"."):i?e="iPad, iOS "+i[2].replace(/_/g,"."):n&&(e="iPod, iOS "+n[2].replace(/_/g,"."));var s=e,a=t.match(/MicroMessenger\/([\d\.]+)/i);e="Unknown",a&&a[1]?(s+=", WeChat "+(e=a[1]),console.info("[system]","System:",s)):console.info("[system]","System:",s),e="Unknown",s=e="https:"==location.protocol?"HTTPS":"http:"==location.protocol?"HTTP":location.protocol.replace(":","");var c=t.toLowerCase().match(/ nettype\/([^ ]+)/g);e="Unknown",c&&c[0]?(s+=", "+(e=(c=c[0].split("/"))[1]),console.info("[system]","Network:",s)):console.info("[system]","Protocol:",s),console.info("[system]","UA:",t),setTimeout((function(){var t=window.performance||window.msPerformance||window.webkitPerformance;if(t&&t.timing){var e=t.timing;e.navigationStart&&console.info("[system]","navigationStart:",e.navigationStart),e.navigationStart&&e.domainLookupStart&&console.info("[system]","navigation:",e.domainLookupStart-e.navigationStart+"ms"),e.domainLookupEnd&&e.domainLookupStart&&console.info("[system]","dns:",e.domainLookupEnd-e.domainLookupStart+"ms"),e.connectEnd&&e.connectStart&&(e.connectEnd&&e.secureConnectionStart?console.info("[system]","tcp (ssl):",e.connectEnd-e.connectStart+"ms ("+(e.connectEnd-e.secureConnectionStart)+"ms)"):console.info("[system]","tcp:",e.connectEnd-e.connectStart+"ms")),e.responseStart&&e.requestStart&&console.info("[system]","request:",e.responseStart-e.requestStart+"ms"),e.responseEnd&&e.responseStart&&console.info("[system]","response:",e.responseEnd-e.responseStart+"ms"),e.domComplete&&e.domLoading&&(e.domContentLoadedEventStart&&e.domLoading?console.info("[system]","domComplete (domLoaded):",e.domComplete-e.domLoading+"ms ("+(e.domContentLoadedEventStart-e.domLoading)+"ms)"):console.info("[system]","domComplete:",e.domComplete-e.domLoading+"ms")),e.loadEventEnd&&e.loadEventStart&&console.info("[system]","loadEvent:",e.loadEventEnd-e.loadEventStart+"ms"),e.navigationStart&&e.loadEventEnd&&console.info("[system]","total (DOM):",e.loadEventEnd-e.navigationStart+"ms ("+(e.domComplete-e.navigationStart)+"ms)")}}),0)}}])&&a(n.prototype,o),s&&a(n,s),e}();n.default=h,t.exports=e.default})?i.apply(e,r):i)||(t.exports=o)},function(t,e){t.exports='<div>\n  <div class="vc-log"></div>\n</div>'},function(t,e,n){var i,r,o;r=[e,n(1),n(0),n(2),n(27),n(28),n(29)],void 0===(o="function"==typeof(i=function(n,i,r,o,s,a,c){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=l(i),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(r),o=l(o),s=l(s),a=l(a),c=l(c);var m=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=h(this,(t=p(e)).call.apply(t,[this].concat(o)))).$tabbox=i.default.render(s.default,{}),n.$header=null,n.reqList={},n.domList={},n.isReady=!1,n.isShow=!1,n.isInBottom=!0,n._open=void 0,n._send=void 0,n.mockAjax(),n}var n,l,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o.default),n=e,(l=[{key:"onRenderTab",value:function(t){t(this.$tabbox)}},{key:"onAddTool",value:function(t){var e=this;t([{name:"Clear",global:!1,onClick:function(t){e.clearLog()}}])}},{key:"onReady",value:function(){var t=this;t.isReady=!0,this.renderHeader(),i.default.delegate(i.default.one(".vc-log",this.$tabbox),"click",".vc-group-preview",(function(e){var n=this.dataset.reqid,r=this.parentNode;i.default.hasClass(r,"vc-actived")?(i.default.removeClass(r,"vc-actived"),t.updateRequest(n,{actived:!1})):(i.default.addClass(r,"vc-actived"),t.updateRequest(n,{actived:!0})),e.preventDefault()}));var e=i.default.one(".vc-content");for(var n in i.default.bind(e,"scroll",(function(n){t.isShow&&(e.scrollTop+e.offsetHeight>=e.scrollHeight?t.isInBottom=!0:t.isInBottom=!1)})),t.reqList)t.updateRequest(n,{})}},{key:"onRemove",value:function(){window.XMLHttpRequest&&(window.XMLHttpRequest.prototype.open=this._open,window.XMLHttpRequest.prototype.send=this._send,this._open=void 0,this._send=void 0)}},{key:"onShow",value:function(){this.isShow=!0,1==this.isInBottom&&this.scrollToBottom()}},{key:"onHide",value:function(){this.isShow=!1}},{key:"onShowConsole",value:function(){1==this.isInBottom&&this.scrollToBottom()}},{key:"scrollToBottom",value:function(){var t=i.default.one(".vc-content");t.scrollTop=t.scrollHeight-t.offsetHeight}},{key:"clearLog",value:function(){for(var t in this.reqList={},this.domList)this.domList[t].parentNode.removeChild(this.domList[t]),this.domList[t]=void 0;this.domList={},this.renderHeader()}},{key:"renderHeader",value:function(){var t=Object.keys(this.reqList).length,e=i.default.render(a.default,{count:t}),n=i.default.one(".vc-log",this.$tabbox);this.$header?this.$header.parentNode.replaceChild(e,this.$header):n.parentNode.insertBefore(e,n),this.$header=e}},{key:"updateRequest",value:function(t,e){var n=Object.keys(this.reqList).length,o=this.reqList[t]||{};for(var s in e)o[s]=e[s];if(this.reqList[t]=o,this.isReady){var a={id:t,url:o.url,status:o.status,method:o.method||"-",costTime:o.costTime>0?o.costTime+"ms":"-",header:o.header||null,getData:o.getData||null,postData:o.postData||null,response:null,actived:!!o.actived};switch(o.responseType){case"":case"text":if(r.isString(o.response))try{a.response=JSON.parse(o.response),a.response=JSON.stringify(a.response,null,1),a.response=r.htmlEncode(a.response)}catch(t){a.response=r.htmlEncode(o.response)}else void 0!==o.response&&(a.response=Object.prototype.toString.call(o.response));break;case"json":void 0!==o.response&&(a.response=JSON.stringify(o.response,null,1),a.response=r.htmlEncode(a.response));break;case"blob":case"document":case"arraybuffer":default:void 0!==o.response&&(a.response=Object.prototype.toString.call(o.response))}0==o.readyState||1==o.readyState?a.status="Pending":2==o.readyState||3==o.readyState?a.status="Loading":4==o.readyState||(a.status="Unknown");var l=i.default.render(c.default,a),u=this.domList[t];o.status>=400&&i.default.addClass(i.default.one(".vc-group-preview",l),"vc-table-row-error"),u?u.parentNode.replaceChild(l,u):i.default.one(".vc-log",this.$tabbox).insertAdjacentElement("beforeend",l),this.domList[t]=l,Object.keys(this.reqList).length!=n&&this.renderHeader(),this.isInBottom&&this.scrollToBottom()}}},{key:"mockAjax",value:function(){if(window.XMLHttpRequest){var t=this,e=window.XMLHttpRequest.prototype.open,n=window.XMLHttpRequest.prototype.send;t._open=e,t._send=n,window.XMLHttpRequest.prototype.open=function(){var n=this,i=[].slice.call(arguments),r=i[0],o=i[1],s=t.getUniqueID(),a=null;n._requestID=s,n._method=r,n._url=o;var c=n.onreadystatechange||function(){},l=function(){var e=t.reqList[s]||{};if(e.readyState=n.readyState,e.status=0,n.readyState>1&&(e.status=n.status),e.responseType=n.responseType,0==n.readyState)e.startTime||(e.startTime=+new Date);else if(1==n.readyState)e.startTime||(e.startTime=+new Date);else if(2==n.readyState){e.header={};for(var i=n.getAllResponseHeaders()||"",r=i.split("\n"),o=0;o<r.length;o++){var l=r[o];if(l){var u=l.split(": "),d=u[0],h=u.slice(1).join(": ");e.header[d]=h}}}else 3==n.readyState||(4==n.readyState?(clearInterval(a),e.endTime=+new Date,e.costTime=e.endTime-(e.startTime||e.endTime),e.response=n.response):clearInterval(a));return n._noVConsole||t.updateRequest(s,e),c.apply(n,arguments)};n.onreadystatechange=l;var u=-1;return a=setInterval((function(){u!=n.readyState&&(u=n.readyState,l.call(n))}),10),e.apply(n,i)},window.XMLHttpRequest.prototype.send=function(){var e=this,i=[].slice.call(arguments),o=i[0],s=t.reqList[e._requestID]||{};s.method=e._method.toUpperCase();var a=e._url.split("?");if(s.url=a.shift(),a.length>0){s.getData={},a=(a=a.join("?")).split("&");var c=!0,l=!1,u=void 0;try{for(var d,h=a[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var p=d.value;p=p.split("="),s.getData[p[0]]=decodeURIComponent(p[1])}}catch(t){l=!0,u=t}finally{try{c||null==h.return||h.return()}finally{if(l)throw u}}}if("POST"==s.method)if(r.isString(o)){var f=o.split("&");s.postData={};var m=!0,v=!1,g=void 0;try{for(var _,y=f[Symbol.iterator]();!(m=(_=y.next()).done);m=!0){var E=_.value;E=E.split("="),s.postData[E[0]]=E[1]}}catch(t){v=!0,g=t}finally{try{m||null==y.return||y.return()}finally{if(v)throw g}}}else r.isPlainObject(o)&&(s.postData=o);return e._noVConsole||t.updateRequest(e._requestID,s),n.apply(e,i)}}}},{key:"getUniqueID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}}])&&d(n.prototype,l),u&&d(n,u),e}();n.default=m,t.exports=e.default})?i.apply(e,r):i)||(t.exports=o)},function(t,e){t.exports='<div class="vc-table">\n  <div class="vc-log"></div>\n</div>'},function(t,e){t.exports='<dl class="vc-table-row">\n  <dd class="vc-table-col vc-table-col-4">Name {{if (count > 0)}}({{count}}){{/if}}</dd>\n  <dd class="vc-table-col">Method</dd>\n  <dd class="vc-table-col">Status</dd>\n  <dd class="vc-table-col">Time</dd>\n</dl>'},function(t,e){t.exports='<div class="vc-group {{actived ? \'vc-actived\' : \'\'}}">\n  <dl class="vc-table-row vc-group-preview" data-reqid="{{id}}">\n    <dd class="vc-table-col vc-table-col-4">{{url}}</dd>\n    <dd class="vc-table-col">{{method}}</dd>\n    <dd class="vc-table-col">{{status}}</dd>\n    <dd class="vc-table-col">{{costTime}}</dd>\n  </dl>\n  <div class="vc-group-detail">\n    {{if (header !== null)}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Headers</dt>\n      </dl>\n      {{for (var key in header)}}\n      <div class="vc-table-row vc-left-border vc-small">\n        <div class="vc-table-col vc-table-col-2">{{key}}</div>\n        <div class="vc-table-col vc-table-col-4 vc-max-height-line">{{header[key]}}</div>\n      </div>\n      {{/for}}\n    </div>\n    {{/if}}\n    {{if (getData !== null)}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Query String Parameters</dt>\n      </dl>\n      {{for (var key in getData)}}\n      <div class="vc-table-row vc-left-border vc-small">\n        <div class="vc-table-col vc-table-col-2">{{key}}</div>\n        <div class="vc-table-col vc-table-col-4 vc-max-height-line">{{getData[key]}}</div>\n      </div>\n      {{/for}}\n    </div>\n    {{/if}}\n    {{if (postData !== null)}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Form Data</dt>\n      </dl>\n      {{for (var key in postData)}}\n      <div class="vc-table-row vc-left-border vc-small">\n        <div class="vc-table-col vc-table-col-2">{{key}}</div>\n        <div class="vc-table-col vc-table-col-4 vc-max-height-line">{{postData[key]}}</div>\n      </div>\n      {{/for}}\n    </div>\n    {{/if}}\n    <div>\n      <dl class="vc-table-row vc-left-border">\n        <dt class="vc-table-col vc-table-col-title">Response</dt>\n      </dl>\n      <div class="vc-table-row vc-left-border vc-small">\n        <pre class="vc-table-col vc-max-height vc-min-height">{{response || \'\'}}</pre>\n      </div>\n    </div>\n  </div>\n</div>'},function(t,e,n){var i,r,o;r=[e,n(31),n(2),n(33),n(34),n(0),n(1)],void 0===(o="function"==typeof(i=function(n,i,r,o,s,a,c){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,r=l(r),o=l(o),s=l(s),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(a),c=l(c);var m=function(t){function e(){var t,n,i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];i=this,n=!(r=(t=h(e)).call.apply(t,[this].concat(a)))||"object"!==u(r)&&"function"!=typeof r?p(i):r;var d=p(n);d.isInited=!1,d.node={},d.$tabbox=c.default.render(o.default,{}),d.nodes=[],d.activedElem={};var f=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;return d.observer=new f((function(t){for(var e=0;e<t.length;e++){var n=t[e];d._isInVConsole(n.target)||d.onMutation(n)}})),n}var n,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,r.default),n=e,(i=[{key:"onRenderTab",value:function(t){t(this.$tabbox)}},{key:"onAddTool",value:function(t){var e=this;t([{name:"Expand",global:!1,onClick:function(t){if(e.activedElem)if(c.default.hasClass(e.activedElem,"vc-toggle"))for(var n=0;n<e.activedElem.childNodes.length;n++){var i=e.activedElem.childNodes[n];if(c.default.hasClass(i,"vcelm-l")&&!c.default.hasClass(i,"vcelm-noc")&&!c.default.hasClass(i,"vc-toggle")){c.default.one(".vcelm-node",i).click();break}}else c.default.one(".vcelm-node",e.activedElem).click()}},{name:"Collapse",global:!1,onClick:function(t){e.activedElem&&(c.default.hasClass(e.activedElem,"vc-toggle")?c.default.one(".vcelm-node",e.activedElem).click():e.activedElem.parentNode&&c.default.hasClass(e.activedElem.parentNode,"vcelm-l")&&c.default.one(".vcelm-node",e.activedElem.parentNode).click())}}])}},{key:"onShow",value:function(){if(!this.isInited){this.isInited=!0,this.node=this.getNode(document.documentElement);var t=this.renderView(this.node,c.default.one(".vc-log",this.$tabbox)),e=c.default.one(".vcelm-node",t);e&&e.click(),this.observer.observe(document.documentElement,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}}},{key:"onRemove",value:function(){this.observer.disconnect()}},{key:"onMutation",value:function(t){switch(t.type){case"childList":t.removedNodes.length>0&&this.onChildRemove(t),t.addedNodes.length>0&&this.onChildAdd(t);break;case"attributes":this.onAttributesChange(t);break;case"characterData":this.onCharacterDataChange(t)}}},{key:"onChildRemove",value:function(t){var e=t.target;if(e.__vconsole_node){for(var n=0;n<t.removedNodes.length;n++){var i=t.removedNodes[n].__vconsole_node;i&&i.view&&i.view.parentNode.removeChild(i.view)}this.getNode(e)}}},{key:"onChildAdd",value:function(t){var e=t.target,n=e.__vconsole_node;if(n){this.getNode(e),n.view&&c.default.removeClass(n.view,"vcelm-noc");for(var i=0;i<t.addedNodes.length;i++){var r=t.addedNodes[i].__vconsole_node;if(r)if(null!==t.nextSibling){var o=t.nextSibling.__vconsole_node;o.view&&this.renderView(r,o.view,"insertBefore")}else n.view&&(n.view.lastChild?this.renderView(r,n.view.lastChild,"insertBefore"):this.renderView(r,n.view))}}}},{key:"onAttributesChange",value:function(t){var e=t.target.__vconsole_node;e&&(e=this.getNode(t.target)).view&&this.renderView(e,e.view,!0)}},{key:"onCharacterDataChange",value:function(t){var e=t.target.__vconsole_node;e&&(e=this.getNode(t.target)).view&&this.renderView(e,e.view,!0)}},{key:"renderView",value:function(t,e,n){var i=this,r=new s.default(t).get();switch(t.view=r,c.default.delegate(r,"click",".vcelm-node",(function(e){e.stopPropagation();var n=this.parentNode;if(!c.default.hasClass(n,"vcelm-noc")){i.activedElem=n,c.default.hasClass(n,"vc-toggle")?c.default.removeClass(n,"vc-toggle"):c.default.addClass(n,"vc-toggle");for(var r=-1,o=0;o<n.children.length;o++){var s=n.children[o];c.default.hasClass(s,"vcelm-l")&&(r++,s.children.length>0||(t.childNodes[r]?i.renderView(t.childNodes[r],s,"replace"):s.style.display="none"))}}})),n){case"replace":e.parentNode.replaceChild(r,e);break;case"insertBefore":e.parentNode.insertBefore(r,e);break;default:e.appendChild(r)}return r}},{key:"getNode",value:function(t){if(!this._isIgnoredElement(t)){var e=t.__vconsole_node||{};if(e.nodeType=t.nodeType,e.nodeName=t.nodeName,e.tagName=t.tagName||"",e.textContent="",e.nodeType!=t.TEXT_NODE&&e.nodeType!=t.DOCUMENT_TYPE_NODE||(e.textContent=t.textContent),e.id=t.id||"",e.className=t.className||"",e.attributes=[],t.hasAttributes&&t.hasAttributes())for(var n=0;n<t.attributes.length;n++)e.attributes.push({name:t.attributes[n].name,value:t.attributes[n].value||""});if(e.childNodes=[],t.childNodes.length>0)for(var i=0;i<t.childNodes.length;i++){var r=this.getNode(t.childNodes[i]);r&&e.childNodes.push(r)}return t.__vconsole_node=e,e}}},{key:"_isIgnoredElement",value:function(t){return t.nodeType==t.TEXT_NODE&&""==t.textContent.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$|\n+/g,"")}},{key:"_isInVConsole",value:function(t){for(var e=t;null!=e;){if("__vconsole"==e.id)return!0;e=e.parentNode||void 0}return!1}}])&&d(n.prototype,i),a&&d(n,a),e}();n.default=m,t.exports=e.default})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i=n(32);"string"==typeof i&&(i=[[t.i,i,""]]);var r={insert:"head",singleton:!1};n(5)(i,r),i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(4)(!1)).push([t.i,'/* color */\n.vcelm-node {\n  color: #183691;\n}\n.vcelm-k {\n  color: #0086B3;\n}\n.vcelm-v {\n  color: #905;\n}\n/* layout */\n.vcelm-l {\n  padding-left: 8px;\n  position: relative;\n  word-wrap: break-word;\n  line-height: 1;\n}\n/*.vcelm-l.vcelm-noc {\n  padding-left: 0;\n}*/\n.vcelm-l.vc-toggle > .vcelm-node {\n  display: block;\n}\n.vcelm-l .vcelm-node:active {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vcelm-l.vcelm-noc .vcelm-node:active {\n  background-color: transparent;\n}\n.vcelm-t {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n/* level */\n.vcelm-l .vcelm-l {\n  display: none;\n}\n.vcelm-l.vc-toggle > .vcelm-l {\n  margin-left: 4px;\n  display: block;\n}\n/* arrow */\n.vcelm-l:before {\n  content: "";\n  display: block;\n  position: absolute;\n  top: 6px;\n  left: 3px;\n  width: 0;\n  height: 0;\n  border: transparent solid 3px;\n  border-left-color: #000;\n}\n.vcelm-l.vc-toggle:before {\n  display: block;\n  top: 6px;\n  left: 0;\n  border-top-color: #000;\n  border-left-color: transparent;\n}\n.vcelm-l.vcelm-noc:before {\n  display: none;\n}\n',""])},function(t,e){t.exports='<div>\n  <div class="vc-log"></div>\n</div>'},function(t,e,n){var i,r,o;r=[e,n(35),n(36),n(0),n(1)],void 0===(o="function"==typeof(i=function(n,i,r,o,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=a(i),r=a(r),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(o),s=a(s);var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=e,this.view=this._create(this.node)}var e,n,o;return e=t,(n=[{key:"get",value:function(){return this.view}},{key:"_create",value:function(t,e){var n=document.createElement("DIV");switch(s.default.addClass(n,"vcelm-l"),t.nodeType){case n.ELEMENT_NODE:this._createElementNode(t,n);break;case n.TEXT_NODE:this._createTextNode(t,n);break;case n.COMMENT_NODE:case n.DOCUMENT_NODE:case n.DOCUMENT_TYPE_NODE:case n.DOCUMENT_FRAGMENT_NODE:}return n}},{key:"_createTextNode",value:function(t,e){s.default.addClass(e,"vcelm-t vcelm-noc"),t.textContent&&e.appendChild(function(t){return document.createTextNode(t)}(t.textContent.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")))}},{key:"_createElementNode",value:function(t,e){var n,o=(n=(n=t.tagName)?n.toLowerCase():"",["br","hr","img","input","link","meta"].indexOf(n)>-1),a=o;0==t.childNodes.length&&(a=!0);var c=s.default.render(i.default,{node:t}),l=s.default.render(r.default,{node:t});if(a)s.default.addClass(e,"vcelm-noc"),e.appendChild(c),o||e.appendChild(l);else{e.appendChild(c);for(var u=0;u<t.childNodes.length;u++){var d=document.createElement("DIV");s.default.addClass(d,"vcelm-l"),e.appendChild(d)}o||e.appendChild(l)}}}])&&c(e.prototype,n),o&&c(e,o),t}();n.default=l,t.exports=e.default})?i.apply(e,r):i)||(t.exports=o)},function(t,e){t.exports='<span class="vcelm-node">&lt;{{node.tagName.toLowerCase()}}{{if (node.className || node.attributes.length)}}\n  <i class="vcelm-k">\n    {{for (var i = 0; i < node.attributes.length; i++)}}\n      {{if (node.attributes[i].value !== \'\')}}\n        {{node.attributes[i].name}}="<i class="vcelm-v">{{node.attributes[i].value}}</i>"{{else}}\n        {{node.attributes[i].name}}{{/if}}{{/for}}</i>{{/if}}&gt;</span>'},function(t,e){t.exports='<span class="vcelm-node">&lt;/{{node.tagName.toLowerCase()}}&gt;</span>'},function(t,e,n){var i,r,o;r=[e,n(2),n(38),n(39),n(0),n(1)],void 0===(o="function"==typeof(i=function(n,i,r,o,s,a){"use strict";function c(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,i=c(i),r=c(r),o=c(o),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(s),a=c(a);var f=function(t){function e(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(n=d(this,(t=h(e)).call.apply(t,[this].concat(o)))).$tabbox=a.default.render(r.default,{}),n.currentType="",n.typeNameMap={cookies:"Cookies",localstorage:"LocalStorage",sessionstorage:"SessionStorage"},n}var n,c,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,i.default),n=e,(c=[{key:"onRenderTab",value:function(t){t(this.$tabbox)}},{key:"onAddTopBar",value:function(t){for(var e=this,n=["Cookies","LocalStorage","SessionStorage"],i=[],r=0;r<n.length;r++)i.push({name:n[r],data:{type:n[r].toLowerCase()},className:"",onClick:function(){if(a.default.hasClass(this,"vc-actived"))return!1;e.currentType=this.dataset.type,e.renderStorage()}});i[0].className="vc-actived",t(i)}},{key:"onAddTool",value:function(t){var e=this;t([{name:"Refresh",global:!1,onClick:function(t){e.renderStorage()}},{name:"Clear",global:!1,onClick:function(t){e.clearLog()}}])}},{key:"onReady",value:function(){}},{key:"onShow",value:function(){""==this.currentType&&(this.currentType="cookies",this.renderStorage())}},{key:"clearLog",value:function(){if(this.currentType&&window.confirm&&!window.confirm("Remove all "+this.typeNameMap[this.currentType]+"?"))return!1;switch(this.currentType){case"cookies":this.clearCookieList();break;case"localstorage":this.clearLocalStorageList();break;case"sessionstorage":this.clearSessionStorageList();break;default:return!1}this.renderStorage()}},{key:"renderStorage",value:function(){var t=[];switch(this.currentType){case"cookies":t=this.getCookieList();break;case"localstorage":t=this.getLocalStorageList();break;case"sessionstorage":t=this.getSessionStorageList();break;default:return!1}var e=a.default.one(".vc-log",this.$tabbox);if(0==t.length)e.innerHTML="";else{for(var n=0;n<t.length;n++)t[n].name=s.htmlEncode(t[n].name),t[n].value=s.htmlEncode(t[n].value);e.innerHTML=a.default.render(o.default,{list:t},!0)}}},{key:"getCookieList",value:function(){if(!document.cookie||!navigator.cookieEnabled)return[];for(var t=[],e=document.cookie.split(";"),n=0;n<e.length;n++){var i=e[n].split("="),r=i.shift().replace(/^ /,""),o=i.join("=");try{r=decodeURIComponent(r),o=decodeURIComponent(o)}catch(t){console.log(t,r,o)}t.push({name:r,value:o})}return t}},{key:"getLocalStorageList",value:function(){if(!window.localStorage)return[];try{for(var t=[],e=0;e<localStorage.length;e++){var n=localStorage.key(e),i=localStorage.getItem(n);t.push({name:n,value:i})}return t}catch(t){return[]}}},{key:"getSessionStorageList",value:function(){if(!window.sessionStorage)return[];try{for(var t=[],e=0;e<sessionStorage.length;e++){var n=sessionStorage.key(e),i=sessionStorage.getItem(n);t.push({name:n,value:i})}return t}catch(t){return[]}}},{key:"clearCookieList",value:function(){if(document.cookie&&navigator.cookieEnabled){for(var t=window.location.hostname,e=this.getCookieList(),n=0;n<e.length;n++){var i=e[n].name;document.cookie="".concat(i,"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"),document.cookie="".concat(i,"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"),document.cookie="".concat(i,"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=.").concat(t.split(".").slice(-2).join("."))}this.renderStorage()}}},{key:"clearLocalStorageList",value:function(){if(window.localStorage)try{localStorage.clear(),this.renderStorage()}catch(t){alert("localStorage.clear() fail.")}}},{key:"clearSessionStorageList",value:function(){if(window.sessionStorage)try{sessionStorage.clear(),this.renderStorage()}catch(t){alert("sessionStorage.clear() fail.")}}}])&&u(n.prototype,c),l&&u(n,l),e}();n.default=f,t.exports=e.default})?i.apply(e,r):i)||(t.exports=o)},function(t,e){t.exports='<div class="vc-table">\n  <div class="vc-log"></div>\n</div>'},function(t,e){t.exports='<div>\n  <dl class="vc-table-row">\n    <dd class="vc-table-col">Name</dd>\n    <dd class="vc-table-col vc-table-col-2">Value</dd>\n  </dl>\n  {{for (var i = 0; i < list.length; i++)}}\n  <dl class="vc-table-row">\n    <dd class="vc-table-col">{{list[i].name}}</dd>\n    <dd class="vc-table-col vc-table-col-2">{{list[i].value}}</dd>\n  </dl>\n  {{/for}}\n</div>'}])}))},"3a72":function(t,e,n){var i=n("7726"),r=n("8378"),o=n("2d00"),s=n("37c8"),a=n("86cc").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},"3b2b":function(t,e,n){var i=n("7726"),r=n("5dbc"),o=n("86cc").f,s=n("9093").f,a=n("aae3"),c=n("0bfb"),l=i.RegExp,u=l,d=l.prototype,h=/a/g,p=/a/g,f=new l(h)!==h;if(n("9e1e")&&(!f||n("79e5")((function(){return p[n("2b4c")("match")]=!1,l(h)!=h||l(p)==p||"/a/i"!=l(h,"i")})))){l=function(t,e){var n=this instanceof l,i=a(t),o=void 0===e;return!n&&i&&t.constructor===l&&o?t:r(f?new u(i&&!o?t.source:t,e):u((i=t instanceof l)?t.source:t,i&&o?c.call(t):e),n?this:d,l)};for(var m=function(t){t in l||o(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},v=s(u),g=0;v.length>g;)m(v[g++]);d.constructor=l,l.prototype=d,n("2aba")(i,"RegExp",l)}n("7a56")("RegExp")},"3ca5":function(t,e,n){var i=n("7726").parseInt,r=n("aa77").trim,o=n("fdef"),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},"3eba":function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("697e7")),o=n("6d8b"),s=n("41ef"),a=n("22d1"),c=n("04f6"),l=n("1fab"),u=n("7e63"),d=n("843e"),h=n("2039"),p=n("ca98"),f=n("fb05"),m=n("d15d"),v=n("6cb7"),g=n("4f85"),_=n("b12f"),y=n("e887"),E=n("2306"),b=n("e0d3"),S=n("88b3"),T=S.throttle,w=n("fd63"),C=n("b809"),I=n("998c"),R=n("69ff"),A=n("c533"),O=n("f219");n("0352");var x=n("ec34"),D=o.assert,k=o.each,N=o.isFunction,P=o.isObject,L=v.parseClassType,M="4.8.0",V={zrender:"4.3.1"},U=1,B=1e3,j=800,F=900,H=5e3,W=1e3,G=1100,$=2e3,z=3e3,Y=3500,K=4e3,q=5e3,X={PROCESSOR:{FILTER:B,SERIES_FILTER:j,STATISTIC:H},VISUAL:{LAYOUT:W,PROGRESSIVE_LAYOUT:G,GLOBAL:$,CHART:z,POST_CHART_LAYOUT:Y,COMPONENT:K,BRUSH:q}},J="__flagInMainProcess",Z="__optionUpdated",Q=/^[a-zA-Z0-9_]+$/;function tt(t,e){return function(n,i,r){e||!this._disposed?(n=n&&n.toLowerCase(),l.prototype[t].call(this,n,i,r)):Et(this.id)}}function et(){l.call(this)}function nt(t,e,n){n=n||{},"string"===typeof e&&(e=kt[e]),this.id,this.group,this._dom=t;var i="canvas",s=this._zr=r.init(t,{renderer:n.renderer||i,devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=T(o.bind(s.flush,s),17);e=o.clone(e);e&&f(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new h;var a=this._api=wt(this);function u(t,e){return t.__prio-e.__prio}c(Dt,u),c(At,u),this._scheduler=new R(this,a,At,Dt),l.call(this,this._ecEventProcessor=new Ct),this._messageCenter=new et,this._initEvents(),this.resize=o.bind(this.resize,this),this._pendingActions=[],s.animation.on("frame",this._onframe,this),ht(s,this),o.setAsPrimitive(this)}et.prototype.on=tt("on",!0),et.prototype.off=tt("off",!0),et.prototype.one=tt("one",!0),o.mixin(et,l);var it=nt.prototype;function rt(t,e,n){if(this._disposed)Et(this.id);else{var i,r=this._model,o=this._coordSysMgr.getCoordinateSystems();e=b.parseFinder(r,e);for(var s=0;s<o.length;s++){var a=o[s];if(a[t]&&null!=(i=a[t](r,e,n)))return i}}}it._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[Z]){var e=this[Z].silent;this[J]=!0,st(this),ot.update.call(this),this[J]=!1,this[Z]=!1,ut.call(this,e),dt.call(this,e)}else if(t.unfinished){var n=U,i=this._model,r=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),ct(this,i),t.performVisualTasks(i),gt(this,this._model,r,"remain"),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},it.getDom=function(){return this._dom},it.getZr=function(){return this._zr},it.setOption=function(t,e,n){if(this._disposed)Et(this.id);else{var i;if(P(e)&&(n=e.lazyUpdate,i=e.silent,e=e.notMerge),this[J]=!0,!this._model||e){var r=new p(this._api),o=this._theme,s=this._model=new u;s.scheduler=this._scheduler,s.init(null,null,o,r)}this._model.setOption(t,Ot),n?(this[Z]={silent:i},this[J]=!1):(st(this),ot.update.call(this),this._zr.flush(),this[Z]=!1,this[J]=!1,ut.call(this,i),dt.call(this,i))}},it.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},it.getModel=function(){return this._model},it.getOption=function(){return this._model&&this._model.getOption()},it.getWidth=function(){return this._zr.getWidth()},it.getHeight=function(){return this._zr.getHeight()},it.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},it.getRenderedCanvas=function(t){if(a.canvasSupported){t=t||{},t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr;return e.painter.getRenderedCanvas(t)}},it.getSvgDataURL=function(){if(a.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return o.each(e,(function(t){t.stopAnimation(!0)})),t.painter.toDataURL()}},it.getDataURL=function(t){if(!this._disposed){t=t||{};var e=t.excludeComponents,n=this._model,i=[],r=this;k(e,(function(t){n.eachComponent({mainType:t},(function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)}))}));var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return k(i,(function(t){t.group.ignore=!1})),o}Et(this.id)},it.getConnectedDataURL=function(t){if(this._disposed)Et(this.id);else if(a.canvasSupported){var e="svg"===t.type,n=this.group,i=Math.min,s=Math.max,c=1/0;if(Lt[n]){var l=c,u=c,d=-c,h=-c,p=[],f=t&&t.pixelRatio||1;o.each(Pt,(function(r,a){if(r.group===n){var c=e?r.getZr().painter.getSvgDom().innerHTML:r.getRenderedCanvas(o.clone(t)),f=r.getDom().getBoundingClientRect();l=i(f.left,l),u=i(f.top,u),d=s(f.right,d),h=s(f.bottom,h),p.push({dom:c,left:f.left,top:f.top})}})),l*=f,u*=f,d*=f,h*=f;var m=d-l,v=h-u,g=o.createCanvas(),_=r.init(g,{renderer:e?"svg":"canvas"});if(_.resize({width:m,height:v}),e){var y="";return k(p,(function(t){var e=t.left-l,n=t.top-u;y+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"})),_.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&_.painter.setBackgroundColor(t.connectedBackgroundColor),_.refreshImmediately(),_.painter.toDataURL()}return t.connectedBackgroundColor&&_.add(new E.Rect({shape:{x:0,y:0,width:m,height:v},style:{fill:t.connectedBackgroundColor}})),k(p,(function(t){var e=new E.Image({style:{x:t.left*f-l,y:t.top*f-u,image:t.dom}});_.add(e)})),_.refreshImmediately(),g.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},it.convertToPixel=o.curry(rt,"convertToPixel"),it.convertFromPixel=o.curry(rt,"convertFromPixel"),it.containPixel=function(t,e){if(!this._disposed){var n,i=this._model;return t=b.parseFinder(i,t),o.each(t,(function(t,i){i.indexOf("Models")>=0&&o.each(t,(function(t){var r=t.coordinateSystem;if(r&&r.containPoint)n|=!!r.containPoint(e);else if("seriesModels"===i){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(n|=o.containPoint(e,t))}}),this)}),this),!!n}Et(this.id)},it.getVisual=function(t,e){var n=this._model;t=b.parseFinder(n,t,{defaultMainType:"series"});var i=t.seriesModel,r=i.getData(),o=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?r.indexOfRawIndex(t.dataIndex):null;return null!=o?r.getItemVisual(o,e):r.getVisual(e)},it.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},it.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var ot={prepareAndUpdate:function(t){st(this),ot.update.call(this,t)},update:function(t){var e=this._model,n=this._api,i=this._zr,r=this._coordSysMgr,o=this._scheduler;if(e){o.restoreData(e,t),o.performSeriesTasks(e),r.create(e,n),o.performDataProcessorTasks(e,t),ct(this,e),r.update(e,n),ft(e),o.performVisualTasks(e,t),mt(this,e,n,t);var c=e.get("backgroundColor")||"transparent";if(a.canvasSupported)i.setBackgroundColor(c);else{var l=s.parse(c);c=s.stringify(l,"rgb"),0===l[3]&&(c="transparent")}_t(e,n)}},updateTransform:function(t){var e=this._model,n=this,i=this._api;if(e){var r=[];e.eachComponent((function(o,s){var a=n.getViewOfComponentModel(s);if(a&&a.__alive)if(a.updateTransform){var c=a.updateTransform(s,e,i,t);c&&c.update&&r.push(a)}else r.push(a)}));var s=o.createHashMap();e.eachSeries((function(r){var o=n._chartsMap[r.__viewId];if(o.updateTransform){var a=o.updateTransform(r,e,i,t);a&&a.update&&s.set(r.uid,1)}else s.set(r.uid,1)})),ft(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:s}),gt(n,e,i,t,s),_t(e,this._api)}},updateView:function(t){var e=this._model;e&&(y.markUpdateMethod(t,"updateView"),ft(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),mt(this,this._model,this._api,t),_t(e,this._api))},updateVisual:function(t){ot.update.call(this,t)},updateLayout:function(t){ot.update.call(this,t)}};function st(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),pt(t,"component",e,n),pt(t,"chart",e,n),n.plan()}function at(t,e,n,i,r){var s=t._model;if(i){var a={};a[i+"Id"]=n[i+"Id"],a[i+"Index"]=n[i+"Index"],a[i+"Name"]=n[i+"Name"];var c={mainType:i,query:a};r&&(c.subType=r);var l=n.excludeSeriesId;null!=l&&(l=o.createHashMap(b.normalizeToArray(l))),s&&s.eachComponent(c,(function(e){l&&null!=l.get(e.id)||u(t["series"===i?"_chartsMap":"_componentsMap"][e.__viewId])}),t)}else k(t._componentsViews.concat(t._chartsViews),u);function u(i){i&&i.__alive&&i[e]&&i[e](i.__model,s,t._api,n)}}function ct(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries((function(t){i.updateStreamModes(t,n[t.__viewId])}))}function lt(t,e){var n=t.type,i=t.escapeConnect,r=It[n],s=r.actionInfo,a=(s.update||"update").split(":"),c=a.pop();a=null!=a[0]&&L(a[0]),this[J]=!0;var l=[t],u=!1;t.batch&&(u=!0,l=o.map(t.batch,(function(e){return e=o.defaults(o.extend({},e),t),e.batch=null,e})));var d,h=[],p="highlight"===n||"downplay"===n;k(l,(function(t){d=r.action(t,this._model,this._api),d=d||o.extend({},t),d.type=s.event||d.type,h.push(d),p?at(this,c,t,"series"):a&&at(this,c,t,a.main,a.sub)}),this),"none"===c||p||a||(this[Z]?(st(this),ot.update.call(this,t),this[Z]=!1):ot[c].call(this,t)),d=u?{type:s.event||n,escapeConnect:i,batch:h}:h[0],this[J]=!1,!e&&this._messageCenter.trigger(d.type,d)}function ut(t){var e=this._pendingActions;while(e.length){var n=e.shift();lt.call(this,n,t)}}function dt(t){!t&&this.trigger("updated")}function ht(t,e){t.on("rendered",(function(){e.trigger("rendered"),!t.animation.isFinished()||e[Z]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))}function pt(t,e,n,i){for(var r="component"===e,o=r?t._componentsViews:t._chartsViews,s=r?t._componentsMap:t._chartsMap,a=t._zr,c=t._api,l=0;l<o.length;l++)o[l].__alive=!1;function u(t){var e="_ec_"+t.id+"_"+t.type,l=s[e];if(!l){var u=L(t.type),d=r?_.getClass(u.main,u.sub):y.getClass(u.sub);l=new d,l.init(n,c),s[e]=l,o.push(l),a.add(l.group)}t.__viewId=l.__id=e,l.__alive=!0,l.__model=t,l.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!r&&i.prepareView(l,t,n,c)}r?n.eachComponent((function(t,e){"series"!==t&&u(e)})):n.eachSeries(u);for(l=0;l<o.length;){var d=o[l];d.__alive?l++:(!r&&d.renderTask.dispose(),a.remove(d.group),d.dispose(n,c),o.splice(l,1),delete s[d.__id],d.__id=d.group.__ecComponentInfo=null)}}function ft(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))}function mt(t,e,n,i){vt(t,e,n,i),k(t._chartsViews,(function(t){t.__alive=!1})),gt(t,e,n,i),k(t._chartsViews,(function(t){t.__alive||t.remove(e,n)}))}function vt(t,e,n,i,r){k(r||t._componentsViews,(function(t){var r=t.__model;t.render(r,e,n,i),Tt(r,t)}))}function gt(t,e,n,i,r){var o,s=t._scheduler;e.eachSeries((function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var a=n.renderTask;s.updatePayload(a,i),r&&r.get(e.uid)&&a.dirty(),o|=a.perform(s.getPerformArgs(a)),n.group.silent=!!e.get("silent"),Tt(e,n),St(e,n)})),s.unfinished|=o,bt(t,e),C(t._zr.dom,e)}function _t(t,e){k(xt,(function(n){n(t,e)}))}it.resize=function(t){if(this._disposed)Et(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),i=t&&t.silent;this[J]=!0,n&&st(this),ot.update.call(this),this[J]=!1,ut.call(this,i),dt.call(this,i)}}},it.showLoading=function(t,e){if(this._disposed)Et(this.id);else if(P(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Nt[t]){var n=Nt[t](this._api,e),i=this._zr;this._loadingFX=n,i.add(n)}},it.hideLoading=function(){this._disposed?Et(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},it.makeActionFromEvent=function(t){var e=o.extend({},t);return e.type=Rt[t.type],e},it.dispatchAction=function(t,e){this._disposed?Et(this.id):(P(e)||(e={silent:!!e}),It[t.type]&&this._model&&(this[J]?this._pendingActions.push(t):(lt.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&a.browser.weChat&&this._throttledZrFlush(),ut.call(this,e.silent),dt.call(this,e.silent))))},it.appendData=function(t){if(this._disposed)Et(this.id);else{var e=t.seriesIndex,n=this.getModel(),i=n.getSeriesByIndex(e);i.appendData(t),this._scheduler.unfinished=!0}},it.on=tt("on",!1),it.off=tt("off",!1),it.one=tt("one",!1);var yt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Et(t){}function bt(t,e){var n=t._zr,i=n.storage,r=0;i.traverse((function(t){r++})),r>e.get("hoverLayerThreshold")&&!a.node&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.group.traverse((function(t){t.useHoverLayer=!0}))}}))}function St(t,e){var n=t.get("blendMode")||null;e.group.traverse((function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable((function(t){t.setStyle("blend",n)}))}))}function Tt(t,e){var n=t.get("z"),i=t.get("zlevel");e.group.traverse((function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=i&&(t.zlevel=i))}))}function wt(t){var e=t._coordSysMgr;return o.extend(new d(t),{getCoordinateSystems:o.bind(e.getCoordinateSystems,e),getComponentByElement:function(e){while(e){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}}})}function Ct(){this.eventInfo}it._initEvents=function(){k(yt,(function(t){var e=function(e){var n,i=this.getModel(),r=e.target,s="globalout"===t;if(s)n={};else if(r&&null!=r.dataIndex){var a=r.dataModel||i.getSeriesByIndex(r.seriesIndex);n=a&&a.getDataParams(r.dataIndex,r.dataType,r)||{}}else r&&r.eventData&&(n=o.extend({},r.eventData));if(n){var c=n.componentType,l=n.componentIndex;"markLine"!==c&&"markPoint"!==c&&"markArea"!==c||(c="series",l=n.seriesIndex);var u=c&&null!=l&&i.getComponent(c,l),d=u&&this["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];n.event=e,n.type=t,this._ecEventProcessor.eventInfo={targetEl:r,packedEvent:n,model:u,view:d},this.trigger(t,n)}};e.zrEventfulCallAtLast=!0,this._zr.on(t,e,this)}),this),k(Rt,(function(t,e){this._messageCenter.on(e,(function(t){this.trigger(e,t)}),this)}),this)},it.isDisposed=function(){return this._disposed},it.clear=function(){this._disposed?Et(this.id):this.setOption({series:[]},!0)},it.dispose=function(){if(this._disposed)Et(this.id);else{this._disposed=!0,b.setAttribute(this.getDom(),Ut,"");var t=this._api,e=this._model;k(this._componentsViews,(function(n){n.dispose(e,t)})),k(this._chartsViews,(function(n){n.dispose(e,t)})),this._zr.dispose(),delete Pt[this.id]}},o.mixin(nt,l),Ct.prototype={constructor:Ct,normalizeQuery:function(t){var e={},n={},i={};if(o.isString(t)){var r=L(t);e.mainType=r.main||null,e.subType=r.sub||null}else{var s=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};o.each(t,(function(t,r){for(var o=!1,c=0;c<s.length;c++){var l=s[c],u=r.lastIndexOf(l);if(u>0&&u===r.length-l.length){var d=r.slice(0,u);"data"!==d&&(e.mainType=d,e[l.toLowerCase()]=t,o=!0)}}a.hasOwnProperty(r)&&(n[r]=t,o=!0),o||(i[r]=t)}))}return{cptQuery:e,dataQuery:n,otherQuery:i}},filter:function(t,e,n){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,s=i.model,a=i.view;if(!s||!a)return!0;var c=e.cptQuery,l=e.dataQuery;return u(c,s,"mainType")&&u(c,s,"subType")&&u(c,s,"index","componentIndex")&&u(c,s,"name")&&u(c,s,"id")&&u(l,o,"name")&&u(l,o,"dataIndex")&&u(l,o,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,r,o));function u(t,e,n,i){return null==t[n]||e[i||n]===t[n]}},afterTrigger:function(){this.eventInfo=null}};var It={},Rt={},At=[],Ot=[],xt=[],Dt=[],kt={},Nt={},Pt={},Lt={},Mt=new Date-0,Vt=new Date-0,Ut="_echarts_instance_";function Bt(t){var e=0,n=1,i=2,r="__connectUpdateStatus";function o(t,e){for(var n=0;n<t.length;n++){var i=t[n];i[r]=e}}k(Rt,(function(s,a){t._messageCenter.on(a,(function(s){if(Lt[t.group]&&t[r]!==e){if(s&&s.escapeConnect)return;var a=t.makeActionFromEvent(s),c=[];k(Pt,(function(e){e!==t&&e.group===t.group&&c.push(e)})),o(c,e),k(c,(function(t){t[r]!==n&&t.dispatchAction(a)})),o(c,i)}}))}))}function jt(t,e,n){var i=$t(t);if(i)return i;var r=new nt(t,e,n);return r.id="ec_"+Mt++,Pt[r.id]=r,b.setAttribute(t,Ut,r.id),Bt(r),r}function Ft(t){if(o.isArray(t)){var e=t;t=null,k(e,(function(e){null!=e.group&&(t=e.group)})),t=t||"g_"+Vt++,k(e,(function(e){e.group=t}))}return Lt[t]=!0,t}function Ht(t){Lt[t]=!1}var Wt=Ht;function Gt(t){"string"===typeof t?t=Pt[t]:t instanceof nt||(t=$t(t)),t instanceof nt&&!t.isDisposed()&&t.dispose()}function $t(t){return Pt[b.getAttribute(t,Ut)]}function zt(t){return Pt[t]}function Yt(t,e){kt[t]=e}function Kt(t){Ot.push(t)}function qt(t,e){ne(At,t,e,B)}function Xt(t){xt.push(t)}function Jt(t,e,n){"function"===typeof e&&(n=e,e="");var i=P(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,D(Q.test(i)&&Q.test(e)),It[i]||(It[i]={action:n,actionInfo:t}),Rt[e]=i}function Zt(t,e){h.register(t,e)}function Qt(t){var e=h.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function te(t,e){ne(Dt,t,e,W,"layout")}function ee(t,e){ne(Dt,t,e,z,"visual")}function ne(t,e,n,i,r){(N(e)||P(e))&&(n=e,e=i);var o=R.wrapStageHandler(n,r);return o.__prio=e,o.__raw=n,t.push(o),o}function ie(t,e){Nt[t]=e}function re(t){return v.extend(t)}function oe(t){return _.extend(t)}function se(t){return g.extend(t)}function ae(t){return y.extend(t)}function ce(t){o.$override("createCanvas",t)}function le(t,e,n){x.registerMap(t,e,n)}function ue(t){var e=x.retrieveMap(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}}ee($,w),Kt(f),qt(F,m),ie("default",I),Jt({type:"highlight",event:"highlight",update:"highlight"},o.noop),Jt({type:"downplay",event:"downplay",update:"downplay"},o.noop),Yt("light",A),Yt("dark",O);var de={};e.version=M,e.dependencies=V,e.PRIORITY=X,e.init=jt,e.connect=Ft,e.disConnect=Ht,e.disconnect=Wt,e.dispose=Gt,e.getInstanceByDom=$t,e.getInstanceById=zt,e.registerTheme=Yt,e.registerPreprocessor=Kt,e.registerProcessor=qt,e.registerPostUpdate=Xt,e.registerAction=Jt,e.registerCoordinateSystem=Zt,e.getCoordinateSystemDimensions=Qt,e.registerLayout=te,e.registerVisual=ee,e.registerLoading=ie,e.extendComponentModel=re,e.extendComponentView=oe,e.extendSeriesModel=se,e.extendChartView=ae,e.setCanvasCreator=ce,e.registerMap=le,e.getMap=ue,e.dataTool=de;var he=n("b719");(function(){for(var t in he)he.hasOwnProperty(t)&&(e[t]=he[t])})()},"401b":function(t,e){var n="undefined"===typeof Float32Array?Array:Float32Array;function i(t,e){var i=new n(2);return null==t&&(t=0),null==e&&(e=0),i[0]=t,i[1]=e,i}function r(t,e){return t[0]=e[0],t[1]=e[1],t}function o(t){var e=new n(2);return e[0]=t[0],e[1]=t[1],e}function s(t,e,n){return t[0]=e,t[1]=n,t}function a(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function c(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function u(t){return Math.sqrt(h(t))}var d=u;function h(t){return t[0]*t[0]+t[1]*t[1]}var p=h;function f(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function m(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function v(t,e){return t[0]*e[0]+t[1]*e[1]}function g(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function _(t,e){var n=u(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function y(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var E=y;function b(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var S=b;function T(t,e){return t[0]=-e[0],t[1]=-e[1],t}function w(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t}function C(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function I(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function R(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}e.create=i,e.copy=r,e.clone=o,e.set=s,e.add=a,e.scaleAndAdd=c,e.sub=l,e.len=u,e.length=d,e.lenSquare=h,e.lengthSquare=p,e.mul=f,e.div=m,e.dot=v,e.scale=g,e.normalize=_,e.distance=y,e.dist=E,e.distanceSquare=b,e.distSquare=S,e.negate=T,e.lerp=w,e.applyTransform=C,e.min=I,e.max=R},"41a0":function(t,e,n){"use strict";var i=n("2aeb"),r=n("4630"),o=n("7f20"),s={};n("32e9")(s,n("2b4c")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},"41ef":function(t,e,n){var i=n("d51b"),r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(t){return t=Math.round(t),t<0?0:t>255?255:t}function s(t){return t=Math.round(t),t<0?0:t>360?360:t}function a(t){return t<0?0:t>1?1:t}function c(t){return t.length&&"%"===t.charAt(t.length-1)?o(parseFloat(t)/100*255):o(parseInt(t,10))}function l(t){return t.length&&"%"===t.charAt(t.length-1)?a(parseFloat(t)/100):a(parseFloat(t))}function u(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function d(t,e,n){return t+(e-t)*n}function h(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function p(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var f=new i(20),m=null;function v(t,e){m&&p(m,e),m=f.put(t,m||e.slice())}function g(t,e){if(t){e=e||[];var n=f.get(t);if(n)return p(e,n);t+="";var i=t.replace(/ /g,"").toLowerCase();if(i in r)return p(e,r[i]),v(t,e),e;if("#"!==i.charAt(0)){var o=i.indexOf("("),s=i.indexOf(")");if(-1!==o&&s+1===i.length){var a=i.substr(0,o),u=i.substr(o+1,s-(o+1)).split(","),d=1;switch(a){case"rgba":if(4!==u.length)return void h(e,0,0,0,1);d=l(u.pop());case"rgb":return 3!==u.length?void h(e,0,0,0,1):(h(e,c(u[0]),c(u[1]),c(u[2]),d),v(t,e),e);case"hsla":return 4!==u.length?void h(e,0,0,0,1):(u[3]=l(u[3]),_(u,e),v(t,e),e);case"hsl":return 3!==u.length?void h(e,0,0,0,1):(_(u,e),v(t,e),e);default:return}}h(e,0,0,0,1)}else{if(4===i.length){var m=parseInt(i.substr(1),16);return m>=0&&m<=4095?(h(e,(3840&m)>>4|(3840&m)>>8,240&m|(240&m)>>4,15&m|(15&m)<<4,1),v(t,e),e):void h(e,0,0,0,1)}if(7===i.length){m=parseInt(i.substr(1),16);return m>=0&&m<=16777215?(h(e,(16711680&m)>>16,(65280&m)>>8,255&m,1),v(t,e),e):void h(e,0,0,0,1)}}}}function _(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=l(t[1]),r=l(t[2]),s=r<=.5?r*(i+1):r+i-r*i,a=2*r-s;return e=e||[],h(e,o(255*u(a,s,n+1/3)),o(255*u(a,s,n)),o(255*u(a,s,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function y(t){if(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=Math.min(i,r,o),a=Math.max(i,r,o),c=a-s,l=(a+s)/2;if(0===c)e=0,n=0;else{n=l<.5?c/(a+s):c/(2-a-s);var u=((a-i)/6+c/2)/c,d=((a-r)/6+c/2)/c,h=((a-o)/6+c/2)/c;i===a?e=h-d:r===a?e=1/3+u-h:o===a&&(e=2/3+d-u),e<0&&(e+=1),e>1&&(e-=1)}var p=[360*e,n,l];return null!=t[3]&&p.push(t[3]),p}}function E(t,e){var n=g(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,n[i]>255?n[i]=255:t[i]<0&&(n[i]=0);return A(n,4===n.length?"rgba":"rgb")}}function b(t){var e=g(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function S(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var i=t*(e.length-1),r=Math.floor(i),s=Math.ceil(i),c=e[r],l=e[s],u=i-r;return n[0]=o(d(c[0],l[0],u)),n[1]=o(d(c[1],l[1],u)),n[2]=o(d(c[2],l[2],u)),n[3]=a(d(c[3],l[3],u)),n}}var T=S;function w(t,e,n){if(e&&e.length&&t>=0&&t<=1){var i=t*(e.length-1),r=Math.floor(i),s=Math.ceil(i),c=g(e[r]),l=g(e[s]),u=i-r,h=A([o(d(c[0],l[0],u)),o(d(c[1],l[1],u)),o(d(c[2],l[2],u)),a(d(c[3],l[3],u))],"rgba");return n?{color:h,leftIndex:r,rightIndex:s,value:i}:h}}var C=w;function I(t,e,n,i){if(t=g(t),t)return t=y(t),null!=e&&(t[0]=s(e)),null!=n&&(t[1]=l(n)),null!=i&&(t[2]=l(i)),A(_(t),"rgba")}function R(t,e){if(t=g(t),t&&null!=e)return t[3]=a(e),A(t,"rgba")}function A(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}e.parse=g,e.lift=E,e.toHex=b,e.fastLerp=S,e.fastMapToColor=T,e.lerp=w,e.mapToColor=C,e.modifyHSL=I,e.modifyAlpha=R,e.stringify=A},"42e5":function(t,e){var n=function(t){this.colorStops=t||[]};n.prototype={constructor:n,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var i=n;t.exports=i},"42f6":function(t,e,n){var i=n("3eba"),r=n("6d8b"),o=n("22d1"),s=n("07d7"),a=n("82f9"),c=n("eda2"),l=n("3842"),u=n("2306"),d=n("133d"),h=n("f934"),p=n("4319"),f=n("17d6"),m=n("697e"),v=n("ff2e"),g=n("e0d3"),_=g.getTooltipRenderMode,y=r.bind,E=r.each,b=l.parsePercent,S=new u.Rect({shape:{x:-1,y:-1,width:2,height:2}}),T=i.extendComponentView({type:"tooltip",init:function(t,e){if(!o.node){var n,i=t.getComponent("tooltip"),r=i.get("renderMode");this._renderMode=_(r),"html"===this._renderMode?(n=new s(e.getDom(),e,{appendToBody:i.get("appendToBody",!0)}),this._newLine="<br/>"):(n=new a(e),this._newLine="\n"),this._tooltipContent=n}},render:function(t,e,n){if(!o.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel,e=t.get("triggerOn");f.register("itemTooltip",this._api,y((function(t,n,i){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,i):"leave"===t&&this._hide(i))}),this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&i.manuallyShowTip(t,e,n,{x:i._lastX,y:i._lastY})}))}},manuallyShowTip:function(t,e,n,i){if(i.from!==this.uid&&!o.node){var r=C(i,n);this._ticket="";var s=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var a=S;a.position=[i.x,i.y],a.update(),a.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:a},r)}else if(s)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;var c=d(i,e),l=c.point[0],u=c.point[1];null!=l&&null!=u&&this._tryShow({offsetX:l,offsetY:u,position:i.position,target:c.el},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},r))}},manuallyHideTip:function(t,e,n,i){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(C(i,n))},_manuallyAxisShowTip:function(t,e,n,i){var r=i.seriesIndex,o=i.dataIndex,s=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=s){var a=e.getSeriesByIndex(r);if(a){var c=a.getData();t=w([c.getItemModel(o),a,(a.coordinateSystem||{}).model,t]);if("axis"===t.get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0}}},_tryShow:function(t,e){var n=t.target,i=this._tooltipModel;if(i){this._lastX=t.offsetX,this._lastY=t.offsetY;var r=t.dataByCoordSys;r&&r.length?this._showAxisTooltip(r,t):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var n=t.get("showDelay");e=r.bind(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},_showAxisTooltip:function(t,e){var n=this._ecModel,i=this._tooltipModel,o=[e.offsetX,e.offsetY],s=[],a=[],l=w([e.tooltipOption,i]),u=this._renderMode,d=this._newLine,h={};E(t,(function(t){E(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),i=t.value,o=[];if(e&&null!=i){var l=v.getValueLabel(i,e.axis,n,t.seriesDataIndices,t.valueLabelOpt);r.each(t.seriesDataIndices,(function(s){var c=n.getSeriesByIndex(s.seriesIndex),d=s.dataIndexInside,p=c&&c.getDataParams(d);if(p.axisDim=t.axisDim,p.axisIndex=t.axisIndex,p.axisType=t.axisType,p.axisId=t.axisId,p.axisValue=m.getAxisRawValue(e.axis,i),p.axisValueLabel=l,p){a.push(p);var f,v=c.formatTooltip(d,!0,null,u);if(r.isObject(v)){f=v.html;var g=v.markers;r.merge(h,g)}else f=v;o.push(f)}}));var p=l;"html"!==u?s.push(o.join(d)):s.push((p?c.encodeHTML(p)+d:"")+o.join(d))}}))}),this),s.reverse(),s=s.join(this._newLine+this._newLine);var p=e.position;this._showOrMove(l,(function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(l,p,o[0],o[1],this._tooltipContent,a):this._showTooltipContent(l,s,a,Math.random(),o[0],o[1],p,void 0,h)}))},_showSeriesItemTooltip:function(t,e,n){var i=this._ecModel,o=e.seriesIndex,s=i.getSeriesByIndex(o),a=e.dataModel||s,c=e.dataIndex,l=e.dataType,u=a.getData(l),d=w([u.getItemModel(c),a,s&&(s.coordinateSystem||{}).model,this._tooltipModel]),h=d.get("trigger");if(null==h||"item"===h){var p,f,m=a.getDataParams(c,l),v=a.formatTooltip(c,!1,l,this._renderMode);r.isObject(v)?(p=v.html,f=v.markers):(p=v,f=null);var g="item_"+a.name+"_"+c;this._showOrMove(d,(function(){this._showTooltipContent(d,p,m,g,t.offsetX,t.offsetY,t.position,t.target,f)})),n({type:"showTip",dataIndexInside:c,dataIndex:u.getRawIndex(c),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(t,e,n){var i=e.tooltip;if("string"===typeof i){var r=i;i={content:r,formatter:r}}var o=new p(i,this._tooltipModel,this._ecModel),s=o.get("content"),a=Math.random();this._showOrMove(o,(function(){this._showTooltipContent(o,s,o.get("formatterParams")||{},a,t.offsetX,t.offsetY,t.position,e)})),n({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,n,i,r,o,s,a,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,d=t.get("formatter");s=s||t.get("position");var h=e;if(d&&"string"===typeof d)h=c.formatTpl(d,n,!0);else if("function"===typeof d){var p=y((function(e,i){e===this._ticket&&(u.setContent(i,l,t),this._updatePosition(t,s,r,o,u,n,a))}),this);this._ticket=i,h=d(n,i,p)}u.setContent(h,l,t),u.show(t),this._updatePosition(t,s,r,o,u,n,a)}},_updatePosition:function(t,e,n,i,o,s,a){var c=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=o.getSize(),d=t.get("align"),p=t.get("verticalAlign"),f=a&&a.getBoundingRect().clone();if(a&&f.applyTransform(a.transform),"function"===typeof e&&(e=e([n,i],s,o.el,f,{viewSize:[c,l],contentSize:u.slice()})),r.isArray(e))n=b(e[0],c),i=b(e[1],l);else if(r.isObject(e)){e.width=u[0],e.height=u[1];var m=h.getLayoutRect(e,{width:c,height:l});n=m.x,i=m.y,d=null,p=null}else if("string"===typeof e&&a){var v=A(e,f,u);n=v[0],i=v[1]}else{v=I(n,i,o,c,l,d?null:20,p?null:20);n=v[0],i=v[1]}if(d&&(n-=O(d)?u[0]/2:"right"===d?u[0]:0),p&&(i-=O(p)?u[1]/2:"bottom"===p?u[1]:0),t.get("confine")){v=R(n,i,o,c,l);n=v[0],i=v[1]}o.moveTo(n,i)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&E(e,(function(e,i){var r=e.dataByAxis||{},o=t[i]||{},s=o.dataByAxis||[];n&=r.length===s.length,n&&E(r,(function(t,e){var i=s[e]||{},r=t.seriesDataIndices||[],o=i.seriesDataIndices||[];n&=t.value===i.value&&t.axisType===i.axisType&&t.axisId===i.axisId&&r.length===o.length,n&&E(r,(function(t,e){var i=o[e];n&=t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex}))}))})),this._lastDataByCoordSys=t,!!n},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){o.node||(this._tooltipContent.dispose(),f.unregister("itemTooltip",e))}});function w(t){var e=t.pop();while(t.length){var n=t.pop();n&&(p.isInstance(n)&&(n=n.get("tooltip",!0)),"string"===typeof n&&(n={formatter:n}),e=new p(n,e,e.ecModel))}return e}function C(t,e){return t.dispatchAction||r.bind(e.dispatchAction,e)}function I(t,e,n,i,r,o,s){var a=n.getOuterSize(),c=a.width,l=a.height;return null!=o&&(t+c+o>i?t-=c+o:t+=o),null!=s&&(e+l+s>r?e-=l+s:e+=s),[t,e]}function R(t,e,n,i,r){var o=n.getOuterSize(),s=o.width,a=o.height;return t=Math.min(t+s,i)-s,e=Math.min(e+a,r)-a,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function A(t,e,n){var i=n[0],r=n[1],o=5,s=0,a=0,c=e.width,l=e.height;switch(t){case"inside":s=e.x+c/2-i/2,a=e.y+l/2-r/2;break;case"top":s=e.x+c/2-i/2,a=e.y-r-o;break;case"bottom":s=e.x+c/2-i/2,a=e.y+l+o;break;case"left":s=e.x-i-o,a=e.y+l/2-r/2;break;case"right":s=e.x+c+o,a=e.y+l/2-r/2}return[s,a]}function O(t){return"center"===t||"middle"===t}t.exports=T},4319:function(t,e,n){var i=n("6d8b"),r=n("22d1"),o=n("e0d3"),s=o.makeInner,a=n("625e"),c=a.enableClassExtend,l=a.enableClassCheck,u=n("3901"),d=n("9bdb"),h=n("fe21"),p=n("551f"),f=i.mixin,m=s();function v(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function g(t,e,n){for(var i=0;i<e.length;i++)if(e[i]&&(t=t&&"object"===typeof t?t[e[i]]:null,null==t))break;return null==t&&n&&(t=n.get(e)),t}function _(t,e){var n=m(t).getParent;return n?n.call(t,e):t.parentModel}v.prototype={constructor:v,init:null,mergeOption:function(t){i.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:g(this.option,this.parsePath(t),!e&&_(this,t))},getShallow:function(t,e){var n=this.option,i=null==n?n:n[t],r=!e&&_(this,t);return null==i&&r&&(i=r.getShallow(t)),i},getModel:function(t,e){var n,i=null==t?this.option:g(this.option,t=this.parsePath(t));return e=e||(n=_(this,t))&&n.getModel(t),new v(i,e,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var t=this.constructor;return new t(i.clone(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"===typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){m(this).getParent=t},isAnimationEnabled:function(){if(!r.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},c(v),l(v),f(v,u),f(v,d),f(v,h),f(v,p);var y=v;t.exports=y},4436:function(t,e,n){var i=n("74cb");function r(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}r.prototype={constructor:r,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,o="string"===typeof r?i[r]:r,s="function"===typeof o?o(n):n;return this.fire("frame",s),1===n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var o=r;t.exports=o},4504:function(t,e,n){"use strict";var i=n("5ca1"),r=n("4bf8"),o=n("d8e8"),s=n("86cc");n("9e1e")&&i(i.P+n("c5b4"),"Object",{__defineGetter__:function(t,e){s.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},"456d":function(t,e,n){var i=n("4bf8"),r=n("0d58");n("5eda")("keys",(function(){return function(t){return r(i(t))}}))},4573:function(t,e,n){var i=n("cbe5"),r=i.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)}});t.exports=r},4588:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4650:function(t,e,n){var i=n("3eba"),r=n("6d8b");function o(t,e,n){var i,o={},s="toggleSelected"===t;return n.eachComponent("legend",(function(n){s&&null!=i?n[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),i=n.isSelected(e.name));var a=n.getData();r.each(a,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&i:o[e]=i}}))})),"allSelect"===t||"inverseSelect"===t?{selected:o}:{name:e.name,selected:o}}i.registerAction("legendToggleSelect","legendselectchanged",r.curry(o,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",r.curry(o,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",r.curry(o,"inverseSelect")),i.registerAction("legendSelect","legendselected",r.curry(o,"select")),i.registerAction("legendUnSelect","legendunselected",r.curry(o,"unSelect"))},4795:function(t,e,n){var i=n("7726"),r=n("5ca1"),o=n("a25f"),s=[].slice,a=/MSIE .\./.test(o),c=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&s.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*a,{setTimeout:c(i.setTimeout),setInterval:c(i.setInterval)})},"48a9":function(t,e,n){var i=n("6d8b"),r=n("42e5"),o=function(t,e,n,i,o,s){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type="linear",this.global=s||!1,r.call(this,o)};o.prototype={constructor:o},i.inherits(o,r);var s=o;t.exports=s},"48ac":function(t,e,n){var i=n("3eba"),r=i.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),o=r;t.exports=o},"48c0":function(t,e,n){"use strict";n("386b")("bold",(function(t){return function(){return t(this,"b","","")}}))},"48c7":function(t,e,n){var i=n("6d8b"),r=n("6cb7"),o=n("9e47"),s=n("2023"),a=r.extend({type:"cartesian2dAxis",axis:null,init:function(){a.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){a.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){a.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function c(t,e){return e.type||(e.data?"category":"value")}i.merge(a.prototype,s);var l={offset:0};o("x",a,c,l),o("y",a,c,l);var u=a;t.exports=u},4917:function(t,e,n){"use strict";var i=n("cb7c"),r=n("9def"),o=n("0390"),s=n("5f1b");n("214f")("match",1,(function(t,e,n,a){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=a(n,t,this);if(e.done)return e.value;var c=i(t),l=String(this);if(!c.global)return s(c,l);var u=c.unicode;c.lastIndex=0;var d,h=[],p=0;while(null!==(d=s(c,l))){var f=String(d[0]);h[p]=f,""===f&&(c.lastIndex=o(l,r(c.lastIndex),u)),p++}return 0===p?null:h}]}))},4942:function(t,e,n){var i=n("2cf4"),r=i.debugMode,o=function(){};1===r&&(o=console.error);var s=o;t.exports=s},"4a3f":function(t,e,n){var i=n("401b"),r=i.create,o=i.distSquare,s=Math.pow,a=Math.sqrt,c=1e-8,l=1e-4,u=a(3),d=1/3,h=r(),p=r(),f=r();function m(t){return t>-c&&t<c}function v(t){return t>c||t<-c}function g(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function _(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)}function y(t,e,n,i,r,o){var c=i+3*(e-n)-t,l=3*(n-2*e+t),h=3*(e-t),p=t-r,f=l*l-3*c*h,v=l*h-9*c*p,g=h*h-3*l*p,_=0;if(m(f)&&m(v))if(m(l))o[0]=0;else{var y=-h/l;y>=0&&y<=1&&(o[_++]=y)}else{var E=v*v-4*f*g;if(m(E)){var b=v/f,S=(y=-l/c+b,-b/2);y>=0&&y<=1&&(o[_++]=y),S>=0&&S<=1&&(o[_++]=S)}else if(E>0){var T=a(E),w=f*l+1.5*c*(-v+T),C=f*l+1.5*c*(-v-T);w=w<0?-s(-w,d):s(w,d),C=C<0?-s(-C,d):s(C,d);y=(-l-(w+C))/(3*c);y>=0&&y<=1&&(o[_++]=y)}else{var I=(2*f*l-3*c*v)/(2*a(f*f*f)),R=Math.acos(I)/3,A=a(f),O=Math.cos(R),x=(y=(-l-2*A*O)/(3*c),S=(-l+A*(O+u*Math.sin(R)))/(3*c),(-l+A*(O-u*Math.sin(R)))/(3*c));y>=0&&y<=1&&(o[_++]=y),S>=0&&S<=1&&(o[_++]=S),x>=0&&x<=1&&(o[_++]=x)}}return _}function E(t,e,n,i,r){var o=6*n-12*e+6*t,s=9*e+3*i-3*t-9*n,c=3*e-3*t,l=0;if(m(s)){if(v(o)){var u=-c/o;u>=0&&u<=1&&(r[l++]=u)}}else{var d=o*o-4*s*c;if(m(d))r[0]=-o/(2*s);else if(d>0){var h=a(d),p=(u=(-o+h)/(2*s),(-o-h)/(2*s));u>=0&&u<=1&&(r[l++]=u),p>=0&&p<=1&&(r[l++]=p)}}return l}function b(t,e,n,i,r,o){var s=(e-t)*r+t,a=(n-e)*r+e,c=(i-n)*r+n,l=(a-s)*r+s,u=(c-a)*r+a,d=(u-l)*r+l;o[0]=t,o[1]=s,o[2]=l,o[3]=d,o[4]=d,o[5]=u,o[6]=c,o[7]=i}function S(t,e,n,i,r,s,c,u,d,m,v){var _,y,E,b,S,T=.005,w=1/0;h[0]=d,h[1]=m;for(var C=0;C<1;C+=.05)p[0]=g(t,n,r,c,C),p[1]=g(e,i,s,u,C),b=o(h,p),b<w&&(_=C,w=b);w=1/0;for(var I=0;I<32;I++){if(T<l)break;y=_-T,E=_+T,p[0]=g(t,n,r,c,y),p[1]=g(e,i,s,u,y),b=o(p,h),y>=0&&b<w?(_=y,w=b):(f[0]=g(t,n,r,c,E),f[1]=g(e,i,s,u,E),S=o(f,h),E<=1&&S<w?(_=E,w=S):T*=.5)}return v&&(v[0]=g(t,n,r,c,_),v[1]=g(e,i,s,u,_)),a(w)}function T(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function w(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function C(t,e,n,i,r){var o=t-2*e+n,s=2*(e-t),c=t-i,l=0;if(m(o)){if(v(s)){var u=-c/s;u>=0&&u<=1&&(r[l++]=u)}}else{var d=s*s-4*o*c;if(m(d)){u=-s/(2*o);u>=0&&u<=1&&(r[l++]=u)}else if(d>0){var h=a(d),p=(u=(-s+h)/(2*o),(-s-h)/(2*o));u>=0&&u<=1&&(r[l++]=u),p>=0&&p<=1&&(r[l++]=p)}}return l}function I(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i}function R(t,e,n,i,r){var o=(e-t)*i+t,s=(n-e)*i+e,a=(s-o)*i+o;r[0]=t,r[1]=o,r[2]=a,r[3]=a,r[4]=s,r[5]=n}function A(t,e,n,i,r,s,c,u,d){var m,v=.005,g=1/0;h[0]=c,h[1]=u;for(var _=0;_<1;_+=.05){p[0]=T(t,n,r,_),p[1]=T(e,i,s,_);var y=o(h,p);y<g&&(m=_,g=y)}g=1/0;for(var E=0;E<32;E++){if(v<l)break;var b=m-v,S=m+v;p[0]=T(t,n,r,b),p[1]=T(e,i,s,b);y=o(p,h);if(b>=0&&y<g)m=b,g=y;else{f[0]=T(t,n,r,S),f[1]=T(e,i,s,S);var w=o(f,h);S<=1&&w<g?(m=S,g=w):v*=.5}}return d&&(d[0]=T(t,n,r,m),d[1]=T(e,i,s,m)),a(g)}e.cubicAt=g,e.cubicDerivativeAt=_,e.cubicRootAt=y,e.cubicExtrema=E,e.cubicSubdivide=b,e.cubicProjectPoint=S,e.quadraticAt=T,e.quadraticDerivativeAt=w,e.quadraticRootAt=C,e.quadraticExtremum=I,e.quadraticSubdivide=R,e.quadraticProjectPoint=A},"4a59":function(t,e,n){var i=n("9b43"),r=n("1fa8"),o=n("33a4"),s=n("cb7c"),a=n("9def"),c=n("27ee"),l={},u={};e=t.exports=function(t,e,n,d,h){var p,f,m,v,g=h?function(){return t}:c(t),_=i(n,d,e?2:1),y=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(p=a(t.length);p>y;y++)if(v=e?_(s(f=t[y])[0],f[1]):_(t[y]),v===l||v===u)return v}else for(m=g.call(t);!(f=m.next()).done;)if(v=r(m,_,f.value,e),v===l||v===u)return v};e.BREAK=l,e.RETURN=u},"4a9d":function(t,e,n){var i=n("dcb3"),r=n("ff2e"),o=n("0156"),s=n("6679"),a=i.extend({makeElOption:function(t,e,n,i,s){var a=n.axis,u=a.grid,d=i.get("type"),h=c(u,a).getOtherAxis(a).getGlobalExtent(),p=a.toGlobalCoord(a.dataToCoord(e,!0));if(d&&"none"!==d){var f=r.buildElStyle(i),m=l[d](a,p,h);m.style=f,t.graphicKey=m.type,t.pointer=m}var v=o.layout(u.model,n);r.buildCartesianSingleLabelElOption(e,t,v,n,i,s)},getHandleTransform:function(t,e,n){var i=o.layout(e.axis.grid.model,e,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:r.getTransformedPosition(e.axis,t,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,i){var r=n.axis,o=r.grid,s=r.getGlobalExtent(!0),a=c(o,r).getOtherAxis(r).getGlobalExtent(),l="x"===r.dim?0:1,u=t.position;u[l]+=e[l],u[l]=Math.min(s[1],u[l]),u[l]=Math.max(s[0],u[l]);var d=(a[1]+a[0])/2,h=[d,d];h[l]=u[l];var p=[{verticalAlign:"middle"},{align:"center"}];return{position:u,rotation:t.rotation,cursorPoint:h,tooltipOption:p[l]}}});function c(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var l={line:function(t,e,n){var i=r.makeLineShape([e,n[0]],[e,n[1]],u(t));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:r.makeRectShape([e-i/2,n[0]],[i,o],u(t))}}};function u(t){return"x"===t.dim?0:1}s.registerAxisPointerClass("CartesianAxisPointer",a);var d=a;t.exports=d},"4aa2":function(t,e,n){var i=n("cbe5"),r=n("897a"),o=i.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:r(i.prototype.brush),buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),s=e.startAngle,a=e.endAngle,c=e.clockwise,l=Math.cos(s),u=Math.sin(s);t.moveTo(l*r+n,u*r+i),t.lineTo(l*o+n,u*o+i),t.arc(n,i,o,s,a,!c),t.lineTo(Math.cos(a)*r+n,Math.sin(a)*r+i),0!==r&&t.arc(n,i,r,a,s,c),t.closePath()}});t.exports=o},"4bf8":function(t,e,n){var i=n("be13");t.exports=function(t){return Object(i(t))}},"4cbb":function(t,e,n){"use strict";function i(t,e){var n=null;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(i,r)}),e)}}function r(t,e,n){var i=null,r=null;return function(){var o=this,s=arguments,a=Date.now();r||(r=a),a-r>e?(t.apply(o,s),r=a):n&&(clearTimeout(i),i=setTimeout((function(){t.apply(o,s)}),n))}}function o(t,e,n){if(e){var i=t,r=e.split(".");r.forEach((function(t,e){e===r.length-1?i[t]=n:(i[t]||(i[t]={}),i=i[t])}))}}function s(t,e,n){if(!e)return t;var i=e.split("."),r=t;return i.some((function(t,e){if(void 0===r[t])return r=n,!0;r=r[t]})),r}function a(t){try{return JSON.parse(window.localStorage.getItem(t))}catch(e){}}function c(t,e){try{window.localStorage.setItem(t,JSON.stringify(e))}catch(n){}}n.r(e),n.d(e,"debounce",(function(){return i})),n.d(e,"throttle",(function(){return r})),n.d(e,"set",(function(){return o})),n.d(e,"get",(function(){return s})),n.d(e,"getStore",(function(){return a})),n.d(e,"setStore",(function(){return c})),n.d(e,"clone",(function(){return y})),n.d(e,"cloneDeep",(function(){return E})),n.d(e,"getType",(function(){return u})),n.d(e,"getTypeof",(function(){return d})),n.d(e,"isObject",(function(){return h})),n.d(e,"isArray",(function(){return p})),n.d(e,"isFunction",(function(){return f})),n.d(e,"isString",(function(){return m})),n.d(e,"isBoolean",(function(){return v})),n.d(e,"isEmptyObj",(function(){return g})),n.d(e,"isNumber",(function(){return _})),n.d(e,"kebabToCamel",(function(){return b})),n.d(e,"camelToKebab",(function(){return S})),n.d(e,"unique",(function(){return T})),n.d(e,"getLinearValue",(function(){return w})),n.d(e,"getFnAndObjValue",(function(){return C})),n.d(e,"arrDelItem",(function(){return I})),n.d(e,"arrDelArrItem",(function(){return R})),n.d(e,"getArrMin",(function(){return A})),n.d(e,"getArrMax",(function(){return O})),n.d(e,"toArray",(function(){return x})),n.d(e,"noop",(function(){return D})),n.d(e,"extend",(function(){return N})),n.d(e,"isEqual",(function(){return P})),n.d(e,"hasOwn",(function(){return k}));var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function u(t){return Object.prototype.toString.call(t)}function d(t){return"undefined"===typeof t?"undefined":l(t)}function h(t){return"[object Object]"===u(t)}function p(t){return"[object Array]"===u(t)}function f(t){return"[object Function]"===u(t)}function m(t){return"[object String]"===u(t)}function v(t){return"[object Boolean]"===u(t)}function g(t){return h(t)&&!Object.keys(t).length}function _(t){return"[object Number]"===u(t)}function y(t){return h(t)?Object.assign({},t):p(t)?t.slice():void 0}function E(t){return JSON.parse(JSON.stringify(t))}function b(t){return t.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()}))}function S(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function T(t){var e=[];return t.forEach((function(t){~e.indexOf(t)||e.push(t)})),e}function w(t,e,n,i,r){var o=(i-e)/(n-t),s=e-t*o;return null==r?{k:o,b:s}:r*o+s}function C(t,e){return f(t)?t(e):h(t)&&null!=t[e]?t[e]:e}function I(t,e){return t.filter((function(t){return e!==t}))}var R=function(t,e){return t.filter((function(t){return!~e.indexOf(t)}))};function A(t){return Math.min.apply(null,t)}function O(t){return Math.max.apply(null,t)}function x(t){return Array.prototype.slice.call(t)}function D(){}function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)k(n,i)&&(t[i]=n[i])}return t};function P(t,e){if(t===e)return!0;if(null===t||null===e||"object"!==d(t)||"object"!==d(e))return t===e;for(var n in t)if(k(t,n)){var i=t[n],r=e[n],o=d(i);if("undefined"===d(r))return!1;if("object"===o){if(!P(i,r))return!1}else if(i!==r)return!1}for(var s in e)if(k(e,s)&&"undefined"===d(t)[s])return!1;return!0}},"4dda":function(t,e,n){n("ec30")("Float64",8,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},"4e08":function(t,e,n){(function(t){var n;"undefined"!==typeof window?n=window.__DEV__:"undefined"!==typeof t&&(n=t.__DEV__),"undefined"===typeof n&&(n=!0);var i=n;e.__DEV__=i}).call(this,n("c8ba"))},"4f7f":function(t,e,n){"use strict";var i=n("c26b"),r=n("b39a"),o="Set";t.exports=n("e0b8")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,o),t=0===t?0:t,t)}},i)},"4f85":function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("6d8b")),o=n("22d1"),s=n("eda2"),a=s.formatTime,c=s.encodeHTML,l=s.addCommas,u=s.getTooltipMarker,d=n("e0d3"),h=n("6cb7"),p=n("e47b"),f=n("38a2"),m=n("f934"),v=m.getLayoutParams,g=m.mergeLayoutParam,_=n("f47d"),y=_.createTask,E=n("0f99"),b=E.prepareSource,S=E.getSource,T=n("2b17"),w=T.retrieveRawValue,C=d.makeInner(),I=h.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(t,e,n,i){this.seriesIndex=this.componentIndex,this.dataTask=y({count:O,reset:x}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),b(this);var r=this.getInitialData(t,n);k(r,this),this.dataTask.context.data=r,C(this).dataBeforeProcessed=r,R(this)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?v(t):{},o=this.subType;h.hasClass(o)&&(o+="Series"),r.merge(t,e.getTheme().get(this.subType)),r.merge(t,this.getDefaultOption()),d.defaultEmphasis(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&g(t,i,n)},mergeOption:function(t,e){t=r.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&g(this.option,t,n),b(this);var i=this.getInitialData(t,e);k(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,C(this).dataBeforeProcessed=i,R(this)},fillDataTextStyle:function(t){if(t&&!r.isTypedArray(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&d.defaultEmphasis(t[n],"label",e)},getInitialData:function(){},appendData:function(t){var e=this.getRawData();e.appendData(t.data)},getData:function(t){var e=P(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return C(this).data},setData:function(t){var e=P(this);if(e){var n=e.context;n.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),n.outputData=t,e!==this.dataTask&&(n.data=t)}C(this).data=t},getSource:function(){return S(this)},getRawData:function(){return C(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,n,i){var o=this;i=i||"html";var s="html"===i?"<br/>":"\n",h="richText"===i,p={},f=0;function m(n){var s=r.reduce(n,(function(t,e,n){var i=g.getDimensionInfo(n);return t|(i&&!1!==i.tooltip&&null!=i.displayName)}),0),d=[];function m(t,n){var r=g.getDimensionInfo(n);if(r&&!1!==r.otherDims.tooltip){var m=r.type,v="sub"+o.seriesIndex+"at"+f,_=u({color:S,type:"subItem",renderMode:i,markerId:v}),y="string"===typeof _?_:_.content,E=(s?y+c(r.displayName||"-")+": ":"")+c("ordinal"===m?t+"":"time"===m?e?"":a("yyyy/MM/dd hh:mm:ss",t):l(t));E&&d.push(E),h&&(p[v]=S,++f)}}_.length?r.each(_,(function(e){m(w(g,t,e),e)})):r.each(n,m);var v=s?h?"\n":"<br/>":"",y=v+d.join(v||", ");return{renderMode:i,content:y,style:p}}function v(t){return{renderMode:i,content:c(l(t)),style:p}}var g=this.getData(),_=g.mapDimension("defaultedTooltip",!0),y=_.length,E=this.getRawValue(t),b=r.isArray(E),S=g.getItemVisual(t,"color");r.isObject(S)&&S.colorStops&&(S=(S.colorStops[0]||{}).color),S=S||"transparent";var T=y>1||b&&!y?m(E):v(y?w(g,t,_[0]):b?E[0]:E),C=T.content,I=o.seriesIndex+"at"+f,R=u({color:S,type:"item",renderMode:i,markerId:I});p[I]=S,++f;var A=g.getName(t),O=this.name;d.isNameSpecified(this)||(O=""),O=O?c(O)+(e?": ":s):"";var x="string"===typeof R?R:R.content,D=e?x+O+C:O+x+(A?c(A)+": "+C:C);return{html:D,markers:p}},isAnimationEnabled:function(){if(o.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var i=this.ecModel,r=p.getColorFromPalette.call(this,t,e,n);return r||(r=i.getColorFromPalette(t,e,n)),r},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function R(t){var e=t.name;d.isNameSpecified(t)||(t.name=A(t)||e)}function A(t){var e=t.getRawData(),n=e.mapDimension("seriesName",!0),i=[];return r.each(n,(function(t){var n=e.getDimensionInfo(t);n.displayName&&i.push(n.displayName)})),i.join(" ")}function O(t){return t.model.getRawData().count()}function x(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),D}function D(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function k(t,e){r.each(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,r.curry(N,e))}))}function N(t){var e=P(t);e&&e.setOutputEnd(this.count())}function P(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(t.uid))}return i}}r.mixin(I,f),r.mixin(I,p);var L=I;t.exports=L},"4fac":function(t,e,n){var i=n("620b"),r=n("9c2c");function o(t,e,n){var o=e.points,s=e.smooth;if(o&&o.length>=2){if(s&&"spline"!==s){var a=r(o,s,n,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var c=o.length,l=0;l<(n?c:c-1);l++){var u=a[2*l],d=a[2*l+1],h=o[(l+1)%c];t.bezierCurveTo(u[0],u[1],d[0],d[1],h[0],h[1])}}else{"spline"===s&&(o=i(o,n)),t.moveTo(o[0][0],o[0][1]);l=1;for(var p=o.length;l<p;l++)t.lineTo(o[l][0],o[l][1])}n&&t.closePath()}}e.buildPath=o},"504c":function(t,e,n){var i=n("9e1e"),r=n("0d58"),o=n("6821"),s=n("52a7").f;t.exports=function(t){return function(e){var n,a=o(e),c=r(a),l=c.length,u=0,d=[];while(l>u)n=c[u++],i&&!s.call(a,n)||d.push(t?[n,a[n]]:a[n]);return d}}},5147:function(t,e,n){var i=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(r){}}return!0}},"520a":function(t,e,n){"use strict";var i=n("0bfb"),r=RegExp.prototype.exec,o=String.prototype.replace,s=r,a="lastIndex",c=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[a]||0!==e[a]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(s=function(t){var e,n,s,u,d=this;return l&&(n=new RegExp("^"+d.source+"$(?!\\s)",i.call(d))),c&&(e=d[a]),s=r.call(d,t),c&&s&&(d[a]=d.global?s.index+s[0].length:e),l&&s&&s.length>1&&o.call(s[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s}),t.exports=s},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"536b":function(t,e,n){var i=n("5ca1"),r=Math.asinh;function o(t){return isFinite(t=+t)&&0!=t?t<0?-o(-t):Math.log(t+Math.sqrt(t*t+1)):t}i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:o})},"551c":function(t,e,n){"use strict";var i,r,o,s,a=n("2d00"),c=n("7726"),l=n("9b43"),u=n("23c6"),d=n("5ca1"),h=n("d3f4"),p=n("d8e8"),f=n("f605"),m=n("4a59"),v=n("ebd6"),g=n("1991").set,_=n("8079")(),y=n("a5b8"),E=n("9c80"),b=n("a25f"),S=n("bcaa"),T="Promise",w=c.TypeError,C=c.process,I=C&&C.versions,R=I&&I.v8||"",A=c[T],O="process"==u(C),x=function(){},D=r=y.f,k=!!function(){try{var t=A.resolve(1),e=(t.constructor={})[n("2b4c")("species")]=function(t){t(x,x)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(x)instanceof e&&0!==R.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(i){}}(),N=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var n=t._c;_((function(){var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,a=r?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{a?(r||(2==t._h&&V(t),t._h=1),!0===a?n=i:(u&&u.enter(),n=a(i),u&&(u.exit(),s=!0)),n===e.promise?l(w("Promise-chain cycle")):(o=N(n))?o.call(n,c,l):c(n)):l(i)}catch(d){u&&!s&&u.exit(),l(d)}};while(n.length>o)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&L(t)}))}},L=function(t){g.call(c,(function(){var e,n,i,r=t._v,o=M(t);if(o&&(e=E((function(){O?C.emit("unhandledRejection",r,t):(n=c.onunhandledrejection)?n({promise:t,reason:r}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=O||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},V=function(t){g.call(c,(function(){var e;O?C.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},U=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=N(t))?_((function(){var i={_w:n,_d:!1};try{e.call(t,l(B,i,1),l(U,i,1))}catch(r){U.call(i,r)}})):(n._v=t,n._s=1,P(n,!1))}catch(i){U.call({_w:n,_d:!1},i)}}};k||(A=function(t){f(this,A,T,"_h"),p(t),i.call(this);try{t(l(B,this,1),l(U,this,1))}catch(e){U.call(this,e)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n("dcbc")(A.prototype,{then:function(t,e){var n=D(v(this,A));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=l(B,t,1),this.reject=l(U,t,1)},y.f=D=function(t){return t===A||t===s?new o(t):r(t)}),d(d.G+d.W+d.F*!k,{Promise:A}),n("7f20")(A,T),n("7a56")(T),s=n("8378")[T],d(d.S+d.F*!k,T,{reject:function(t){var e=D(this),n=e.reject;return n(t),e.promise}}),d(d.S+d.F*(a||!k),T,{resolve:function(t){return S(a&&this===s?A:this,t)}}),d(d.S+d.F*!(k&&n("5cc5")((function(t){A.all(t)["catch"](x)}))),T,{all:function(t){var e=this,n=D(e),i=n.resolve,r=n.reject,o=E((function(){var n=[],o=0,s=1;m(t,!1,(function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then((function(t){c||(c=!0,n[a]=t,--s||i(n))}),r)})),--s||i(n)}));return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=D(e),i=n.reject,r=E((function(){m(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},"551f":function(t,e,n){var i=n("282b"),r=i([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),o={getItemStyle:function(t,e){var n=r(this,t,e),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}};t.exports=o},5537:function(t,e,n){var i=n("8378"),r=n("7726"),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"55dd":function(t,e,n){"use strict";var i=n("5ca1"),r=n("d8e8"),o=n("4bf8"),s=n("79e5"),a=[].sort,c=[1,2,3];i(i.P+i.F*(s((function(){c.sort(void 0)}))||!s((function(){c.sort(null)}))||!n("2f21")(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},"562e":function(t,e,n){var i=n("6d8b");function r(t){null!=t&&i.extend(this,t),this.otherDims={}}var o=r;t.exports=o},5693:function(t,e){function n(t,e){var n,i,r,o,s,a=e.x,c=e.y,l=e.width,u=e.height,d=e.r;l<0&&(a+=l,l=-l),u<0&&(c+=u,u=-u),"number"===typeof d?n=i=r=o=d:d instanceof Array?1===d.length?n=i=r=o=d[0]:2===d.length?(n=r=d[0],i=o=d[1]):3===d.length?(n=d[0],i=o=d[1],r=d[2]):(n=d[0],i=d[1],r=d[2],o=d[3]):n=i=r=o=0,n+i>l&&(s=n+i,n*=l/s,i*=l/s),r+o>l&&(s=r+o,r*=l/s,o*=l/s),i+r>u&&(s=i+r,i*=u/s,r*=u/s),n+o>u&&(s=n+o,n*=u/s,o*=u/s),t.moveTo(a+n,c),t.lineTo(a+l-i,c),0!==i&&t.arc(a+l-i,c+i,i,-Math.PI/2,0),t.lineTo(a+l,c+u-r),0!==r&&t.arc(a+l-r,c+u-r,r,0,Math.PI/2),t.lineTo(a+o,c+u),0!==o&&t.arc(a+o,c+u-o,o,Math.PI/2,Math.PI),t.lineTo(a,c+n),0!==n&&t.arc(a+n,c+n,n,Math.PI,1.5*Math.PI)}e.buildPath=n},5695:function(t,e,n){var i=n("5ca1"),r=n("77f1"),o=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){var e,n=[],i=arguments.length,s=0;while(i>s){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},"57f0":function(t,e,n){var i=n("d3f4");n("5eda")("isSealed",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},"58df":function(t,e,n){var i=n("6d8b"),r=n("2306");function o(t,e,n,o){var s=n.axis;if(!s.scale.isBlank()){var a=n.getModel("splitArea"),c=a.getModel("areaStyle"),l=c.get("color"),u=o.coordinateSystem.getRect(),d=s.getTicksCoords({tickModel:a,clamp:!0});if(d.length){var h=l.length,p=t.__splitAreaColors,f=i.createHashMap(),m=0;if(p)for(var v=0;v<d.length;v++){var g=p.get(d[v].tickValue);if(null!=g){m=(g+(h-1)*v)%h;break}}var _=s.toGlobalCoord(d[0].coord),y=c.getAreaStyle();l=i.isArray(l)?l:[l];for(v=1;v<d.length;v++){var E,b,S,T,w=s.toGlobalCoord(d[v].coord);s.isHorizontal()?(E=_,b=u.y,S=w-E,T=u.height,_=E+S):(E=u.x,b=_,S=u.width,T=w-b,_=b+T);var C=d[v-1].tickValue;null!=C&&f.set(C,m),e.add(new r.Rect({anid:null!=C?"area_"+C:null,shape:{x:E,y:b,width:S,height:T},style:i.defaults({fill:l[m]},y),silent:!0})),m=(m+1)%h}t.__splitAreaColors=f}}}function s(t){t.__splitAreaColors=null}e.rectCoordAxisBuildSplitArea=o,e.rectCoordAxisHandleRemove=s},"5aa9":function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("6d8b")),o=r.isObject,s=r.each,a=r.map,c=r.indexOf,l=(r.retrieve,n("f934")),u=l.getLayoutRect,d=n("697e"),h=d.createScaleByModel,p=d.ifAxisCrossZero,f=d.niceScaleExtent,m=d.estimateLabelUnionRect,v=n("cbe9"),g=n("ec02"),_=n("2039"),y=n("ee1a"),E=y.getStackedDimension;function b(t,e,n){return t.getCoordSysModel()===e}function S(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}n("8ed2");var T=S.prototype;function w(t,e,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=t[e],s=n.model,a=s.get("axisLine.onZero"),c=s.get("axisLine.onZeroAxisIndex");if(a){if(null!=c)C(o[c])&&(r=o[c]);else for(var l in o)if(o.hasOwnProperty(l)&&C(o[l])&&!i[u(o[l])]){r=o[l];break}r&&(i[u(r)]=!0)}function u(t){return t.dim+"_"+t.index}}function C(t){return t&&"category"!==t.type&&"time"!==t.type&&p(t)}function I(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}T.type="grid",T.axisPointerEnabled=!0,T.getRect=function(){return this._rect},T.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),s(n.x,(function(t){f(t.scale,t.model)})),s(n.y,(function(t){f(t.scale,t.model)}));var i={};s(n.x,(function(t){w(n,"y",t,i)})),s(n.y,(function(t){w(n,"x",t,i)})),this.resize(this.model,e)},T.resize=function(t,e,n){var i=u(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var r=this._axesList;function o(){s(r,(function(t){var e=t.isHorizontal(),n=e?[0,i.width]:[0,i.height],r=t.inverse?1:0;t.setExtent(n[r],n[1-r]),I(t,e?i.x:i.y)}))}o(),!n&&t.get("containLabel")&&(s(r,(function(t){if(!t.model.get("axisLabel.inside")){var e=m(t);if(e){var n=t.isHorizontal()?"height":"width",r=t.model.get("axisLabel.margin");i[n]-=e[n]+r,"top"===t.position?i.y+=e.height+r:"left"===t.position&&(i.x+=e.width+r)}}})),o())},T.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[e]}},T.getAxes=function(){return this._axesList.slice()},T.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}o(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===t||r[i].getAxis("y").index===e)return r[i]},T.getCartesians=function(){return this._coordsList.slice()},T.convertToPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},T.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},T._findConvertTarget=function(t,e){var n,i,r=e.seriesModel,o=e.xAxisModel||r&&r.getReferringComponents("xAxis")[0],s=e.yAxisModel||r&&r.getReferringComponents("yAxis")[0],a=e.gridModel,l=this._coordsList;if(r)n=r.coordinateSystem,c(l,n)<0&&(n=null);else if(o&&s)n=this.getCartesian(o.componentIndex,s.componentIndex);else if(o)i=this.getAxis("x",o.componentIndex);else if(s)i=this.getAxis("y",s.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(n=this._coordsList[0])}return{cartesian:n,axis:i}},T.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},T._initCartesian=function(t,e,n){var i={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},o={x:0,y:0};if(e.eachComponent("xAxis",a("x"),this),e.eachComponent("yAxis",a("y"),this),!o.x||!o.y)return this._axesMap={},void(this._axesList=[]);function a(n){return function(s,a){if(b(s,t,e)){var c=s.get("position");"x"===n?"top"!==c&&"bottom"!==c&&(c=i.bottom?"top":"bottom"):"left"!==c&&"right"!==c&&(c=i.left?"right":"left"),i[c]=!0;var l=new g(n,h(s),[0,0],s.get("type"),c),u="category"===l.type;l.onBand=u&&s.get("boundaryGap"),l.inverse=s.get("inverse"),s.axis=l,l.model=s,l.grid=this,l.index=a,this._axesList.push(l),r[n][a]=l,o[n]++}}}this._axesMap=r,s(r.x,(function(e,n){s(r.y,(function(i,r){var o="x"+n+"y"+r,s=new v(o);s.grid=this,s.model=t,this._coordsMap[o]=s,this._coordsList.push(s),s.addAxis(e),s.addAxis(i)}),this)}),this)},T._updateScale=function(t,e){function n(t,e,n){s(t.mapDimension(e.dim,!0),(function(n){e.scale.unionExtentFromData(t,E(t,n))}))}s(this._axesList,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeries((function(i){if(O(i)){var r=A(i,t),o=r[0],s=r[1];if(!b(o,e,t)||!b(s,e,t))return;var a=this.getCartesian(o.componentIndex,s.componentIndex),c=i.getData(),l=a.getAxis("x"),u=a.getAxis("y");"list"===c.type&&(n(c,l,i),n(c,u,i))}}),this)},T.getTooltipAxes=function(t){var e=[],n=[];return s(this.getCartesians(),(function(i){var r=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(r);c(e,r)<0&&e.push(r),c(n,o)<0&&n.push(o)})),{baseAxes:e,otherAxes:n}};var R=["xAxis","yAxis"];function A(t,e){return a(R,(function(e){var n=t.getReferringComponents(e)[0];return n}))}function O(t){return"cartesian2d"===t.get("coordinateSystem")}S.create=function(t,e){var n=[];return t.eachComponent("grid",(function(i,r){var o=new S(i,t,e);o.name="grid_"+r,o.resize(i,e,!0),i.coordinateSystem=o,n.push(o)})),t.eachSeries((function(e){if(O(e)){var n=A(e,t),i=n[0],r=n[1],o=i.getCoordSysModel(),s=o.coordinateSystem;e.coordinateSystem=s.getCartesian(i.componentIndex,r.componentIndex)}})),n},S.dimensions=S.prototype.dimensions=v.prototype.dimensions,_.register("cartesian2d",S);var x=S;t.exports=x},"5ca1":function(t,e,n){var i=n("7726"),r=n("8378"),o=n("32e9"),s=n("2aba"),a=n("9b43"),c="prototype",l=function(t,e,n){var u,d,h,p,f=t&l.F,m=t&l.G,v=t&l.S,g=t&l.P,_=t&l.B,y=m?i:v?i[e]||(i[e]={}):(i[e]||{})[c],E=m?r:r[e]||(r[e]={}),b=E[c]||(E[c]={});for(u in m&&(n=e),n)d=!f&&y&&void 0!==y[u],h=(d?y:n)[u],p=_&&d?a(h,i):g&&"function"==typeof h?a(Function.call,h):h,y&&s(y,u,h,t&l.U),E[u]!=h&&o(E,u,p),g&&b[u]!=h&&(b[u]=h)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"5cc5":function(t,e,n){var i=n("2b4c")("iterator"),r=!1;try{var o=[7][i]();o["return"]=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},t(o)}catch(s){}return n}},"5dbc":function(t,e,n){var i=n("d3f4"),r=n("8b97").set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},"5df2":function(t,e,n){var i=n("5ca1"),r=n("d752");i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},"5df3":function(t,e,n){"use strict";var i=n("02f4")(!0);n("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},"5e68":function(t,e,n){var i=n("6d8b"),r=n("2cf4"),o=r.devicePixelRatio,s=n("2b61"),a=n("dc2f");function c(){return!1}function l(t,e,n){var r=i.createCanvas(),o=e.getWidth(),s=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=o+"px",a.height=s+"px",r.setAttribute("data-zr-dom-id",t)),r.width=o*n,r.height=s*n,r}var u=function(t,e,n){var r;n=n||o,"string"===typeof t?r=l(t,e,n):i.isObject(t)&&(r=t,t=r.id),this.id=t,this.dom=r;var s=r.style;s&&(r.onselectstart=c,s["-webkit-user-select"]="none",s["user-select"]="none",s["-webkit-touch-callout"]="none",s["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",s["padding"]=0,s["margin"]=0,s["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};u.prototype={constructor:u,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=l("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),i.width=t*n,i.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,i=this.dom,r=this.ctx,o=i.width,c=i.height,l=(e=e||this.clearColor,this.motionBlur&&!t),u=this.lastFrameAlpha,d=this.dpr;(l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/d,c/d)),r.clearRect(0,0,o,c),e&&"transparent"!==e)&&(e.colorStops?(n=e.__canvasGradient||s.getGradient(r,e,{x:0,y:0,width:o,height:c}),e.__canvasGradient=n):e.image&&(n=a.prototype.getCanvasPattern.call(e,r)),r.save(),r.fillStyle=n||e,r.fillRect(0,0,o,c),r.restore());if(l){var h=this.domBack;r.save(),r.globalAlpha=u,r.drawImage(h,0,0,o,c),r.restore()}}};var d=u;t.exports=d},"5e76":function(t,e,n){var i=n("d51b"),r=new i(50);function o(t){if("string"===typeof t){var e=r.get(t);return e&&e.image}return t}function s(t,e,n,i,o){if(t){if("string"===typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var s=r.get(t),l={hostEl:n,cb:i,cbPayload:o};return s?(e=s.image,!c(e)&&s.pending.push(l)):(e=new Image,e.onload=e.onerror=a,r.put(t,e.__cachedImgObj={image:e,pending:[l]}),e.src=e.__zrImageSrc=t),e}return t}return e}function a(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function c(t){return t&&t.width&&t.height}e.findExistImage=o,e.createOrUpdateImage=s,e.isImageReady=c},"5e97":function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("3eba")),o=n("6d8b"),s=n("a15a"),a=s.createSymbol,c=n("2306"),l=n("7919"),u=l.makeBackground,d=n("f934"),h=o.curry,p=o.each,f=c.Group,m=r.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new f),this._backgroundEl,this.group.add(this._selectorGroup=new f),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(t,e,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var r=t.get("align"),s=t.get("orient");r&&"auto"!==r||(r="right"===t.get("left")&&"vertical"===s?"right":"left");var a=t.get("selector",!0),c=t.get("selectorPosition",!0);!a||c&&"auto"!==c||(c="horizontal"===s?"end":"start"),this.renderInner(r,t,e,n,a,s,c);var l=t.getBoxLayoutParams(),h={width:n.getWidth(),height:n.getHeight()},p=t.get("padding"),f=d.getLayoutRect(l,h,p),m=this.layoutInner(t,r,f,i,a,c),v=d.getLayoutRect(o.defaults({width:m.width,height:m.height},l),h,p);this.group.attr("position",[v.x-m.x,v.y-m.y]),this.group.add(this._backgroundEl=u(m,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(t,e,n,i,r,s,a){var c=this.getContentGroup(),l=o.createHashMap(),u=e.get("selectedMode"),d=[];n.eachRawSeries((function(t){!t.get("legendHoverLink")&&d.push(t.id)})),p(e.getData(),(function(r,o){var s=r.get("name");if(this.newlineDisabled||""!==s&&"\n"!==s){var a=n.getSeriesByName(s)[0];if(!l.get(s))if(a){var p=a.getData(),m=p.getVisual("color"),v=p.getVisual("borderColor");"function"===typeof m&&(m=m(a.getDataParams(0))),"function"===typeof v&&(v=v(a.getDataParams(0)));var E=p.getVisual("legendSymbol")||"roundRect",b=p.getVisual("symbol"),S=this._createItem(s,o,r,e,E,b,t,m,v,u);S.on("click",h(g,s,null,i,d)).on("mouseover",h(_,a.name,null,i,d)).on("mouseout",h(y,a.name,null,i,d)),l.set(s,!0)}else n.eachRawSeries((function(n){if(!l.get(s)&&n.legendVisualProvider){var a=n.legendVisualProvider;if(!a.containName(s))return;var c=a.indexOfName(s),p=a.getItemVisual(c,"color"),f=a.getItemVisual(c,"borderColor"),m="roundRect",v=this._createItem(s,o,r,e,m,null,t,p,f,u);v.on("click",h(g,null,s,i,d)).on("mouseover",h(_,null,s,i,d)).on("mouseout",h(y,null,s,i,d)),l.set(s,!0)}}),this)}else c.add(new f({newline:!0}))}),this),r&&this._createSelector(r,e,i,s,a)},_createSelector:function(t,e,n,i,r){var o=this.getSelectorGroup();function s(t){var i=t.type,r=new c.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});o.add(r);var s=e.getModel("selectorLabel"),a=e.getModel("emphasis.selectorLabel");c.setLabelStyle(r.style,r.hoverStyle={},s,a,{defaultText:t.title,isRectText:!1}),c.setHoverStyle(r)}p(t,(function(t){s(t)}))},_createItem:function(t,e,n,i,r,s,l,u,d,h){var p=i.get("itemWidth"),m=i.get("itemHeight"),g=i.get("inactiveColor"),_=i.get("inactiveBorderColor"),y=i.get("symbolKeepAspect"),E=i.getModel("itemStyle"),b=i.isSelected(t),S=new f,T=n.getModel("textStyle"),w=n.get("icon"),C=n.getModel("tooltip"),I=C.parentModel;r=w||r;var R=a(r,0,0,p,m,b?u:g,null==y||y);if(S.add(v(R,r,E,d,_,b)),!w&&s&&(s!==r||"none"===s)){var A=.8*m;"none"===s&&(s="circle");var O=a(s,(p-A)/2,(m-A)/2,A,A,b?u:g,null==y||y);S.add(v(O,s,E,d,_,b))}var x="left"===l?p+5:-5,D=l,k=i.get("formatter"),N=t;"string"===typeof k&&k?N=k.replace("{name}",null!=t?t:""):"function"===typeof k&&(N=k(t)),S.add(new c.Text({style:c.setTextStyle({},T,{text:N,x:x,y:m/2,textFill:b?T.getTextColor():g,textAlign:D,textVerticalAlign:"middle"})}));var P=new c.Rect({shape:S.getBoundingRect(),invisible:!0,tooltip:C.get("show")?o.extend({content:t,formatter:I.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:t,$vars:["name"]}},C.option):null});return S.add(P),S.eachChild((function(t){t.silent=!0})),P.silent=!h,this.getContentGroup().add(S),c.setHoverStyle(S),S.__legendDataIndex=e,S},layoutInner:function(t,e,n,i,r,o){var s=this.getContentGroup(),a=this.getSelectorGroup();d.box(t.get("orient"),s,t.get("itemGap"),n.width,n.height);var c=s.getBoundingRect(),l=[-c.x,-c.y];if(r){d.box("horizontal",a,t.get("selectorItemGap",!0));var u=a.getBoundingRect(),h=[-u.x,-u.y],p=t.get("selectorButtonGap",!0),f=t.getOrient().index,m=0===f?"width":"height",v=0===f?"height":"width",g=0===f?"y":"x";"end"===o?h[f]+=c[m]+p:l[f]+=u[m]+p,h[1-f]+=c[v]/2-u[v]/2,a.attr("position",h),s.attr("position",l);var _={x:0,y:0};return _[m]=c[m]+p+u[m],_[v]=Math.max(c[v],u[v]),_[g]=Math.min(0,u[g]+h[1-f]),_}return s.attr("position",l),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function v(t,e,n,i,r,o){var s;return"line"!==e&&e.indexOf("empty")<0?(s=n.getItemStyle(),t.style.stroke=i,o||(s.stroke=r)):s=n.getItemStyle(["borderWidth","borderColor"]),t.setStyle(s)}function g(t,e,n,i){y(t,e,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),_(t,e,n,i)}function _(t,e,n,i){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function y(t,e,n,i){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}t.exports=m},"5eda":function(t,e,n){var i=n("5ca1"),r=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},"5f1b":function(t,e,n){"use strict";var i=n("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"607d":function(t,e,n){var i=n("1fab");e.Dispatcher=i;var r=n("22d1"),o=n("65ed"),s=o.isCanvasEl,a=o.transformCoordWithViewport,c="undefined"!==typeof window&&!!window.addEventListener,l=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,u=[];function d(t,e,n,i){return n=n||{},i||!r.canvasSupported?h(t,e,n):r.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):h(t,e,n),n}function h(t,e,n){if(r.domSupported&&t.getBoundingClientRect){var i=e.clientX,o=e.clientY;if(s(t)){var c=t.getBoundingClientRect();return n.zrX=i-c.left,void(n.zrY=o-c.top)}if(a(u,t,i,o))return n.zrX=u[0],void(n.zrY=u[1])}n.zrX=n.zrY=0}function p(t){return t||window.event}function f(t,e,n){if(e=p(e),null!=e.zrX)return e;var i=e.type,r=i&&i.indexOf("touch")>=0;if(r){var o="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];o&&d(t,o,e,n)}else d(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var s=e.button;return null==e.which&&void 0!==s&&l.test(e.type)&&(e.which=1&s?1:2&s?3:4&s?2:0),e}function m(t,e,n,i){c?t.addEventListener(e,n,i):t.attachEvent("on"+e,n)}function v(t,e,n,i){c?t.removeEventListener(e,n,i):t.detachEvent("on"+e,n)}var g=c?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};function _(t){return 2===t.which||3===t.which}function y(t){return t.which>1}e.clientToLocal=d,e.getNativeEvent=p,e.normalizeEvent=f,e.addEventListener=m,e.removeEventListener=v,e.stop=g,e.isMiddleOrRightButtonOnMouseUpDown=_,e.notLeftMouse=y},"613b":function(t,e,n){var i=n("5537")("keys"),r=n("ca5a");t.exports=function(t){return i[t]||(i[t]=r(t))}},6179:function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("6d8b")),o=n("4319"),s=n("80f0"),a=n("ec6f"),c=n("2b17"),l=c.defaultDimValueGetters,u=c.DefaultDataProvider,d=n("2f45"),h=d.summarizeDimensions,p=n("562e"),f=r.isObject,m="undefined",v=-1,g="e\0\0",_={float:typeof Float64Array===m?Array:Float64Array,int:typeof Int32Array===m?Array:Int32Array,ordinal:Array,number:Array,time:Array},y=typeof Uint32Array===m?Array:Uint32Array,E=typeof Int32Array===m?Array:Int32Array,b=typeof Uint16Array===m?Array:Uint16Array;function S(t){return t._rawCount>65535?y:b}function T(t){var e=t.constructor;return e===Array?t.slice():new e(t)}var w=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],C=["_extent","_approximateExtent","_rawExtent"];function I(t,e){r.each(w.concat(e.__wrappedMethods||[]),(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t.__wrappedMethods=e.__wrappedMethods,r.each(C,(function(n){t[n]=r.clone(e[n])})),t._calculationInfo=r.extend(e._calculationInfo)}var R=function(t,e){t=t||["x","y"];for(var n={},i=[],o={},s=0;s<t.length;s++){var a=t[s];r.isString(a)?a=new p({name:a}):a instanceof p||(a=new p(a));var c=a.name;a.type=a.type||"float",a.coordDim||(a.coordDim=c,a.coordDimIndex=0),a.otherDims=a.otherDims||{},i.push(c),n[c]=a,a.index=s,a.createInvertedIndices&&(o[c]=[])}this.dimensions=i,this._dimensionInfos=n,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=h(this),this._invertedIndicesMap=o,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},A=R.prototype;function O(t,e,n,i,r){var o=_[e.type],s=i-1,a=e.name,c=t[a][s];if(c&&c.length<n){for(var l=new o(Math.min(r-s*n,n)),u=0;u<c.length;u++)l[u]=c[u];t[a][s]=l}for(var d=i*n;d<r;d+=n)t[a].push(new o(Math.min(r-d,n)))}function x(t){var e=t._invertedIndicesMap;r.each(e,(function(n,i){var r=t._dimensionInfos[i],o=r.ordinalMeta;if(o){n=e[i]=new E(o.categories.length);for(var s=0;s<n.length;s++)n[s]=v;for(s=0;s<t._count;s++)n[t.get(i,s)]=s}}))}function D(t,e,n){var i;if(null!=e){var r=t._chunkSize,o=Math.floor(n/r),s=n%r,a=t.dimensions[e],c=t._storage[a][o];if(c){i=c[s];var l=t._dimensionInfos[a].ordinalMeta;l&&l.categories.length&&(i=l.categories[i])}}return i}function k(t){return t}function N(t){return t<this._count&&t>=0?this._indices[t]:-1}function P(t,e){var n=t._idList[e];return null==n&&(n=D(t,t._idDimIdx,e)),null==n&&(n=g+e),n}function L(t){return r.isArray(t)||(t=[t]),t}function M(t,e){var n=t.dimensions,i=new R(r.map(n,t.getDimensionInfo,t),t.hostModel);I(i,t);for(var o=i._storage={},s=t._storage,a=0;a<n.length;a++){var c=n[a];s[c]&&(r.indexOf(e,c)>=0?(o[c]=V(s[c]),i._rawExtent[c]=U(),i._extent[c]=null):o[c]=s[c])}return i}function V(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=T(t[n]);return e}function U(){return[1/0,-1/0]}A.type="list",A.hasItemOption=!0,A.getDimension=function(t){return"number"!==typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},A.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},A.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},A.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return!0===e?(i||[]).slice():i&&i[e]},A.initData=function(t,e,n){var i=a.isInstance(t)||r.isArrayLike(t);i&&(t=new u(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=l[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=l.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},A.getProvider=function(){return this._rawData},A.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var i=e.count();e.persistent||(i+=n),this._initDataFromProvider(n,i)},A.appendValues=function(t,e){for(var n=this._chunkSize,i=this._storage,r=this.dimensions,o=r.length,s=this._rawExtent,a=this.count(),c=a+Math.max(t.length,e?e.length:0),l=this._chunkCount,u=0;u<o;u++){var d=r[u];s[d]||(s[d]=U()),i[d]||(i[d]=[]),O(i,this._dimensionInfos[d],n,l,c),this._chunkCount=i[d].length}for(var h=new Array(o),p=a;p<c;p++){for(var f=p-a,m=Math.floor(p/n),v=p%n,g=0;g<o;g++){d=r[g];var _=this._dimValueGetterArrayRows(t[f]||h,d,f,g);i[d][m][v]=_;var y=s[d];_<y[0]&&(y[0]=_),_>y[1]&&(y[1]=_)}e&&(this._nameList[p]=e[f])}this._rawCount=this._count=c,this._extent={},x(this)},A._initDataFromProvider=function(t,e){if(!(t>=e)){for(var n,i=this._chunkSize,r=this._rawData,o=this._storage,s=this.dimensions,a=s.length,c=this._dimensionInfos,l=this._nameList,u=this._idList,d=this._rawExtent,h=this._nameRepeatCount={},p=this._chunkCount,f=0;f<a;f++){var m=s[f];d[m]||(d[m]=U());var v=c[m];0===v.otherDims.itemName&&(n=this._nameDimIdx=f),0===v.otherDims.itemId&&(this._idDimIdx=f),o[m]||(o[m]=[]),O(o,v,i,p,e),this._chunkCount=o[m].length}for(var g=new Array(a),_=t;_<e;_++){g=r.getItem(_,g);for(var y=Math.floor(_/i),E=_%i,b=0;b<a;b++){m=s[b];var S=o[m][y],T=this._dimValueGetter(g,m,_,b);S[E]=T;var w=d[m];T<w[0]&&(w[0]=T),T>w[1]&&(w[1]=T)}if(!r.pure){var C=l[_];if(g&&null==C)if(null!=g.name)l[_]=C=g.name;else if(null!=n){var I=s[n],R=o[I][y];if(R){C=R[E];var A=c[I].ordinalMeta;A&&A.categories.length&&(C=A.categories[C])}}var D=null==g?null:g.id;null==D&&null!=C&&(h[C]=h[C]||0,D=C,h[C]>0&&(D+="__ec__"+h[C]),h[C]++),null!=D&&(u[_]=D)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent={},x(this)}},A.count=function(){return this._count},A.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array){r=new e(n);for(var i=0;i<n;i++)r[i]=t[i]}else r=new e(t.buffer,0,n)}else{e=S(this);var r=new e(this.count());for(i=0;i<r.length;i++)r[i]=i}return r},A.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var i=Math.floor(e/this._chunkSize),r=e%this._chunkSize,o=n[t][i],s=o[r];return s},A.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];if(!n)return NaN;var i=Math.floor(e/this._chunkSize),r=e%this._chunkSize,o=n[i];return o[r]},A._getFast=function(t,e){var n=Math.floor(e/this._chunkSize),i=e%this._chunkSize,r=this._storage[t][n];return r[i]},A.getValues=function(t,e){var n=[];r.isArray(t)||(e=t,t=this.dimensions);for(var i=0,o=t.length;i<o;i++)n.push(this.get(t[i],e));return n},A.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this.get(e[n],t)))return!1;return!0},A.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],n=U();if(!e)return n;var i,r=this.count(),o=!this._indices;if(o)return this._rawExtent[t].slice();if(i=this._extent[t],i)return i.slice();i=n;for(var s=i[0],a=i[1],c=0;c<r;c++){var l=this._getFast(t,this.getRawIndex(c));l<s&&(s=l),l>a&&(a=l)}return i=[s,a],this._extent[t]=i,i},A.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},A.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},A.getCalculationInfo=function(t){return this._calculationInfo[t]},A.setCalculationInfo=function(t,e){f(t)?r.extend(this._calculationInfo,t):this._calculationInfo[t]=e},A.getSum=function(t){var e=this._storage[t],n=0;if(e)for(var i=0,r=this.count();i<r;i++){var o=this.get(t,i);isNaN(o)||(n+=o)}return n},A.getMedian=function(t){var e=[];this.each(t,(function(t,n){isNaN(t)||e.push(t)}));var n=[].concat(e).sort((function(t,e){return t-e})),i=this.count();return 0===i?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},A.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t],i=n[e];return null==i||isNaN(i)?v:i},A.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},A.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;var i=0,r=this._count-1;while(i<=r){var o=(i+r)/2|0;if(e[o]<t)i=o+1;else{if(!(e[o]>t))return o;r=o-1}}return-1},A.indicesOfNearest=function(t,e,n){var i=this._storage,r=i[t],o=[];if(!r)return o;null==n&&(n=1/0);for(var s=1/0,a=-1,c=0,l=0,u=this.count();l<u;l++){var d=e-this.get(t,l),h=Math.abs(d);h<=n&&((h<s||h===s&&d>=0&&a<0)&&(s=h,a=d,c=0),d===a&&(o[c++]=l))}return o.length=c,o},A.getRawIndex=k,A.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e.push(this.get(i,t))}return e},A.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||D(this,this._nameDimIdx,e)||""},A.getId=function(t){return P(this,this.getRawIndex(t))},A.each=function(t,e,n,i){"use strict";if(this._count){"function"===typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this,t=r.map(L(t),this.getDimension,this);for(var o=t.length,s=0;s<this.count();s++)switch(o){case 0:e.call(n,s);break;case 1:e.call(n,this.get(t[0],s),s);break;case 2:e.call(n,this.get(t[0],s),this.get(t[1],s),s);break;default:for(var a=0,c=[];a<o;a++)c[a]=this.get(t[a],s);c[a]=s,e.apply(n,c)}}},A.filterSelf=function(t,e,n,i){"use strict";if(this._count){"function"===typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this,t=r.map(L(t),this.getDimension,this);for(var o=this.count(),s=S(this),a=new s(o),c=[],l=t.length,u=0,d=t[0],h=0;h<o;h++){var p,f=this.getRawIndex(h);if(0===l)p=e.call(n,h);else if(1===l){var m=this._getFast(d,f);p=e.call(n,m,h)}else{for(var v=0;v<l;v++)c[v]=this._getFast(d,f);c[v]=h,p=e.apply(n,c)}p&&(a[u++]=f)}return u<o&&(this._indices=a),this._count=u,this._extent={},this.getRawIndex=this._indices?N:k,this}},A.selectRange=function(t){"use strict";if(this._count){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var i=e.length;if(i){var r=this.count(),o=S(this),s=new o(r),a=0,c=e[0],l=t[c][0],u=t[c][1],d=!1;if(!this._indices){var h=0;if(1===i){for(var p=this._storage[e[0]],f=0;f<this._chunkCount;f++)for(var m=p[f],v=Math.min(this._count-f*this._chunkSize,this._chunkSize),g=0;g<v;g++){var _=m[g];(_>=l&&_<=u||isNaN(_))&&(s[a++]=h),h++}d=!0}else if(2===i){p=this._storage[c];var y=this._storage[e[1]],E=t[e[1]][0],b=t[e[1]][1];for(f=0;f<this._chunkCount;f++){m=p[f];var T=y[f];for(v=Math.min(this._count-f*this._chunkSize,this._chunkSize),g=0;g<v;g++){_=m[g];var w=T[g];(_>=l&&_<=u||isNaN(_))&&(w>=E&&w<=b||isNaN(w))&&(s[a++]=h),h++}}d=!0}}if(!d)if(1===i)for(g=0;g<r;g++){var C=this.getRawIndex(g);_=this._getFast(c,C);(_>=l&&_<=u||isNaN(_))&&(s[a++]=C)}else for(g=0;g<r;g++){var I=!0;for(C=this.getRawIndex(g),f=0;f<i;f++){var R=e[f];_=this._getFast(n,C);(_<t[R][0]||_>t[R][1])&&(I=!1)}I&&(s[a++]=this.getRawIndex(g))}return a<r&&(this._indices=s),this._count=a,this._extent={},this.getRawIndex=this._indices?N:k,this}}},A.mapArray=function(t,e,n,i){"use strict";"function"===typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;var r=[];return this.each(t,(function(){r.push(e&&e.apply(this,arguments))}),n),r},A.map=function(t,e,n,i){"use strict";n=n||i||this,t=r.map(L(t),this.getDimension,this);var o=M(this,t);o._indices=this._indices,o.getRawIndex=o._indices?N:k;for(var s=o._storage,a=[],c=this._chunkSize,l=t.length,u=this.count(),d=[],h=o._rawExtent,p=0;p<u;p++){for(var f=0;f<l;f++)d[f]=this.get(t[f],p);d[l]=p;var m=e&&e.apply(n,d);if(null!=m){"object"!==typeof m&&(a[0]=m,m=a);for(var v=this.getRawIndex(p),g=Math.floor(v/c),_=v%c,y=0;y<m.length;y++){var E=t[y],b=m[y],S=h[E],T=s[E];T&&(T[g][_]=b),b<S[0]&&(S[0]=b),b>S[1]&&(S[1]=b)}}}return o},A.downSample=function(t,e,n,i){for(var r=M(this,[t]),o=r._storage,s=[],a=Math.floor(1/e),c=o[t],l=this.count(),u=this._chunkSize,d=r._rawExtent[t],h=new(S(this))(l),p=0,f=0;f<l;f+=a){a>l-f&&(a=l-f,s.length=a);for(var m=0;m<a;m++){var v=this.getRawIndex(f+m),g=Math.floor(v/u),_=v%u;s[m]=c[g][_]}var y=n(s),E=this.getRawIndex(Math.min(f+i(s,y)||0,l-1)),b=Math.floor(E/u),T=E%u;c[b][T]=y,y<d[0]&&(d[0]=y),y>d[1]&&(d[1]=y),h[p++]=E}return r._count=p,r._indices=h,r.getRawIndex=N,r},A.getItemModel=function(t){var e=this.hostModel;return new o(this.getRawDataItem(t),e,e&&e.ecModel)},A.diff=function(t){var e=this;return new s(t?t.getIndices():[],this.getIndices(),(function(e){return P(t,e)}),(function(t){return P(e,t)}))},A.getVisual=function(t){var e=this._visual;return e&&e[t]},A.setVisual=function(t,e){if(f(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},A.setLayout=function(t,e){if(f(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},A.getLayout=function(t){return this._layout[t]},A.getItemLayout=function(t){return this._itemLayouts[t]},A.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?r.extend(this._itemLayouts[t]||{},e):e},A.clearItemLayouts=function(){this._itemLayouts.length=0},A.getItemVisual=function(t,e,n){var i=this._itemVisuals[t],r=i&&i[e];return null!=r||n?r:this.getVisual(e)},A.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{},r=this.hasItemVisual;if(this._itemVisuals[t]=i,f(e))for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o],r[o]=!0);else i[e]=n,r[e]=!0},A.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var B=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};A.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(B,e)),this._graphicEls[t]=e},A.getItemGraphicEl=function(t){return this._graphicEls[t]},A.eachItemGraphicEl=function(t,e){r.each(this._graphicEls,(function(n,i){n&&t&&t.call(e,n,i)}))},A.cloneShallow=function(t){if(!t){var e=r.map(this.dimensions,this.getDimensionInfo,this);t=new R(e,this.hostModel)}if(t._storage=this._storage,I(t,this),this._indices){var n=this._indices.constructor;t._indices=new n(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?N:k,t},A.wrapMethod=function(t,e){var n=this[t];"function"===typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(r.slice(arguments)))})},A.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],A.CHANGABLE_METHODS=["filterSelf","selectRange"];var j=R;t.exports=j},"620b":function(t,e,n){var i=n("401b"),r=i.distance;function o(t,e,n,i,r,o,s){var a=.5*(n-t),c=.5*(i-e);return(2*(e-n)+a+c)*s+(-3*(e-n)-2*a-c)*o+a*r+e}function s(t,e){for(var n=t.length,i=[],s=0,a=1;a<n;a++)s+=r(t[a-1],t[a]);var c=s/2;c=c<n?n:c;for(a=0;a<c;a++){var l,u,d,h=a/(c-1)*(e?n:n-1),p=Math.floor(h),f=h-p,m=t[p%n];e?(l=t[(p-1+n)%n],u=t[(p+1)%n],d=t[(p+2)%n]):(l=t[0===p?p:p-1],u=t[p>n-2?n-1:p+1],d=t[p>n-3?n-1:p+2]);var v=f*f,g=f*v;i.push([o(l[0],m[0],u[0],d[0],f,v,g),o(l[1],m[1],u[1],d[1],f,v,g)])}return i}t.exports=s},"625e":function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("6d8b")),o=".",s="___EC__COMPONENT__CONTAINER___";function a(t){var e={main:"",sub:""};return t&&(t=t.split(o),e.main=t[0]||"",e.sub=t[1]||""),e}function c(t){r.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function l(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return r.extend(n.prototype,t),n.extend=this.extend,n.superCall=h,n.superApply=p,r.inherits(n,this),n.superClass=e,n}}var u=0;function d(t){var e=["__\0is_clz",u++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function h(t,e){var n=r.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function p(t,e,n){return this.superClass.prototype[e].apply(t,n)}function f(t,e){e=e||{};var n={};function i(t){var e=n[t.main];return e&&e[s]||(e=n[t.main]={},e[s]=!0),e}if(t.registerClass=function(t,e){if(e)if(c(e),e=a(e),e.sub){if(e.sub!==s){var r=i(e);r[e.sub]=t}}else n[e.main]=t;return t},t.getClass=function(t,e,i){var r=n[t];if(r&&r[s]&&(r=e?r[e]:null),i&&!r)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return r},t.getClassesByMainType=function(t){t=a(t);var e=[],i=n[t.main];return i&&i[s]?r.each(i,(function(t,n){n!==s&&e.push(t)})):e.push(i),e},t.hasClass=function(t){return t=a(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return r.each(n,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){t=a(t);var e=n[t.main];return e&&e[s]},t.parseClassType=a,e.registerWhenExtend){var o=t.extend;o&&(t.extend=function(e){var n=o.call(this,e);return t.registerClass(n,e.type)})}return t}function m(t,e){}e.parseClassType=a,e.enableClassExtend=l,e.enableClassCheck=d,e.enableClassManagement=f,e.setReadOnly=m},"626a":function(t,e,n){var i=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},"63d9":function(t,e,n){n("ec30")("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},"643e":function(t,e,n){"use strict";var i=n("dcbc"),r=n("67ab").getWeak,o=n("cb7c"),s=n("d3f4"),a=n("f605"),c=n("4a59"),l=n("0a49"),u=n("69a8"),d=n("b39a"),h=l(5),p=l(6),f=0,m=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},g=function(t,e){return h(t.a,(function(t){return t[0]===e}))};v.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t((function(t,i){a(t,l,e,"_i"),t._t=e,t._i=f++,t._l=void 0,void 0!=i&&c(i,n,t[o],t)}));return i(l.prototype,{delete:function(t){if(!s(t))return!1;var n=r(t);return!0===n?m(d(this,e))["delete"](t):n&&u(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=r(t);return!0===n?m(d(this,e)).has(t):n&&u(n,this._i)}}),l},def:function(t,e,n){var i=r(o(e),!0);return!0===i?m(t).set(e,n):i[t._i]=n,t},ufstore:m}},"64d5":function(t,e,n){"use strict";var i=n("5ca1"),r=n("4bf8"),o=n("6a99"),s=n("38fd"),a=n("11e9").f;n("9e1e")&&i(i.P+n("c5b4"),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.set}while(n=s(n))}})},6521:function(t,e,n){"use strict";function i(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}var r=n("4cbb"),o=i(n("3eba"));n("007d"),n("d28f");var s=i(n("7e03")),a=n("89d6"),c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-charts-component-loading"},[n("div",{staticClass:"loader"},[n("div",{staticClass:"loading-spinner"},[n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])])])])},staticRenderFns:[]},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-charts-data-empty"},[t._v("  ")])},staticRenderFns:[]},u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function d(t,e){Object.keys(e).forEach((function(n){var i=e[n];~n.indexOf(".")?r.set(t,n,i):"function"===typeof i?t[n]=i(t[n]):r.isArray(t[n])&&r.isObject(t[n][0])?t[n].forEach((function(e,r){t[n][r]=u({},e,i)})):r.isObject(t[n])?t[n]=u({},t[n],i):t[n]=i}))}function h(t,e){Object.keys(e).forEach((function(n){e[n]&&(t[n]=e[n])}))}function p(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}var f={render:function(t){return t("div",{class:[r.camelToKebab(this.$options.name||this.$options._componentTag)],style:this.canvasStyle},[t("div",{style:this.canvasStyle,class:{"v-charts-mask-status":this.dataEmpty||this.loading},ref:"canvas"}),t(l,{style:{display:this.dataEmpty?"":"none"}}),t(c,{style:{display:this.loading?"":"none"}}),this.$slots.default])},props:{data:{type:[Object,Array],default:function(){return{}}},settings:{type:Object,default:function(){return{}}},width:{type:String,default:"auto"},height:{type:String,default:"400px"},beforeConfig:{type:Function},afterConfig:{type:Function},afterSetOption:{type:Function},afterSetOptionOnce:{type:Function},events:{type:Object},grid:{type:[Object,Array]},colors:{type:Array},tooltipVisible:{type:Boolean,default:!0},legendVisible:{type:Boolean,default:!0},legendPosition:{type:String},markLine:{type:Object},markArea:{type:Object},markPoint:{type:Object},visualMap:{type:[Object,Array]},dataZoom:{type:[Object,Array]},toolbox:{type:[Object,Array]},initOptions:{type:Object,default:function(){return{}}},title:[Object,Array],legend:[Object,Array],xAxis:[Object,Array],yAxis:[Object,Array],radar:Object,tooltip:Object,axisPointer:[Object,Array],brush:[Object,Array],geo:[Object,Array],timeline:[Object,Array],graphic:[Object,Array],series:[Object,Array],backgroundColor:[Object,String],textStyle:[Object,Array],animation:Object,theme:Object,themeName:String,loading:Boolean,dataEmpty:Boolean,extend:Object,judgeWidth:{type:Boolean,default:!1},widthChangeDelay:{type:Number,default:300},tooltipFormatter:{type:Function},resizeable:{type:Boolean,default:!0},resizeDelay:{type:Number,default:200},changeDelay:{type:Number,default:0},setOptionOpts:{type:[Boolean,Object],default:!0},cancelResizeCheck:Boolean,notSetUnchange:Array,log:Boolean},watch:{data:{deep:!0,handler:function(t){t&&this.changeHandler()}},settings:{deep:!0,handler:function(t){t.type&&this.chartLib&&(this.chartHandler=this.chartLib[t.type]),this.changeHandler()}},width:"nextTickResize",height:"nextTickResize",events:{deep:!0,handler:"createEventProxy"},theme:{deep:!0,handler:"themeChange"},themeName:"themeChange",resizeable:"resizeableHandler"},computed:{canvasStyle:function(){return{width:this.width,height:this.height,position:"relative"}},chartColor:function(){return this.colors||this.theme&&this.theme.color||a.DEFAULT_COLORS}},methods:{dataHandler:function(){if(this.chartHandler){var t=this.data,e=t,n=e.columns,i=void 0===n?[]:n,r=e.rows,o=void 0===r?[]:r,s={tooltipVisible:this.tooltipVisible,legendVisible:this.legendVisible,echarts:this.echarts,color:this.chartColor,tooltipFormatter:this.tooltipFormatter,_once:this._once};this.beforeConfig&&(t=this.beforeConfig(t));var a=this.chartHandler(i,o,this.settings,s);a&&("function"===typeof a.then?a.then(this.optionsHandler):this.optionsHandler(a))}},nextTickResize:function(){this.$nextTick(this.resize)},resize:function(){(this.cancelResizeCheck||this.$el&&this.$el.clientWidth&&this.$el.clientHeight)&&this.echartsResize()},echartsResize:function(){this.echarts&&this.echarts.resize()},optionsHandler:function(t){var e=this;if(this.legendPosition&&t.legend&&(t.legend[this.legendPosition]=10,~["left","right"].indexOf(this.legendPosition)&&(t.legend.top="middle",t.legend.orient="vertical")),t.color=this.chartColor,a.ECHARTS_SETTINGS.forEach((function(n){e[n]&&(t[n]=e[n])})),this.animation&&p(t,this.animation),this.markArea||this.markLine||this.markPoint){var n={markArea:this.markArea,markLine:this.markLine,markPoint:this.markPoint},i=t.series;r.isArray(i)?i.forEach((function(t){h(t,n)})):r.isObject(i)&&h(i,n)}this.extend&&d(t,this.extend),this.afterConfig&&(t=this.afterConfig(t));var s=this.setOptionOpts;!this.settings.bmap&&!this.settings.amap||r.isObject(s)||(s=!1),this.notSetUnchange&&this.notSetUnchange.length&&(this.notSetUnchange.forEach((function(n){var i=t[n];i&&(r.isEqual(i,e._store[n])?t[n]=void 0:e._store[n]=r.cloneDeep(i))})),r.isObject(s)?s.notMerge=!1:s=!1),this._isDestroyed||(this.log&&console.log(t),this.echarts.setOption(t,s),this.$emit("ready",this.echarts,t,o),this._once["ready-once"]||(this._once["ready-once"]=!0,this.$emit("ready-once",this.echarts,t,o)),this.judgeWidth&&this.judgeWidthHandler(t),this.afterSetOption&&this.afterSetOption(this.echarts,t,o),this.afterSetOptionOnce&&!this._once["afterSetOptionOnce"]&&(this._once["afterSetOptionOnce"]=!0,this.afterSetOptionOnce(this.echarts,t,o)))},judgeWidthHandler:function(t){var e=this,n=this.widthChangeDelay,i=this.resize;this.$el.clientWidth||this.$el.clientHeight?i():this.$nextTick((function(t){e.$el.clientWidth||e.$el.clientHeight?i():setTimeout((function(t){i(),e.$el.clientWidth&&e.$el.clientHeight||console.warn(" Can't get dom width or height ")}),n)}))},resizeableHandler:function(t){t&&!this._once.onresize&&this.addResizeListener(),!t&&this._once.onresize&&this.removeResizeListener()},init:function(){if(!this.echarts){var t=this.themeName||this.theme||a.DEFAULT_THEME;this.echarts=o.init(this.$refs.canvas,t,this.initOptions),this.data&&this.changeHandler(),this.createEventProxy(),this.resizeable&&this.addResizeListener()}},addResizeListener:function(){window.addEventListener("resize",this.resizeHandler),this._once.onresize=!0},removeResizeListener:function(){window.removeEventListener("resize",this.resizeHandler),this._once.onresize=!1},addWatchToProps:function(){var t=this,e=this._watchers.map((function(t){return t.expression}));Object.keys(this.$props).forEach((function(n){if(!~e.indexOf(n)&&!~a.STATIC_PROPS.indexOf(n)){var i={};~["[object Object]","[object Array]"].indexOf(r.getType(t.$props[n]))&&(i.deep=!0),t.$watch(n,(function(){t.changeHandler()}),i)}}))},createEventProxy:function(){var t=this,e=this,n=Object.keys(this.events||{});n.length&&n.forEach((function(n){-1===t.registeredEvents.indexOf(n)&&(t.registeredEvents.push(n),t.echarts.on(n,function(t){return function(){if(t in e.events){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];e.events[t].apply(null,i)}}}(n)))}))},themeChange:function(t){this.clean(),this.echarts=null,this.init()},clean:function(){this.resizeable&&this.removeResizeListener(),this.echarts.dispose()}},created:function(){this.echarts=null,this.registeredEvents=[],this._once={},this._store={},this.resizeHandler=r.debounce(this.resize,this.resizeDelay),this.changeHandler=r.debounce(this.dataHandler,this.changeDelay),this.addWatchToProps()},mounted:function(){this.init()},beforeDestroy:function(){this.clean()},_numerify:s};t.exports=f},"65ed":function(t,e,n){var i=n("22d1"),r=n("84ec"),o=r.buildTransformer,s="___zrEVENTSAVED",a=[];function c(t,e,n,i,r){return l(a,e,i,r,!0)&&l(t,n,a[0],a[1])}function l(t,e,n,r,o){if(e.getBoundingClientRect&&i.domSupported&&!h(e)){var a=e[s]||(e[s]={}),c=u(e,a),l=d(c,a,o);if(l)return l(t,n,r),!0}return!1}function u(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),a=s.style,c=o%2,l=(o>>1)%2;a.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[c]+":0",r[l]+":0",i[1-c]+":auto",r[1-l]+":auto",""].join("!important;"),t.appendChild(s),n.push(s)}return n}function d(t,e,n){for(var i=n?"invTrans":"trans",r=e[i],s=e.srcCoords,a=!0,c=[],l=[],u=0;u<4;u++){var d=t[u].getBoundingClientRect(),h=2*u,p=d.left,f=d.top;c.push(p,f),a=a&&s&&p===s[h]&&f===s[h+1],l.push(t[u].offsetLeft,t[u].offsetTop)}return a&&r?r:(e.srcCoords=c,e[i]=n?o(l,c):o(c,l))}function h(t){return"CANVAS"===t.nodeName.toUpperCase()}e.transformLocalCoord=c,e.transformCoordWithViewport=l,e.isCanvasEl=h},6679:function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("3eba")),o=n("cd33"),s=r.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,n,i){this.axisPointerClass&&o.fixValue(t),s.superApply(this,"render",arguments),a(this,t,e,n,i,!0)},updateAxisPointer:function(t,e,n,i,r){a(this,t,e,n,i,!1)},remove:function(t,e){var n=this._axisPointer;n&&n.remove(e),s.superApply(this,"remove",arguments)},dispose:function(t,e){c(this,e),s.superApply(this,"dispose",arguments)}});function a(t,e,n,i,r,a){var l=s.getAxisPointerClass(t.axisPointerClass);if(l){var u=o.getAxisPointerModel(e);u?(t._axisPointer||(t._axisPointer=new l)).render(e,u,i,a):c(t,i)}}function c(t,e,n){var i=t._axisPointer;i&&i.dispose(e,n),t._axisPointer=null}var l=[];s.registerAxisPointerClass=function(t,e){l[t]=e},s.getAxisPointerClass=function(t){return t&&l[t]};var u=s;t.exports=u},"66c8":function(t,e,n){var i=n("d3f4");n("5eda")("isFrozen",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},"673e":function(t,e,n){"use strict";n("386b")("sub",(function(t){return function(){return t(this,"sub","","")}}))},6762:function(t,e,n){"use strict";var i=n("5ca1"),r=n("c366")(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"67ab":function(t,e,n){var i=n("ca5a")("meta"),r=n("d3f4"),o=n("69a8"),s=n("86cc").f,a=0,c=Object.isExtensible||function(){return!0},l=!n("79e5")((function(){return c(Object.preventExtensions({}))})),u=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},d=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[i].i},h=function(t,e){if(!o(t,i)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[i].w},p=function(t){return l&&f.NEED&&c(t)&&!o(t,i)&&u(t),t},f=t.exports={KEY:i,NEED:!1,fastKey:d,getWeak:h,onFreeze:p}},6821:function(t,e,n){var i=n("626a"),r=n("be13");t.exports=function(t){return i(r(t))}},"68ab":function(t,e,n){var i=n("4a3f"),r=i.quadraticProjectPoint;function o(t,e,n,i,o,s,a,c,l){if(0===a)return!1;var u=a;if(l>e+u&&l>i+u&&l>s+u||l<e-u&&l<i-u&&l<s-u||c>t+u&&c>n+u&&c>o+u||c<t-u&&c<n-u&&c<o-u)return!1;var d=r(t,e,n,i,o,s,c,l,null);return d<=u/2}e.containStroke=o},"697e":function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("6d8b")),o=n("18c0"),s=n("89e3"),a=n("e0d8"),c=n("3842"),l=n("9d57"),u=l.prepareLayoutBarSeries,d=l.makeColumnLayout,h=l.retrieveColumnLayout,p=n("9850");function f(t,e){var n,i,o,s=t.type,a=e.getMin(),l=e.getMax(),h=t.getExtent();"ordinal"===s?n=e.getCategories().length:(i=e.get("boundaryGap"),r.isArray(i)||(i=[i||0,i||0]),"boolean"===typeof i[0]&&(i=[0,0]),i[0]=c.parsePercent(i[0],1),i[1]=c.parsePercent(i[1],1),o=h[1]-h[0]||Math.abs(h[0])),"dataMin"===a?a=h[0]:"function"===typeof a&&(a=a({min:h[0],max:h[1]})),"dataMax"===l?l=h[1]:"function"===typeof l&&(l=l({min:h[0],max:h[1]}));var p=null!=a,f=null!=l;null==a&&(a="ordinal"===s?n?0:NaN:h[0]-i[0]*o),null==l&&(l="ordinal"===s?n?n-1:NaN:h[1]+i[1]*o),(null==a||!isFinite(a))&&(a=NaN),(null==l||!isFinite(l))&&(l=NaN),t.setBlank(r.eqNaN(a)||r.eqNaN(l)||"ordinal"===s&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(a>0&&l>0&&!p&&(a=0),a<0&&l<0&&!f&&(l=0));var v=e.ecModel;if(v&&"time"===s){var g,_=u("bar",v);if(r.each(_,(function(t){g|=t.getBaseAxis()===e.axis})),g){var y=d(_),E=m(a,l,e,y);a=E.min,l=E.max}}return{extent:[a,l],fixMin:p,fixMax:f}}function m(t,e,n,i){var o=n.axis.getExtent(),s=o[1]-o[0],a=h(i,n.axis);if(void 0===a)return{min:t,max:e};var c=1/0;r.each(a,(function(t){c=Math.min(t.offset,c)}));var l=-1/0;r.each(a,(function(t){l=Math.max(t.offset+t.width,l)})),c=Math.abs(c),l=Math.abs(l);var u=c+l,d=e-t,p=1-(c+l)/s,f=d/p-d;return e+=f*(l/u),t-=f*(c/u),{min:t,max:e}}function v(t,e){var n=f(t,e),i=n.extent,r=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var o=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:r,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===o||"time"===o?e.get("minInterval"):null,maxInterval:"interval"===o||"time"===o?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s)}function g(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new o(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new s;default:return(a.getClass(e)||s).create(t)}}function _(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||n<0&&i<0)}function y(t){var e=t.getLabelModel().get("formatter"),n="category"===t.type?t.scale.getExtent()[0]:null;return"string"===typeof e?(e=function(e){return function(n){return n=t.scale.getLabel(n),e.replace("{value}",null!=n?n:"")}}(e),e):"function"===typeof e?function(i,r){return null!=n&&(r=i-n),e(E(t,i),r)}:function(e){return t.scale.getLabel(e)}}function E(t,e){return"category"===t.type?t.scale.getLabel(e):e}function b(t){var e=t.model,n=t.scale;if(e.get("axisLabel.show")&&!n.isBlank()){var i,r,o="category"===t.type,s=n.getExtent();o?r=n.count():(i=n.getTicks(),r=i.length);var a,c=t.getLabelModel(),l=y(t),u=1;r>40&&(u=Math.ceil(r/40));for(var d=0;d<r;d+=u){var h=i?i[d]:s[0]+d,p=l(h),f=c.getTextRect(p),m=S(f,c.get("rotate")||0);a?a.union(m):a=m}return a}}function S(t,e){var n=e*Math.PI/180,i=t.plain(),r=i.width,o=i.height,s=r*Math.cos(n)+o*Math.sin(n),a=r*Math.sin(n)+o*Math.cos(n),c=new p(i.x,i.y,s,a);return c}function T(t){var e=t.get("interval");return null==e?"auto":e}function w(t){return"category"===t.type&&0===T(t.getLabelModel())}n("216a"),n("8c2a"),e.getScaleExtent=f,e.niceScaleExtent=v,e.createScaleByModel=g,e.ifAxisCrossZero=_,e.makeLabelFormatter=y,e.getAxisRawValue=E,e.estimateLabelUnionRect=b,e.getOptionCategoryInterval=T,e.shouldShowAllLabels=w},"697e7":function(t,e,n){var i=n("de00"),r=n("22d1"),o=n("6d8b"),s=n("d2cf"),a=n("afa0"),c=n("ed21"),l=n("30a3"),u=n("cdaa"),d=!r.canvasSupported,h={canvas:c},p={},f="4.3.1";function m(t,e){var n=new E(i(),t,e);return p[n.id]=n,n}function v(t){if(t)t.dispose();else{for(var e in p)p.hasOwnProperty(e)&&p[e].dispose();p={}}return this}function g(t){return p[t]}function _(t,e){h[t]=e}function y(t){delete p[t]}var E=function(t,e,n){n=n||{},this.dom=e,this.id=t;var i=this,c=new a,p=n.renderer;if(d){if(!h.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");p="vml"}else p&&h[p]||(p="canvas");var f=new h[p](e,c,n,t);this.storage=c,this.painter=f;var m=r.node||r.worker?null:new u(f.getViewportRoot(),f.root);this.handler=new s(c,f,m,f.root),this.animation=new l({stage:{update:o.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var v=c.delFromStorage,g=c.addToStorage;c.delFromStorage=function(t){v.call(c,t),t&&t.removeSelfFromZr(i)},c.addToStorage=function(t){g.call(c,t),t.addSelfToZr(i)}};E.prototype={constructor:E,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var n=this.painter.addHover(t,e);return this.refreshHover(),n}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,y(this.id)}},e.version=f,e.init=m,e.dispose=v,e.getInstance=g,e.registerPainter=_},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"69ff":function(t,e,n){var i=n("6d8b"),r=i.each,o=i.map,s=i.isFunction,a=i.createHashMap,c=i.noop,l=n("f47d"),u=l.createTask,d=n("8918"),h=d.getUID,p=n("7e63"),f=n("843e"),m=n("e0d3"),v=m.normalizeToArray;function g(t,e,n,i){this.ecInstance=t,this.api=e,this.unfinished;n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice();this._allHandlers=n.concat(i),this._stageTaskMap=a()}var _=g.prototype;function y(t,e,n,i,o){var s;function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}o=o||{},r(e,(function(e,r){if(!o.visualType||o.visualType===e.visualType){var c=t._stageTaskMap.get(e.uid),l=c.seriesTaskMap,u=c.overallTask;if(u){var d,h=u.agentStubMap;h.each((function(t){a(o,t)&&(t.dirty(),d=!0)})),d&&u.dirty(),E(u,i);var p=t.getPerformArgs(u,o.block);h.each((function(t){t.perform(p)})),s|=u.perform(p)}else l&&l.each((function(r,c){a(o,r)&&r.dirty();var l=t.getPerformArgs(r,o.block);l.skip=!e.performRawSeries&&n.isSeriesFiltered(r.context.model),E(r,i),s|=r.perform(l)}))}})),t.unfinished|=s}_.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},_.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,r=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,o=r?n.step:null,s=i&&i.modDataCount,a=null!=s?Math.ceil(s/o):null;return{step:o,modBy:a,modDataCount:s}}},_.getPipeline=function(t){return this._pipelineMap.get(t)},_.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData(),r=i.count(),o=n.progressiveEnabled&&e.incrementalPrepareRender&&r>=n.threshold,s=t.get("large")&&r>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=n.context={progressiveRender:o,modDataCount:a,large:s}},_.restorePipelines=function(t){var e=this,n=e._pipelineMap=a();t.eachSeries((function(t){var i=t.getProgressive(),r=t.uid;n.set(r,{id:r,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),k(e,t,t.dataTask)}))},_.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),n=this.api;r(this._allHandlers,(function(i){var r=t.get(i.uid)||t.set(i.uid,[]);i.reset&&b(this,i,r,e,n),i.overallReset&&S(this,i,r,e,n)}),this)},_.prepareView=function(t,e,n,i){var r=t.renderTask,o=r.context;o.model=e,o.ecModel=n,o.api=i,r.__block=!t.incrementalPrepareRender,k(this,e,r)},_.performDataProcessorTasks=function(t,e){y(this,this._dataProcessorHandlers,t,e,{block:!0})},_.performVisualTasks=function(t,e,n){y(this,this._visualHandlers,t,e,n)},_.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e|=t.dataTask.perform()})),this.unfinished|=e},_.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))};var E=_.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)};function b(t,e,n,i,r){var o=n.seriesTaskMap||(n.seriesTaskMap=a()),s=e.seriesType,c=e.getTargetSeries;function l(n){var s=n.uid,a=o.get(s)||o.set(s,u({plan:R,reset:A,count:D}));a.context={model:n,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},k(t,n,a)}e.createOnAllSeries?i.eachRawSeries(l):s?i.eachRawSeriesByType(s,l):c&&c(i,r).each(l);var d=t._pipelineMap;o.each((function(t,e){d.get(e)||(t.dispose(),o.removeKey(e))}))}function S(t,e,n,i,o){var s=n.overallTask=n.overallTask||u({reset:T});s.context={ecModel:i,api:o,overallReset:e.overallReset,scheduler:t};var c=s.agentStubMap=s.agentStubMap||a(),l=e.seriesType,d=e.getTargetSeries,h=!0,p=e.modifyOutputEnd;function f(e){var n=e.uid,i=c.get(n);i||(i=c.set(n,u({reset:w,onDirty:I})),s.dirty()),i.context={model:e,overallProgress:h,modifyOutputEnd:p},i.agent=s,i.__block=h,k(t,e,i)}l?i.eachRawSeriesByType(l,f):d?d(i,o).each(f):(h=!1,r(i.getSeries(),f));var m=t._pipelineMap;c.each((function(t,e){m.get(e)||(t.dispose(),s.dirty(),c.removeKey(e))}))}function T(t){t.overallReset(t.ecModel,t.api,t.payload)}function w(t,e){return t.overallProgress&&C}function C(){this.agent.dirty(),this.getDownstream().dirty()}function I(){this.agent&&this.agent.dirty()}function R(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function A(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=v(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?o(e,(function(t,e){return x(e)})):O}var O=x(0);function x(t){return function(e,n){var i=n.data,r=n.resetDefines[t];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function D(t){return t.data.count()}function k(t,e,n){var i=e.uid,r=t._pipelineMap.get(i);!r.head&&(r.head=n),r.tail&&r.tail.pipe(n),r.tail=n,n.__idxInPipeline=r.count++,n.__pipeline=r}function N(t){P=null;try{t(L,M)}catch(e){}return P}g.wrapStageHandler=function(t,e){return s(t)&&(t={overallReset:t,seriesType:N(t)}),t.uid=h("stageHandler"),e&&(t.visualType=e),t};var P,L={},M={};function V(t,e){for(var n in e.prototype)t[n]=c}V(L,p),V(M,f),L.eachSeriesByType=L.eachRawSeriesByType=function(t){P=t},L.eachComponent=function(t){"series"===t.mainType&&t.subType&&(P=t.subType)};var U=g;t.exports=U},"6a99":function(t,e,n){var i=n("d3f4");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},"6aa2":function(t,e,n){n("ec30")("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}),!0)},"6b54":function(t,e,n){"use strict";n("3846");var i=n("cb7c"),r=n("0bfb"),o=n("9e1e"),s="toString",a=/./[s],c=function(t){n("2aba")(RegExp.prototype,s,t,!0)};n("79e5")((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?c((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):a.name!=s&&c((function(){return a.call(this)}))},"6c1a":function(t,e,n){var i=n("5ca1"),r=n("2d5c"),o=Math.exp;i(i.S+i.F*n("79e5")((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},"6c37":function(t,e,n){"use strict";n("386b")("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},"6c7b":function(t,e,n){var i=n("5ca1");i(i.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"6cb7":function(t,e,n){var i=n("6d8b"),r=n("4319"),o=n("8918"),s=n("625e"),a=s.enableClassManagement,c=s.parseClassType,l=n("e0d3"),u=l.makeInner,d=n("f934"),h=n("de1c"),p=u(),f=r.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,i){r.call(this,t,e,n,i),this.uid=o.getUID("ec_cpt_model")},init:function(t,e,n,i){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,r=n?d.getLayoutParams(t):{},o=e.getTheme();i.merge(t,o.get(this.mainType)),i.merge(t,this.getDefaultOption()),n&&d.mergeLayoutParam(t,r,n)},mergeOption:function(t,e){i.merge(this.option,t,!0);var n=this.layoutMode;n&&d.mergeLayoutParam(this.option,t,n)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=p(this);if(!t.defaultOption){var e=[],n=this.constructor;while(n){var r=n.prototype.defaultOption;r&&e.push(r),n=n.superClass}for(var o={},s=e.length-1;s>=0;s--)o=i.merge(o,e[s],!0);t.defaultOption=o}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});function m(t){var e=[];return i.each(f.getClassesByMainType(t),(function(t){e=e.concat(t.prototype.dependencies||[])})),e=i.map(e,(function(t){return c(t).main})),"dataset"!==t&&i.indexOf(e,"dataset")<=0&&e.unshift("dataset"),e}a(f,{registerWhenExtend:!0}),o.enableSubTypeDefaulter(f),o.enableTopologicalTravel(f,m),i.mixin(f,h);var v=f;t.exports=v},"6d8b":function(t,e){var n={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},i={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},r=Object.prototype.toString,o=Array.prototype,s=o.forEach,a=o.filter,c=o.slice,l=o.map,u=o.reduce,d={};function h(t,e){"createCanvas"===t&&(_=null),d[t]=e}function p(t){if(null==t||"object"!==typeof t)return t;var e=t,o=r.call(t);if("[object Array]"===o){if(!q(t)){e=[];for(var s=0,a=t.length;s<a;s++)e[s]=p(t[s])}}else if(i[o]){if(!q(t)){var c=t.constructor;if(t.constructor.from)e=c.from(t);else{e=new c(t.length);for(s=0,a=t.length;s<a;s++)e[s]=p(t[s])}}}else if(!n[o]&&!q(t)&&!U(t))for(var l in e={},t)t.hasOwnProperty(l)&&(e[l]=p(t[l]));return e}function f(t,e,n){if(!L(e)||!L(t))return n?p(e):t;for(var i in e)if(e.hasOwnProperty(i)){var r=t[i],o=e[i];!L(o)||!L(r)||k(o)||k(r)||U(o)||U(r)||M(o)||M(r)||q(o)||q(r)?!n&&i in t||(t[i]=p(e[i],!0)):f(r,o,n)}return t}function m(t,e){for(var n=t[0],i=1,r=t.length;i<r;i++)n=f(n,t[i],e);return n}function v(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function g(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}var _,y=function(){return d.createCanvas()};function E(){return _||(_=y().getContext("2d")),_}function b(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1}function S(t,e){var n=t.prototype;function i(){}for(var r in i.prototype=e.prototype,t.prototype=new i,n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);t.prototype.constructor=t,t.superClass=e}function T(t,e,n){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,g(t,e,n)}function w(t){if(t)return"string"!==typeof t&&"number"===typeof t.length}function C(t,e,n){if(t&&e)if(t.forEach&&t.forEach===s)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function I(t,e,n){if(t&&e){if(t.map&&t.map===l)return t.map(e,n);for(var i=[],r=0,o=t.length;r<o;r++)i.push(e.call(n,t[r],r,t));return i}}function R(t,e,n,i){if(t&&e){if(t.reduce&&t.reduce===u)return t.reduce(e,n,i);for(var r=0,o=t.length;r<o;r++)n=e.call(i,n,t[r],r,t);return n}}function A(t,e,n){if(t&&e){if(t.filter&&t.filter===a)return t.filter(e,n);for(var i=[],r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}}function O(t,e,n){if(t&&e)for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return t[i]}function x(t,e){var n=c.call(arguments,2);return function(){return t.apply(e,n.concat(c.call(arguments)))}}function D(t){var e=c.call(arguments,1);return function(){return t.apply(this,e.concat(c.call(arguments)))}}function k(t){return"[object Array]"===r.call(t)}function N(t){return"function"===typeof t}function P(t){return"[object String]"===r.call(t)}function L(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function M(t){return!!n[r.call(t)]}function V(t){return!!i[r.call(t)]}function U(t){return"object"===typeof t&&"number"===typeof t.nodeType&&"object"===typeof t.ownerDocument}function B(t){return t!==t}function j(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]}function F(t,e){return null!=t?t:e}function H(t,e,n){return null!=t?t:null!=e?e:n}function W(){return Function.call.apply(c,arguments)}function G(t){if("number"===typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function $(t,e){if(!t)throw new Error(e)}function z(t){return null==t?null:"function"===typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}d.createCanvas=function(){return document.createElement("canvas")};var Y="__ec_primitive__";function K(t){t[Y]=!0}function q(t){return t[Y]}function X(t){var e=k(t);this.data={};var n=this;function i(t,i){e?n.set(t,i):n.set(i,t)}t instanceof X?t.each(i):t&&C(t,i)}function J(t){return new X(t)}function Z(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];var r=t.length;for(i=0;i<e.length;i++)n[i+r]=e[i];return n}function Q(){}X.prototype={constructor:X,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=x(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}},e.$override=h,e.clone=p,e.merge=f,e.mergeAll=m,e.extend=v,e.defaults=g,e.createCanvas=y,e.getContext=E,e.indexOf=b,e.inherits=S,e.mixin=T,e.isArrayLike=w,e.each=C,e.map=I,e.reduce=R,e.filter=A,e.find=O,e.bind=x,e.curry=D,e.isArray=k,e.isFunction=N,e.isString=P,e.isObject=L,e.isBuiltInObject=M,e.isTypedArray=V,e.isDom=U,e.eqNaN=B,e.retrieve=j,e.retrieve2=F,e.retrieve3=H,e.slice=W,e.normalizeCssArray=G,e.assert=$,e.trim=z,e.setAsPrimitive=K,e.isPrimitive=q,e.createHashMap=J,e.concatArray=Z,e.noop=Q},"6f0c":function(t,e,n){"use strict";function i(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n("7e03")),o=n("4cbb"),s=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-";if(isNaN(t))return i;if(!e)return t;if(o.isFunction(e))return e(t,r);n=isNaN(n)?0:++n;var s=".["+new Array(n).join(0)+"]",a=e;switch(e){case"KMB":a=n?"0,0"+s+"a":"0,0a";break;case"normal":a=n?"0,0"+s:"0,0";break;case"percent":a=n?"0,0"+s+"%":"0,0.[00]%";break}return r(t,a)},a=function(t){var e={};return Object.keys(t).forEach((function(n){t[n].forEach((function(t){e[t]=n}))})),e},c=function(t){return new Promise((function(e,n){var i=new XMLHttpRequest;i.open("GET",t),i.send(null),i.onload=function(){e(JSON.parse(i.responseText))},i.onerror=function(){n(JSON.parse(i.responseText))}}))},l={},u=function(t){var e=t.position,n=t.positionJsonLink,i=t.beforeRegisterMapOnce,r=t.mapURLProfix,o=n||""+r+e+".json";return l[o]||(l[o]=c(o).then((function(t){return i&&(t=i(t)),t}))),l[o]},d=null,h=null,p=function(t,e){return d||(d=new Promise((function(n,i){var r="bmap"+Date.now();window[r]=n;var o=document.createElement("script");o.src=["https://api.map.baidu.com/api?v="+(e||"2.0"),"ak="+t,"callback="+r].join("&"),document.body.appendChild(o)}))),d},f=function(t,e){return h||(h=new Promise((function(n,i){var r="amap"+Date.now();window[r]=n;var o=document.createElement("script");o.src=["https://webapi.amap.com/maps?v="+(e||"1.4.3"),"key="+t,"callback="+r].join("&"),document.body.appendChild(o)}))),h};function m(t,e,n){void 0!==t[e]?t[e].push(n):t[e]=[n]}e.getFormated=s,e.getStackMap=a,e.$get=c,e.getMapJSON=u,e.getBmap=p,e.getAmap=f,e.setArrayValue=m},"71ad":function(t,e,n){var i=n("6d8b"),r={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},o={};o.categoryAxis=i.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},r),o.valueAxis=i.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},r),o.timeAxis=i.defaults({scale:!0,min:"dataMin",max:"dataMax"},o.valueAxis),o.logAxis=i.defaults({scale:!0,logBase:10},o.valueAxis);var s=o;t.exports=s},7333:function(t,e,n){"use strict";var i=n("9e1e"),r=n("0d58"),o=n("2621"),s=n("52a7"),a=n("4bf8"),c=n("626a"),l=Object.assign;t.exports=!l||n("79e5")((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i}))?function(t,e){var n=a(t),l=arguments.length,u=1,d=o.f,h=s.f;while(l>u){var p,f=c(arguments[u++]),m=d?r(f).concat(d(f)):r(f),v=m.length,g=0;while(v>g)p=m[g++],i&&!h.call(f,p)||(n[p]=f[p])}return n}:l},"744f":function(t,e,n){var i=n("5ca1");i(i.P,"Array",{copyWithin:n("ba92")}),n("9c6c")("copyWithin")},"74cb":function(t,e){var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},elasticOut:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},elasticInOut:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}},i=n;t.exports=i},7514:function(t,e,n){"use strict";var i=n("5ca1"),r=n("0a49")(5),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),i(i.P+i.F*s,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"76a5":function(t,e,n){var i=n("19eb"),r=n("6d8b"),o=n("e86a"),s=n("a73c"),a=n("82eb"),c=a.ContextCachedBy,l=function(t){i.call(this,t)};l.prototype={constructor:l,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&s.normalizeTextStyle(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=""),s.needDrawText(i,n)?(this.setTransform(t),s.renderText(this,t,i,n,null,e),this.restoreTransform(t)):t.__attrCachedBy=c.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&s.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var n=o.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(n.x+=t.x||0,n.y+=t.y||0,s.getStroke(t.textStroke,t.textStrokeWidth)){var i=t.textStrokeWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect}},r.inherits(l,i);var u=l;t.exports=u},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var i=n("4588"),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},7872:function(t,e,n){var i=n("5ca1");i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},"788d":function(t,e,n){var i=n("5ca1"),r=n("6821"),o=n("9def");i(i.S,"String",{raw:function(t){var e=r(t.raw),n=o(e.length),i=arguments.length,s=[],a=0;while(n>a)s.push(String(e[a++])),a<i&&s.push(String(arguments[a]));return s.join("")}})},7919:function(t,e,n){var i=n("f934"),r=i.getLayoutRect,o=i.box,s=i.positionElement,a=n("eda2"),c=n("2306");function l(t,e,n){var i=e.getBoxLayoutParams(),a=e.get("padding"),c={width:n.getWidth(),height:n.getHeight()},l=r(i,c,a);o(e.get("orient"),t,e.get("itemGap"),l.width,l.height),s(t,i,c,a)}function u(t,e){var n=a.normalizeCssArray(e.get("padding")),i=e.getItemStyle(["color","opacity"]);i.fill=e.get("backgroundColor");t=new c.Rect({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1});return t}e.layout=l,e.makeBackground=u},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a56":function(t,e,n){"use strict";var i=n("7726"),r=n("86cc"),o=n("9e1e"),s=n("2b4c")("species");t.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},"7bbc":function(t,e,n){var i=n("6821"),r=n("9093").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):r(i(t))}},"7cdf":function(t,e,n){var i=n("5ca1");i(i.S,"Number",{isInteger:n("9c12")})},"7d6d":function(t,e){var n={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function i(t,e,i){return n.hasOwnProperty(e)?i*t.dpr:i}t.exports=i},"7e03":function(t,e,n){"use strict";n.r(e);var i={th:3,mi:6,bi:9,tr:12},r={zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0,abbrLabel:{th:"k",mi:"m",bi:"b",tr:"t"}},o=1e12,s=1e9,a=1e6,c=1e3;function l(t){return"number"===typeof t&&isNaN(t)}function u(t,e,n,i){var r=t.toString().split("."),o=e-(i||0),s=2===r.length?Math.min(Math.max(r[1].length,o),e):o,a=Math.pow(10,s),c=(n(t+"e+"+s)/a).toFixed(s);if(i>e-s){var l=new RegExp("\\.?0{1,"+(i-(e-s))+"}$");c=c.replace(l,"")}return c}function d(t,e,n,r){var l=Math.abs(e),d=!1,h=!1,p="",f="",m=!1,v=void 0,g=void 0;n=n||"",e=e||0,~n.indexOf("(")?(d=!0,n=n.replace(/[(|)]/g,"")):(~n.indexOf("+")||~n.indexOf("-"))&&(g=~n.indexOf("+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[+|-]/g,"")),~n.indexOf("a")&&(v=n.match(/a(k|m|b|t)?/),v=!!v&&v[1],~n.indexOf(" a")&&(p=" "),n=n.replace(new RegExp(p+"a[kmbt]?"),""),l>=o&&!v||"t"===v?(p+=t.abbrLabel.tr,e/=o):l<o&&l>=s&&!v||"b"===v?(p+=t.abbrLabel.bi,e/=s):l<s&&l>=a&&!v||"m"===v?(p+=t.abbrLabel.mi,e/=a):(l<a&&l>=c&&!v||"k"===v)&&(p+=t.abbrLabel.th,e/=c)),~n.indexOf("[.]")&&(h=!0,n=n.replace("[.]","."));var _=e.toString().split(".")[0],y=n.split(".")[1],E=n.indexOf(","),b=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length;if(y?(~y.indexOf("[")?(y=y.replace("]",""),y=y.split("["),f=u(e,y[0].length+y[1].length,r,y[1].length)):f=u(e,y.length,r),_=f.split(".")[0],f=~f.indexOf(".")?"."+f.split(".")[1]:"",h&&0===+f.slice(1)&&(f="")):_=u(e,0,r),p&&!v&&+_>=1e3&&p!==i.trillion&&(_=""+ +_/1e3,p=i.million),~_.indexOf("-")&&(_=_.slice(1),m=!0),_.length<b)for(var S=b-_.length;S>0;S--)_="0"+_;E>-1&&(_=_.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),n.indexOf(".")||(_="");var T=_+f+(p||"");return d?T=(d&&m?"(":"")+T+(d&&m?")":""):g>=0?T=0===g?(m?"-":"+")+T:T+(m?"-":"+"):m&&(T="-"+T),T}function h(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}var p={regexp:/%/,format:function(t,e,n,i){var r=~e.indexOf(" %")?" ":"",o=void 0;return i.options.scalePercentBy100&&(t*=100),e=e.replace(/\s?%/,""),o=i._numberToFormat(t,e,n),~o.indexOf(")")?(o=o.split(""),o.splice(-1,0,r+"%"),o=o.join("")):o=o+r+"%",o}},f={},m={};function v(t,e,n){e=e||f.defaultFormat,n=n||Math.round;var i=void 0,r=void 0;if(0===t&&null!==f.zeroFormat)i=f.zeroFormat;else if(null===t&&null!==f.nullFormat)i=f.nullFormat;else{for(var o in m)if(m[o]&&e.match(m[o].regexp)){r=m[o].format;break}r=r||d.bind(null,f),i=r(t,e,n,g)}return i}function g(t,e,n){var i=void 0;return i=0===t||"undefined"===typeof t?0:null===t||l(t)?null:"string"===typeof t?f.zeroFormat&&t===f.zeroFormat?0:f.nullFormat&&t===f.nullFormat||!t.replace(/[^0-9]+/g,"").length?null:+t:+t||null,v(i,e,n)}h(f,r),g.options=f,g._numberToFormat=d.bind(null,f),g.register=function(t,e){m[t]=e},g.unregister=function(t){m[t]=null},g.setOptions=function(t){h(f,t)},g.reset=function(){h(f,r)},g.register("percentage",p),e["default"]=g},"7e63":function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("6d8b")),o=r.each,s=r.filter,a=r.map,c=r.isArray,l=r.indexOf,u=r.isObject,d=r.isString,h=r.createHashMap,p=r.assert,f=r.clone,m=r.merge,v=r.extend,g=r.mixin,_=n("e0d3"),y=n("4319"),E=n("6cb7"),b=n("8971"),S=n("e47b"),T=n("0f99"),w=T.resetSourceDefaulter,C="\0_ec_inner",I=y.extend({init:function(t,e,n,i){n=n||{},this.option=null,this._theme=new y(n),this._optionManager=i},setOption:function(t,e){p(!(C in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var i=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(i)):O.call(this,i),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var r=n.getTimelineOption(this);r&&(this.mergeOption(r),e=!0)}if(!t||"recreate"===t||"media"===t){var s=n.getMediaOption(this,this._api);s.length&&o(s,(function(t){this.mergeOption(t,e=!0)}),this)}return e},mergeOption:function(t){var e=this.option,n=this._componentsMap,i=[];function r(i,r){var s=_.normalizeToArray(t[i]),a=_.mappingToExists(n.get(i),s);_.makeIdAndName(a),o(a,(function(t,e){var n=t.option;u(n)&&(t.keyInfo.mainType=i,t.keyInfo.subType=D(i,n,t.exist))}));var c=x(n,r);e[i]=[],n.set(i,[]),o(a,(function(t,r){var o=t.exist,s=t.option;if(p(u(s)||o,"Empty component definition"),s){var a=E.getClass(i,t.keyInfo.subType,!0);if(o&&o.constructor===a)o.name=t.keyInfo.name,o.mergeOption(s,this),o.optionUpdated(s,!1);else{var l=v({dependentModels:c,componentIndex:r},t.keyInfo);o=new a(s,this,this,l),v(o,l),o.init(s,this,this,l),o.optionUpdated(null,!0)}}else o.mergeOption({},this),o.optionUpdated({},!1);n.get(i)[r]=o,e[i][r]=o.option}),this),"series"===i&&k(this,n.get("series"))}w(this),o(t,(function(t,n){null!=t&&(E.hasClass(n)?n&&i.push(n):e[n]=null==e[n]?f(t):m(e[n],t,!0))})),E.topologicalTravel(i,E.getAllClassMainTypes(),r,this),this._seriesIndicesMap=h(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=f(this.option);return o(t,(function(e,n){if(E.hasClass(n)){e=_.normalizeToArray(e);for(var i=e.length-1;i>=0;i--)_.isIdInner(e[i])&&e.splice(i,1);t[n]=e}})),delete t[C],t},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap.get(t);if(n)return n[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,i=t.index,r=t.id,o=t.name,u=this._componentsMap.get(e);if(!u||!u.length)return[];if(null!=i)c(i)||(i=[i]),n=s(a(i,(function(t){return u[t]})),(function(t){return!!t}));else if(null!=r){var d=c(r);n=s(u,(function(t){return d&&l(r,t.id)>=0||!d&&t.id===r}))}else if(null!=o){var h=c(o);n=s(u,(function(t){return h&&l(o,t.name)>=0||!h&&t.name===o}))}else n=u.slice();return N(n,t)},findComponents:function(t){var e=t.query,n=t.mainType,i=o(e),r=i?this.queryComponents(i):this._componentsMap.get(n);return a(N(r,t));function o(t){var e=n+"Index",i=n+"Id",r=n+"Name";return!t||null==t[e]&&null==t[i]&&null==t[r]?null:{mainType:n,index:t[e],id:t[i],name:t[r]}}function a(e){return t.filter?s(e,t.filter):e}},eachComponent:function(t,e,n){var i=this._componentsMap;if("function"===typeof t)n=e,e=t,i.each((function(t,i){o(t,(function(t,r){e.call(n,i,t,r)}))}));else if(d(t))o(i.get(t),e,n);else if(u(t)){var r=this.findComponents(t);o(r,e,n)}},getSeriesByName:function(t){var e=this._componentsMap.get("series");return s(e,(function(e){return e.name===t}))},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){var e=this._componentsMap.get("series");return s(e,(function(e){return e.subType===t}))},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){P(this),o(this._seriesIndices,(function(n){var i=this._componentsMap.get("series")[n];t.call(e,i,n)}),this)},eachRawSeries:function(t,e){o(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,n){P(this),o(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];r.subType===t&&e.call(n,r,i)}),this)},eachRawSeriesByType:function(t,e,n){return o(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return P(this),null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){P(this);var n=s(this._componentsMap.get("series"),t,e);k(this,n)},restoreData:function(t){var e=this._componentsMap;k(this,e.get("series"));var n=[];e.each((function(t,e){n.push(e)})),E.topologicalTravel(n,E.getAllClassMainTypes(),(function(n,i){o(e.get(n),(function(e){("series"!==n||!R(e,t))&&e.restoreData()}))}))}});function R(t,e){if(e){var n=e.seiresIndex,i=e.seriesId,r=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=r&&t.name!==r}}function A(t,e){var n=t.color&&!t.colorLayer;o(e,(function(e,i){"colorLayer"===i&&n||E.hasClass(i)||("object"===typeof e?t[i]=t[i]?m(t[i],e,!1):f(e):null==t[i]&&(t[i]=e))}))}function O(t){t=t,this.option={},this.option[C]=1,this._componentsMap=h({series:[]}),this._seriesIndices,this._seriesIndicesMap,A(t,this._theme.option),m(t,b,!1),this.mergeOption(t)}function x(t,e){c(e)||(e=e?[e]:[]);var n={};return o(e,(function(e){n[e]=(t.get(e)||[]).slice()})),n}function D(t,e,n){var i=e.type?e.type:n?n.subType:E.determineSubType(t,e);return i}function k(t,e){t._seriesIndicesMap=h(t._seriesIndices=a(e,(function(t){return t.componentIndex}))||[])}function N(t,e){return e.hasOwnProperty("subType")?s(t,(function(t){return t.subType===e.subType})):t}function P(t){}g(I,S);var L=I;t.exports=L},"7f20":function(t,e,n){var i=n("86cc").f,r=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},"7f25":function(t,e,n){var i=n("5ca1"),r=n("d6c6"),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},"7f7f":function(t,e,n){var i=n("86cc").f,r=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in r||n("9e1e")&&i(r,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},"7f96":function(t,e,n){var i=n("6d8b"),r=i.isFunction;function o(t,e,n){return{seriesType:t,performRawSeries:!0,reset:function(t,i,o){var s=t.getData(),a=t.get("symbol"),c=t.get("symbolSize"),l=t.get("symbolKeepAspect"),u=t.get("symbolRotate"),d=r(a),h=r(c),p=r(u),f=d||h||p,m=!d&&a?a:e,v=h?null:c;if(s.setVisual({legendSymbol:n||m,symbol:m,symbolSize:v,symbolKeepAspect:l,symbolRotate:u}),!i.isSeriesFiltered(t))return{dataEach:s.hasItemOption||f?g:null};function g(e,n){if(f){var i=t.getRawValue(n),r=t.getDataParams(n);d&&e.setItemVisual(n,"symbol",a(i,r)),h&&e.setItemVisual(n,"symbolSize",c(i,r)),p&&e.setItemVisual(n,"symbolRotate",u(i,r))}if(e.hasItemOption){var o=e.getItemModel(n),s=o.getShallow("symbol",!0),l=o.getShallow("symbolSize",!0),m=o.getShallow("symbolRotate",!0),v=o.getShallow("symbolKeepAspect",!0);null!=s&&e.setItemVisual(n,"symbol",s),null!=l&&e.setItemVisual(n,"symbolSize",l),null!=m&&e.setItemVisual(n,"symbolRotate",m),null!=v&&e.setItemVisual(n,"symbolKeepAspect",v)}}}}}t.exports=o},8079:function(t,e,n){var i=n("7726"),r=n("1991").set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,c="process"==n("2d95")(s);t.exports=function(){var t,e,n,l=function(){var i,r;c&&(i=s.domain)&&i.exit();while(t){r=t.fn,t=t.next;try{r()}catch(o){throw t?n():e=void 0,o}}e=void 0,i&&i.enter()};if(c)n=function(){s.nextTick(l)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);n=function(){u.then(l)}}else n=function(){r.call(i,l)};else{var d=!0,h=document.createTextNode("");new o(l).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},"80f0":function(t,e){function n(t){return t}function i(t,e,i,r,o){this._old=t,this._new=e,this._oldKeyGetter=i||n,this._newKeyGetter=r||n,this.context=o}function r(t,e,n,i,r){for(var o=0;o<t.length;o++){var s="_ec_"+r[i](t[o],o),a=e[s];null==a?(n.push(s),e[s]=o):(a.length||(e[s]=a=[a]),a.push(o))}}i.prototype={constructor:i,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,n={},i={},o=[],s=[];for(r(t,n,o,"_oldKeyGetter",this),r(e,i,s,"_newKeyGetter",this),u=0;u<t.length;u++){var a=o[u],c=i[a];if(null!=c){var l=c.length;l?(1===l&&(i[a]=null),c=c.shift()):i[a]=null,this._update&&this._update(c,u)}else this._remove&&this._remove(u)}for(var u=0;u<s.length;u++){a=s[u];if(i.hasOwnProperty(a)){c=i[a];if(null==c)continue;if(c.length){var d=0;for(l=c.length;d<l;d++)this._add&&this._add(c[d])}else this._add&&this._add(c)}}}};var o=i;t.exports=o},"82eb":function(t,e){var n={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},i=9;e.ContextCachedBy=n,e.WILL_BE_RESTORED=i},"82f9":function(t,e,n){var i=n("6d8b"),r=n("76a5");function o(t){this._zr=t.getZr(),this._show=!1,this._hideTimeout}o.prototype={constructor:o,_enterable:!0,update:function(){},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,n){this.el&&this._zr.remove(this.el);var i={},o=t,s="{marker",a="|}",c=o.indexOf(s);while(c>=0){var l=o.indexOf(a),u=o.substr(c+s.length,l-c-s.length);u.indexOf("sub")>-1?i["marker"+u]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[u],textOffset:[3,0]}:i["marker"+u]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[u]},o=o.substr(l+1),c=o.indexOf("{marker")}this.el=new r({style:{rich:i,text:t,textLineHeight:20,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding")},z:n.get("z")}),this._zr.add(this.el);var d=this;this.el.on("mouseover",(function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0})),this.el.on("mouseout",(function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1}))},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){this.el&&this.el.attr("position",[t,e])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(i.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}};var s=o;t.exports=s},8378:function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},8381:function(t,e,n){"use strict";var i=n("cb7c"),r=n("6a99"),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),t!=o)}},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"843e":function(t,e,n){var i=n("6d8b"),r=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function o(t){i.each(r,(function(e){this[e]=i.bind(t[e],t)}),this)}var s=o;t.exports=s},8449:function(t,e,n){"use strict";n("386b")("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},"84b4":function(t,e,n){var i=n("5ca1");i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},"84ce":function(t,e,n){var i=n("6d8b"),r=i.each,o=i.map,s=n("3842"),a=s.linearMap,c=s.getPixelPrecision,l=s.round,u=n("e073"),d=u.createAxisTicks,h=u.createAxisLabels,p=u.calculateCategoryInterval,f=[0,1],m=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};function v(t,e){var n=t[1]-t[0],i=e,r=n/i/2;t[0]+=r,t[1]-=r}function g(t,e,n,i){var o=e.length;if(t.onBand&&!n&&o){var s,a,c=t.getExtent();if(1===o)e[0].coord=c[0],s=e[1]={coord:c[0]};else{var u=e[o-1].tickValue-e[0].tickValue,d=(e[o-1].coord-e[0].coord)/u;r(e,(function(t){t.coord-=d/2}));var h=t.scale.getExtent();a=1+h[1]-e[o-1].tickValue,s={coord:e[o-1].coord+d*a},e.push(s)}var p=c[0]>c[1];f(e[0].coord,c[0])&&(i?e[0].coord=c[0]:e.shift()),i&&f(c[0],e[0].coord)&&e.unshift({coord:c[0]}),f(c[1],s.coord)&&(i?s.coord=c[1]:e.pop()),i&&f(s.coord,c[1])&&e.push({coord:c[1]})}function f(t,e){return t=l(t),e=l(e),p?t>e:t<e}}m.prototype={constructor:m,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},containData:function(t){return this.scale.contain(t)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return c(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&(n=n.slice(),v(n,i.count())),a(t,f,n,e)},coordToData:function(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&(n=n.slice(),v(n,i.count()));var r=a(t,n,f,e);return this.scale.scale(r)},pointToData:function(t,e){},getTicksCoords:function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=d(this,e),i=n.ticks,r=o(i,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this),s=e.get("alignWithLabel");return g(this,r,s,t.clamp),r},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e),i=o(n,(function(t){return o(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this);return i},getViewLabels:function(){return h(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return p(this)}};var _=m;t.exports=_},"84d5":function(t,e,n){var i=n("3eba"),r=n("6d8b"),o=n("4319"),s=n("e0d3"),a=s.isNameSpecified,c=n("29a8"),l=c.legend.selector,u={all:{type:"all",title:r.clone(l.all)},inverse:{type:"inverse",title:r.clone(l.inverse)}},d=i.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},mergeOption:function(t){d.superCall(this,"mergeOption",t),this._updateSelector(t)},_updateSelector:function(t){var e=t.selector;!0===e&&(e=t.selector=["all","inverse"]),r.isArray(e)&&r.each(e,(function(t,n){r.isString(t)&&(t={type:t}),e[n]=r.merge(t,u[t.type])}))},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],n=[];t.eachRawSeries((function(i){var r,o=i.name;if(n.push(o),i.legendVisualProvider){var s=i.legendVisualProvider,c=s.getAllNames();t.isSeriesFiltered(i)||(n=n.concat(c)),c.length?e=e.concat(c):r=!0}else r=!0;r&&a(i)&&e.push(i.name)})),this._availableNames=n;var i=this.get("data")||e,s=r.map(i,(function(t){return"string"!==typeof t&&"number"!==typeof t||(t={name:t}),new o(t,this,this.ecModel)}),this);this._data=s},getData:function(){return this._data},select:function(t){var e=this.option.selected,n=this.get("selectedMode");if("single"===n){var i=this._data;r.each(i,(function(t){e[t.get("name")]=!1}))}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},allSelect:function(){var t=this._data,e=this.option.selected;r.each(t,(function(t){e[t.get("name",!0)]=!0}))},inverseSelect:function(){var t=this._data,e=this.option.selected;r.each(t,(function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]}))},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&r.indexOf(this._availableNames,t)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),h=d;t.exports=h},"84ec":function(t,e){var n=Math.log(2);function i(t,e,r,o,s,a){var c=o+"-"+s,l=t.length;if(a.hasOwnProperty(c))return a[c];if(1===e){var u=Math.round(Math.log((1<<l)-1&~s)/n);return t[r][u]}var d=o|1<<r,h=r+1;while(o&1<<h)h++;for(var p=0,f=0,m=0;f<l;f++){var v=1<<f;v&s||(p+=(m%2?-1:1)*t[r][f]*i(t,e-1,h,d,s|v,a),m++)}return a[c]=p,p}function r(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},o=i(n,8,0,0,0,r);if(0!==o){for(var s=[],a=0;a<8;a++)for(var c=0;c<8;c++)null==s[c]&&(s[c]=0),s[c]+=((a+c)%2?-1:1)*i(n,7,0===a?1:0,1<<a,1<<c,r)/o*e[a];return function(t,e,n){var i=e*s[6]+n*s[7]+1;t[0]=(e*s[0]+n*s[1]+s[2])/i,t[1]=(e*s[3]+n*s[4]+s[5])/i}}}e.buildTransformer=r},"84f2":function(t,e){t.exports={}},"857d":function(t,e){var n=2*Math.PI;function i(t){return t%=n,t<0&&(t+=n),t}e.normalizeRadian=i},8615:function(t,e,n){var i=n("5ca1"),r=n("504c")(!1);i(i.S,"Object",{values:function(t){return r(t)}})},"862d":function(t,e,n){var i=n("6d8b"),r=i.createHashMap,o=i.each,s=i.isString,a=i.defaults,c=i.extend,l=i.isObject,u=i.clone,d=n("e0d3"),h=d.normalizeToArray,p=n("0f99"),f=p.guessOrdinal,m=p.BE_ORDINAL,v=n("ec6f"),g=n("2f45"),_=g.OTHER_DIMENSIONS,y=n("562e");function E(t,e,n){v.isInstance(e)||(e=v.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var i=(n.dimsDef||[]).slice(),d=r(),p=r(),g=[],E=b(e,t,i,n.dimCount),T=0;T<E;T++){var w=i[T]=c({},l(i[T])?i[T]:{name:i[T]}),C=w.name,I=g[T]=new y;null!=C&&null==d.get(C)&&(I.name=I.displayName=C,d.set(C,T)),null!=w.type&&(I.type=w.type),null!=w.displayName&&(I.displayName=w.displayName)}var R=n.encodeDef;!R&&n.encodeDefaulter&&(R=n.encodeDefaulter(e,E)),R=r(R),R.each((function(t,e){if(t=h(t).slice(),1===t.length&&!s(t[0])&&t[0]<0)R.set(e,!1);else{var n=R.set(e,[]);o(t,(function(t,i){s(t)&&(t=d.get(t)),null!=t&&t<E&&(n[i]=t,O(g[t],e,i))}))}}));var A=0;function O(t,e,n){null!=_.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,p.set(e,!0))}o(t,(function(t,e){var n,i,r;if(s(t))n=t,t={};else{n=t.name;var c=t.ordinalMeta;t.ordinalMeta=null,t=u(t),t.ordinalMeta=c,i=t.dimsDef,r=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var d=R.get(n);if(!1!==d){d=h(d);if(!d.length)for(var p=0;p<(i&&i.length||1);p++){while(A<g.length&&null!=g[A].coordDim)A++;A<g.length&&d.push(A++)}o(d,(function(e,o){var s=g[e];if(O(a(s,t),n,o),null==s.name&&i){var c=i[o];!l(c)&&(c={name:c}),s.name=s.displayName=c.name,s.defaultTooltip=c.defaultTooltip}r&&a(s.otherDims,r)}))}}));var x=n.generateCoord,D=n.generateCoordCount,k=null!=D;D=x?D||1:0;for(var N=x||"value",P=0;P<E;P++){I=g[P]=g[P]||new y;var L=I.coordDim;null==L&&(I.coordDim=S(N,p,k),I.coordDimIndex=0,(!x||D<=0)&&(I.isExtraCoord=!0),D--),null==I.name&&(I.name=S(I.coordDim,d)),null!=I.type||f(e,P,I.name)!==m.Must&&(!I.isExtraCoord||null==I.otherDims.itemName&&null==I.otherDims.seriesName)||(I.type="ordinal")}return g}function b(t,e,n,i){var r=Math.max(t.dimensionsDetectCount||1,e.length,n.length,i||0);return o(e,(function(t){var e=t.dimsDef;e&&(r=Math.max(r,e.length))})),r}function S(t,e,n){if(n||null!=e.get(t)){var i=0;while(null!=e.get(t+i))i++;t+=i}return e.set(t,!0),t}var T=E;t.exports=T},"86cc":function(t,e,n){var i=n("cb7c"),r=n("c69a"),o=n("6a99"),s=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},8728:function(t,e){function n(t,e,n,i,r,o){if(o>e&&o>i||o<e&&o<i)return 0;if(i===e)return 0;var s=i<e?1:-1,a=(o-e)/(i-e);1!==a&&0!==a||(s=i<e?.5:-.5);var c=a*(n-t)+t;return c===r?1/0:c>r?s:0}t.exports=n},"87b1":function(t,e,n){var i=n("cbe5"),r=n("4fac"),o=i.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){r.buildPath(t,e,!0)}});t.exports=o},"87c3":function(t,e,n){var i=n("6d8b"),r=i.map,o=n("cccd"),s=n("ee1a"),a=s.isDimensionStacked;function c(t){return{seriesType:t,plan:o(),reset:function(t){var e=t.getData(),n=t.coordinateSystem,i=t.pipelineContext,o=i.large;if(n){var s=r(n.dimensions,(function(t){return e.mapDimension(t)})).slice(0,2),c=s.length,l=e.getCalculationInfo("stackResultDimension");return a(e,s[0])&&(s[0]=l),a(e,s[1])&&(s[1]=l),c&&{progress:u}}function u(t,e){for(var i=t.end-t.start,r=o&&new Float32Array(i*c),a=t.start,l=0,u=[],d=[];a<t.end;a++){var h;if(1===c){var p=e.get(s[0],a);h=!isNaN(p)&&n.dataToPoint(p,null,d)}else{p=u[0]=e.get(s[0],a);var f=u[1]=e.get(s[1],a);h=!isNaN(p)&&!isNaN(f)&&n.dataToPoint(u,null,d)}o?(r[l++]=h?h[0]:NaN,r[l++]=h?h[1]:NaN):e.setItemLayout(a,h&&h.slice()||[NaN,NaN])}o&&e.setLayout("symbolPoints",r)}}}}t.exports=c},"87f3":function(t,e,n){var i=n("5ca1");i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},"88b3":function(t,e){var n="\0__throttleOriginMethod",i="\0__throttleRate",r="\0__throttleType";function o(t,e,n){var i,r,o,s,a,c=0,l=0,u=null;function d(){l=(new Date).getTime(),u=null,t.apply(o,s||[])}e=e||0;var h=function(){i=(new Date).getTime(),o=this,s=arguments;var t=a||e,h=a||n;a=null,r=i-(h?c:l)-t,clearTimeout(u),h?u=setTimeout(d,t):r>=0?d():u=setTimeout(d,-r),c=i};return h.clear=function(){u&&(clearTimeout(u),u=null)},h.debounceNextCall=function(t){a=t},h}function s(t,e,s,a){var c=t[e];if(c){var l=c[n]||c,u=c[r],d=c[i];if(d!==s||u!==a){if(null==s||!a)return t[e]=l;c=t[e]=o(l,s,"debounce"===a),c[n]=l,c[r]=a,c[i]=s}return c}}function a(t,e){var i=t[e];i&&i[n]&&(t[e]=i[n])}e.throttle=o,e.createOrUpdate=s,e.clear=a},"88ca":function(t,e,n){var i=n("86cc"),r=n("5ca1"),o=n("cb7c"),s=n("6a99");r(r.S+r.F*n("79e5")((function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return i.f(t,e,n),!0}catch(r){return!1}}})},8918:function(t,e,n){var i=n("6d8b"),r=n("625e"),o=r.parseClassType,s=0;function a(t){return[t||"",s++,Math.random().toFixed(5)].join("_")}function c(t){var e={};return t.registerSubTypeDefaulter=function(t,n){t=o(t),e[t.main]=n},t.determineSubType=function(n,i){var r=i.type;if(!r){var s=o(n).main;t.hasSubTypes(n)&&e[s]&&(r=e[s](i))}return r},t}function l(t,e){function n(t){var n={},s=[];return i.each(t,(function(a){var c=r(n,a),l=c.originalDeps=e(a),u=o(l,t);c.entryCount=u.length,0===c.entryCount&&s.push(a),i.each(u,(function(t){i.indexOf(c.predecessor,t)<0&&c.predecessor.push(t);var e=r(n,t);i.indexOf(e.successor,t)<0&&e.successor.push(a)}))})),{graph:n,noEntryList:s}}function r(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function o(t,e){var n=[];return i.each(t,(function(t){i.indexOf(e,t)>=0&&n.push(t)})),n}t.topologicalTravel=function(t,e,r,o){if(t.length){var s=n(e),a=s.graph,c=s.noEntryList,l={};i.each(t,(function(t){l[t]=!0}));while(c.length){var u=c.pop(),d=a[u],h=!!l[u];h&&(r.call(o,u,d.originalDeps.slice()),delete l[u]),i.each(d.successor,h?f:p)}i.each(l,(function(){throw new Error("Circle dependency may exists")}))}function p(t){a[t].entryCount--,0===a[t].entryCount&&c.push(t)}function f(t){l[t]=!0,p(t)}}}e.getUID=a,e.enableSubTypeDefaulter=c,e.enableTopologicalTravel=l},8971:function(t,e){var n="";"undefined"!==typeof navigator&&(n=navigator.platform||"");var i={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:n.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};t.exports=i},"897a":function(t,e,n){var i=n("22d1"),r=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function o(t){return i.browser.ie&&i.browser.version>=11?function(){var e,n=this.__clipPaths,i=this.style;if(n)for(var o=0;o<n.length;o++){var s=n[o],a=s&&s.shape,c=s&&s.type;if(a&&("sector"===c&&a.startAngle===a.endAngle||"rect"===c&&(!a.width||!a.height))){for(var l=0;l<r.length;l++)r[l][2]=i[r[l][0]],i[r[l][0]]=r[l][1];e=!0;break}}if(t.apply(this,arguments),e)for(l=0;l<r.length;l++)i[r[l][0]]=r[l][2]}:t}t.exports=o},"89d6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={categoryAxis:{axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1}},line:{smooth:!0},grid:{containLabel:!0,left:10,right:10}},r=["#19d4ae","#5ab1ef","#fa6e86","#ffb980","#0067a6","#c4b4e4","#d87a80","#9cbbff","#d9d0c7","#87a997","#d49ea2","#5b4947","#7ba3a8"],o=["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"],s=["blue","blue","green","yellow","red"],a=function(t){return['<span style="',"background-color:"+t+";","display: inline-block;","width: 10px;","height: 10px;","border-radius: 50%;","margin-right:2px;",'"></span>'].join("")},c=["initOptions","loading","dataEmpty","judgeWidth","widthChangeDelay"],l=["grid","dataZoom","visualMap","toolbox","title","legend","xAxis","yAxis","radar","tooltip","axisPointer","brush","geo","timeline","graphic","series","backgroundColor","textStyle"];e.DEFAULT_THEME=i,e.DEFAULT_COLORS=r,e.HEAT_MAP_COLOR=o,e.HEAT_BMAP_COLOR=s,e.itemPoint=a,e.STATIC_PROPS=c,e.ECHARTS_SETTINGS=l},"89e3":function(t,e,n){var i=n("3842"),r=n("eda2"),o=n("e0d8"),s=n("944e"),a=i.round,c=o.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),c.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=s.getIntervalPrecision(t)},getTicks:function(t){var e=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,o=[];if(!e)return o;var s=1e4;n[0]<i[0]&&(t?o.push(a(i[0]-e,r)):o.push(n[0]));var c=i[0];while(c<=i[1]){if(o.push(c),c=a(c+e,r),c===o[o.length-1])break;if(o.length>s)return[]}var l=o.length?o[o.length-1]:i[1];return n[1]>l&&(t?o.push(a(l+e,r)):o.push(n[1])),o},getMinorTicks:function(t){for(var e=this.getTicks(!0),n=[],r=this.getExtent(),o=1;o<e.length;o++){var s=e[o],a=e[o-1],c=0,l=[],u=s-a,d=u/t;while(c<t-1){var h=i.round(a+(c+1)*d);h>r[0]&&h<r[1]&&l.push(h),c++}n.push(l)}return n},getLabel:function(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=i.getPrecisionSafe(t)||0:"auto"===n&&(n=this._intervalPrecision),t=a(t,n,!0),r.addCommas(t)},niceTicks:function(t,e,n){t=t||5;var i=this._extent,r=i[1]-i[0];if(isFinite(r)){r<0&&(r=-r,i.reverse());var o=s.intervalScaleNiceTicks(i,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax||(e[1]+=n/2),e[0]-=n/2}else e[1]=1;var i=e[1]-e[0];isFinite(i)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=a(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=a(Math.ceil(e[1]/r)*r))}});c.create=function(){return new c};var l=c;t.exports=l},"8a81":function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),o=n("9e1e"),s=n("5ca1"),a=n("2aba"),c=n("67ab").KEY,l=n("79e5"),u=n("5537"),d=n("7f20"),h=n("ca5a"),p=n("2b4c"),f=n("37c8"),m=n("3a72"),v=n("d4c0"),g=n("1169"),_=n("cb7c"),y=n("d3f4"),E=n("4bf8"),b=n("6821"),S=n("6a99"),T=n("4630"),w=n("2aeb"),C=n("7bbc"),I=n("11e9"),R=n("2621"),A=n("86cc"),O=n("0d58"),x=I.f,D=A.f,k=C.f,N=i.Symbol,P=i.JSON,L=P&&P.stringify,M="prototype",V=p("_hidden"),U=p("toPrimitive"),B={}.propertyIsEnumerable,j=u("symbol-registry"),F=u("symbols"),H=u("op-symbols"),W=Object[M],G="function"==typeof N&&!!R.f,$=i.QObject,z=!$||!$[M]||!$[M].findChild,Y=o&&l((function(){return 7!=w(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=x(W,e);i&&delete W[e],D(t,e,n),i&&t!==W&&D(W,e,i)}:D,K=function(t){var e=F[t]=w(N[M]);return e._k=t,e},q=G&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},X=function(t,e,n){return t===W&&X(H,e,n),_(t),e=S(e,!0),_(n),r(F,e)?(n.enumerable?(r(t,V)&&t[V][e]&&(t[V][e]=!1),n=w(n,{enumerable:T(0,!1)})):(r(t,V)||D(t,V,T(1,{})),t[V][e]=!0),Y(t,e,n)):D(t,e,n)},J=function(t,e){_(t);var n,i=v(e=b(e)),r=0,o=i.length;while(o>r)X(t,n=i[r++],e[n]);return t},Z=function(t,e){return void 0===e?w(t):J(w(t),e)},Q=function(t){var e=B.call(this,t=S(t,!0));return!(this===W&&r(F,t)&&!r(H,t))&&(!(e||!r(this,t)||!r(F,t)||r(this,V)&&this[V][t])||e)},tt=function(t,e){if(t=b(t),e=S(e,!0),t!==W||!r(F,e)||r(H,e)){var n=x(t,e);return!n||!r(F,e)||r(t,V)&&t[V][e]||(n.enumerable=!0),n}},et=function(t){var e,n=k(b(t)),i=[],o=0;while(n.length>o)r(F,e=n[o++])||e==V||e==c||i.push(e);return i},nt=function(t){var e,n=t===W,i=k(n?H:b(t)),o=[],s=0;while(i.length>s)!r(F,e=i[s++])||n&&!r(W,e)||o.push(F[e]);return o};G||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(H,n),r(this,V)&&r(this[V],t)&&(this[V][t]=!1),Y(this,t,T(1,n))};return o&&z&&Y(W,t,{configurable:!0,set:e}),K(t)},a(N[M],"toString",(function(){return this._k})),I.f=tt,A.f=X,n("9093").f=C.f=et,n("52a7").f=Q,R.f=nt,o&&!n("2d00")&&a(W,"propertyIsEnumerable",Q,!0),f.f=function(t){return K(p(t))}),s(s.G+s.W+s.F*!G,{Symbol:N});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;it.length>rt;)p(it[rt++]);for(var ot=O(p.store),st=0;ot.length>st;)m(ot[st++]);s(s.S+s.F*!G,"Symbol",{for:function(t){return r(j,t+="")?j[t]:j[t]=N(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!G,"Object",{create:Z,defineProperty:X,defineProperties:J,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var at=l((function(){R.f(1)}));s(s.S+s.F*at,"Object",{getOwnPropertySymbols:function(t){return R.f(E(t))}}),P&&s(s.S+s.F*(!G||l((function(){var t=N();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))}))),"JSON",{stringify:function(t){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=e=i[1],(y(e)||void 0!==t)&&!q(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),i[1]=e,L.apply(P,i)}}),N[M][U]||n("32e9")(N[M],U,N[M].valueOf),d(N,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},"8b7f":function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("6d8b")),o=r.createHashMap,s=(r.retrieve,r.each);function a(t){this.coordSysName=t,this.coordSysDims=[],this.axisMap=o(),this.categoryAxisMap=o(),this.firstCategoryDimIndex=null}function c(t){var e=t.get("coordinateSystem"),n=new a(e),i=l[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}var l={cartesian2d:function(t,e,n,i){var r=t.getReferringComponents("xAxis")[0],o=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],n.set("x",r),n.set("y",o),u(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),u(o)&&(i.set("y",o),e.firstCategoryDimIndex,e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,i){var r=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],n.set("single",r),u(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var r=t.getReferringComponents("polar")[0],o=r.findAxisModel("radiusAxis"),s=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",s),u(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),u(s)&&(i.set("angle",s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,i){var r=t.ecModel,o=r.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();s(o.parallelAxisIndex,(function(t,o){var s=r.getComponent("parallelAxis",t),c=a[o];n.set(c,s),u(s)&&null==e.firstCategoryDimIndex&&(i.set(c,s),e.firstCategoryDimIndex=o)}))}};function u(t){return"category"===t.get("type")}e.getCoordSysInfoBySeries=c},"8b97":function(t,e,n){var i=n("d3f4"),r=n("cb7c"),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},"8c2a":function(t,e,n){var i=n("6d8b"),r=n("e0d8"),o=n("3842"),s=n("89e3"),a=r.prototype,c=s.prototype,l=o.getPrecisionSafe,u=o.round,d=Math.floor,h=Math.ceil,p=Math.pow,f=Math.log,m=r.extend({type:"log",base:10,$constructor:function(){r.apply(this,arguments),this._originalScale=new s},getTicks:function(t){var e=this._originalScale,n=this._extent,r=e.getExtent();return i.map(c.getTicks.call(this,t),(function(t){var i=o.round(p(this.base,t));return i=t===n[0]&&e.__fixMin?v(i,r[0]):i,i=t===n[1]&&e.__fixMax?v(i,r[1]):i,i}),this)},getMinorTicks:c.getMinorTicks,getLabel:c.getLabel,scale:function(t){return t=a.scale.call(this,t),p(this.base,t)},setExtent:function(t,e){var n=this.base;t=f(t)/f(n),e=f(e)/f(n),c.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=a.getExtent.call(this);e[0]=p(t,e[0]),e[1]=p(t,e[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(e[0]=v(e[0],i[0])),n.__fixMax&&(e[1]=v(e[1],i[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=f(t[0])/f(e),t[1]=f(t[1])/f(e),a.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var i=o.quantity(n),r=t/n*i;r<=.5&&(i*=10);while(!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0)i*=10;var s=[o.round(h(e[0]/i)*i),o.round(d(e[1]/i)*i)];this._interval=i,this._niceExtent=s}},niceExtent:function(t){c.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});function v(t,e){return u(t,l(e))}i.each(["contain","normalize"],(function(t){m.prototype[t]=function(e){return e=f(e)/f(this.base),a[t].call(this,e)}})),m.create=function(){return new m};var g=m;t.exports=g},"8d32":function(t,e,n){var i=n("cbe5"),r=i.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,a=e.clockwise,c=Math.cos(o),l=Math.sin(o);t.moveTo(c*r+n,l*r+i),t.arc(n,i,r,o,s,!a)}});t.exports=r},"8e43":function(t,e,n){var i=n("6d8b"),r=i.createHashMap,o=i.isObject,s=i.map;function a(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}a.createByAxisModel=function(t){var e=t.option,n=e.data,i=n&&s(n,u);return new a({categories:i,needCollect:!i,deduplication:!1!==e.dedplication})};var c=a.prototype;function l(t){return t._map||(t._map=r(t.categories))}function u(t){return o(t)&&null!=t.value?t.value:t+""}c.getOrdinal=function(t){return l(this).get(t)},c.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!==typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=l(this);return e=i.get(t),null==e&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e};var d=a;t.exports=d},"8e6e":function(t,e,n){var i=n("5ca1"),r=n("990b"),o=n("6821"),s=n("11e9"),a=n("f1ae");i(i.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,i=o(t),c=s.f,l=r(i),u={},d=0;while(l.length>d)n=c(i,e=l[d++]),void 0!==n&&a(u,e,n);return u}})},"8ed2":function(t,e,n){n("48c7");var i=n("6cb7"),r=i.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});t.exports=r},"903c":function(t,e){function n(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))}t.exports=n},9093:function(t,e,n){var i=n("ce10"),r=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},9152:function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?r-1:0,h=n?-1:1,p=t[e+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+t[e+d],d+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+t[e+d],d+=h,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=l}return(p?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,c,l=8*o-r-1,u=(1<<l)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+d>=1?h/c:h*Math.pow(2,1-d),e*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*c-1)*Math.pow(2,r),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,r),s=0));r>=8;t[n+p]=255&a,p+=f,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+p]=255&s,p+=f,s/=256,l-=8);t[n+p-f]|=128*m}},"91ca":function(t,e,n){var i=n("96fb"),r=Math.pow,o=r(2,-52),s=r(2,-23),a=r(2,127)*(2-s),c=r(2,-126),l=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),u=i(t);return r<c?u*l(r/c/s)*c*s:(e=(1+s/o)*r,n=e-(e-r),n>a||n!=n?u*(1/0):u*n)}},9253:function(t,e,n){var i=n("86cc"),r=n("11e9"),o=n("38fd"),s=n("69a8"),a=n("5ca1"),c=n("4630"),l=n("cb7c"),u=n("d3f4");function d(t,e,n){var a,h,p=arguments.length<4?t:arguments[3],f=r.f(l(t),e);if(!f){if(u(h=o(t)))return d(h,e,n,p);f=c(0)}if(s(f,"value")){if(!1===f.writable||!u(p))return!1;if(a=r.f(p,e)){if(a.get||a.set||!1===a.writable)return!1;a.value=n,i.f(p,e,a)}else i.f(p,e,c(0,n));return!0}return void 0!==f.set&&(f.set.call(p,n),!0)}a(a.S,"Reflect",{set:d})},9275:function(t,e,n){var i=n("5ca1"),r=n("8b97");r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(n){return!1}}})},9278:function(t,e,n){var i=n("5ca1");i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},"93d0":function(t,e){var n="original",i="arrayRows",r="objectRows",o="keyedColumns",s="unknown",a="typedArray",c="column",l="row";e.SOURCE_FORMAT_ORIGINAL=n,e.SOURCE_FORMAT_ARRAY_ROWS=i,e.SOURCE_FORMAT_OBJECT_ROWS=r,e.SOURCE_FORMAT_KEYED_COLUMNS=o,e.SOURCE_FORMAT_UNKNOWN=s,e.SOURCE_FORMAT_TYPED_ARRAY=a,e.SERIES_LAYOUT_BY_COLUMN=c,e.SERIES_LAYOUT_BY_ROW=l},"944e":function(t,e,n){var i=n("3842"),r=i.round;function o(t,e,n,o){var a={},l=t[1]-t[0],u=a.interval=i.nice(l/e,!0);null!=n&&u<n&&(u=a.interval=n),null!=o&&u>o&&(u=a.interval=o);var d=a.intervalPrecision=s(u),h=a.niceTickExtent=[r(Math.ceil(t[0]/u)*u,d),r(Math.floor(t[1]/u)*u,d)];return c(h,t),a}function s(t){return i.getPrecisionSafe(t)+2}function a(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function c(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),a(t,0,e),a(t,1,e),t[0]>t[1]&&(t[0]=t[1])}e.intervalScaleNiceTicks=o,e.getIntervalPrecision=s,e.fixExtent=c},9483:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i,r=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function o(t,e){void 0===e&&(e={});var n=e.registrationOptions;void 0===n&&(n={}),delete e.registrationOptions;var o=function(t){var n=[],i=arguments.length-1;while(i-- >0)n[i]=arguments[i+1];e&&e[t]&&e[t].apply(e,n)};"serviceWorker"in navigator&&i.then((function(){r()?(c(t,o,n),navigator.serviceWorker.ready.then((function(t){o("ready",t)}))):(a(t,o,n),navigator.serviceWorker.ready.then((function(t){o("ready",t)})))}))}function s(t,e){navigator.onLine||t("offline"),t("error",e)}function a(t,e,n){navigator.serviceWorker.register(t,n).then((function(t){e("registered",t),t.waiting?e("updated",t):t.onupdatefound=function(){e("updatefound",t);var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?e("updated",t):e("cached",t))}}})).catch((function(t){return s(e,t)}))}function c(t,e,n){fetch(t).then((function(i){404===i.status?(e("error",new Error("Service worker not found at "+t)),l()):-1===i.headers.get("content-type").indexOf("javascript")?(e("error",new Error("Expected "+t+" to have javascript content-type, but received "+i.headers.get("content-type"))),l()):a(t,e,n)})).catch((function(t){return s(e,t)}))}function l(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}"undefined"!==typeof window&&(i="undefined"!==typeof Promise?new Promise((function(t){return window.addEventListener("load",t)})):{then:function(t){return window.addEventListener("load",t)}})},9680:function(t,e){function n(t,e,n,i,r,o,s){if(0===r)return!1;var a=r,c=0,l=t;if(s>e+a&&s>i+a||s<e-a&&s<i-a||o>t+a&&o>n+a||o<t-a&&o<n-a)return!1;if(t===n)return Math.abs(o-t)<=a/2;c=(e-i)/(t-n),l=(t*i-n*e)/(t-n);var u=c*o-s+l,d=u*u/(c*c+1);return d<=a/2*a/2}e.containStroke=n},"96cf":function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n,i){var r=e&&e.prototype instanceof m?e:m,o=Object.create(r.prototype),s=new A(i||[]);return o._invoke=w(t,n,s),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(i){return{type:"throw",arg:i}}}t.wrap=c;var u="suspendedStart",d="suspendedYield",h="executing",p="completed",f={};function m(){}function v(){}function g(){}var _={};_[o]=function(){return this};var y=Object.getPrototypeOf,E=y&&y(y(O([])));E&&E!==n&&i.call(E,o)&&(_=E);var b=g.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function T(t,e){function n(r,o,s,a){var c=l(t[r],t,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"===typeof d&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}var r;function o(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}this._invoke=o}function w(t,e,n){var i=u;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return x()}n.method=r,n.arg=o;while(1){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===u)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var c=l(t,e,n);if("normal"===c.type){if(i=n.done?p:d,c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}function C(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function O(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){while(++r<t.length)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:x}}function x(){return{value:e,done:!0}}return v.prototype=b.constructor=g,g.constructor=v,g[a]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},S(T.prototype),T.prototype[s]=function(){return this},t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new T(c(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},S(b),b[a]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),l=i.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),R(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;R(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},"96fb":function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},9744:function(t,e,n){"use strict";var i=n("4588"),r=n("be13");t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},9850:function(t,e,n){var i=n("401b"),r=n("1687"),o=i.applyTransform,s=Math.min,a=Math.max;function c(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}c.prototype={constructor:c,union:function(t){var e=s(t.x,this.x),n=s(t.y,this.y);this.width=a(t.x+t.width,this.x+this.width)-e,this.height=a(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[],n=[],i=[];return function(r){if(r){t[0]=n[0]=this.x,t[1]=i[1]=this.y,e[0]=i[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,o(t,t,r),o(e,e,r),o(n,n,r),o(i,i,r),this.x=s(t[0],e[0],n[0],i[0]),this.y=s(t[1],e[1],n[1],i[1]);var c=a(t[0],e[0],n[0],i[0]),l=a(t[1],e[1],n[1],i[1]);this.width=c-this.x,this.height=l-this.y}}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,i=t.height/e.height,o=r.create();return r.translate(o,o,[-e.x,-e.y]),r.scale(o,o,[n,i]),r.translate(o,o,[t.x,t.y]),o},intersect:function(t){if(!t)return!1;t instanceof c||(t=c.create(t));var e=this,n=e.x,i=e.x+e.width,r=e.y,o=e.y+e.height,s=t.x,a=t.x+t.width,l=t.y,u=t.y+t.height;return!(i<s||a<n||o<l||u<r)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new c(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},c.create=function(t){return new c(t.x,t.y,t.width,t.height)};var l=c;t.exports=l},"98b7":function(t,e){var n="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=n},"990b":function(t,e,n){var i=n("9093"),r=n("2621"),o=n("cb7c"),s=n("7726").Reflect;t.exports=s&&s.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},9986:function(t,e,n){var i=n("6821"),r=n("11e9").f;n("5eda")("getOwnPropertyDescriptor",(function(){return function(t,e){return r(i(t),e)}}))},"998c":function(t,e,n){var i=n("6d8b"),r=n("2306"),o=n("e86a"),s=Math.PI;function a(t,e){e=e||{},i.defaults(e,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new r.Group,a=new r.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(a);var c=e.fontSize+" sans-serif",l=new r.Rect({style:{fill:"none",text:e.text,font:c,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});if(n.add(l),e.showSpinner){var u=new r.Arc({shape:{startAngle:-s/2,endAngle:-s/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001});u.animateShape(!0).when(1e3,{endAngle:3*s/2}).start("circularInOut"),u.animateShape(!0).when(1e3,{startAngle:3*s/2}).delay(300).start("circularInOut"),n.add(u)}return n.resize=function(){var n=o.getWidth(e.text,c),i=e.showSpinner?e.spinnerRadius:0,r=(t.getWidth()-2*i-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner?0:n/2),s=t.getHeight()/2;e.showSpinner&&u.setShape({cx:r,cy:s}),l.setShape({x:r-i,y:s-i,width:2*i,height:2*i}),a.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}t.exports=a},"9aea":function(t,e,n){var i=n("d3f4"),r=n("67ab").onFreeze;n("5eda")("preventExtensions",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},"9b43":function(t,e,n){var i=n("d8e8");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},"9b92":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r={realTimeLoggingOn:!0,useTimestamps:!1,includeSessionMetadata:!0,useLocalStorage:!1,recordLogs:!0,autoTrim:!0,maxLines:3e3,tailNumLines:25,maxDepth:20,logFilename:"debugout.txt",localStorageKey:"debugout.js",indent:"  ",quoteStrings:!0},o=function(){function t(t){var e=this;this.indent="  ",this.tailNumLines=25,this.output="",this.version=function(){return"1.0.0"},this.indentsForDepth=function(t){return e.indent.repeat(Math.max(t,0))},this.trace=function(){return console.trace()},this.time=function(){return console.time()},this.timeEnd=function(){return console.timeEnd()};var n=i(i({},r),t);for(var o in n)void 0!==n[o]&&(this[o]=n[o]);if(this.useLocalStorage&&window&&window.localStorage){var s=this.load();if(s){this.output=s.log,this.startTime=new Date(s.startTime);var a=new Date(s.lastLog);this.logMetadata("Last session end: "+s.lastLog),this.logMetadata("Last "+this.formatSessionDuration(this.startTime,a)),this.startLog()}else this.startLog()}else this.useLocalStorage=!1,this.startLog()}return t.prototype.startLog=function(){this.startTime=new Date,this.logMetadata("Session started: "+this.formatDate(this.startTime))},t.prototype.recordLog=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.useTimestamps&&(this.output+=this.formatDate()+" "),this.output+=e.map((function(e){return t.stringify(e)})).join(" "),this.output+="\n",this.autoTrim&&(this.output=this.trimLog(this.maxLines)),this.useLocalStorage){var i={startTime:this.startTime,log:this.output,lastLog:new Date};window.localStorage.setItem(this.localStorageKey,JSON.stringify(i))}},t.prototype.logMetadata=function(t){this.includeSessionMetadata&&(this.output+="---- "+t+" ----\n")},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.realTimeLoggingOn&&console.log.apply(console,t),this.recordLogs&&this.recordLog.apply(this,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.realTimeLoggingOn&&console.info.apply(console,t),this.recordLogs&&(this.output+="[INFO] ",this.recordLog.apply(this,t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.realTimeLoggingOn&&console.warn.apply(console,t),this.recordLogs&&(this.output+="[WARN] ",this.recordLog.apply(this,t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.realTimeLoggingOn&&console.error.apply(console,t),this.recordLogs&&(this.output+="[ERROR] ",this.recordLog.apply(this,t))},t.prototype.getLog=function(){var t=new Date;if(this.recordLogs||this.info("Log recording is off"),this.useLocalStorage&&window&&window.localStorage){var e=this.load();e&&(this.startTime=new Date(e.startTime),this.output=e.log)}return this.includeSessionMetadata?this.output+"---- "+this.formatSessionDuration(this.startTime,t)+" ----\n":this.output},t.prototype.clear=function(){this.output="",this.logMetadata("Session started: "+this.formatDate(this.startTime)),this.logMetadata("Log cleared "+this.formatDate()),this.useLocalStorage&&this.save()},t.prototype.tail=function(t){var e=t||this.tailNumLines;return this.trimLog(e)},t.prototype.search=function(t){for(var e=new RegExp(t,"ig"),n=this.output.split("\n"),i=[],r=0;r<n.length;r++){var o="["+r+"] ";n[r].match(e)&&i.push(o+n[r].trim())}var s=i.join("\n");return s.length||(s='Nothing found for "'+t+'".'),s},t.prototype.slice=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.output.split("\n")).slice.apply(t,e).join("\n")},t.prototype.downloadLog=function(){if(window){var t=this.getLog(),e=new Blob([t],{type:"data:text/plain;charset=utf-8"}),n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.target="_blank",n.download=this.logFilename,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(n.href)}else console.error("downloadLog only works in the browser")},t.prototype.save=function(){var t={startTime:this.startTime,log:this.output,lastLog:new Date};window.localStorage.setItem(this.localStorageKey,JSON.stringify(t))},t.prototype.load=function(){var t=window.localStorage.getItem(this.localStorageKey);return t?JSON.parse(t):null},t.prototype.determineType=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var n=typeof e;return"object"===n&&(n=Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":e instanceof t?"Debugout":"Object"),n},t.prototype.stringifyObject=function(t,e){void 0===e&&(e=0);var n="{",i=e;if(this.objectSize(t)>0){n+="\n",i++;var r=0;for(var o in t){n+=this.indentsForDepth(i),n+=o+": ";var s=this.stringify(t[o],i);s&&(n+=s),r<this.objectSize(t)-1&&(n+=","),n+="\n",r++}i--,n+=this.indentsForDepth(i)}return n+"}"},t.prototype.stringifyArray=function(t,e){void 0===e&&(e=0);var n="[",i=e,r=!1;if(t.length>0){i++;for(var o=0;o<t.length;o++){var s=this.determineType(t[o]),a=!1;"Object"===s&&this.objectSize(t[o])>0&&(a=!0),"Array"===s&&t[o].length>0&&(a=!0),!r&&a&&(n+="\n");var c=this.stringify(t[o],i);c&&(a&&(n+=this.indentsForDepth(i)),n+=c,o<t.length-1&&(n+=", "),a&&(n+="\n")),r=a}i--}return n+"]"},t.prototype.stringifyFunction=function(t,e){var n=this;void 0===e&&(e=0);var i=e;return String(t).split("\n").map((function(t){t.match(/\}/)&&i--;var e=n.indentsForDepth(i)+t.trim();return t.match(/\{/)&&i++,e})).join("\n")},t.prototype.stringify=function(t,e){if(void 0===e&&(e=0),e>=this.maxDepth)return"... (max-depth reached)";var n=this.determineType(t);switch(n){case"Object":return this.stringifyObject(t,e);case"Array":return this.stringifyArray(t,e);case"function":return this.stringifyFunction(t,e);case"RegExp":return"/"+t.source+"/"+t.flags;case"Date":case"string":return this.quoteStrings?'"'+t+'"':t+"";case"boolean":return t?"true":"false";case"number":return t+"";case"null":case"undefined":return n;case"Debugout":return"... (Debugout)";default:return"?"}},t.prototype.trimLog=function(t){var e=this.output.split("\n");return e.pop(),e.length>t&&(e=e.slice(e.length-t)),e.join("\n")+"\n"},t.prototype.formatSessionDuration=function(t,e){var n=e-t,i=Math.floor(n/1e3/60/60),r=("0"+i).slice(-2);n-=1e3*i*60*60;var o=Math.floor(n/1e3/60),s=("0"+o).slice(-2);n-=1e3*o*60;var a=Math.floor(n/1e3);return n-=1e3*a,"Session duration: "+r+":"+s+":"+("0"+a).slice(-2)},t.prototype.formatDate=function(t){return void 0===t&&(t=new Date),"["+t.toISOString()+"]"},t.prototype.objectSize=function(t){var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e},t}()},"9bdb":function(t,e,n){var i=n("282b"),r=i([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),o={getAreaStyle:function(t,e){return r(this,t,e)}};t.exports=o},"9c12":function(t,e,n){var i=n("d3f4"),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},"9c29":function(t,e,n){n("ec30")("Uint32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},"9c2c":function(t,e,n){var i=n("401b"),r=i.min,o=i.max,s=i.scale,a=i.distance,c=i.add,l=i.clone,u=i.sub;function d(t,e,n,i){var d,h,p,f,m=[],v=[],g=[],_=[];if(i){p=[1/0,1/0],f=[-1/0,-1/0];for(var y=0,E=t.length;y<E;y++)r(p,p,t[y]),o(f,f,t[y]);r(p,p,i[0]),o(f,f,i[1])}for(y=0,E=t.length;y<E;y++){var b=t[y];if(n)d=t[y?y-1:E-1],h=t[(y+1)%E];else{if(0===y||y===E-1){m.push(l(t[y]));continue}d=t[y-1],h=t[y+1]}u(v,h,d),s(v,v,e);var S=a(b,d),T=a(b,h),w=S+T;0!==w&&(S/=w,T/=w),s(g,v,-S),s(_,v,T);var C=c([],b,g),I=c([],b,_);i&&(o(C,C,p),r(C,C,f),o(I,I,p),r(I,I,f)),m.push(C),m.push(I)}return n&&m.push(m.shift()),m}t.exports=d},"9c6c":function(t,e,n){var i=n("2b4c")("unscopables"),r=Array.prototype;void 0==r[i]&&n("32e9")(r,i,{}),t.exports=function(t){r[i][t]=!0}},"9c80":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"9c86":function(t,e,n){"use strict";n("386b")("big",(function(t){return function(){return t(this,"big","","")}}))},"9cf9":function(t,e){var n=Math.round;function i(t,e,i){if(e){var r=e.x1,s=e.x2,a=e.y1,c=e.y2;t.x1=r,t.x2=s,t.y1=a,t.y2=c;var l=i&&i.lineWidth;l&&(n(2*r)===n(2*s)&&(t.x1=t.x2=o(r,l,!0)),n(2*a)===n(2*c)&&(t.y1=t.y2=o(a,l,!0)))}}function r(t,e,n){if(e){var i=e.x,r=e.y,s=e.width,a=e.height;t.x=i,t.y=r,t.width=s,t.height=a;var c=n&&n.lineWidth;c&&(t.x=o(i,c,!0),t.y=o(r,c,!0),t.width=Math.max(o(i+s,c,!1)-t.x,0===s?0:1),t.height=Math.max(o(r+a,c,!1)-t.y,0===a?0:1))}}function o(t,e,i){if(!e)return t;var r=n(2*t);return(r+n(e))%2===0?r/2:(r+(i?1:-1))/2}e.subPixelOptimizeLine=i,e.subPixelOptimizeRect=r,e.subPixelOptimize=o},"9d57":function(t,e,n){var i=n("6d8b"),r=n("3842"),o=r.parsePercent,s=n("ee1a"),a=s.isDimensionStacked,c=n("cccd"),l="__ec_stack_",u=.5,d="undefined"!==typeof Float32Array?Float32Array:Array;function h(t){return t.get("stack")||l+t.seriesIndex}function p(t){return t.dim+t.index}function f(t){var e=[],n=t.axis,r="axis0";if("category"===n.type){for(var o=n.getBandWidth(),s=0;s<t.count;s++)e.push(i.defaults({bandWidth:o,axisKey:r,stackId:l+s},t));var a=_(e),c=[];for(s=0;s<t.count;s++){var u=a[r][l+s];u.offsetCenter=u.offset+u.width/2,c.push(u)}return c}}function m(t,e){var n=[];return e.eachSeriesByType(t,(function(t){S(t)&&!T(t)&&n.push(t)})),n}function v(t){var e={};i.each(t,(function(t){var n=t.coordinateSystem,i=n.getBaseAxis();if("time"===i.type||"value"===i.type)for(var r=t.getData(),o=i.dim+"_"+i.index,s=r.mapDimension(i.dim),a=0,c=r.count();a<c;++a){var l=r.get(s,a);e[o]?e[o].push(l):e[o]=[l]}}));var n=[];for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(o){o.sort((function(t,e){return t-e}));for(var s=null,a=1;a<o.length;++a){var c=o[a]-o[a-1];c>0&&(s=null===s?c:Math.min(s,c))}n[r]=s}}return n}function g(t){var e=v(t),n=[];return i.each(t,(function(t){var i,r=t.coordinateSystem,s=r.getBaseAxis(),a=s.getExtent();if("category"===s.type)i=s.getBandWidth();else if("value"===s.type||"time"===s.type){var c=s.dim+"_"+s.index,l=e[c],u=Math.abs(a[1]-a[0]),d=s.scale.getExtent(),f=Math.abs(d[1]-d[0]);i=l?u/f*l:u}else{var m=t.getData();i=Math.abs(a[1]-a[0])/m.count()}var v=o(t.get("barWidth"),i),g=o(t.get("barMaxWidth"),i),_=o(t.get("barMinWidth")||1,i),y=t.get("barGap"),E=t.get("barCategoryGap");n.push({bandWidth:i,barWidth:v,barMaxWidth:g,barMinWidth:_,barGap:y,barCategoryGap:E,axisKey:p(s),stackId:h(t)})})),_(n)}function _(t){var e={};i.each(t,(function(t,n){var i=t.axisKey,r=t.bandWidth,o=e[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},s=o.stacks;e[i]=o;var a=t.stackId;s[a]||o.autoWidthCount++,s[a]=s[a]||{width:0,maxWidth:0};var c=t.barWidth;c&&!s[a].width&&(s[a].width=c,c=Math.min(o.remainedWidth,c),o.remainedWidth-=c);var l=t.barMaxWidth;l&&(s[a].maxWidth=l);var u=t.barMinWidth;u&&(s[a].minWidth=u);var d=t.barGap;null!=d&&(o.gap=d);var h=t.barCategoryGap;null!=h&&(o.categoryGap=h)}));var n={};return i.each(e,(function(t,e){n[e]={};var r=t.stacks,s=t.bandWidth,a=o(t.categoryGap,s),c=o(t.gap,1),l=t.remainedWidth,u=t.autoWidthCount,d=(l-a)/(u+(u-1)*c);d=Math.max(d,0),i.each(r,(function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){i=t.width;e&&(i=Math.min(i,e)),n&&(i=Math.max(i,n)),t.width=i,l-=i+c*i,u--}else{var i=d;e&&e<i&&(i=Math.min(e,l)),n&&n>i&&(i=n),i!==d&&(t.width=i,l-=i+c*i,u--)}})),d=(l-a)/(u+(u-1)*c),d=Math.max(d,0);var h,p=0;i.each(r,(function(t,e){t.width||(t.width=d),h=t,p+=t.width*(1+c)})),h&&(p-=h.width*c);var f=-p/2;i.each(r,(function(t,i){n[e][i]=n[e][i]||{bandWidth:s,offset:f,width:t.width},f+=t.width*(1+c)}))})),n}function y(t,e,n){if(t&&e){var i=t[p(e)];return null!=i&&null!=n&&(i=i[h(n)]),i}}function E(t,e){var n=m(t,e),r=g(n),o={},s={};i.each(n,(function(t){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),c=h(t),l=r[p(i)][c],u=l.offset,d=l.width,f=n.getOtherAxis(i),m=t.get("barMinHeight")||0;o[c]=o[c]||[],s[c]=s[c]||[],e.setLayout({bandWidth:l.bandWidth,offset:u,size:d});for(var v=e.mapDimension(f.dim),g=e.mapDimension(i.dim),_=a(e,v),y=f.isHorizontal(),E=w(i,f,_),b=0,S=e.count();b<S;b++){var T,C,I,R,A=e.get(v,b),O=e.get(g,b),x=A>=0?"p":"n",D=E;if(_&&(o[c][O]||(o[c][O]={p:E,n:E}),D=o[c][O][x]),y){var k=n.dataToPoint([A,O]);T=D,C=k[1]+u,I=k[0]-E,R=d,Math.abs(I)<m&&(I=(I<0?-1:1)*m),isNaN(I)||_&&(o[c][O][x]+=I)}else{k=n.dataToPoint([O,A]);T=k[0]+u,C=D,I=d,R=k[1]-E,Math.abs(R)<m&&(R=(R<=0?-1:1)*m),isNaN(R)||_&&(o[c][O][x]+=R)}e.setItemLayout(b,{x:T,y:C,width:I,height:R})}}),this)}var b={seriesType:"bar",plan:c(),reset:function(t){if(S(t)&&T(t)){var e=t.getData(),n=t.coordinateSystem,i=n.grid.getRect(),r=n.getBaseAxis(),o=n.getOtherAxis(r),s=e.mapDimension(o.dim),a=e.mapDimension(r.dim),c=o.isHorizontal(),l=c?0:1,h=y(g([t]),r,t).width;return h>u||(h=u),{progress:p}}function p(t,e){var u,p=t.count,f=new d(2*p),m=new d(2*p),v=new d(p),g=[],_=[],y=0,E=0;while(null!=(u=t.next()))_[l]=e.get(s,u),_[1-l]=e.get(a,u),g=n.dataToPoint(_,null,g),m[y]=c?i.x+i.width:g[0],f[y++]=g[0],m[y]=c?g[1]:i.y+i.height,f[y++]=g[1],v[E++]=u;e.setLayout({largePoints:f,largeDataIndices:v,largeBackgroundPoints:m,barWidth:h,valueAxisStart:w(r,o,!1),backgroundStart:c?i.x:i.y,valueAxisHorizontal:c})}}};function S(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function T(t){return t.pipelineContext&&t.pipelineContext.large}function w(t,e,n){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}e.getLayoutOnAxis=f,e.prepareLayoutBarSeries=m,e.makeColumnLayout=g,e.retrieveColumnLayout=y,e.layout=E,e.largeLayout=b},"9def":function(t,e,n){var i=n("4588"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"9e2e":function(t,e,n){var i=n("a73c"),r=n("9850"),o=n("82eb"),s=o.WILL_BE_RESTORED,a=new r,c=function(){};c.prototype={constructor:c,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&i.normalizeTextStyle(n,!0);var r=n.text;if(null!=r&&(r+=""),i.needDrawText(r,n)){t.save();var o=this.transform;n.transformText?this.setTransform(t):o&&(a.copy(e),a.applyTransform(o),e=a),i.renderText(this,t,r,n,e,s),t.restore()}}};var l=c;t.exports=l},"9e47":function(t,e,n){var i=n("6d8b"),r=n("71ad"),o=n("6cb7"),s=n("f934"),a=s.getLayoutParams,c=s.mergeLayoutParam,l=n("8e43"),u=["value","category","time","log"];function d(t,e,n,s){i.each(u,(function(o){e.extend({type:t+"Axis."+o,mergeDefaultAndTheme:function(e,r){var s=this.layoutMode,l=s?a(e):{},u=r.getTheme();i.merge(e,u.get(o+"Axis")),i.merge(e,this.getDefaultOption()),e.type=n(t,e),s&&c(e,l,s)},optionUpdated:function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=l.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:i.mergeAll([{},r[o+"Axis"],s],!0)})})),o.registerSubTypeDefaulter(t+"Axis",i.curry(n,t))}t.exports=d},"9ec8":function(t,e,n){"use strict";n("386b")("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},"9f3c":function(t,e,n){var i=n("5ca1"),r=n("2d5c");i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},"9f51":function(t,e,n){var i=n("857d"),r=i.normalizeRadian,o=2*Math.PI;function s(t,e,n,i,s,a,c,l,u){if(0===c)return!1;var d=c;l-=t,u-=e;var h=Math.sqrt(l*l+u*u);if(h-d>n||h+d<n)return!1;if(Math.abs(i-s)%o<1e-4)return!0;if(a){var p=i;i=r(s),s=r(p)}else i=r(i),s=r(s);i>s&&(s+=o);var f=Math.atan2(u,l);return f<0&&(f+=o),f>=i&&f<=s||f+o>=i&&f+o<=s}e.containStroke=s},"9f82":function(t,e,n){var i=n("ee1a"),r=i.isDimensionStacked,o=n("6d8b"),s=o.map;function a(t,e,n){var i,o=t.getBaseAxis(),a=t.getOtherAxis(o),l=c(a,n),u=o.dim,d=a.dim,h=e.mapDimension(d),p=e.mapDimension(u),f="x"===d||"radius"===d?1:0,m=s(t.dimensions,(function(t){return e.mapDimension(t)})),v=e.getCalculationInfo("stackResultDimension");return(i|=r(e,m[0]))&&(m[0]=v),(i|=r(e,m[1]))&&(m[1]=v),{dataDimsForPoint:m,valueStart:l,valueAxisDim:d,baseAxisDim:u,stacked:!!i,valueDim:h,baseDim:p,baseDataOffset:f,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function c(t,e){var n=0,i=t.scale.getExtent();return"start"===e?n=i[0]:"end"===e?n=i[1]:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]),n}function l(t,e,n,i){var r=NaN;t.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=t.valueStart);var o=t.baseDataOffset,s=[];return s[o]=n.get(t.baseDim,i),s[1-o]=r,e.dataToPoint(s)}e.prepareDataCoordInfo=a,e.getStackedOnPoint=l},a032:function(t,e,n){"use strict";var i=n("5ca1"),r=n("02f4")(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},a15a:function(t,e,n){var i=n("6d8b"),r=n("2306"),o=n("9850"),s=n("e86a"),a=s.calculateTextPosition,c=r.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i+o),t.lineTo(n-r,i+o),t.closePath()}}),l=r.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i),t.lineTo(n,i+o),t.lineTo(n-r,i),t.closePath()}}),u=r.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),s=r/2,a=s*s/(o-s),c=i-o+s+a,l=Math.asin(a/s),u=Math.cos(l)*s,d=Math.sin(l),h=Math.cos(l),p=.6*s,f=.7*s;t.moveTo(n-u,c+a),t.arc(n,c,s,Math.PI-l,2*Math.PI+l),t.bezierCurveTo(n+u-d*p,c+a+h*p,n,i-f,n,i),t.bezierCurveTo(n,i-f,n-u+d*p,c+a+h*p,n-u,c+a),t.closePath()}}),d=r.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,o=e.y,s=i/3*2;t.moveTo(r,o),t.lineTo(r+s,o+n),t.lineTo(r,o+n/4*3),t.lineTo(r-s,o+n),t.lineTo(r,o),t.closePath()}}),h={line:r.Line,rect:r.Rect,roundRect:r.Rect,square:r.Rect,circle:r.Circle,diamond:l,pin:u,arrow:d,triangle:c},p={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){var o=Math.min(n,i);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},f={};i.each(h,(function(t,e){f[e]=new t}));var m=r.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var i=a(t,e,n),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.textPosition&&(i.y=n.y+.4*n.height),i},buildPath:function(t,e,n){var i=e.symbolType;if("none"!==i){var r=f[i];r||(i="rect",r=f[i]),p[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n)}}});function v(t,e){if("image"!==this.type){var n=this.style,i=this.shape;i&&"line"===i.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1)}}function g(t,e,n,i,s,a,c){var l,u=0===t.indexOf("empty");return u&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),l=0===t.indexOf("image://")?r.makeImage(t.slice(8),new o(e,n,i,s),c?"center":"cover"):0===t.indexOf("path://")?r.makePath(t.slice(7),{},new o(e,n,i,s),c?"center":"cover"):new m({shape:{symbolType:t,x:e,y:n,width:i,height:s}}),l.__isEmptyBrush=u,l.setColor=v,l.setColor(a),l}e.createSymbol=g},a19f:function(t,e,n){var i=n("5ca1"),r=n("cb7c"),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(e){return!1}}})},a25f:function(t,e,n){var i=n("7726"),r=i.navigator;t.exports=r&&r.userAgent||""},a34a:function(t,e,n){t.exports=n("96cf")},a481:function(t,e,n){"use strict";var i=n("cb7c"),r=n("4bf8"),o=n("9def"),s=n("4588"),a=n("0390"),c=n("5f1b"),l=Math.max,u=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,m){return[function(i,r){var o=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var r=m(n,t,this,e);if(r.done)return r.value;var d=i(t),h=String(this),p="function"===typeof e;p||(e=String(e));var g=d.global;if(g){var _=d.unicode;d.lastIndex=0}var y=[];while(1){var E=c(d,h);if(null===E)break;if(y.push(E),!g)break;var b=String(E[0]);""===b&&(d.lastIndex=a(h,o(d.lastIndex),_))}for(var S="",T=0,w=0;w<y.length;w++){E=y[w];for(var C=String(E[0]),I=l(u(s(E.index),h.length),0),R=[],A=1;A<E.length;A++)R.push(f(E[A]));var O=E.groups;if(p){var x=[C].concat(R,I,h);void 0!==O&&x.push(O);var D=String(e.apply(void 0,x))}else D=v(C,h,I,R,O,e);I>=T&&(S+=h.slice(T,I)+D,T=I+C.length)}return S+h.slice(T)}];function v(t,e,i,o,s,a){var c=i+t.length,l=o.length,u=p;return void 0!==s&&(s=r(s),u=h),n.call(a,u,(function(n,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(c);case"<":a=s[r.slice(1,-1)];break;default:var u=+r;if(0===u)return n;if(u>l){var h=d(u/10);return 0===h?n:h<=l?void 0===o[h-1]?r.charAt(1):o[h-1]+r.charAt(1):n}a=o[u-1]}return void 0===a?"":a}))}}))},a5b8:function(t,e,n){"use strict";var i=n("d8e8");function r(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},a69f:function(t,e,n){var i=n("5ca1");i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},a73c:function(t,e,n){var i=n("6d8b"),r=i.retrieve2,o=i.retrieve3,s=i.each,a=i.normalizeCssArray,c=i.isString,l=i.isObject,u=n("e86a"),d=n("5693"),h=n("5e76"),p=n("7d6d"),f=n("82eb"),m=f.ContextCachedBy,v=f.WILL_BE_RESTORED,g=u.DEFAULT_FONT,_={left:1,right:1,center:1},y={top:1,bottom:1,middle:1},E=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],b={},S={};function T(t){return w(t),s(t.rich,w),t}function w(t){if(t){t.font=u.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||_[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||y[n]?n:"top";var i=t.textPadding;i&&(t.textPadding=a(t.textPadding))}}function C(t,e,n,i,r,o){i.rich?R(t,e,n,i,r,o):I(t,e,n,i,r,o)}function I(t,e,n,i,r,o){"use strict";var s,a=D(i),c=!1,l=e.__attrCachedBy===m.PLAIN_TEXT;o!==v?(o&&(s=o.style,c=!a&&l&&s),e.__attrCachedBy=a?m.NONE:m.PLAIN_TEXT):l&&(e.__attrCachedBy=m.NONE);var d=i.font||g;c&&d===(s.font||g)||(e.font=d);var h=t.__computedFont;t.__styleFont!==d&&(t.__styleFont=d,h=t.__computedFont=e.font);var f=i.textPadding,_=i.textLineHeight,y=t.__textCotentBlock;y&&!t.__dirtyText||(y=t.__textCotentBlock=u.parsePlainText(n,h,f,_,i.truncate));var b=y.outerHeight,T=y.lines,w=y.lineHeight,C=P(S,t,i,r),I=C.baseX,R=C.baseY,A=C.textAlign||"left",x=C.textVerticalAlign;O(e,i,r,I,R);var N=u.adjustTextY(R,b,x),L=I,U=N;if(a||f){var j=u.getWidth(n,h),F=j;f&&(F+=f[1]+f[3]);var H=u.adjustTextX(I,F,A);a&&k(t,e,i,H,N,F,b),f&&(L=B(I,A,f),U+=f[0])}e.textAlign=A,e.textBaseline="middle",e.globalAlpha=i.opacity||1;for(var W=0;W<E.length;W++){var G=E[W],$=G[0],z=G[1],Y=i[$];c&&Y===s[$]||(e[z]=p(e,z,Y||G[2]))}U+=w/2;var K=i.textStrokeWidth,q=c?s.textStrokeWidth:null,X=!c||K!==q,J=!c||X||i.textStroke!==s.textStroke,Z=M(i.textStroke,K),Q=V(i.textFill);if(Z&&(X&&(e.lineWidth=K),J&&(e.strokeStyle=Z)),Q&&(c&&i.textFill===s.textFill||(e.fillStyle=Q)),1===T.length)Z&&e.strokeText(T[0],L,U),Q&&e.fillText(T[0],L,U);else for(W=0;W<T.length;W++)Z&&e.strokeText(T[W],L,U),Q&&e.fillText(T[W],L,U),U+=w}function R(t,e,n,i,r,o){o!==v&&(e.__attrCachedBy=m.NONE);var s=t.__textCotentBlock;s&&!t.__dirtyText||(s=t.__textCotentBlock=u.parseRichText(n,i)),A(t,e,s,i,r)}function A(t,e,n,i,r){var o=n.width,s=n.outerWidth,a=n.outerHeight,c=i.textPadding,l=P(S,t,i,r),d=l.baseX,h=l.baseY,p=l.textAlign,f=l.textVerticalAlign;O(e,i,r,d,h);var m=u.adjustTextX(d,s,p),v=u.adjustTextY(h,a,f),g=m,_=v;c&&(g+=c[3],_+=c[0]);var y=g+o;D(i)&&k(t,e,i,m,v,s,a);for(var E=0;E<n.lines.length;E++){var b,T=n.lines[E],w=T.tokens,C=w.length,I=T.lineHeight,R=T.width,A=0,N=g,L=y,M=C-1;while(A<C&&(b=w[A],!b.textAlign||"left"===b.textAlign))x(t,e,b,i,I,_,N,"left"),R-=b.width,N+=b.width,A++;while(M>=0&&(b=w[M],"right"===b.textAlign))x(t,e,b,i,I,_,L,"right"),R-=b.width,L-=b.width,M--;N+=(o-(N-g)-(y-L)-R)/2;while(A<=M)b=w[A],x(t,e,b,i,I,_,N+b.width/2,"center"),N+=b.width,A++;_+=I}}function O(t,e,n,i,r){if(n&&e.textRotation){var o=e.textOrigin;"center"===o?(i=n.width/2+n.x,r=n.height/2+n.y):o&&(i=o[0]+n.x,r=o[1]+n.y),t.translate(i,r),t.rotate(-e.textRotation),t.translate(-i,-r)}}function x(t,e,n,i,s,a,c,l){var u=i.rich[n.styleName]||{};u.text=n.text;var d=n.textVerticalAlign,h=a+s/2;"top"===d?h=a+n.height/2:"bottom"===d&&(h=a+s-n.height/2),!n.isLineHolder&&D(u)&&k(t,e,u,"right"===l?c-n.width:"center"===l?c-n.width/2:c,h-n.height/2,n.width,n.height);var p=n.textPadding;p&&(c=B(c,l,p),h-=n.height/2-p[2]-n.textHeight/2),L(e,"shadowBlur",o(u.textShadowBlur,i.textShadowBlur,0)),L(e,"shadowColor",u.textShadowColor||i.textShadowColor||"transparent"),L(e,"shadowOffsetX",o(u.textShadowOffsetX,i.textShadowOffsetX,0)),L(e,"shadowOffsetY",o(u.textShadowOffsetY,i.textShadowOffsetY,0)),L(e,"textAlign",l),L(e,"textBaseline","middle"),L(e,"font",n.font||g);var f=M(u.textStroke||i.textStroke,v),m=V(u.textFill||i.textFill),v=r(u.textStrokeWidth,i.textStrokeWidth);f&&(L(e,"lineWidth",v),L(e,"strokeStyle",f),e.strokeText(n.text,c,h)),m&&(L(e,"fillStyle",m),e.fillText(n.text,c,h))}function D(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function k(t,e,n,i,r,o,s){var a=n.textBackgroundColor,u=n.textBorderWidth,p=n.textBorderColor,f=c(a);if(L(e,"shadowBlur",n.textBoxShadowBlur||0),L(e,"shadowColor",n.textBoxShadowColor||"transparent"),L(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),L(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),f||u&&p){e.beginPath();var m=n.textBorderRadius;m?d.buildPath(e,{x:i,y:r,width:o,height:s,r:m}):e.rect(i,r,o,s),e.closePath()}if(f)if(L(e,"fillStyle",a),null!=n.fillOpacity){var v=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=v}else e.fill();else if(l(a)){var g=a.image;g=h.createOrUpdateImage(g,null,t,N,a),g&&h.isImageReady(g)&&e.drawImage(g,i,r,o,s)}if(u&&p)if(L(e,"lineWidth",u),L(e,"strokeStyle",p),null!=n.strokeOpacity){v=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=v}else e.stroke()}function N(t,e){e.image=t}function P(t,e,n,i){var r=n.x||0,o=n.y||0,s=n.textAlign,a=n.textVerticalAlign;if(i){var c=n.textPosition;if(c instanceof Array)r=i.x+U(c[0],i.width),o=i.y+U(c[1],i.height);else{var l=e&&e.calculateTextPosition?e.calculateTextPosition(b,n,i):u.calculateTextPosition(b,n,i);r=l.x,o=l.y,s=s||l.textAlign,a=a||l.textVerticalAlign}var d=n.textOffset;d&&(r+=d[0],o+=d[1])}return t=t||{},t.baseX=r,t.baseY=o,t.textAlign=s,t.textVerticalAlign=a,t}function L(t,e,n){return t[e]=p(t,e,n),t[e]}function M(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function V(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function U(t,e){return"string"===typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function B(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function j(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}e.normalizeTextStyle=T,e.renderText=C,e.getBoxPosition=P,e.getStroke=M,e.getFill=V,e.parsePercent=U,e.needDrawText=j},a96b:function(t,e,n){var i=n("3eba"),r=i.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});t.exports=r},aa77:function(t,e,n){var i=n("5ca1"),r=n("be13"),o=n("79e5"),s=n("fdef"),a="["+s+"]",c="",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),d=function(t,e,n){var r={},a=o((function(){return!!s[t]()||c[t]()!=c})),l=r[t]=a?e(h):s[t];n&&(r[n]=l),i(i.P+i.F*a,"String",r)},h=d.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},aae3:function(t,e,n){var i=n("d3f4"),r=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},ac0f:function(t,e,n){var i=n("cbe5"),r=n("401b"),o=n("4a3f"),s=o.quadraticSubdivide,a=o.cubicSubdivide,c=o.quadraticAt,l=o.cubicAt,u=o.quadraticDerivativeAt,d=o.cubicDerivativeAt,h=[];function p(t,e,n){var i=t.cpx2,r=t.cpy2;return null===i||null===r?[(n?d:l)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?d:l)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?u:c)(t.x1,t.cpx1,t.x2,e),(n?u:c)(t.y1,t.cpy1,t.y2,e)]}var f=i.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,c=e.cpx1,l=e.cpy1,u=e.cpx2,d=e.cpy2,p=e.percent;0!==p&&(t.moveTo(n,i),null==u||null==d?(p<1&&(s(n,c,r,p,h),c=h[1],r=h[2],s(i,l,o,p,h),l=h[1],o=h[2]),t.quadraticCurveTo(c,l,r,o)):(p<1&&(a(n,c,u,r,p,h),c=h[1],u=h[2],r=h[3],a(i,l,d,o,p,h),l=h[1],d=h[2],o=h[3]),t.bezierCurveTo(c,l,u,d,r,o)))},pointAt:function(t){return p(this.shape,t,!1)},tangentAt:function(t){var e=p(this.shape,t,!0);return r.normalize(e,e)}});t.exports=f},ac4d:function(t,e,n){n("3a72")("asyncIterator")},ac6a:function(t,e,n){for(var i=n("cadf"),r=n("0d58"),o=n("2aba"),s=n("7726"),a=n("32e9"),c=n("84f2"),l=n("2b4c"),u=l("iterator"),d=l("toStringTag"),h=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),m=0;m<f.length;m++){var v,g=f[m],_=p[g],y=s[g],E=y&&y.prototype;if(E&&(E[u]||a(E,u,h),E[d]||a(E,d,g),c[g]=h,_))for(v in i)E[v]||o(E,v,i[v],!0)}},ae69:function(t,e,n){var i=n("cbe5"),r=i.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var n=.5522848,i=e.cx,r=e.cy,o=e.rx,s=e.ry,a=o*n,c=s*n;t.moveTo(i-o,r),t.bezierCurveTo(i-o,r-c,i-a,r-s,i,r-s),t.bezierCurveTo(i+a,r-s,i+o,r-c,i+o,r),t.bezierCurveTo(i+o,r+c,i+a,r+s,i,r+s),t.bezierCurveTo(i-a,r+s,i-o,r+c,i-o,r),t.closePath()}});t.exports=r},aef6:function(t,e,n){"use strict";var i=n("5ca1"),r=n("9def"),o=n("d2c8"),s="endsWith",a=""[s];i(i.P+i.F*n("5147")(s),"String",{endsWith:function(t){var e=o(this,t,s),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),c=void 0===n?i:Math.min(r(n),i),l=String(t);return a?a.call(e,l,c):e.slice(c-l.length,c)===l}})},af24:function(t,e,n){n("48c7"),n("f273")},af56:function(t,e,n){n("ec30")("Uint16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},afa0:function(t,e,n){var i=n("6d8b"),r=n("22d1"),o=n("e1fc"),s=n("04f6");function a(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var c=function(){this._roots=[],this._displayList=[],this._displayListLen=0};c.prototype={constructor:c,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,o=e.length;i<o;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,r.canvasSupported&&s(n,a)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i){e=e?e.slice():[];var r=i,o=t;while(r)r.parent=o,r.updateTransform(),e.push(r),o=r,r=r.clipPath}if(t.isGroup){for(var s=t._children,a=0;a<s.length;a++){var c=s[a];t.__dirty&&(c.__dirty=!0),this._updateAndAddDisplayable(c,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof o&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var n=this._roots[e];n instanceof o&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var r=t.length;e<r;e++)this.delRoot(t[e])}else{var s=i.indexOf(this._roots,t);s>=0&&(this.delFromStorage(t),this._roots.splice(s,1),t instanceof o&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:a};var l=c;t.exports=l},b05c:function(t,e,n){n("ec30")("Int8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},b0af:function(t,e,n){var i=n("2306"),r=n("3842"),o=r.round;function s(t,e,n){var r=t.getArea(),o=t.getBaseAxis().isHorizontal(),s=r.x,a=r.y,c=r.width,l=r.height,u=n.get("lineStyle.width")||2;s-=u/2,a-=u/2,c+=u,l+=u,s=Math.floor(s),c=Math.round(c);var d=new i.Rect({shape:{x:s,y:a,width:c,height:l}});return e&&(d.shape[o?"width":"height"]=0,i.initProps(d,{shape:{width:c,height:l}},n)),d}function a(t,e,n){var r=t.getArea(),s=new i.Sector({shape:{cx:o(t.cx,1),cy:o(t.cy,1),r0:o(r.r0,1),r:o(r.r,1),startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});return e&&(s.shape.endAngle=r.startAngle,i.initProps(s,{shape:{endAngle:r.endAngle}},n)),s}function c(t,e,n){return t?"polar"===t.type?a(t,e,n):"cartesian2d"===t.type?s(t,e,n):null:null}e.createGridClipPath=s,e.createPolarClipPath=a,e.createClipPath=c},b0c5:function(t,e,n){"use strict";var i=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},b12f:function(t,e,n){var i=n("e1fc"),r=n("8918"),o=n("625e"),s=function(){this.group=new i,this.uid=r.getUID("viewComponent")};s.prototype={constructor:s,init:function(t,e){},render:function(t,e,n,i){},dispose:function(){},filterForExposedEvent:null};var a=s.prototype;a.updateView=a.updateLayout=a.updateVisual=function(t,e,n,i){},o.enableClassExtend(s),o.enableClassManagement(s,{registerWhenExtend:!0});var c=s;t.exports=c},b1b1:function(t,e,n){var i=n("5ca1"),r=n("9c12"),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},b1d4:function(t,e,n){var i=n("862d");function r(t,e){return e=e||{},i(e.coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}t.exports=r},b39a:function(t,e,n){var i=n("d3f4");t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},b54a:function(t,e,n){"use strict";n("386b")("link",(function(t){return function(e){return t(this,"a","href",e)}}))},b639:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n("1fb5"),r=n("9152"),o=n("e3db");function s(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=l.prototype):(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?v(t,e,n,i):"string"===typeof e?f(t,e,n):g(t,e)}function d(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,n,i){return d(e),e<=0?c(t,e):void 0!==n?"string"===typeof i?c(t,e).fill(n,i):c(t,e).fill(n):c(t,e)}function p(t,e){if(d(e),t=c(t,e<0?0:0|_(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|E(e,n);t=c(t,i);var r=t.write(e,n);return r!==i&&(t=t.slice(0,r)),t}function m(t,e){var n=e.length<0?0:0|_(e.length);t=c(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function v(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),l.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=l.prototype):t=m(t,e),t}function g(t,e){if(l.isBuffer(e)){var n=0|_(e.length);return t=c(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?c(t,0):m(t,e);if("Buffer"===e.type&&o(e.data))return m(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function _(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),l.alloc(+t)}function E(t,e){if(l.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(i)return X(t).length;e=(""+e).toLowerCase(),i=!0}}function b(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return V(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return L(this,e,n);case"latin1":case"binary":return M(this,e,n);case"base64":return D(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function S(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function T(t,e,n,i,r){if(0===t.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:w(t,e,n,i,r);if("number"===typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,i,r){var o,s=1,a=t.length,c=e.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var u=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var d=!0,h=0;h<c;h++)if(l(t,o+h)!==l(e,h)){d=!1;break}if(d)return o}return-1}function C(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function I(t,e,n,i){return tt(X(e,t.length-n),t,n,i)}function R(t,e,n,i){return tt(J(e),t,n,i)}function A(t,e,n,i){return R(t,e,n,i)}function O(t,e,n,i){return tt(Q(e),t,n,i)}function x(t,e,n,i){return tt(Z(e,t.length-n),t,n,i)}function D(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);var i=[],r=e;while(r<n){var o,s,a,c,l=t[r],u=null,d=l>239?4:l>223?3:l>191?2:1;if(r+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:o=t[r+1],128===(192&o)&&(c=(31&l)<<6|63&o,c>127&&(u=c));break;case 3:o=t[r+1],s=t[r+2],128===(192&o)&&128===(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s,c>2047&&(c<55296||c>57343)&&(u=c));break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a,c>65535&&c<1114112&&(u=c))}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=d}return P(i)}e.Buffer=l,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:s(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return u(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return h(null,t,e,n)},l.allocUnsafe=function(t){return p(null,t)},l.allocUnsafeSlow=function(t){return p(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=l.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},l.byteLength=E,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)S(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)S(this,e,e+3),S(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)S(this,e,e+7),S(this,e+1,e+6),S(this,e+2,e+5),S(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):b.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,i,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,s=n-e,a=Math.min(o,s),c=this.slice(i,r),u=t.slice(e,n),d=0;d<a;++d)if(c[d]!==u[d]){o=c[d],s=u[d];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return T(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return T(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return C(this,t,e,n);case"utf8":case"utf-8":return I(this,t,e,n);case"ascii":return R(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function P(t){var e=t.length;if(e<=N)return String.fromCharCode.apply(String,t);var n="",i=0;while(i<e)n+=String.fromCharCode.apply(String,t.slice(i,i+=N));return n}function L(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function M(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function V(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=q(t[o]);return r}function U(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function B(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,n,i,r,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function F(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function H(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function W(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function G(t,e,n,i,o){return o||W(t,e,n,4,34028234663852886e22,-34028234663852886e22),r.write(t,e,n,i,23,4),n+4}function $(t,e,n,i,o){return o||W(t,e,n,8,17976931348623157e292,-17976931348623157e292),r.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=l.prototype;else{var r=e-t;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var i=this[t],r=1,o=0;while(++o<e&&(r*=256))i+=this[t+o]*r;return i},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var i=this[t+--e],r=1;while(e>0&&(r*=256))i+=this[t+--e]*r;return i},l.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var i=this[t],r=1,o=0;while(++o<e&&(r*=256))i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var i=e,r=1,o=this[t+--i];while(i>0&&(r*=256))o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;j(this,t,e,n,r,0)}var o=1,s=0;this[e]=255&t;while(++s<n&&(o*=256))this[e+s]=t/o&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;j(this,t,e,n,r,0)}var o=n-1,s=1;this[e+o]=255&t;while(--o>=0&&(s*=256))this[e+o]=t/s&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):H(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):H(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);j(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;this[e]=255&t;while(++o<n&&(s*=256))t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);j(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;this[e+o]=255&t;while(--o>=0&&(s*=256))t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):H(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):H(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return G(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return G(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return $(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return $(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,i){if("string"===typeof t){if("string"===typeof e?(i=e,e=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=l.isBuffer(t)?t:X(new l(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function Y(t){if(t=K(t).replace(z,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function K(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t){return t<16?"0"+t.toString(16):t.toString(16)}function X(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function J(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Z(t,e){for(var n,i,r,o=[],s=0;s<t.length;++s){if((e-=2)<0)break;n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i)}return o}function Q(t){return i.toByteArray(Y(t))}function tt(t,e,n,i){for(var r=0;r<i;++r){if(r+n>=e.length||r>=t.length)break;e[r+n]=t[r]}return r}function et(t){return t!==t}}).call(this,n("c8ba"))},b6e4:function(t,e,n){n("ec30")("Int32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},b719:function(t,e,n){var i=n("697e7");e.zrender=i;var r=n("1687");e.matrix=r;var o=n("401b");e.vector=o;var s=n("6d8b"),a=n("41ef");e.color=a;var c=n("2306"),l=n("3842");e.number=l;var u=n("eda2");e.format=u;var d=n("88b3");d.throttle;e.throttle=d.throttle;var h=n("1548");e.helper=h;var p=n("bda7");e.parseGeoJSON=p;var f=n("6179");e.List=f;var m=n("4319");e.Model=m;var v=n("84ce");e.Axis=v;var g=n("22d1");e.env=g;var _=p,y={};s.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],(function(t){y[t]=s[t]}));var E={};s.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],(function(t){E[t]=c[t]})),e.parseGeoJson=_,e.util=y,e.graphic=E},b809:function(t,e,n){var i=n("6d8b"),r=n("29a8"),o=n("2b17"),s=o.retrieveRawValue;function a(t,e){var n=e.getModel("aria");if(n.get("show"))if(n.get("description"))t.setAttribute("aria-label",n.get("description"));else{var o=0;e.eachSeries((function(t,e){++o}),this);var a,c=n.get("data.maxCount")||10,l=n.get("series.maxCount")||10,u=Math.min(o,l);if(!(o<1)){var d=v();a=d?f(m("general.withTitle"),{title:d}):m("general.withoutTitle");var h=[],p=o>1?"series.multiple.prefix":"series.single.prefix";a+=f(m(p),{seriesCount:o}),e.eachSeries((function(t,e){if(e<u){var n,i=t.get("name"),r="series."+(o>1?"multiple":"single")+".";n=m(i?r+"withName":r+"withoutName"),n=f(n,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:g(t.subType)});var a=t.getData();window.data=a,a.count()>c?n+=f(m("data.partialData"),{displayCnt:c}):n+=m("data.allData");for(var l=[],d=0;d<a.count();d++)if(d<c){var p=a.getName(d),v=s(a,d);l.push(f(m(p?"data.withName":"data.withoutName"),{name:p,value:v}))}n+=l.join(m("data.separator.middle"))+m("data.separator.end"),h.push(n)}})),a+=h.join(m("series.multiple.separator.middle"))+m("series.multiple.separator.end"),t.setAttribute("aria-label",a)}}function f(t,e){if("string"!==typeof t)return t;var n=t;return i.each(e,(function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),n}function m(t){var e=n.get(t);if(null==e){for(var i=t.split("."),o=r.aria,s=0;s<i.length;++s)o=o[i[s]];return o}return e}function v(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}function g(t){return r.series.typeNames[t]||""}}t.exports=a},b9a1:function(t,e,n){"use strict";var i=n("5ca1"),r=n("4bf8"),o=n("6a99"),s=n("38fd"),a=n("11e9").f;n("9e1e")&&i(i.P+n("c5b4"),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.get}while(n=s(n))}})},ba16:function(t,e,n){var i=n("5ca1"),r=n("11e9").f,o=n("cb7c");i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},ba92:function(t,e,n){"use strict";var i=n("4bf8"),r=n("77f1"),o=n("9def");t.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),a=r(t,s),c=r(e,s),l=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===l?s:r(l,s))-c,s-a),d=1;c<a&&a<c+u&&(d=-1,c+=u-1,a+=u-1);while(u-- >0)c in n?n[a]=n[c]:delete n[a],a+=d,c+=d;return n}},bcaa:function(t,e,n){var i=n("cb7c"),r=n("d3f4"),o=n("a5b8");t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t),s=n.resolve;return s(e),n.promise}},bd6b:function(t,e,n){var i=n("06ad"),r=n("4942"),o=n("6d8b"),s=o.isString,a=o.isFunction,c=o.isObject,l=o.isArrayLike,u=o.indexOf,d=function(){this.animators=[]};function h(t,e,n,i,r,o,c,l){s(i)?(o=r,r=i,i=0):a(r)?(o=r,r="linear",i=0):a(i)?(o=i,i=0):a(n)?(o=n,n=500):n||(n=500),t.stopAnimation(),p(t,"",t,e,n,i,l);var u=t.animators.slice(),d=u.length;function h(){d--,d||o&&o()}d||o&&o();for(var f=0;f<u.length;f++)u[f].done(h).start(r,c)}function p(t,e,n,i,r,o,s){var a={},u=0;for(var d in i)i.hasOwnProperty(d)&&(null!=n[d]?c(i[d])&&!l(i[d])?p(t,e?e+"."+d:d,n[d],i[d],r,o,s):(s?(a[d]=n[d],f(t,e,d,i[d])):a[d]=i[d],u++):null==i[d]||s||f(t,e,d,i[d]));u>0&&t.animate(e,!1).when(null==r?500:r,a).delay(o||0)}function f(t,e,n,i){if(e){var r={};r[e]={},r[e][n]=i,t.attr(r)}else t.attr(n,i)}d.prototype={constructor:d,animate:function(t,e){var n,o=!1,s=this,a=this.__zr;if(t){var c=t.split("."),l=s;o="shape"===c[0];for(var d=0,h=c.length;d<h;d++)l&&(l=l[c[d]]);l&&(n=l)}else n=s;if(n){var p=s.animators,f=new i(n,e);return f.during((function(t){s.dirty(o)})).done((function(){p.splice(u(p,f),1)})),p.push(f),a&&a.animation.addAnimator(f),f}r('Property "'+t+'" is not existed in element '+s.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,i=0;i<n;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,e,n,i,r,o){h(this,t,e,n,i,r,o)},animateFrom:function(t,e,n,i,r,o){h(this,t,e,n,i,r,o,!0)}};var m=d;t.exports=m},bda7:function(t,e,n){var i=n("6d8b"),r=n("f279");function o(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,i=0;i<n.length;i++)for(var r=n[i],o=r.geometry,a=o.coordinates,c=o.encodeOffsets,l=0;l<a.length;l++){var u=a[l];if("Polygon"===o.type)a[l]=s(u,c[l],e);else if("MultiPolygon"===o.type)for(var d=0;d<u.length;d++){var h=u[d];u[d]=s(h,c[l][d],e)}}return t.UTF8Encoding=!1,t}function s(t,e,n){for(var i=[],r=e[0],o=e[1],s=0;s<t.length;s+=2){var a=t.charCodeAt(s)-64,c=t.charCodeAt(s+1)-64;a=a>>1^-(1&a),c=c>>1^-(1&c),a+=r,c+=o,r=a,o=c,i.push([a/n,c/n])}return i}function a(t,e){return o(t),i.map(i.filter(t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var n=t.properties,o=t.geometry,s=o.coordinates,a=[];"Polygon"===o.type&&a.push({type:"polygon",exterior:s[0],interiors:s.slice(1)}),"MultiPolygon"===o.type&&i.each(s,(function(t){t[0]&&a.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}));var c=new r(n[e||"name"],a,n.cp);return c.properties=n,c}))}t.exports=a},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},bf40:function(t,e,n){},c02b:function(t,e,n){"use strict";var i=n("643e"),r=n("b39a"),o="WeakSet";n("e0b8")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,o),t,!0)}},i,!1,!0)},c26b:function(t,e,n){"use strict";var i=n("86cc").f,r=n("2aeb"),o=n("dcbc"),s=n("9b43"),a=n("f605"),c=n("4a59"),l=n("01f9"),u=n("d53b"),d=n("7a56"),h=n("9e1e"),p=n("67ab").fastKey,f=n("b39a"),m=h?"_s":"size",v=function(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var u=t((function(t,i){a(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=i&&c(i,n,t[l],t)}));return o(u.prototype,{clear:function(){for(var t=f(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=f(this,e),i=v(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[m]--}return!!i},forEach:function(t){f(this,e);var n,i=s(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){i(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!v(f(this,e),t)}}),h&&i(u.prototype,"size",{get:function(){return f(this,e)[m]}}),u},def:function(t,e,n){var i,r,o=v(t,e);return o?o.v=n:(t._l=o={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[m]++,"F"!==r&&(t._i[r]=o)),t},getEntry:v,setStrong:function(t,e,n){l(t,e,(function(t,n){this._t=f(t,e),this._k=n,this._l=void 0}),(function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?u(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,u(1))}),n?"entries":"values",!n,!0),d(e)}}},c366:function(t,e,n){var i=n("6821"),r=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,s){var a,c=i(e),l=r(c.length),u=o(s,l);if(t&&n!=n){while(l>u)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},c3da:function(t,e,n){"use strict";function i(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}var r=n("6f0c"),o=n("4cbb");n("ef97");var s=i(n("6521")),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function c(t){var e=t.dimension,n=t.rows,i=t.xAxisName,r=t.axisVisible,o=t.xAxisType;return e.map((function(t,e){return{type:o,nameLocation:"middle",nameGap:22,name:i[e]||"",axisTick:{show:!0,lineStyle:{color:"#eee"}},data:n.map((function(e){return e[t]})),show:r}}))}function l(t){var e=t.rows,n=t.axisSite,i=t.metrics,o=t.area,s=t.stack,a=t.nullAddZero,c=t.labelMap,l=t.label,u=t.itemStyle,d=t.lineStyle,h=t.areaStyle,p=t.dimension,f=[],m={},v=s&&r.getStackMap(s);return i.forEach((function(t){m[t]=[]})),e.forEach((function(t){i.forEach((function(e){var n=null;null!=t[e]?n=t[e]:a&&(n=0),m[e].push([t[p[0]],n])}))})),i.forEach((function(t){var e={name:null!=c[t]?c[t]:t,type:"line",data:m[t]};o&&(e.areaStyle={normal:{}}),n.right&&(e.yAxisIndex=~n.right.indexOf(t)?1:0),s&&v[t]&&(e.stack=v[t]),l&&(e.label=l),u&&(e.itemStyle=u),d&&(e.lineStyle=d),h&&(e.areaStyle=h),f.push(e)})),f}function u(t){for(var e=t.yAxisName,n=t.yAxisType,i=t.axisVisible,o=t.scale,s=t.min,c=t.max,l=t.digit,u={type:"value",axisTick:{show:!1},show:i},d=[],h=function(t){n[t]?d[t]=a({},u,{axisLabel:{formatter:function(e){return r.getFormated(e,n[t],l)}}}):d[t]=a({},u),d[t].name=e[t]||"",d[t].scale=o[t]||!1,d[t].min=s[t]||null,d[t].max=c[t]||null},p=0;p<2;p++)h(p);return d}function d(t){var e=t.axisSite,n=t.yAxisType,i=t.digit,s=t.labelMap,a=t.tooltipFormatter,c=e.right||[],l=s?c.map((function(t){return void 0===s[t]?t:s[t]})):c;return{trigger:"axis",formatter:function(t){if(a)return a.apply(null,arguments);var e=[],s=t[0],c=s.name,u=s.axisValueLabel,d=c||u;return e.push(d+"<br>"),t.forEach((function(t){var s=t.seriesName,a=t.data,c=t.marker,u=null,d=~l.indexOf(s)?n[1]:n[0],h=o.isArray(a)?a[1]:a;u=r.getFormated(h,d,i),e.push(c),e.push(s+": "+u),e.push("<br>")})),e.join("")}}}function h(t){var e=t.metrics,n=t.legendName,i=t.labelMap;if(!n&&!i)return{data:e};var r=i?e.map((function(t){return null==i[t]?t:i[t]})):e;return{data:r,formatter:function(t){return null!=n[t]?n[t]:t}}}var p=function(t,e,n,i){e=o.isArray(e)?e:[],t=o.isArray(t)?t:[];var r=n.axisSite,s=void 0===r?{}:r,a=n.yAxisType,p=void 0===a?["normal","normal"]:a,f=n.xAxisType,m=void 0===f?"category":f,v=n.yAxisName,g=void 0===v?[]:v,_=n.dimension,y=void 0===_?[t[0]]:_,E=n.xAxisName,b=void 0===E?[]:E,S=n.axisVisible,T=void 0===S||S,w=n.area,C=n.stack,I=n.scale,R=void 0===I?[!1,!1]:I,A=n.min,O=void 0===A?[null,null]:A,x=n.max,D=void 0===x?[null,null]:x,k=n.nullAddZero,N=void 0!==k&&k,P=n.digit,L=void 0===P?2:P,M=n.legendName,V=void 0===M?{}:M,U=n.labelMap,B=void 0===U?{}:U,j=n.label,F=n.itemStyle,H=n.lineStyle,W=n.areaStyle,G=i.tooltipVisible,$=i.legendVisible,z=i.tooltipFormatter,Y=t.slice();s.left&&s.right?Y=s.left.concat(s.right):s.left&&!s.right?Y=s.left:n.metrics?Y=n.metrics:Y.splice(t.indexOf(y[0]),1);var K=$&&h({metrics:Y,legendName:V,labelMap:B}),q=G&&d({axisSite:s,yAxisType:p,digit:L,labelMap:B,xAxisType:m,tooltipFormatter:z}),X=c({dimension:y,rows:e,xAxisName:b,axisVisible:T,xAxisType:m}),J=u({yAxisName:g,yAxisType:p,axisVisible:T,scale:R,min:O,max:D,digit:L}),Z=l({rows:e,axisSite:s,metrics:Y,area:w,stack:C,nullAddZero:N,labelMap:B,label:j,itemStyle:F,lineStyle:H,areaStyle:W,xAxisType:m,dimension:y}),Q={legend:K,xAxis:X,series:Z,yAxis:J,tooltip:q};return Q},f=a({},s,{name:"VeLine",data:function(){return this.chartHandler=p,{}}});t.exports=f},c533:function(t,e){var n=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],i={color:n,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],n]};t.exports=i},c5b4:function(t,e,n){"use strict";t.exports=n("2d00")||!n("79e5")((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete n("7726")[t]}))},c5f6:function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),o=n("2d95"),s=n("5dbc"),a=n("6a99"),c=n("79e5"),l=n("9093").f,u=n("11e9").f,d=n("86cc").f,h=n("aa77").trim,p="Number",f=i[p],m=f,v=f.prototype,g=o(n("2aeb")(v))==p,_="trim"in String.prototype,y=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():h(e,3);var n,i,r,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>r)return NaN;return parseInt(c,i)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(g?c((function(){v.valueOf.call(n)})):o(n)!=p)?s(new m(y(e)),n,f):y(e)};for(var E,b=n("9e1e")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;b.length>S;S++)r(m,E=b[S])&&!r(f,E)&&d(f,E,u(m,E));f.prototype=v,v.constructor=f,n("2aba")(i,p,f)}},c66f:function(t,e,n){"use strict";var i=n("5ca1"),r=n("0f88"),o=n("ed0b"),s=n("cb7c"),a=n("77f1"),c=n("9def"),l=n("d3f4"),u=n("7726").ArrayBuffer,d=n("ebd6"),h=o.ArrayBuffer,p=o.DataView,f=r.ABV&&u.isView,m=h.prototype.slice,v=r.VIEW,g="ArrayBuffer";i(i.G+i.W+i.F*(u!==h),{ArrayBuffer:h}),i(i.S+i.F*!r.CONSTR,g,{isView:function(t){return f&&f(t)||l(t)&&v in t}}),i(i.P+i.U+i.F*n("79e5")((function(){return!new h(2).slice(1,void 0).byteLength})),g,{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(s(this),t);var n=s(this).byteLength,i=a(t,n),r=a(void 0===e?n:e,n),o=new(d(this,h))(c(r-i)),l=new p(this),u=new p(o),f=0;while(i<r)u.setUint8(f++,l.getUint8(i++));return o}}),n("7a56")(g)},c698:function(t,e,n){var i=n("5ca1");i(i.S,"Reflect",{ownKeys:n("990b")})},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c775:function(t,e,n){var i=n("2b17"),r=i.retrieveRawValue;function o(t,e){var n=t.mapDimension("defaultedLabel",!0),i=n.length;if(1===i)return r(t,e,n[0]);if(i){for(var o=[],s=0;s<n.length;s++){var a=r(t,e,n[s]);o.push(a)}return o.join(" ")}}e.getDefaultLabel=o},c7a2:function(t,e,n){var i=n("cbe5"),r=n("5693"),o=n("9cf9"),s=o.subPixelOptimizeRect,a={},c=i.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n,i,o,c;this.subPixelOptimize?(s(a,e,this.style),n=a.x,i=a.y,o=a.width,c=a.height,a.r=e.r,e=a):(n=e.x,i=e.y,o=e.width,c=e.height),e.r?r.buildPath(t,e):t.rect(n,i,o,c),t.closePath()}});t.exports=c},c7c6:function(t,e,n){var i=n("5ca1"),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){var n,i,o=0,s=0,a=arguments.length,c=0;while(s<a)n=r(arguments[s++]),c<n?(i=c/n,o=o*i*i+1,c=n):n>0?(i=n/c,o+=i*i):o+=n;return c===1/0?1/0:c*Math.sqrt(o)}})},c7c62:function(t,e,n){var i=n("5ca1"),r=n("2d5c"),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},c8ce:function(t,e,n){var i=n("2b4c")("toPrimitive"),r=Date.prototype;i in r||n("32e9")(r,i,n("8381"))},ca5a:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},ca98:function(t,e,n){var i=n("6d8b"),r=n("e0d3"),o=n("6cb7"),s=i.each,a=i.clone,c=i.map,l=i.merge,u=/^(min|max)?(.+)$/;function d(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function h(t,e,n){var r,o,a=[],c=[],l=t.timeline;if(t.baseOption&&(o=t.baseOption),(l||t.options)&&(o=o||{},a=(t.options||[]).slice()),t.media){o=o||{};var u=t.media;s(u,(function(t){t&&t.option&&(t.query?c.push(t):r||(r=t))}))}return o||(o=t),o.timeline||(o.timeline=l),s([o].concat(a).concat(i.map(c,(function(t){return t.option}))),(function(t){s(e,(function(e){e(t,n)}))})),{baseOption:o,timelineOptions:a,mediaDefault:r,mediaList:c}}function p(t,e,n){var r={width:e,height:n,aspectratio:e/n},o=!0;return i.each(t,(function(t,e){var n=e.match(u);if(n&&n[1]&&n[2]){var i=n[1],s=n[2].toLowerCase();f(r[s],t,i)||(o=!1)}})),o}function f(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e}function m(t,e){return t.join(",")===e.join(",")}function v(t,e){e=e||{},s(e,(function(e,n){if(null!=e){var i=t[n];if(o.hasClass(n)){e=r.normalizeToArray(e),i=r.normalizeToArray(i);var s=r.mappingToExists(i,e);t[n]=c(s,(function(t){return t.option&&t.exist?l(t.exist,t.option,!0):t.exist||t.option}))}else t[n]=l(i,e,!0)}}))}d.prototype={constructor:d,setOption:function(t,e){t&&i.each(r.normalizeToArray(t.series),(function(t){t&&t.data&&i.isTypedArray(t.data)&&i.setAsPrimitive(t.data)})),t=a(t);var n=this._optionBackup,o=h.call(this,t,e,!n);this._newBaseOption=o.baseOption,n?(v(n.baseOption,o.baseOption),o.timelineOptions.length&&(n.timelineOptions=o.timelineOptions),o.mediaList.length&&(n.mediaList=o.mediaList),o.mediaDefault&&(n.mediaDefault=o.mediaDefault)):this._optionBackup=o},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=c(e.timelineOptions,a),this._mediaList=c(e.mediaList,a),this._mediaDefault=a(e.mediaDefault),this._currentMediaIndices=[],a(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=a(n[i.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,r=this._mediaDefault,o=[],s=[];if(!i.length&&!r)return s;for(var l=0,u=i.length;l<u;l++)p(i[l].query,e,n)&&o.push(l);return!o.length&&r&&(o=[-1]),o.length&&!m(o,this._currentMediaIndices)&&(s=c(o,(function(t){return a(-1===t?r.option:i[t].option)}))),this._currentMediaIndices=o,s}};var g=d;t.exports=g},cadf:function(t,e,n){"use strict";var i=n("9c6c"),r=n("d53b"),o=n("84f2"),s=n("6821");t.exports=n("01f9")(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},cb11:function(t,e,n){var i=n("cbe5"),r=n("9cf9"),o=r.subPixelOptimizeLine,s={},a=i.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n,i,r,a;this.subPixelOptimize?(o(s,e,this.style),n=s.x1,i=s.y1,r=s.x2,a=s.y2):(n=e.x1,i=e.y1,r=e.x2,a=e.y2);var c=e.percent;0!==c&&(t.moveTo(n,i),c<1&&(r=n*(1-c)+r*c,a=i*(1-c)+a*c),t.lineTo(r,a))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});t.exports=a},cb6d:function(t,e){function n(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function i(t,e){return{target:t,topTarget:e&&e.topTarget}}n.prototype={constructor:n,_dragStart:function(t){var e=t.target;while(e&&!e.draggable)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(i(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,o=n-this._x,s=r-this._y;this._x=n,this._y=r,e.drift(o,s,t),this.dispatchToElement(i(e,t),"drag",t.event);var a=this.findHover(n,r,e).target,c=this._dropTarget;this._dropTarget=a,e!==a&&(c&&a!==c&&this.dispatchToElement(i(c,t),"dragleave",t.event),a&&a!==c&&this.dispatchToElement(i(a,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(i(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(i(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var r=n;t.exports=r},cb7c:function(t,e,n){var i=n("d3f4");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},cb8f:function(t,e,n){var i=n("3eba"),r=n("6d8b"),o=n("cd33"),s=n("eb6b");n("48ac"),n("d4b1"),n("4a9d"),i.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!r.isArray(e)&&(t.axisPointer.link=[e])}})),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=o.collect(t,e)})),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},s)},cbe5:function(t,e,n){var i=n("19eb"),r=n("6d8b"),o=n("20c8"),s=n("d833"),a=n("dc2f"),c=a.prototype.getCanvasPattern,l=Math.abs,u=new o(!0);function d(t){i.call(this,t),this.path=null}d.prototype={constructor:d,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var n,i=this.style,r=this.path||u,o=i.hasStroke(),s=i.hasFill(),a=i.fill,l=i.stroke,d=s&&!!a.colorStops,h=o&&!!l.colorStops,p=s&&!!a.image,f=o&&!!l.image;(i.bind(t,this,e),this.setTransform(t),this.__dirty)&&(d&&(n=n||this.getBoundingRect(),this._fillGradient=i.getGradient(t,a,n)),h&&(n=n||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,l,n)));d?t.fillStyle=this._fillGradient:p&&(t.fillStyle=c.call(a,t)),h?t.strokeStyle=this._strokeGradient:f&&(t.strokeStyle=c.call(l,t));var m=i.lineDash,v=i.lineDashOffset,g=!!t.setLineDash,_=this.getGlobalScale();if(r.setScale(_[0],_[1],this.segmentIgnoreThreshold),this.__dirtyPath||m&&!g&&o?(r.beginPath(t),m&&!g&&(r.setLineDash(m),r.setLineDashOffset(v)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),s)if(null!=i.fillOpacity){var y=t.globalAlpha;t.globalAlpha=i.fillOpacity*i.opacity,r.fill(t),t.globalAlpha=y}else r.fill(t);if(m&&g&&(t.setLineDash(m),t.lineDashOffset=v),o)if(null!=i.strokeOpacity){y=t.globalAlpha;t.globalAlpha=i.strokeOpacity*i.opacity,r.stroke(t),t.globalAlpha=y}else r.stroke(t);m&&g&&t.setLineDash([]),null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new o},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var i=this.path;i||(i=this.path=new o),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),t=i.getBoundingRect()}if(this._rect=t,e.hasStroke()){var r=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){r.copy(t);var s=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(s=Math.max(s,this.strokeContainThreshold||4)),a>1e-10&&(r.width+=s/a,r.height+=s/a,r.x-=s/a/2,r.y-=s/a/2)}return r}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var o=this.path.data;if(r.hasStroke()){var a=r.lineWidth,c=r.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(r.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),s.containStroke(o,a/c,t,e)))return!0}if(r.hasFill())return s.contain(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):i.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(r.isObject(t))for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&l(t[0]-1)>1e-10&&l(t[3]-1)>1e-10?Math.sqrt(l(t[0]*t[3]-t[2]*t[1])):1}},d.extend=function(t){var e=function(e){d.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var i=this.shape;for(var r in n)!i.hasOwnProperty(r)&&n.hasOwnProperty(r)&&(i[r]=n[r])}t.init&&t.init.call(this,e)};for(var n in r.inherits(e,d),t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},r.inherits(d,i);var h=d;t.exports=h},cbe9:function(t,e,n){var i=n("6d8b"),r=n("9850"),o=n("cf7e");function s(t){o.call(this,t)}s.prototype={constructor:s,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,n){var i=this.getAxis("x"),r=this.getAxis("y");return n=n||[],n[0]=i.toGlobalCoord(i.dataToCoord(t[0])),n[1]=r.toGlobalCoord(r.dataToCoord(t[1])),n},clampData:function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),o=i.getExtent(),s=n.parse(t[0]),a=i.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(r[0],r[1]),s),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),a),Math.max(o[0],o[1])),e},pointToData:function(t,e){var n=this.getAxis("x"),i=this.getAxis("y");return e=e||[],e[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=i.coordToData(i.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")},getArea:function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),o=Math.max(t[0],t[1])-n,s=Math.max(e[0],e[1])-i,a=new r(n,i,o,s);return a}},i.inherits(s,o);var a=s;t.exports=a},cccd:function(t,e,n){var i=n("e0d3"),r=i.makeInner;function o(){var t=r();return function(e){var n=t(e),i=e.pipelineContext,r=n.large,o=n.progressiveRender,s=n.large=i&&i.large,a=n.progressiveRender=i&&i.progressiveRender;return!!(r^s||o^a)&&"reset"}}t.exports=o},cd1c:function(t,e,n){var i=n("e853");t.exports=function(t,e){return new(i(t))(e)}},cd33:function(t,e,n){var i=n("6d8b"),r=n("4319"),o=i.each,s=i.curry;function a(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return c(n,t,e),n.seriesInvolved&&u(n,t),n}function c(t,e,n){var i=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),a=r.get("link",!0)||[],c=[];o(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var u=g(n.model),h=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=n;var p=n.model,f=p.getModel("tooltip",i);if(o(n.getAxes(),s(E,!1,null)),n.getTooltipAxes&&i&&f.get("show")){var m="axis"===f.get("trigger"),_="cross"===f.get("axisPointer.type"),y=n.getTooltipAxes(f.get("axisPointer.axis"));(m||_)&&o(y.baseAxes,s(E,!_||"cross",m)),_&&o(y.otherAxes,s(E,"cross",!1))}}function E(i,o,s){var u=s.model.getModel("axisPointer",r),p=u.get("show");if(p&&("auto"!==p||i||v(u))){null==o&&(o=u.get("triggerTooltip")),u=i?l(s,f,r,e,i,o):u;var m=u.get("snap"),_=g(s.model),y=o||m||"category"===s.type,E=t.axesInfo[_]={key:_,axis:s,coordSys:n,axisPointerModel:u,triggerTooltip:o,involveSeries:y,snap:m,useHandle:v(u),seriesModels:[]};h[_]=E,t.seriesInvolved|=y;var b=d(a,s);if(null!=b){var S=c[b]||(c[b]={axesInfo:{}});S.axesInfo[_]=E,S.mapper=a[b].mapper,E.linkGroup=S}}}}))}function l(t,e,n,s,a,c){var l=e.getModel("axisPointer"),u={};o(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){u[t]=i.clone(l.get(t))})),u.snap="category"!==t.type&&!!c,"cross"===l.get("type")&&(u.type="line");var d=u.label||(u.label={});if(null==d.show&&(d.show=!1),"cross"===a){var h=l.get("label.show");if(d.show=null==h||h,!c){var p=u.lineStyle=l.get("crossStyle");p&&i.defaults(d,p.textStyle)}}return t.model.getModel("axisPointer",new r(u,n,s))}function u(t,e){e.eachSeries((function(e){var n=e.coordinateSystem,i=e.get("tooltip.trigger",!0),r=e.get("tooltip.show",!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==r&&!1!==e.get("axisPointer.show",!0)&&o(t.coordSysAxesInfo[g(n.model)],(function(t){var i=t.axis;n.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}),this)}function d(t,e){for(var n=e.model,i=e.dim,r=0;r<t.length;r++){var o=t[r]||{};if(h(o[i+"AxisId"],n.id)||h(o[i+"AxisIndex"],n.componentIndex)||h(o[i+"AxisName"],n.name))return r}}function h(t,e){return"all"===t||i.isArray(t)&&i.indexOf(t,e)>=0||t===e}function p(t){var e=f(t);if(e){var n=e.axisPointerModel,i=e.axis.scale,r=n.option,o=n.get("status"),s=n.get("value");null!=s&&(s=i.parse(s));var a=v(n);null==o&&(r.status=a?"show":"hide");var c=i.getExtent().slice();c[0]>c[1]&&c.reverse(),(null==s||s>c[1])&&(s=c[1]),s<c[0]&&(s=c[0]),r.value=s,a&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function f(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[g(t)]}function m(t){var e=f(t);return e&&e.axisPointerModel}function v(t){return!!t.get("handle.show")}function g(t){return t.type+"||"+t.id}e.collect=a,e.fixValue=p,e.getAxisInfo=f,e.getAxisPointerModel=m,e.makeKey=g},cdaa:function(t,e,n){var i=n("607d"),r=i.addEventListener,o=i.removeEventListener,s=i.normalizeEvent,a=i.getNativeEvent,c=n("6d8b"),l=n("1fab"),u=n("22d1"),d=300,h=u.domSupported,p=function(){var t=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},i=c.map(t,(function(t){var e=t.replace("mouse","pointer");return n.hasOwnProperty(e)?e:t}));return{mouse:t,touch:e,pointer:i}}(),f={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function m(t){return"mousewheel"===t&&u.browser.firefox?"DOMMouseScroll":t}function v(t){var e=t.pointerType;return"pen"===e||"touch"===e}function g(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}function _(t){t&&(t.zrByTouch=!0)}function y(t,e){return s(t.dom,new b(t,e),!0)}function E(t,e){var n=e,i=!1;while(n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==e&&n===t.painterRoot))n=n.parentNode;return i}function b(t,e){this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}var S=b.prototype;S.stopPropagation=S.stopImmediatePropagation=S.preventDefault=c.noop;var T={mousedown:function(t){t=s(this.dom,t),this._mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=s(this.dom,t);var e=this._mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||O(this,!0),this.trigger("mousemove",t)},mouseup:function(t){t=s(this.dom,t),O(this,!1),this.trigger("mouseup",t)},mouseout:function(t){t=s(this.dom,t),this._pointerCapturing&&(t.zrEventControl="no_globalout");var e=t.toElement||t.relatedTarget;t.zrIsToLocalDOM=E(this,e),this.trigger("mouseout",t)},touchstart:function(t){t=s(this.dom,t),_(t),this._lastTouchMoment=new Date,this.handler.processGesture(t,"start"),T.mousemove.call(this,t),T.mousedown.call(this,t)},touchmove:function(t){t=s(this.dom,t),_(t),this.handler.processGesture(t,"change"),T.mousemove.call(this,t)},touchend:function(t){t=s(this.dom,t),_(t),this.handler.processGesture(t,"end"),T.mouseup.call(this,t),+new Date-this._lastTouchMoment<d&&T.click.call(this,t)},pointerdown:function(t){T.mousedown.call(this,t)},pointermove:function(t){v(t)||T.mousemove.call(this,t)},pointerup:function(t){T.mouseup.call(this,t)},pointerout:function(t){v(t)||T.mouseout.call(this,t)}};c.each(["click","mousewheel","dblclick","contextmenu"],(function(t){T[t]=function(e){e=s(this.dom,e),this.trigger(t,e)}}));var w={pointermove:function(t){v(t)||w.mousemove.call(this,t)},pointerup:function(t){w.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this._pointerCapturing;O(this,!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function C(t,e){var n=e.domHandlers;u.pointerEventsSupported?c.each(p.pointer,(function(i){R(e,i,(function(e){n[i].call(t,e)}))})):(u.touchEventsSupported&&c.each(p.touch,(function(i){R(e,i,(function(r){n[i].call(t,r),g(e)}))})),c.each(p.mouse,(function(i){R(e,i,(function(r){r=a(r),e.touching||n[i].call(t,r)}))})))}function I(t,e){function n(n){function i(i){i=a(i),E(t,i.target)||(i=y(t,i),e.domHandlers[n].call(t,i))}R(e,n,i,{capture:!0})}u.pointerEventsSupported?c.each(f.pointer,n):u.touchEventsSupported||c.each(f.mouse,n)}function R(t,e,n,i){t.mounted[e]=n,t.listenerOpts[e]=i,r(t.domTarget,m(e),n,i)}function A(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&o(t.domTarget,m(n),e[n],t.listenerOpts[n]);t.mounted={}}function O(t,e){if(t._mayPointerCapture=null,h&&t._pointerCapturing^e){t._pointerCapturing=e;var n=t._globalHandlerScope;e?I(t,n):A(n)}}function x(t,e){this.domTarget=t,this.domHandlers=e,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function D(t,e){l.call(this),this.dom=t,this.painterRoot=e,this._localHandlerScope=new x(t,T),h&&(this._globalHandlerScope=new x(document,w)),this._pointerCapturing=!1,this._mayPointerCapture=null,C(this,this._localHandlerScope)}var k=D.prototype;k.dispose=function(){A(this._localHandlerScope),h&&A(this._globalHandlerScope)},k.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},c.mixin(D,l);var N=D;t.exports=N},ce10:function(t,e,n){var i=n("69a8"),r=n("6821"),o=n("c366")(!1),s=n("613b")("IE_PROTO");t.exports=function(t,e){var n,a=r(t),c=0,l=[];for(n in a)n!=s&&i(a,n)&&l.push(n);while(e.length>c)i(a,n=e[c++])&&(~o(l,n)||l.push(n));return l}},ce5b:function(t,e,n){(function(e,i){t.exports=i(n("2b0e"))})("undefined"!==typeof self&&self,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s="./src/index.ts")}({"./src/components/VAlert/VAlert.ts":
/*!*****************************************!*\
  !*** ./src/components/VAlert/VAlert.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_alerts.styl */"./src/stylus/components/_alerts.styl");var i=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),r=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),o=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),s=n(/*! ../../mixins/transitionable */"./src/mixins/transitionable.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(a["default"])(r["default"],o["default"],s["default"]).extend({name:"v-alert",props:{dismissible:Boolean,icon:String,outline:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}}},computed:{computedColor:function(){return this.type&&!this.color?this.type:this.color||"error"},computedIcon:function(){if(this.icon||!this.type)return this.icon;switch(this.type){case"info":return"$vuetify.icons.info";case"error":return"$vuetify.icons.error";case"success":return"$vuetify.icons.success";case"warning":return"$vuetify.icons.warning"}}},methods:{genIcon:function(){return this.computedIcon?this.$createElement(i["default"],{class:"v-alert__icon"},this.computedIcon):null},genDismissible:function(){var t=this;return this.dismissible?this.$createElement("a",{class:"v-alert__dismissible",on:{click:function(){t.isActive=!1}}},[this.$createElement(i["default"],{props:{right:!0}},"$vuetify.icons.cancel")]):null}},render:function(t){var e=[this.genIcon(),t("div",this.$slots.default),this.genDismissible()],n=this.outline?this.setTextColor:this.setBackgroundColor,i=t("div",n(this.computedColor,{staticClass:"v-alert",class:{"v-alert--outline":this.outline},directives:[{name:"show",value:this.isActive}],on:this.$listeners}),e);return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[i]):i}})},"./src/components/VAlert/index.ts":
/*!****************************************!*\
  !*** ./src/components/VAlert/index.ts ***!
  \****************************************/
/*! exports provided: VAlert, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VAlert */"./src/components/VAlert/VAlert.ts");n.d(e,"VAlert",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VApp/VApp.js":
/*!*************************************!*\
  !*** ./src/components/VApp/VApp.js ***!
  \*************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_app.styl */"./src/stylus/components/_app.styl");var i=n(/*! ./mixins/app-theme */"./src/components/VApp/mixins/app-theme.js"),r=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),o=n(/*! ../../directives/resize */"./src/directives/resize.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};e["default"]={name:"v-app",directives:{Resize:o["default"]},mixins:[i["default"],r["default"]],props:{id:{type:String,default:"app"},dark:Boolean},computed:{classes:function(){return s({"application--is-rtl":this.$vuetify.rtl},this.themeClasses)}},watch:{dark:function(){this.$vuetify.dark=this.dark}},mounted:function(){this.$vuetify.dark=this.dark},render:function(t){var e={staticClass:"application",class:this.classes,attrs:{"data-app":!0},domProps:{id:this.id}},n=t("div",{staticClass:"application--wrap"},this.$slots.default);return t("div",e,[n])}}},"./src/components/VApp/index.js":
/*!**************************************!*\
  !*** ./src/components/VApp/index.js ***!
  \**************************************/
/*! exports provided: VApp, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VApp */"./src/components/VApp/VApp.js");n.d(e,"VApp",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VApp/mixins/app-theme.js":
/*!*************************************************!*\
  !*** ./src/components/VApp/mixins/app-theme.js ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../../util/theme */"./src/util/theme.ts");e["default"]={data:function(){return{style:null}},computed:{parsedTheme:function(){return i["parse"](this.$vuetify.theme)},generatedStyles:function(){var t,e=this.parsedTheme;return null!=this.$vuetify.options.themeCache&&(t=this.$vuetify.options.themeCache.get(e),null!=t)||(t=i["genStyles"](e,this.$vuetify.options.customProperties),null!=this.$vuetify.options.minifyTheme&&(t=this.$vuetify.options.minifyTheme(t)),null!=this.$vuetify.options.themeCache&&this.$vuetify.options.themeCache.set(e,t)),t},vueMeta:function(){if(!1===this.$vuetify.theme)return{};var t={cssText:this.generatedStyles,id:"vuetify-theme-stylesheet",type:"text/css"};return this.$vuetify.options.cspNonce&&(t.nonce=this.$vuetify.options.cspNonce),{style:[t]}}},metaInfo:function(){return this.vueMeta},head:function(){return this.vueMeta},watch:{generatedStyles:function(){!this.meta&&this.applyTheme()}},created:function(){if(!1!==this.$vuetify.theme)if(this.$meta);else if("undefined"===typeof document&&this.$ssrContext){var t=this.$vuetify.options.cspNonce?' nonce="'+this.$vuetify.options.cspNonce+'"':"";this.$ssrContext.head=this.$ssrContext.head||"",this.$ssrContext.head+='<style type="text/css" id="vuetify-theme-stylesheet"'+t+">"+this.generatedStyles+"</style>"}else"undefined"!==typeof document&&(this.genStyle(),this.applyTheme())},methods:{applyTheme:function(){this.style&&(this.style.innerHTML=this.generatedStyles)},genStyle:function(){var t=document.getElementById("vuetify-theme-stylesheet");t||(t=document.createElement("style"),t.type="text/css",t.id="vuetify-theme-stylesheet",this.$vuetify.options.cspNonce&&t.setAttribute("nonce",this.$vuetify.options.cspNonce),document.head.appendChild(t)),this.style=t}}}},"./src/components/VAutocomplete/VAutocomplete.js":
/*!*******************************************************!*\
  !*** ./src/components/VAutocomplete/VAutocomplete.js ***!
  \*******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_autocompletes.styl */"./src/stylus/components/_autocompletes.styl");var i=n(/*! ../VSelect/VSelect */"./src/components/VSelect/VSelect.js"),r=n(/*! ../VTextField/VTextField */"./src/components/VTextField/VTextField.js"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)},a=s({},i["defaultMenuProps"],{offsetY:!0,offsetOverflow:!0,transition:!1});e["default"]=i["default"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},browserAutocomplete:{type:String,default:"off"},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,noFilter:Boolean,searchInput:{default:void 0},menuProps:{type:i["default"].options.props.menuProps.type,default:function(){return a}},autoSelectFirst:{type:Boolean,default:!1}},data:function(t){return{attrsInput:null,lazySearch:t.searchInput}},computed:{classes:function(){return Object.assign({},i["default"].options.computed.classes.call(this),{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:this.getText(this.selectedItem).toString().length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){return t.filter(e,t.internalSearch.toString(),t.getText(e).toString())}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch=t,this.$emit("update:searchInput",t)}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple?this.searchIsDirty:this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=i["default"].options.computed.$_menuProps.call(this);return t.contentClass=("v-autocomplete__content "+(t.contentClass||"")).trim(),s({},a,t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(e){return t.valueComparator(t.getValue(e),t.getValue(t.internalValue))}))},listData:function(){var t=i["default"].options.computed.listData.call(this);return Object.assign(t.props,{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),t}},watch:{filteredItems:function(t){this.onFilteredItemsChanged(t)},internalValue:function(){this.setSearch()},isFocused:function(t){t?this.$refs.input&&this.$refs.input.select():this.updateSelf()},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:function(t){this.onInternalSearchChanged(t)},itemText:function(){this.updateSelf()}},created:function(){this.setSearch()},methods:{onFilteredItemsChanged:function(t){var e=this;this.setMenuIndex(-1),this.$nextTick((function(){e.setMenuIndex(t.length>0&&(1===t.length||e.autoSelectFirst)?0:-1)}))},onInternalSearchChanged:function(t){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){if(!this.searchIsDirty&&[o["keyCodes"].backspace,o["keyCodes"].left,o["keyCodes"].right,o["keyCodes"].delete].includes(t)){var e=this.selectedItems.length-1;if(t===o["keyCodes"].left)this.selectedIndex=-1===this.selectedIndex?e:this.selectedIndex-1;else if(t===o["keyCodes"].right)this.selectedIndex=this.selectedIndex>=e?-1:this.selectedIndex+1;else if(-1===this.selectedIndex)return void(this.selectedIndex=e);var n=this.selectedItems[this.selectedIndex];if([o["keyCodes"].backspace,o["keyCodes"].delete].includes(t)&&!this.getDisabled(n)){var i=this.selectedIndex===e?this.selectedIndex-1:this.selectedItems[this.selectedIndex+1]?this.selectedIndex:-1;-1===i?this.setValue(this.multiple?[]:void 0):this.selectItem(n),this.selectedIndex=i}}},clearableCallback:function(){this.internalSearch=void 0,i["default"].options.methods.clearableCallback.call(this)},genInput:function(){var t=r["default"].options.methods.genInput.call(this);return t.data.attrs.role="combobox",t.data.domProps.value=this.internalSearch,t},genSelections:function(){return this.hasSlot||this.multiple?i["default"].options.methods.genSelections.call(this):[]},onClick:function(){this.isDisabled||(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.activateMenu())},onEnterDown:function(){},onInput:function(t){this.selectedIndex>-1||(t.target.value&&(this.activateMenu(),this.isAnyValueAllowed||this.setMenuIndex(0)),this.mask&&this.resetSelections(t.target),this.internalSearch=t.target.value,this.badInput=t.target.validity&&t.target.validity.badInput)},onKeyDown:function(t){var e=t.keyCode;i["default"].options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onTabDown:function(t){i["default"].options.methods.onTabDown.call(this,t),this.updateSelf()},selectItem:function(t){i["default"].options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){i["default"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.internalSearch=t.multiple&&t.internalSearch&&t.isMenuActive?t.internalSearch:!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem)}))},updateSelf:function(){this.updateAutocomplete()},updateAutocomplete:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1}}})},"./src/components/VAutocomplete/index.js":
/*!***********************************************!*\
  !*** ./src/components/VAutocomplete/index.js ***!
  \***********************************************/
/*! exports provided: VAutocomplete, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VAutocomplete */"./src/components/VAutocomplete/VAutocomplete.js");n.d(e,"VAutocomplete",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VAvatar/VAvatar.ts":
/*!*******************************************!*\
  !*** ./src/components/VAvatar/VAvatar.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_avatars.styl */"./src/stylus/components/_avatars.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../util/helpers */"./src/util/helpers.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};e["default"]=Object(o["default"])(i["default"]).extend({name:"v-avatar",functional:!0,props:{color:String,size:{type:[Number,String],default:48},tile:Boolean},render:function(t,e){var n=e.data,o=e.props,a=e.children;n.staticClass=("v-avatar "+(n.staticClass||"")).trim(),o.tile&&(n.staticClass+=" v-avatar--tile");var c=Object(r["convertToUnit"])(o.size);return n.style=s({height:c,width:c},n.style),t("div",i["default"].options.methods.setBackgroundColor(o.color,n),a)}})},"./src/components/VAvatar/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VAvatar/index.ts ***!
  \*****************************************/
/*! exports provided: VAvatar, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VAvatar */"./src/components/VAvatar/VAvatar.ts");n.d(e,"VAvatar",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VBadge/VBadge.ts":
/*!*****************************************!*\
  !*** ./src/components/VBadge/VBadge.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_badges.styl */"./src/stylus/components/_badges.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),o=n(/*! ../../mixins/positionable */"./src/mixins/positionable.ts"),s=n(/*! ../../mixins/transitionable */"./src/mixins/transitionable.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(a["default"])(i["default"],r["default"],Object(o["factory"])(["left","bottom"]),s["default"]).extend({name:"v-badge",props:{color:{type:String,default:"primary"},overlap:Boolean,transition:{type:String,default:"fab-transition"},value:{default:!0}},computed:{classes:function(){return{"v-badge--bottom":this.bottom,"v-badge--left":this.left,"v-badge--overlap":this.overlap}}},render:function(t){var e=this.$slots.badge&&[t("span",this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",attrs:this.$attrs,directives:[{name:"show",value:this.isActive}]}),this.$slots.badge)];return t("span",{staticClass:"v-badge",class:this.classes},[this.$slots.default,t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},e)])}})},"./src/components/VBadge/index.ts":
/*!****************************************!*\
  !*** ./src/components/VBadge/index.ts ***!
  \****************************************/
/*! exports provided: VBadge, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBadge */"./src/components/VBadge/VBadge.ts");n.d(e,"VBadge",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VBottomNav/VBottomNav.ts":
/*!*************************************************!*\
  !*** ./src/components/VBottomNav/VBottomNav.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_bottom-navs.styl */"./src/stylus/components/_bottom-navs.styl");var i=n(/*! ../../mixins/applicationable */"./src/mixins/applicationable.ts"),r=n(/*! ../../mixins/button-group */"./src/mixins/button-group.ts"),o=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(a["default"])(Object(i["default"])("bottom",["height","value"]),o["default"],s["default"]).extend({name:"v-bottom-nav",props:{active:[Number,String],mandatory:Boolean,height:{default:56,type:[Number,String],validator:function(t){return!isNaN(parseInt(t))}},shift:Boolean,value:null},computed:{classes:function(){return{"v-bottom-nav--absolute":this.absolute,"v-bottom-nav--fixed":!this.absolute&&(this.app||this.fixed),"v-bottom-nav--shift":this.shift,"v-bottom-nav--active":this.value}},computedHeight:function(){return parseInt(this.height)}},methods:{updateApplication:function(){return this.value?this.computedHeight:0},updateValue:function(t){this.$emit("update:active",t)}},render:function(t){return t(r["default"],this.setBackgroundColor(this.color,{staticClass:"v-bottom-nav",class:this.classes,style:{height:parseInt(this.computedHeight)+"px"},props:{mandatory:Boolean(this.mandatory||void 0!==this.active),value:this.active},on:{change:this.updateValue}}),this.$slots.default)}})},"./src/components/VBottomNav/index.ts":
/*!********************************************!*\
  !*** ./src/components/VBottomNav/index.ts ***!
  \********************************************/
/*! exports provided: VBottomNav, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBottomNav */"./src/components/VBottomNav/VBottomNav.ts");n.d(e,"VBottomNav",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VBottomSheet/VBottomSheet.js":
/*!*****************************************************!*\
  !*** ./src/components/VBottomSheet/VBottomSheet.js ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_bottom-sheets.styl */"./src/stylus/components/_bottom-sheets.styl");var i=n(/*! ../VDialog/VDialog */"./src/components/VDialog/VDialog.js"),r=function(){return r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};e["default"]={name:"v-bottom-sheet",props:{disabled:Boolean,fullWidth:Boolean,hideOverlay:Boolean,inset:Boolean,lazy:Boolean,maxWidth:{type:[String,Number],default:"auto"},persistent:Boolean,value:null},render:function(t){var e=t("template",{slot:"activator"},this.$slots.activator),n=["v-bottom-sheet",this.inset?"v-bottom-sheet--inset":""].join(" ");return t(i["default"],{attrs:r({},this.$props),on:r({},this.$listeners),props:{contentClass:n,noClickAnimation:!0,transition:"bottom-sheet-transition",value:this.value}},[e,this.$slots.default])}}},"./src/components/VBottomSheet/index.js":
/*!**********************************************!*\
  !*** ./src/components/VBottomSheet/index.js ***!
  \**********************************************/
/*! exports provided: VBottomSheet, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBottomSheet */"./src/components/VBottomSheet/VBottomSheet.js");n.d(e,"VBottomSheet",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VBreadcrumbs/VBreadcrumbs.ts":
/*!*****************************************************!*\
  !*** ./src/components/VBreadcrumbs/VBreadcrumbs.ts ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_breadcrumbs.styl */"./src/stylus/components/_breadcrumbs.styl");var i=n(/*! . */"./src/components/VBreadcrumbs/index.ts"),r=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),o=n(/*! ../../util/console */"./src/util/console.ts"),s=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)};e["default"]=Object(s["default"])(r["default"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean,justifyCenter:Boolean,justifyEnd:Boolean},computed:{classes:function(){return a({"v-breadcrumbs--large":this.large,"justify-center":this.justifyCenter,"justify-end":this.justifyEnd},this.themeClasses)}},mounted:function(){this.justifyCenter&&Object(o["deprecate"])("justify-center",'class="justify-center"',this),this.justifyEnd&&Object(o["deprecate"])("justify-end",'class="justify-end"',this),this.$slots.default&&Object(o["deprecate"])("default slot",':items and scoped slot "item"',this)},methods:{genChildren:function(){if(this.$slots.default){for(var t=[],e=!1,n=0;n<this.$slots.default.length;n++){var i=this.$slots.default[n];i.componentOptions&&"v-breadcrumbs-item"===i.componentOptions.Ctor.options.name?(e&&t.push(this.genDivider()),t.push(i),e=!0):t.push(i)}return t}},genDivider:function(){return this.$createElement(i["VBreadcrumbsDivider"],this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,n=[],r=0;r<this.items.length;r++){var o=this.items[r];n.push(o.text),e?t.push(this.$scopedSlots.item({item:o})):t.push(this.$createElement(i["VBreadcrumbsItem"],{key:n.join("."),props:o},[o.text])),r<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default?this.genChildren():this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},"./src/components/VBreadcrumbs/VBreadcrumbsItem.ts":
/*!*********************************************************!*\
  !*** ./src/components/VBreadcrumbs/VBreadcrumbsItem.ts ***!
  \*********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/routable */"./src/mixins/routable.ts"),r=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(r["default"])(i["default"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"}},computed:{classes:function(){var t;return t={"v-breadcrumbs__item":!0},t[this.activeClass]=this.disabled,t}},render:function(t){var e=this.generateRouteLink(this.classes),n=e.tag,i=e.data;return t("li",[t(n,i,this.$slots.default)])}})},"./src/components/VBreadcrumbs/index.ts":
/*!**********************************************!*\
  !*** ./src/components/VBreadcrumbs/index.ts ***!
  \**********************************************/
/*! exports provided: VBreadcrumbs, VBreadcrumbsItem, VBreadcrumbsDivider, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VBreadcrumbsDivider",(function(){return s}));var i=n(/*! ./VBreadcrumbs */"./src/components/VBreadcrumbs/VBreadcrumbs.ts");n.d(e,"VBreadcrumbs",(function(){return i["default"]}));var r=n(/*! ./VBreadcrumbsItem */"./src/components/VBreadcrumbs/VBreadcrumbsItem.ts");n.d(e,"VBreadcrumbsItem",(function(){return r["default"]}));var o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),s=Object(o["createSimpleFunctional"])("v-breadcrumbs__divider","li");e["default"]={$_vuetify_subcomponents:{VBreadcrumbs:i["default"],VBreadcrumbsItem:r["default"],VBreadcrumbsDivider:s}}},"./src/components/VBtn/VBtn.ts":
/*!*************************************!*\
  !*** ./src/components/VBtn/VBtn.ts ***!
  \*************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_buttons.styl */"./src/stylus/components/_buttons.styl");var i=n(/*! ../../util/mixins */"./src/util/mixins.ts"),r=n(/*! ../VProgressCircular */"./src/components/VProgressCircular/index.ts"),o=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),s=n(/*! ../../mixins/groupable */"./src/mixins/groupable.ts"),a=n(/*! ../../mixins/positionable */"./src/mixins/positionable.ts"),c=n(/*! ../../mixins/routable */"./src/mixins/routable.ts"),l=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),u=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),d=n(/*! ../../util/helpers */"./src/util/helpers.ts"),h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function(){return p=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},p.apply(this,arguments)},f=Object(i["default"])(o["default"],c["default"],a["default"],l["default"],Object(s["factory"])("btnToggle"),Object(u["factory"])("inputValue"));e["default"]=f.extend().extend({name:"v-btn",props:{activeClass:{type:String,default:"v-btn--active"},block:Boolean,depressed:Boolean,fab:Boolean,flat:Boolean,icon:Boolean,large:Boolean,loading:Boolean,outline:Boolean,ripple:{type:[Boolean,Object],default:null},round:Boolean,small:Boolean,tag:{type:String,default:"button"},type:{type:String,default:"button"},value:null},computed:{classes:function(){var t;return p((t={"v-btn":!0},t[this.activeClass]=this.isActive,t["v-btn--absolute"]=this.absolute,t["v-btn--block"]=this.block,t["v-btn--bottom"]=this.bottom,t["v-btn--disabled"]=this.disabled,t["v-btn--flat"]=this.flat,t["v-btn--floating"]=this.fab,t["v-btn--fixed"]=this.fixed,t["v-btn--icon"]=this.icon,t["v-btn--large"]=this.large,t["v-btn--left"]=this.left,t["v-btn--loader"]=this.loading,t["v-btn--outline"]=this.outline,t["v-btn--depressed"]=this.depressed&&!this.flat||this.outline,t["v-btn--right"]=this.right,t["v-btn--round"]=this.round,t["v-btn--router"]=this.to,t["v-btn--small"]=this.small,t["v-btn--top"]=this.top,t),this.themeClasses)},computedRipple:function(){var t=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!==this.ripple?this.ripple:t)}},watch:{$route:"onRouteChange"},methods:{click:function(t){!this.fab&&t.detail&&this.$el.blur(),this.$emit("click",t),this.btnToggle&&this.toggle()},genContent:function(){return this.$createElement("div",{class:"v-btn__content"},this.$slots.default)},genLoader:function(){return this.$createElement("span",{class:"v-btn__loading"},this.$slots.loader||[this.$createElement(r["default"],{props:{indeterminate:!0,size:23,width:2}})])},onRouteChange:function(){var t=this;if(this.to&&this.$refs.link){var e="_vnode.data.class."+this.activeClass;this.$nextTick((function(){Object(d["getObjectValueByPath"])(t.$refs.link,e)&&t.toggle()}))}}},render:function(t){var e=this.outline||this.flat||this.disabled?this.setTextColor:this.setBackgroundColor,n=this.generateRouteLink(this.classes),i=n.tag,r=n.data,o=[this.genContent(),this.loading&&this.genLoader()];return"button"===i&&(r.attrs.type=this.type),r.attrs.value=["string","number"].includes(h(this.value))?this.value:JSON.stringify(this.value),this.btnToggle&&(r.ref="link"),t(i,e(this.color,r),o)}})},"./src/components/VBtn/index.ts":
/*!**************************************!*\
  !*** ./src/components/VBtn/index.ts ***!
  \**************************************/
/*! exports provided: VBtn, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBtn */"./src/components/VBtn/VBtn.ts");n.d(e,"VBtn",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VBtnToggle/VBtnToggle.ts":
/*!*************************************************!*\
  !*** ./src/components/VBtnToggle/VBtnToggle.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_button-toggle.styl */"./src/stylus/components/_button-toggle.styl");var i=n(/*! ../../mixins/button-group */"./src/mixins/button-group.ts"),r=function(){return r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};e["default"]=i["default"].extend({name:"v-btn-toggle",props:{activeClass:{type:String,default:"v-btn--active"}},computed:{classes:function(){return r({},i["default"].options.computed.classes.call(this),{"v-btn-toggle":!0,"v-btn-toggle--only-child":1===this.selectedItems.length,"v-btn-toggle--selected":this.selectedItems.length>0})}}})},"./src/components/VBtnToggle/index.ts":
/*!********************************************!*\
  !*** ./src/components/VBtnToggle/index.ts ***!
  \********************************************/
/*! exports provided: VBtnToggle, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VBtnToggle */"./src/components/VBtnToggle/VBtnToggle.ts");n.d(e,"VBtnToggle",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VCalendar/VCalendar.ts":
/*!***********************************************!*\
  !*** ./src/components/VCalendar/VCalendar.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./mixins/calendar-base */"./src/components/VCalendar/mixins/calendar-base.ts"),r=n(/*! ./util/props */"./src/components/VCalendar/util/props.ts"),o=n(/*! ./util/timestamp */"./src/components/VCalendar/util/timestamp.ts"),s=n(/*! ./VCalendarMonthly */"./src/components/VCalendar/VCalendarMonthly.ts"),a=n(/*! ./VCalendarDaily */"./src/components/VCalendar/VCalendarDaily.ts"),c=n(/*! ./VCalendarWeekly */"./src/components/VCalendar/VCalendarWeekly.ts"),l=function(){return l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)};e["default"]=i["default"].extend({name:"v-calendar",props:l({},r["default"].calendar,r["default"].weeks,r["default"].intervals),data:function(){return{lastStart:null,lastEnd:null}},computed:{parsedValue:function(){return Object(o["parseTimestamp"])(this.value)||this.parsedStart||this.times.today},renderProps:function(){var t=this.parsedValue,e="div",n=this.maxDays,i=t,r=t;switch(this.type){case"month":e=s["default"],i=Object(o["getStartOfMonth"])(t),r=Object(o["getEndOfMonth"])(t);break;case"week":e=a["default"],i=this.getStartOfWeek(t),r=this.getEndOfWeek(t),n=7;break;case"day":e=a["default"],n=1;break;case"4day":e=a["default"],r=Object(o["relativeDays"])(Object(o["copyTimestamp"])(r),o["nextDay"],4),Object(o["updateFormatted"])(r),n=4;break;case"custom-weekly":e=c["default"],i=this.parsedStart||t,r=this.parsedEnd;break;case"custom-daily":e=a["default"],i=this.parsedStart||t,r=this.parsedEnd;break}return{component:e,start:i,end:r,maxDays:n}}},watch:{renderProps:"checkChange"},methods:{checkChange:function(){var t=this.renderProps,e=t.start,n=t.end;e===this.lastStart&&n===this.lastEnd||(this.lastStart=e,this.lastEnd=n,this.$emit("change",{start:e,end:n}))},move:function(t){void 0===t&&(t=1);var e=Object(o["copyTimestamp"])(this.parsedValue),n=t>0,i=n?o["nextDay"]:o["prevDay"],r=n?o["DAYS_IN_MONTH_MAX"]:o["DAY_MIN"],s=n?t:-t;while(--s>=0)switch(this.type){case"month":e.day=r,i(e);break;case"week":Object(o["relativeDays"])(e,i,o["DAYS_IN_WEEK"]);break;case"day":i(e);break;case"4day":Object(o["relativeDays"])(e,i,4);break}Object(o["updateWeekday"])(e),Object(o["updateFormatted"])(e),Object(o["updateRelative"])(e,this.times.now),this.$emit("input",e.date),this.$emit("moved",e)},next:function(t){void 0===t&&(t=1),this.move(t)},prev:function(t){void 0===t&&(t=1),this.move(-t)},timeToY:function(t,e){void 0===e&&(e=!0);var n=this.$children[0];return!(!n||!n.timeToY)&&n.timeToY(t,e)},minutesToPixels:function(t){var e=this.$children[0];return e&&e.minutesToPixels?e.minutesToPixels(t):-1},scrollToTime:function(t){var e=this.$children[0];return!(!e||!e.scrollToTime)&&e.scrollToTime(t)}},render:function(t){var e=this,n=this.renderProps,i=n.start,r=n.end,o=n.maxDays,s=n.component;return t(s,{staticClass:"v-calendar",props:l({},this.$props,{start:i.date,end:r.date,maxDays:o}),on:l({},this.$listeners,{"click:date":function(t){e.$listeners["input"]&&e.$emit("input",t.date),e.$listeners["click:date"]&&e.$emit("click:date",t)}}),scopedSlots:this.$scopedSlots})}})},"./src/components/VCalendar/VCalendarDaily.ts":
/*!****************************************************!*\
  !*** ./src/components/VCalendar/VCalendarDaily.ts ***!
  \****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_calendar-daily.styl */"./src/stylus/components/_calendar-daily.styl");var i=n(/*! ../../directives/resize */"./src/directives/resize.ts"),r=n(/*! ./mixins/calendar-with-intervals */"./src/components/VCalendar/mixins/calendar-with-intervals.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)},a=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},c=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t};e["default"]=r["default"].extend({name:"v-calendar-daily",directives:{Resize:i["default"]},data:function(){return{scrollPush:0}},computed:{classes:function(){return s({"v-calendar-daily":!0},this.themeClasses)}},mounted:function(){this.init()},methods:{init:function(){this.$nextTick(this.onResize)},onResize:function(){this.scrollPush=this.getScrollPush()},getScrollPush:function(){var t=this.$refs.scrollArea,e=this.$refs.pane;return t&&e?t.offsetWidth-e.offsetWidth:0},genHead:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__head",style:{marginRight:this.scrollPush+"px"}},c([this.genHeadIntervals()],this.genHeadDays()))},genHeadIntervals:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__intervals-head"})},genHeadDays:function(){return this.days.map(this.genHeadDay)},genHeadDay:function(t){var e=this,n=this.$scopedSlots.dayHeader;return this.$createElement("div",{key:t.date,staticClass:"v-calendar-daily_head-day",class:this.getRelativeClasses(t),on:this.getDefaultMouseEventHandlers(":day",(function(n){return e.getSlotScope(t)}))},[this.genHeadWeekday(t),this.genHeadDayLabel(t),n?n(t):""])},genHeadWeekday:function(t){var e=t.present?this.color:void 0;return this.$createElement("div",this.setTextColor(e,{staticClass:"v-calendar-daily_head-weekday"}),this.weekdayFormatter(t,this.shortWeekdays))},genHeadDayLabel:function(t){var e=t.present?this.color:void 0;return this.$createElement("div",this.setTextColor(e,{staticClass:"v-calendar-daily_head-day-label",on:this.getMouseEventHandlers({"click:date":{event:"click",stop:!0},"contextmenu:date":{event:"contextmenu",stop:!0,prevent:!0,result:!1}},(function(e){return t}))}),this.dayFormatter(t,!1))},genBody:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__body"},[this.genScrollArea()])},genScrollArea:function(){return this.$createElement("div",{ref:"scrollArea",staticClass:"v-calendar-daily__scroll-area"},[this.genPane()])},genPane:function(){return this.$createElement("div",{ref:"pane",staticClass:"v-calendar-daily__pane",style:{height:Object(o["convertToUnit"])(this.bodyHeight)}},[this.genDayContainer()])},genDayContainer:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__day-container"},c([this.genBodyIntervals()],this.genDays()))},genDays:function(){return this.days.map(this.genDay)},genDay:function(t,e){var n=this,i=this.$scopedSlots.dayBody,r=this.getSlotScope(t);return this.$createElement("div",{key:t.date,staticClass:"v-calendar-daily__day",class:this.getRelativeClasses(t),on:this.getDefaultMouseEventHandlers(":time",(function(e){return n.getSlotScope(n.getTimestampAtEvent(e,t))}))},c(this.genDayIntervals(e),[i?i(r):""]))},genDayIntervals:function(t){return this.intervals[t].map(this.genDayInterval)},genDayInterval:function(t){var e=Object(o["convertToUnit"])(this.intervalHeight),n=this.intervalStyle||this.intervalStyleDefault,i=this.$scopedSlots.interval,r=this.getSlotScope(t),a={key:t.time,staticClass:"v-calendar-daily__day-interval",style:s({height:e},n(t))},c=i?i(r):void 0;return this.$createElement("div",a,c)},genBodyIntervals:function(){var t=this,e={staticClass:"v-calendar-daily__intervals-body",on:this.getDefaultMouseEventHandlers(":interval",(function(e){return t.getTimestampAtEvent(e,t.parsedStart)}))};return this.$createElement("div",e,this.genIntervalLabels())},genIntervalLabels:function(){return this.intervals[0].map(this.genIntervalLabel)},genIntervalLabel:function(t){var e=Object(o["convertToUnit"])(this.intervalHeight),n=this.shortIntervals,i=this.showIntervalLabel||this.showIntervalLabelDefault,r=i(t),s=r?this.intervalFormatter(t,n):void 0;return this.$createElement("div",{key:t.time,staticClass:"v-calendar-daily__interval",style:{height:e}},[this.$createElement("div",{staticClass:"v-calendar-daily__interval-text"},s)])}},render:function(t){return t("div",{class:this.classes,nativeOn:{dragstart:function(t){t.preventDefault()}},directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}]},[this.hideHeader?"":this.genHead(),this.genBody()])}})},"./src/components/VCalendar/VCalendarMonthly.ts":
/*!******************************************************!*\
  !*** ./src/components/VCalendar/VCalendarMonthly.ts ***!
  \******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_calendar-weekly.styl */"./src/stylus/components/_calendar-weekly.styl");var i=n(/*! ./VCalendarWeekly */"./src/components/VCalendar/VCalendarWeekly.ts"),r=n(/*! ./util/timestamp */"./src/components/VCalendar/util/timestamp.ts");e["default"]=i["default"].extend({name:"v-calendar-monthly",computed:{staticClass:function(){return"v-calendar-monthly v-calendar-weekly"},parsedStart:function(){return Object(r["getStartOfMonth"])(Object(r["parseTimestamp"])(this.start))},parsedEnd:function(){return Object(r["getEndOfMonth"])(Object(r["parseTimestamp"])(this.end))}}})},"./src/components/VCalendar/VCalendarWeekly.ts":
/*!*****************************************************!*\
  !*** ./src/components/VCalendar/VCalendarWeekly.ts ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_calendar-weekly.styl */"./src/stylus/components/_calendar-weekly.styl");var i=n(/*! ./mixins/calendar-base */"./src/components/VCalendar/mixins/calendar-base.ts"),r=n(/*! ./util/props */"./src/components/VCalendar/util/props.ts"),o=n(/*! ./util/timestamp */"./src/components/VCalendar/util/timestamp.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)},a=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},c=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t};e["default"]=i["default"].extend({name:"v-calendar-weekly",props:r["default"].weeks,computed:{staticClass:function(){return"v-calendar-weekly"},classes:function(){return this.themeClasses},parsedMinWeeks:function(){return parseInt(this.minWeeks)},days:function(){var t=this.parsedMinWeeks*this.weekdays.length,e=this.getStartOfWeek(this.parsedStart),n=this.getEndOfWeek(this.parsedEnd);return Object(o["createDayList"])(e,n,this.times.today,this.weekdaySkips,Number.MAX_SAFE_INTEGER,t)},todayWeek:function(){var t=this.times.today,e=this.getStartOfWeek(t),n=this.getEndOfWeek(t);return Object(o["createDayList"])(e,n,t,this.weekdaySkips,this.weekdays.length,this.weekdays.length)},monthFormatter:function(){if(this.monthFormat)return this.monthFormat;var t={timeZone:"UTC",month:"long"},e={timeZone:"UTC",month:"short"};return Object(o["createNativeLocaleFormatter"])(this.locale,(function(n,i){return i?e:t}))}},methods:{isOutside:function(t){var e=Object(o["getDayIdentifier"])(t);return e<Object(o["getDayIdentifier"])(this.parsedStart)||e>Object(o["getDayIdentifier"])(this.parsedEnd)},genHead:function(){return this.$createElement("div",{staticClass:"v-calendar-weekly__head"},this.genHeadDays())},genHeadDays:function(){return this.todayWeek.map(this.genHeadDay)},genHeadDay:function(t,e){var n=this.isOutside(this.days[e]),i=t.present?this.color:void 0;return this.$createElement("div",this.setTextColor(i,{key:t.date,staticClass:"v-calendar-weekly__head-weekday",class:this.getRelativeClasses(t,n)}),this.weekdayFormatter(t,this.shortWeekdays))},genWeeks:function(){for(var t=this.days,e=this.weekdays.length,n=[],i=0;i<t.length;i+=e)n.push(this.genWeek(t.slice(i,i+e)));return n},genWeek:function(t){return this.$createElement("div",{key:t[0].date,staticClass:"v-calendar-weekly__week"},t.map(this.genDay))},genDay:function(t){var e=this.isOutside(t),n=this.$scopedSlots.day,i=s({outside:e},t),r=1===t.day&&this.showMonthOnFirst;return this.$createElement("div",{key:t.date,staticClass:"v-calendar-weekly__day",class:this.getRelativeClasses(t,e),on:this.getDefaultMouseEventHandlers(":day",(function(e){return t}))},[this.genDayLabel(t),r?this.genDayMonth(t):"",n?n(i):""])},genDayLabel:function(t){var e=t.present?this.color:void 0,n=this.$scopedSlots.dayLabel;return this.$createElement("div",this.setTextColor(e,{staticClass:"v-calendar-weekly__day-label",on:this.getMouseEventHandlers({"click:date":{event:"click",stop:!0},"contextmenu:date":{event:"contextmenu",stop:!0,prevent:!0,result:!1}},(function(e){return t}))}),n?n(t):this.dayFormatter(t,!1))},genDayMonth:function(t){var e=t.present?this.color:void 0,n=this.$scopedSlots.dayMonth;return this.$createElement("div",this.setTextColor(e,{staticClass:"v-calendar-weekly__day-month"}),n?n(t):this.monthFormatter(t,this.shortMonths))}},render:function(t){return t("div",{staticClass:this.staticClass,class:this.classes,nativeOn:{dragstart:function(t){t.preventDefault()}}},c([this.hideHeader?"":this.genHead()],this.genWeeks()))}})},"./src/components/VCalendar/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VCalendar/index.ts ***!
  \*******************************************/
/*! exports provided: VCalendar, VCalendarDaily, VCalendarWeekly, VCalendarMonthly, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCalendar */"./src/components/VCalendar/VCalendar.ts");n.d(e,"VCalendar",(function(){return i["default"]}));var r=n(/*! ./VCalendarDaily */"./src/components/VCalendar/VCalendarDaily.ts");n.d(e,"VCalendarDaily",(function(){return r["default"]}));var o=n(/*! ./VCalendarWeekly */"./src/components/VCalendar/VCalendarWeekly.ts");n.d(e,"VCalendarWeekly",(function(){return o["default"]}));var s=n(/*! ./VCalendarMonthly */"./src/components/VCalendar/VCalendarMonthly.ts");n.d(e,"VCalendarMonthly",(function(){return s["default"]})),e["default"]={$_vuetify_subcomponents:{VCalendar:i["default"],VCalendarDaily:r["default"],VCalendarWeekly:o["default"],VCalendarMonthly:s["default"]}}},"./src/components/VCalendar/mixins/calendar-base.ts":
/*!**********************************************************!*\
  !*** ./src/components/VCalendar/mixins/calendar-base.ts ***!
  \**********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../../util/mixins */"./src/util/mixins.ts"),r=n(/*! ../../../mixins/themeable */"./src/mixins/themeable.ts"),o=n(/*! ../../../mixins/colorable */"./src/mixins/colorable.ts"),s=n(/*! ./times */"./src/components/VCalendar/mixins/times.ts"),a=n(/*! ./mouse */"./src/components/VCalendar/mixins/mouse.ts"),c=n(/*! ../util/props */"./src/components/VCalendar/util/props.ts"),l=n(/*! ../util/timestamp */"./src/components/VCalendar/util/timestamp.ts");e["default"]=Object(i["default"])(o["default"],r["default"],s["default"],a["default"]).extend({name:"calendar-base",props:c["default"].base,computed:{weekdaySkips:function(){return Object(l["getWeekdaySkips"])(this.weekdays)},parsedStart:function(){return Object(l["parseTimestamp"])(this.start)},parsedEnd:function(){return Object(l["parseTimestamp"])(this.end)},days:function(){return Object(l["createDayList"])(this.parsedStart,this.parsedEnd,this.times.today,this.weekdaySkips)},dayFormatter:function(){if(this.dayFormat)return this.dayFormat;var t={timeZone:"UTC",day:"numeric"};return Object(l["createNativeLocaleFormatter"])(this.locale,(function(e,n){return t}))},weekdayFormatter:function(){if(this.weekdayFormat)return this.weekdayFormat;var t={timeZone:"UTC",weekday:"long"},e={timeZone:"UTC",weekday:"short"};return Object(l["createNativeLocaleFormatter"])(this.locale,(function(n,i){return i?e:t}))}},methods:{getRelativeClasses:function(t,e){return void 0===e&&(e=!1),{"v-present":t.present,"v-past":t.past,"v-future":t.future,"v-outside":e}},getStartOfWeek:function(t){return Object(l["getStartOfWeek"])(t,this.weekdays,this.times.today)},getEndOfWeek:function(t){return Object(l["getEndOfWeek"])(t,this.weekdays,this.times.today)}}})},"./src/components/VCalendar/mixins/calendar-with-intervals.ts":
/*!********************************************************************!*\
  !*** ./src/components/VCalendar/mixins/calendar-with-intervals.ts ***!
  \********************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./calendar-base */"./src/components/VCalendar/mixins/calendar-base.ts"),r=n(/*! ../util/props */"./src/components/VCalendar/util/props.ts"),o=n(/*! ../util/timestamp */"./src/components/VCalendar/util/timestamp.ts");e["default"]=i["default"].extend({name:"calendar-with-intervals",props:r["default"].intervals,computed:{parsedFirstInterval:function(){return parseInt(this.firstInterval)},parsedIntervalMinutes:function(){return parseInt(this.intervalMinutes)},parsedIntervalCount:function(){return parseInt(this.intervalCount)},parsedIntervalHeight:function(){return parseFloat(this.intervalHeight)},firstMinute:function(){return this.parsedFirstInterval*this.parsedIntervalMinutes},bodyHeight:function(){return this.parsedIntervalCount*this.parsedIntervalHeight},days:function(){return Object(o["createDayList"])(this.parsedStart,this.parsedEnd,this.times.today,this.weekdaySkips,this.maxDays)},intervals:function(){var t=this.days,e=this.parsedFirstInterval,n=this.parsedIntervalMinutes,i=this.parsedIntervalCount,r=this.times.now;return t.map((function(t){return Object(o["createIntervalList"])(t,e,n,i,r)}))},intervalFormatter:function(){if(this.intervalFormat)return this.intervalFormat;var t={timeZone:"UTC",hour12:!0,hour:"2-digit",minute:"2-digit"},e={timeZone:"UTC",hour12:!0,hour:"numeric",minute:"2-digit"},n={timeZone:"UTC",hour12:!0,hour:"numeric"};return Object(o["createNativeLocaleFormatter"])(this.locale,(function(i,r){return r?0===i.minute?n:e:t}))}},methods:{showIntervalLabelDefault:function(t){var e=this.intervals[0][0],n=e.hour===t.hour&&e.minute===t.minute;return!n&&0===t.minute},intervalStyleDefault:function(t){},getTimestampAtEvent:function(t,e){var n=Object(o["copyTimestamp"])(e),i=t.currentTarget.getBoundingClientRect(),r=this.firstMinute,s=t,a=t,c=s.changedTouches||s.touches,l=c&&c[0]?c[0].clientY:a.clientY,u=(l-i.top)/this.parsedIntervalHeight,d=Math.floor(u*this.parsedIntervalMinutes),h=r+d;return Object(o["updateMinutes"])(n,h,this.times.now)},getSlotScope:function(t){var e=Object(o["copyTimestamp"])(t);return e.timeToY=this.timeToY,e.minutesToPixels=this.minutesToPixels,e},scrollToTime:function(t){var e=this.timeToY(t),n=this.$refs.scrollArea;return!(!1===e||!n)&&(n.scrollTop=e,!0)},minutesToPixels:function(t){return t/this.parsedIntervalMinutes*this.parsedIntervalHeight},timeToY:function(t,e){void 0===e&&(e=!0);var n=Object(o["parseTime"])(t);if(!1===n)return!1;var i=this.firstMinute,r=this.parsedIntervalCount*this.parsedIntervalMinutes,s=(n-i)/r,a=s*this.bodyHeight;return e&&(a<0&&(a=0),a>this.bodyHeight&&(a=this.bodyHeight)),a}}})},"./src/components/VCalendar/mixins/mouse.ts":
/*!**************************************************!*\
  !*** ./src/components/VCalendar/mixins/mouse.ts ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e["default"]=r.a.extend({name:"mouse",methods:{getDefaultMouseEventHandlers:function(t,e){var n;return this.getMouseEventHandlers((n={},n["click"+t]={event:"click"},n["contextmenu"+t]={event:"contextmenu",prevent:!0,result:!1},n["mousedown"+t]={event:"mousedown"},n["mousemove"+t]={event:"mousemove"},n["mouseup"+t]={event:"mouseup"},n["mouseenter"+t]={event:"mouseenter"},n["mouseleave"+t]={event:"mouseleave"},n["touchstart"+t]={event:"touchstart"},n["touchmove"+t]={event:"touchmove"},n["touchend"+t]={event:"touchend"},n),e)},getMouseEventHandlers:function(t,e){var n=this,i={},r=function(r){var s=t[r];if(!o.$listeners[r])return"continue";var a=s.passive?"&":(s.once?"~":"")+(s.capture?"!":""),c=a+s.event,l=function(t){var i=t;return(void 0===s.button||i.buttons>0&&i.button===s.button)&&(s.prevent&&t.preventDefault(),s.stop&&t.stopPropagation(),n.$emit(r,e(t))),s.result};c in i?Array.isArray(i[c])?i[c].push(l):i[c]=[i[c],l]:i[c]=l},o=this;for(var s in t)r(s);return i}}})},"./src/components/VCalendar/mixins/times.ts":
/*!**************************************************!*\
  !*** ./src/components/VCalendar/mixins/times.ts ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),o=n(/*! ../util/timestamp */"./src/components/VCalendar/util/timestamp.ts");e["default"]=r.a.extend({name:"times",props:{now:{type:String,validator:o["validateTimestamp"]}},data:function(){return{times:{now:Object(o["parseTimestamp"])("0000-00-00 00:00"),today:Object(o["parseTimestamp"])("0000-00-00")}}},computed:{parsedNow:function(){return this.now?Object(o["parseTimestamp"])(this.now):null}},watch:{parsedNow:"updateTimes"},created:function(){this.updateTimes(),this.setPresent()},methods:{setPresent:function(){this.times.now.present=this.times.today.present=!0,this.times.now.past=this.times.today.past=!1,this.times.now.future=this.times.today.future=!1},updateTimes:function(){var t=this.parsedNow||this.getNow();this.updateDay(t,this.times.now),this.updateTime(t,this.times.now),this.updateDay(t,this.times.today)},getNow:function(){return Object(o["parseDate"])(new Date)},updateDay:function(t,e){t.date!==e.date&&(e.year=t.year,e.month=t.month,e.day=t.day,e.weekday=t.weekday,e.date=t.date)},updateTime:function(t,e){t.time!==e.time&&(e.hour=t.hour,e.minute=t.minute,e.time=t.time)}}})},"./src/components/VCalendar/util/props.ts":
/*!************************************************!*\
  !*** ./src/components/VCalendar/util/props.ts ***!
  \************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./timestamp */"./src/components/VCalendar/util/timestamp.ts");function r(t){return isFinite(parseInt(t))}e["default"]={base:{start:{type:String,validate:i["validateTimestamp"],default:function(){return Object(i["parseDate"])(new Date).date}},end:{type:String,validate:i["validateTimestamp"],default:"0000-00-00"},weekdays:{type:Array,default:function(){return[0,1,2,3,4,5,6]}},hideHeader:{type:Boolean,default:!1},shortWeekdays:{type:Boolean,default:!0},weekdayFormat:{type:Function,default:null},dayFormat:{type:Function,default:null},locale:{type:String,default:"en-us"}},intervals:{maxDays:{type:Number,default:7},shortIntervals:{type:Boolean,default:!0},intervalHeight:{type:[Number,String],default:40,validate:r},intervalMinutes:{type:[Number,String],default:60,validate:r},firstInterval:{type:[Number,String],default:0,validate:r},intervalCount:{type:[Number,String],default:24,validate:r},intervalFormat:{type:Function,default:null},intervalStyle:{type:Function,default:null},showIntervalLabel:{type:Function,default:null}},weeks:{minWeeks:{validate:r,default:1},shortMonths:{type:Boolean,default:!0},showMonthOnFirst:{type:Boolean,default:!0},monthFormat:{type:Function,default:null}},calendar:{type:{type:String,default:"month"},value:{type:String,validate:i["validateTimestamp"]}}}},"./src/components/VCalendar/util/timestamp.ts":
/*!****************************************************!*\
  !*** ./src/components/VCalendar/util/timestamp.ts ***!
  \****************************************************/
/*! exports provided: PARSE_REGEX, PARSE_TIME, DAYS_IN_MONTH, DAYS_IN_MONTH_LEAP, DAYS_IN_MONTH_MIN, DAYS_IN_MONTH_MAX, MONTH_MAX, MONTH_MIN, DAY_MIN, DAYS_IN_WEEK, MINUTES_IN_HOUR, HOURS_IN_DAY, FIRST_HOUR, getStartOfWeek, getEndOfWeek, getStartOfMonth, getEndOfMonth, parseTime, validateTimestamp, parseTimestamp, parseDate, getDayIdentifier, getTimeIdentifier, updateRelative, updateMinutes, updateWeekday, updateFormatted, getWeekday, isLeapYear, daysInMonth, copyTimestamp, padNumber, getDate, getTime, nextMinutes, nextDay, prevDay, relativeDays, findWeekday, getWeekdaySkips, createDayList, createIntervalList, createNativeLocaleFormatter */function(t,e,n){"use strict";n.r(e),n.d(e,"PARSE_REGEX",(function(){return r})),n.d(e,"PARSE_TIME",(function(){return o})),n.d(e,"DAYS_IN_MONTH",(function(){return s})),n.d(e,"DAYS_IN_MONTH_LEAP",(function(){return a})),n.d(e,"DAYS_IN_MONTH_MIN",(function(){return c})),n.d(e,"DAYS_IN_MONTH_MAX",(function(){return l})),n.d(e,"MONTH_MAX",(function(){return u})),n.d(e,"MONTH_MIN",(function(){return d})),n.d(e,"DAY_MIN",(function(){return h})),n.d(e,"DAYS_IN_WEEK",(function(){return p})),n.d(e,"MINUTES_IN_HOUR",(function(){return f})),n.d(e,"HOURS_IN_DAY",(function(){return m})),n.d(e,"FIRST_HOUR",(function(){return v})),n.d(e,"getStartOfWeek",(function(){return g})),n.d(e,"getEndOfWeek",(function(){return _})),n.d(e,"getStartOfMonth",(function(){return y})),n.d(e,"getEndOfMonth",(function(){return E})),n.d(e,"parseTime",(function(){return b})),n.d(e,"validateTimestamp",(function(){return S})),n.d(e,"parseTimestamp",(function(){return T})),n.d(e,"parseDate",(function(){return w})),n.d(e,"getDayIdentifier",(function(){return C})),n.d(e,"getTimeIdentifier",(function(){return I})),n.d(e,"updateRelative",(function(){return R})),n.d(e,"updateMinutes",(function(){return A})),n.d(e,"updateWeekday",(function(){return O})),n.d(e,"updateFormatted",(function(){return x})),n.d(e,"getWeekday",(function(){return D})),n.d(e,"isLeapYear",(function(){return k})),n.d(e,"daysInMonth",(function(){return N})),n.d(e,"copyTimestamp",(function(){return P})),n.d(e,"padNumber",(function(){return L})),n.d(e,"getDate",(function(){return M})),n.d(e,"getTime",(function(){return V})),n.d(e,"nextMinutes",(function(){return U})),n.d(e,"nextDay",(function(){return B})),n.d(e,"prevDay",(function(){return j})),n.d(e,"relativeDays",(function(){return F})),n.d(e,"findWeekday",(function(){return H})),n.d(e,"getWeekdaySkips",(function(){return W})),n.d(e,"createDayList",(function(){return G})),n.d(e,"createIntervalList",(function(){return $})),n.d(e,"createNativeLocaleFormatter",(function(){return z}));var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?([^\d]+(\d{1,2}))?(:(\d{1,2}))?(:(\d{1,2}))?$/,o=/(\d\d?)(:(\d\d?)|)(:(\d\d?)|)/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=[0,31,29,31,30,31,30,31,31,30,31,30,31],c=28,l=31,u=12,d=1,h=1,p=7,f=60,m=24,v=0;function g(t,e,n){var i=P(t);return H(i,e[0],j),x(i),n&&R(i,n,i.hasTime),i}function _(t,e,n){var i=P(t);return H(i,e[e.length-1]),x(i),n&&R(i,n,i.hasTime),i}function y(t){var e=P(t);return e.day=h,O(e),x(e),e}function E(t){var e=P(t);return e.day=N(e.year,e.month),O(e),x(e),e}function b(t){if("number"===typeof t)return t;if("string"===typeof t){var e=o.exec(t);return!!e&&60*parseInt(e[1])+parseInt(e[3]||0)}return"object"===("undefined"===typeof t?"undefined":i(t))&&("number"===typeof t.hour&&"number"===typeof t.minute&&60*t.hour+t.minute)}function S(t){return!!r.exec(t)}function T(t,e){var n=r.exec(t);if(!n)return null;var i={date:t,time:"",year:parseInt(n[1]),month:parseInt(n[2]),day:parseInt(n[4])||1,hour:parseInt(n[6])||0,minute:parseInt(n[8])||0,weekday:0,hasDay:!!n[4],hasTime:!(!n[6]||!n[8]),past:!1,present:!1,future:!1};return O(i),x(i),e&&R(i,e,i.hasTime),i}function w(t){return x({date:"",time:"",year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),weekday:t.getDay(),hour:t.getHours(),minute:t.getMinutes(),hasDay:!0,hasTime:!0,past:!1,present:!0,future:!1})}function C(t){return 1e4*t.year+100*t.month+t.day}function I(t){return 100*t.hour+t.minute}function R(t,e,n){void 0===n&&(n=!1);var i=C(e),r=C(t),o=i===r;return t.hasTime&&n&&o&&(i=I(e),r=I(t),o=i===r),t.past=r<i,t.present=o,t.future=r>i,t}function A(t,e,n){return t.hasTime=!0,t.hour=Math.floor(e/f),t.minute=e%f,t.time=V(t),n&&R(t,n,!0),t}function O(t){return t.weekday=D(t),t}function x(t){return t.time=V(t),t.date=M(t),t}function D(t){if(t.hasDay){var e=Math.floor,n=t.day,i=(t.month+9)%u+1,r=e(t.year/100),o=t.year%100-(t.month<=2?1:0);return((n+e(2.6*i-.2)-2*r+o+e(o/4)+e(r/4))%7+7)%7}return t.weekday}function k(t){return t%4===0&&t%100!==0||t%400===0}function N(t,e){return k(t)?a[e]:s[e]}function P(t){var e=t.date,n=t.time,i=t.year,r=t.month,o=t.day,s=t.weekday,a=t.hour,c=t.minute,l=t.hasDay,u=t.hasTime,d=t.past,h=t.present,p=t.future;return{date:e,time:n,year:i,month:r,day:o,weekday:s,hour:a,minute:c,hasDay:l,hasTime:u,past:d,present:h,future:p}}function L(t,e){var n=String(t);while(n.length<e)n="0"+n;return n}function M(t){var e=L(t.year,4)+"-"+L(t.month,2);return t.hasDay&&(e+="-"+L(t.day,2)),e}function V(t){return t.hasTime?L(t.hour,2)+":"+L(t.minute,2):""}function U(t,e){t.minute+=e;while(t.minute>f)t.minute-=f,t.hour++,t.hour>=m&&(B(t),t.hour=v);return t}function B(t){return t.day++,t.weekday=(t.weekday+1)%p,t.day>c&&t.day>N(t.year,t.month)&&(t.day=h,t.month++,t.month>u&&(t.month=d,t.year++)),t}function j(t){return t.day--,t.weekday=(t.weekday+6)%p,t.day<h&&(t.month--,t.month<d&&(t.year--,t.month=u),t.day=N(t.year,t.month)),t}function F(t,e,n){void 0===e&&(e=B),void 0===n&&(n=1);while(--n>=0)e(t);return t}function H(t,e,n,i){void 0===n&&(n=B),void 0===i&&(i=6);while(t.weekday!==e&&--i>=0)n(t);return t}function W(t){for(var e=[1,1,1,1,1,1,1],n=[0,0,0,0,0,0,0],i=0;i<t.length;i++)n[t[i]]=1;for(var r=0;r<p;r++){for(var o=1,s=1;s<p;s++){var a=(r+s)%p;if(n[a])break;o++}e[r]=n[r]*o}return e}function G(t,e,n,i,r,o){void 0===r&&(r=42),void 0===o&&(o=0);var s=C(e),a=[],c=P(t),l=0,u=l===s;if(s<C(t))return a;while((!u||a.length<o)&&a.length<r)if(l=C(c),u=u||l===s,0!==i[c.weekday]){var d=P(c);x(d),R(d,n),a.push(d),c=F(c,B,i[c.weekday])}else c=B(c);return a}function $(t,e,n,i,r){for(var o=[],s=0;s<i;s++){var a=(e+s)*n,c=P(t);o.push(A(c,a,r))}return o}function z(t,e){var n=function(t,e){return""};return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?n:function(n,i){try{var r=new Intl.DateTimeFormat(t||void 0,e(n,i)),o=L(n.hour,2)+":"+L(n.minute,2),s=n.date;return r.format(new Date(s+"T"+o+":00+00:00"))}catch(a){return""}}}},"./src/components/VCard/VCard.ts":
/*!***************************************!*\
  !*** ./src/components/VCard/VCard.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_cards.styl */"./src/stylus/components/_cards.styl");var i=n(/*! ../VSheet */"./src/components/VSheet/index.ts"),r=n(/*! ../../mixins/routable */"./src/mixins/routable.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};e["default"]=Object(o["default"])(r["default"],i["default"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,raised:Boolean},computed:{classes:function(){return s({"v-card":!0,"v-card--flat":this.flat,"v-card--hover":this.hover},i["default"].options.computed.classes.call(this))},styles:function(){var t=s({},i["default"].options.computed.styles.call(this));return this.img&&(t.background='url("'+this.img+'") center center / cover no-repeat'),t}},render:function(t){var e=this.generateRouteLink(this.classes),n=e.tag,i=e.data;return i.style=this.styles,t(n,this.setBackgroundColor(this.color,i),this.$slots.default)}})},"./src/components/VCard/VCardMedia.ts":
/*!********************************************!*\
  !*** ./src/components/VCard/VCardMedia.ts ***!
  \********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VImg/VImg */"./src/components/VImg/VImg.ts"),r=n(/*! ../../util/console */"./src/util/console.ts");e["default"]=i["default"].extend({name:"v-card-media",mounted:function(){Object(r["deprecate"])("v-card-media",this.src?"v-img":"v-responsive",this)}})},"./src/components/VCard/VCardTitle.ts":
/*!********************************************!*\
  !*** ./src/components/VCard/VCardTitle.ts ***!
  \********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e["default"]=r.a.extend({name:"v-card-title",functional:!0,props:{primaryTitle:Boolean},render:function(t,e){var n=e.data,i=e.props,r=e.children;return n.staticClass=("v-card__title "+(n.staticClass||"")).trim(),i.primaryTitle&&(n.staticClass+=" v-card__title--primary"),t("div",n,r)}})},"./src/components/VCard/index.ts":
/*!***************************************!*\
  !*** ./src/components/VCard/index.ts ***!
  \***************************************/
/*! exports provided: VCard, VCardMedia, VCardTitle, VCardActions, VCardText, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VCardActions",(function(){return a})),n.d(e,"VCardText",(function(){return c}));var i=n(/*! ../../util/helpers */"./src/util/helpers.ts"),r=n(/*! ./VCard */"./src/components/VCard/VCard.ts");n.d(e,"VCard",(function(){return r["default"]}));var o=n(/*! ./VCardMedia */"./src/components/VCard/VCardMedia.ts");n.d(e,"VCardMedia",(function(){return o["default"]}));var s=n(/*! ./VCardTitle */"./src/components/VCard/VCardTitle.ts");n.d(e,"VCardTitle",(function(){return s["default"]}));var a=Object(i["createSimpleFunctional"])("v-card__actions"),c=Object(i["createSimpleFunctional"])("v-card__text");e["default"]={$_vuetify_subcomponents:{VCard:r["default"],VCardMedia:o["default"],VCardTitle:s["default"],VCardActions:a,VCardText:c}}},"./src/components/VCarousel/VCarousel.ts":
/*!***********************************************!*\
  !*** ./src/components/VCarousel/VCarousel.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_carousel.styl */"./src/stylus/components/_carousel.styl");var i=n(/*! ../VWindow/VWindow */"./src/components/VWindow/VWindow.ts"),r=n(/*! ../VBtn */"./src/components/VBtn/index.ts"),o=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),s=n(/*! ../../mixins/button-group */"./src/mixins/button-group.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts"),c=n(/*! ../../util/console */"./src/util/console.ts");e["default"]=i["default"].extend({name:"v-carousel",props:{cycle:{type:Boolean,default:!0},delimiterIcon:{type:String,default:"$vuetify.icons.delimiter"},height:{type:[Number,String],default:500},hideControls:Boolean,hideDelimiters:Boolean,interval:{type:[Number,String],default:6e3,validator:function(t){return t>0}},mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$vuetify.icons.next"},prevIcon:{type:[Boolean,String],default:"$vuetify.icons.prev"}},data:function(){return{changedByDelimiters:!1,internalHeight:this.height,slideTimeout:void 0}},computed:{isDark:function(){return this.dark||!this.light}},watch:{internalValue:function(t){this.restartTimeout(),this.$listeners["input"]&&this.$emit("input",t)},interval:"restartTimeout",height:function(t,e){t!==e&&t&&(this.internalHeight=t)},cycle:function(t){t?this.restartTimeout():(clearTimeout(this.slideTimeout),this.slideTimeout=void 0)}},mounted:function(){this.$listeners["input"]&&Object(c["deprecate"])("@input","@change",this),this.startTimeout()},methods:{genDelimiters:function(){return this.$createElement("div",{staticClass:"v-carousel__controls"},[this.genItems()])},genIcon:function(t,e,n){var i=this;return this.$createElement("div",{staticClass:"v-carousel__"+t},[this.$createElement(r["default"],{props:{icon:!0},attrs:{"aria-label":this.$vuetify.t("$vuetify.carousel."+t)},on:{click:function(){i.changedByDelimiters=!0,n()}}},[this.$createElement(o["default"],{props:{size:"46px"}},e)])])},genIcons:function(){var t=[],e=this.$vuetify.rtl?this.nextIcon:this.prevIcon;e&&"string"===typeof e&&t.push(this.genIcon("prev",e,this.prev));var n=this.$vuetify.rtl?this.prevIcon:this.nextIcon;return n&&"string"===typeof n&&t.push(this.genIcon("next",n,this.next)),t},genItems:function(){for(var t=this,e=this.items.length,n=[],i=0;i<e;i++){var a=this.$createElement(r["default"],{class:{"v-carousel__controls__item":!0},props:{icon:!0,small:!0,value:this.getValue(this.items[i],i)}},[this.$createElement(o["default"],{props:{size:18}},this.delimiterIcon)]);n.push(a)}return this.$createElement(s["default"],{props:{value:this.internalValue},on:{change:function(e){t.internalValue=e}}},n)},restartTimeout:function(){this.slideTimeout&&clearTimeout(this.slideTimeout),this.slideTimeout=void 0;var t=requestAnimationFrame||setTimeout;t(this.startTimeout)},startTimeout:function(){this.cycle&&(this.slideTimeout=window.setTimeout(this.next,+this.interval>0?+this.interval:6e3))},updateReverse:function(t,e){this.changedByDelimiters?this.changedByDelimiters=!1:i["default"].options.methods.updateReverse.call(this,t,e)}},render:function(t){var e=[],n={staticClass:"v-window v-carousel",style:{height:Object(a["convertToUnit"])(this.height)},directives:[]};return this.touchless||n.directives.push({name:"touch",value:{left:this.next,right:this.prev}}),this.hideControls||e.push(this.genIcons()),this.hideDelimiters||e.push(this.genDelimiters()),t("div",n,[this.genContainer(),e])}})},"./src/components/VCarousel/VCarouselItem.ts":
/*!***************************************************!*\
  !*** ./src/components/VCarousel/VCarouselItem.ts ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VWindow/VWindowItem */"./src/components/VWindow/VWindowItem.ts"),r=n(/*! ../VImg */"./src/components/VImg/index.ts"),o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};e["default"]=i["default"].extend({name:"v-carousel-item",inheritAttrs:!1,methods:{genDefaultSlot:function(){return[this.$createElement(r["VImg"],{staticClass:"v-carousel__item",props:o({},this.$attrs,{height:this.windowGroup.internalHeight}),on:this.$listeners},this.$slots.default)]},onBeforeEnter:function(){},onEnter:function(){},onAfterEnter:function(){},onBeforeLeave:function(){},onEnterCancelled:function(){}}})},"./src/components/VCarousel/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VCarousel/index.ts ***!
  \*******************************************/
/*! exports provided: VCarousel, VCarouselItem, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCarousel */"./src/components/VCarousel/VCarousel.ts");n.d(e,"VCarousel",(function(){return i["default"]}));var r=n(/*! ./VCarouselItem */"./src/components/VCarousel/VCarouselItem.ts");n.d(e,"VCarouselItem",(function(){return r["default"]})),e["default"]={$_vuetify_subcomponents:{VCarousel:i["default"],VCarouselItem:r["default"]}}},"./src/components/VCheckbox/VCheckbox.js":
/*!***********************************************!*\
  !*** ./src/components/VCheckbox/VCheckbox.js ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_selection-controls.styl */"./src/stylus/components/_selection-controls.styl");var i=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),r=n(/*! ../../mixins/selectable */"./src/mixins/selectable.js"),o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};e["default"]={name:"v-checkbox",mixins:[r["default"]],props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$vuetify.icons.checkboxIndeterminate"},onIcon:{type:String,default:"$vuetify.icons.checkboxOn"},offIcon:{type:String,default:"$vuetify.icons.checkboxOff"}},data:function(t){return{inputIndeterminate:t.indeterminate}},computed:{classes:function(){return{"v-input--selection-controls":!0,"v-input--checkbox":!0}},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon}},watch:{indeterminate:function(t){this.inputIndeterminate=t}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",o({},this.$attrs,{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.computedColor)),this.$createElement(i["default"],this.setTextColor(this.computedColor,{props:{dark:this.dark,light:this.light}}),this.computedIcon)])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}}},"./src/components/VCheckbox/index.js":
/*!*******************************************!*\
  !*** ./src/components/VCheckbox/index.js ***!
  \*******************************************/
/*! exports provided: VCheckbox, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCheckbox */"./src/components/VCheckbox/VCheckbox.js");n.d(e,"VCheckbox",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VChip/VChip.ts":
/*!***************************************!*\
  !*** ./src/components/VChip/VChip.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_chips.styl */"./src/stylus/components/_chips.styl");var i=n(/*! ../../util/mixins */"./src/util/mixins.ts"),r=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),o=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),a=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),c=function(){return c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},c.apply(this,arguments)};e["default"]=Object(i["default"])(o["default"],s["default"],a["default"]).extend({name:"v-chip",props:{close:Boolean,disabled:Boolean,label:Boolean,outline:Boolean,selected:Boolean,small:Boolean,textColor:String,value:{type:Boolean,default:!0}},computed:{classes:function(){return c({"v-chip--disabled":this.disabled,"v-chip--selected":this.selected&&!this.disabled,"v-chip--label":this.label,"v-chip--outline":this.outline,"v-chip--small":this.small,"v-chip--removable":this.close},this.themeClasses)}},methods:{genClose:function(t){var e=this,n={staticClass:"v-chip__close",on:{click:function(t){t.stopPropagation(),e.$emit("input",!1)}}};return t("div",n,[t(r["default"],"$vuetify.icons.delete")])},genContent:function(t){return t("span",{staticClass:"v-chip__content"},[this.$slots.default,this.close&&this.genClose(t)])}},render:function(t){var e=this.setBackgroundColor(this.color,{staticClass:"v-chip",class:this.classes,attrs:{tabindex:this.disabled?-1:0},directives:[{name:"show",value:this.isActive}],on:this.$listeners}),n=this.textColor||this.outline&&this.color;return t("span",this.setTextColor(n,e),[this.genContent(t)])}})},"./src/components/VChip/index.ts":
/*!***************************************!*\
  !*** ./src/components/VChip/index.ts ***!
  \***************************************/
/*! exports provided: VChip, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VChip */"./src/components/VChip/VChip.ts");n.d(e,"VChip",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VCombobox/VCombobox.js":
/*!***********************************************!*\
  !*** ./src/components/VCombobox/VCombobox.js ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_autocompletes.styl */"./src/stylus/components/_autocompletes.styl");var i=n(/*! ../VSelect/VSelect */"./src/components/VSelect/VSelect.js"),r=n(/*! ../VAutocomplete/VAutocomplete */"./src/components/VAutocomplete/VAutocomplete.js"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts");e["default"]={name:"v-combobox",extends:r["default"],props:{delimiters:{type:Array,default:function(){return[]}},returnObject:{type:Boolean,default:!0}},data:function(){return{editingIndex:-1}},computed:{counterValue:function(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot:function(){return i["default"].options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed:function(){return!0},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)}},methods:{onFilteredItemsChanged:function(){},onInternalSearchChanged:function(t){if(t&&this.multiple&&this.delimiters.length){var e=this.delimiters.find((function(e){return t.endsWith(e)}));null!=e&&(this.internalSearch=t.slice(0,t.length-e.length),this.updateTags())}this.updateMenuDimensions()},genChipSelection:function(t,e){var n=this,r=i["default"].options.methods.genChipSelection.call(this,t,e);return this.multiple&&(r.componentOptions.listeners.dblclick=function(){n.editingIndex=e,n.internalSearch=n.getText(t),n.selectedIndex=-1}),r},onChipInput:function(t){i["default"].options.methods.onChipInput.call(this,t),this.editingIndex=-1},onEnterDown:function(t){t.preventDefault(),i["default"].options.methods.onEnterDown.call(this),this.getMenuIndex()>-1||this.updateSelf()},onKeyDown:function(t){var e=t.keyCode;i["default"].options.methods.onKeyDown.call(this,t),this.multiple&&e===o["keyCodes"].left&&0===this.$refs.input.selectionStart&&this.updateSelf(),this.changeSelectedIndex(e)},onTabDown:function(t){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return t.preventDefault(),t.stopPropagation(),this.updateTags();r["default"].options.methods.onTabDown.call(this,t)},selectItem:function(t){this.editingIndex>-1?this.updateEditing():r["default"].options.methods.selectItem.call(this,t)},setSelectedItems:function(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue:function(t){void 0===t&&(t=this.internalSearch),i["default"].options.methods.setValue.call(this,t)},updateEditing:function(){var t=this.internalValue.slice();t[this.editingIndex]=this.internalSearch,this.setValue(t),this.editingIndex=-1},updateCombobox:function(){var t=Boolean(this.$scopedSlots.selection)||this.hasChips;t&&!this.searchIsDirty||(this.internalSearch!==this.getText(this.internalValue)&&this.setValue(),t&&(this.internalSearch=void 0))},updateSelf:function(){this.multiple?this.updateTags():this.updateCombobox()},updateTags:function(){var t=this.getMenuIndex();if(!(t<0)||this.searchIsDirty){if(this.editingIndex>-1)return this.updateEditing();var e=this.selectedItems.indexOf(this.internalSearch);if(e>-1){var n=this.internalValue.slice();n.splice(e,1),this.setValue(n)}if(t>-1)return this.internalSearch=null;this.selectItem(this.internalSearch),this.internalSearch=null}}}}},"./src/components/VCombobox/index.js":
/*!*******************************************!*\
  !*** ./src/components/VCombobox/index.js ***!
  \*******************************************/
/*! exports provided: VCombobox, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCombobox */"./src/components/VCombobox/VCombobox.js");n.d(e,"VCombobox",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VCounter/VCounter.ts":
/*!*********************************************!*\
  !*** ./src/components/VCounter/VCounter.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_counters.styl */"./src/stylus/components/_counters.styl");var i=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),r=n(/*! ../../util/mixins */"./src/util/mixins.ts"),o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};e["default"]=Object(r["default"])(i["default"]).extend({name:"v-counter",functional:!0,props:{value:{type:[Number,String],default:""},max:[Number,String]},render:function(t,e){var n=e.props,r=parseInt(n.max,10),s=parseInt(n.value,10),a=r?s+" / "+r:String(n.value),c=r&&s>r;return t("div",{staticClass:"v-counter",class:o({"error--text":c},Object(i["functionalThemeClasses"])(e))},a)}})},"./src/components/VCounter/index.ts":
/*!******************************************!*\
  !*** ./src/components/VCounter/index.ts ***!
  \******************************************/
/*! exports provided: VCounter, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VCounter */"./src/components/VCounter/VCounter.ts");n.d(e,"VCounter",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VDataIterator/VDataIterator.js":
/*!*******************************************************!*\
  !*** ./src/components/VDataIterator/VDataIterator.js ***!
  \*******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_data-iterator.styl */"./src/stylus/components/_data-iterator.styl");var i=n(/*! ../../mixins/data-iterable */"./src/mixins/data-iterable.js"),r=function(){return r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};e["default"]={name:"v-data-iterator",mixins:[i["default"]],inheritAttrs:!1,props:{contentTag:{type:String,default:"div"},contentProps:{type:Object,required:!1},contentClass:{type:String,required:!1}},computed:{classes:function(){return r({"v-data-iterator":!0,"v-data-iterator--select-all":!1!==this.selectAll},this.themeClasses)}},created:function(){this.initPagination()},methods:{genContent:function(){var t=this.genItems(),e={class:this.contentClass,attrs:this.$attrs,on:this.$listeners,props:this.contentProps};return this.$createElement(this.contentTag,e,t)},genEmptyItems:function(t){return[this.$createElement("div",{class:"text-xs-center",style:"width: 100%"},t)]},genFilteredItems:function(){if(!this.$scopedSlots.item)return null;for(var t=[],e=0,n=this.filteredItems.length;e<n;++e){var i=this.filteredItems[e],r=this.createProps(i,e);t.push(this.$scopedSlots.item(r))}return t},genFooter:function(){var t=[];return this.$slots.footer&&t.push(this.$slots.footer),this.hideActions||t.push(this.genActions()),t.length?this.$createElement("div",t):null},genHeader:function(){var t=[];return this.$slots.header&&t.push(this.$slots.header),t.length?this.$createElement("div",t):null}},render:function(t){return t("div",{class:this.classes},[this.genHeader(),this.genContent(),this.genFooter()])}}},"./src/components/VDataIterator/index.js":
/*!***********************************************!*\
  !*** ./src/components/VDataIterator/index.js ***!
  \***********************************************/
/*! exports provided: VDataIterator, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDataIterator */"./src/components/VDataIterator/VDataIterator.js");n.d(e,"VDataIterator",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VDataTable/VDataTable.js":
/*!*************************************************!*\
  !*** ./src/components/VDataTable/VDataTable.js ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_tables.styl */"./src/stylus/components/_tables.styl"),n(/*! ../../stylus/components/_data-table.styl */"./src/stylus/components/_data-table.styl");var i=n(/*! ../../mixins/data-iterable */"./src/mixins/data-iterable.js"),r=n(/*! ./mixins/head */"./src/components/VDataTable/mixins/head.js"),o=n(/*! ./mixins/body */"./src/components/VDataTable/mixins/body.js"),s=n(/*! ./mixins/foot */"./src/components/VDataTable/mixins/foot.js"),a=n(/*! ./mixins/progress */"./src/components/VDataTable/mixins/progress.js"),c=n(/*! ../../util/helpers */"./src/util/helpers.ts"),l=function(){return l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)},u=Object(c["createSimpleFunctional"])("v-table__overflow");e["default"]={name:"v-data-table",mixins:[i["default"],r["default"],o["default"],s["default"],a["default"]],props:{headers:{type:Array,default:function(){return[]}},headersLength:{type:Number},headerText:{type:String,default:"text"},headerKey:{type:String,default:null},hideHeaders:Boolean,rowsPerPageText:{type:String,default:"$vuetify.dataTable.rowsPerPageText"},customFilter:{type:Function,default:function(t,e,n,i){if(e=e.toString().toLowerCase(),""===e.trim())return t;var r=i.map((function(t){return t.value}));return t.filter((function(t){return r.some((function(i){return n(Object(c["getObjectValueByPath"])(t,i,t[i]),e)}))}))}}},data:function(){return{actionsClasses:"v-datatable__actions",actionsRangeControlsClasses:"v-datatable__actions__range-controls",actionsSelectClasses:"v-datatable__actions__select",actionsPaginationClasses:"v-datatable__actions__pagination"}},computed:{classes:function(){return l({"v-datatable v-table":!0,"v-datatable--select-all":!1!==this.selectAll},this.themeClasses)},filteredItems:function(){return this.filteredItemsImpl(this.headers)},headerColumns:function(){return this.headersLength||this.headers.length+(!1!==this.selectAll)}},created:function(){var t=this.headers.find((function(t){return!("sortable"in t)||t.sortable}));this.defaultPagination.sortBy=!this.disableInitialSort&&t?t.value:null,this.initPagination()},methods:{hasTag:function(t,e){return Array.isArray(t)&&t.find((function(t){return t.tag===e}))},genTR:function(t,e){return void 0===e&&(e={}),this.$createElement("tr",e,t)}},render:function(t){var e=t(u,{},[t("table",{class:this.classes},[this.genTHead(),this.genTBody(),this.genTFoot()])]);return t("div",[e,this.genActionsFooter()])}}},"./src/components/VDataTable/VEditDialog.js":
/*!**************************************************!*\
  !*** ./src/components/VDataTable/VEditDialog.js ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_small-dialog.styl */"./src/stylus/components/_small-dialog.styl");var i=n(/*! ../../mixins/returnable */"./src/mixins/returnable.ts"),r=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),s=n(/*! ../VBtn */"./src/components/VBtn/index.ts"),a=n(/*! ../VMenu */"./src/components/VMenu/index.js");e["default"]={name:"v-edit-dialog",mixins:[i["default"],r["default"]],props:{cancelText:{default:"Cancel"},large:Boolean,lazy:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(t){t?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var t=this.$refs.content.querySelector("input");t&&t.focus()},genButton:function(t,e){return this.$createElement(s["default"],{props:{flat:!0,color:"primary",light:!0},on:{click:t}},e)},genActions:function(){var t=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){t.save(t.returnValue),t.$emit("save")}),this.saveText)])},genContent:function(){var t=this;return this.$createElement("div",{on:{keydown:function(e){var n=t.$refs.content.querySelector("input");e.keyCode===o["keyCodes"].esc&&t.cancel(),e.keyCode===o["keyCodes"].enter&&n&&(t.save(n.value),t.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(t){var e=this;return t(a["default"],{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,lazy:this.lazy,light:this.light,dark:this.dark},on:{input:function(t){return e.isActive=t}}},[t("a",{slot:"activator"},this.$slots.default),this.genContent(),this.large?this.genActions():null])}}},"./src/components/VDataTable/index.js":
/*!********************************************!*\
  !*** ./src/components/VDataTable/index.js ***!
  \********************************************/
/*! exports provided: VDataTable, VEditDialog, VTableOverflow, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VTableOverflow",(function(){return s}));var i=n(/*! ../../util/helpers */"./src/util/helpers.ts"),r=n(/*! ./VDataTable */"./src/components/VDataTable/VDataTable.js");n.d(e,"VDataTable",(function(){return r["default"]}));var o=n(/*! ./VEditDialog */"./src/components/VDataTable/VEditDialog.js");n.d(e,"VEditDialog",(function(){return o["default"]}));var s=Object(i["createSimpleFunctional"])("v-table__overflow");e["default"]={$_vuetify_subcomponents:{VDataTable:r["default"],VEditDialog:o["default"],VTableOverflow:s}}},"./src/components/VDataTable/mixins/body.js":
/*!**************************************************!*\
  !*** ./src/components/VDataTable/mixins/body.js ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../transitions/expand-transition */"./src/components/transitions/expand-transition.js"),r=n(/*! ../../../util/helpers */"./src/util/helpers.ts");e["default"]={methods:{genTBody:function(){var t=this.genItems();return this.$createElement("tbody",t)},genExpandedRow:function(t){var e=[];if(this.isExpanded(t.item)){var n=this.$createElement("div",{class:"v-datatable__expand-content",key:Object(r["getObjectValueByPath"])(t.item,this.itemKey)},[this.$scopedSlots.expand(t)]);e.push(n)}var o={"v-datatable__expand-col":!0,"v-datatable__expand-col--expanded":this.isExpanded(t.item)},s=this.$createElement("transition-group",{class:o,attrs:{colspan:this.headerColumns},props:{tag:"td"},on:Object(i["default"])("v-datatable__expand-col--expanded")},e);return this.genTR([s],{class:"v-datatable__expand-row"})},genFilteredItems:function(){if(!this.$scopedSlots.items)return null;for(var t=[],e=0,n=this.filteredItems.length;e<n;++e){var i=this.filteredItems[e],o=this.createProps(i,e),s=this.$scopedSlots.items(o);if(t.push(this.hasTag(s,"td")?this.genTR(s,{key:this.itemKey?Object(r["getObjectValueByPath"])(o.item,this.itemKey):e,attrs:{active:this.isSelected(i)}}):s),this.$scopedSlots.expand){var a=this.genExpandedRow(o);t.push(a)}}return t},genEmptyItems:function(t){return this.hasTag(t,"tr")?t:this.hasTag(t,"td")?this.genTR(t):this.genTR([this.$createElement("td",{class:{"text-xs-center":"string"===typeof t},attrs:{colspan:this.headerColumns}},t)])}}}},"./src/components/VDataTable/mixins/foot.js":
/*!**************************************************!*\
  !*** ./src/components/VDataTable/mixins/foot.js ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e["default"]={methods:{genTFoot:function(){if(!this.$slots.footer)return null;var t=this.$slots.footer,e=this.hasTag(t,"td")?this.genTR(t):t;return this.$createElement("tfoot",[e])},genActionsFooter:function(){return this.hideActions?null:this.$createElement("div",{class:this.classes},this.genActions())}}}},"./src/components/VDataTable/mixins/head.js":
/*!**************************************************!*\
  !*** ./src/components/VDataTable/mixins/head.js ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../../util/console */"./src/util/console.ts"),r=n(/*! ../../VCheckbox */"./src/components/VCheckbox/index.js"),o=n(/*! ../../VIcon */"./src/components/VIcon/index.ts"),s=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},a=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};e["default"]={props:{sortIcon:{type:String,default:"$vuetify.icons.sort"}},methods:{genTHead:function(){var t=this;if(!this.hideHeaders){var e=[];if(this.$scopedSlots.headers){var n=this.$scopedSlots.headers({headers:this.headers,indeterminate:this.indeterminate,all:this.everyItem});e=[this.hasTag(n,"th")?this.genTR(n):n,this.genTProgress()]}else{n=this.headers.map((function(e,n){return t.genHeader(e,t.headerKey?e[t.headerKey]:n)}));var i=this.$createElement(r["default"],{props:{dark:this.dark,light:this.light,color:!0===this.selectAll?"":this.selectAll,hideDetails:!0,inputValue:this.everyItem,indeterminate:this.indeterminate},on:{change:this.toggle}});this.hasSelectAll&&n.unshift(this.$createElement("th",[i])),e=[this.genTR(n),this.genTProgress()]}return this.$createElement("thead",[e])}},genHeader:function(t,e){var n=[this.$scopedSlots.headerCell?this.$scopedSlots.headerCell({header:t}):t[this.headerText]];return this.$createElement.apply(this,a(["th"],this.genHeaderData(t,n,e)))},genHeaderData:function(t,e,n){var i=["column"],r={key:n,attrs:{role:"columnheader",scope:"col",width:t.width||null,"aria-label":t[this.headerText]||"","aria-sort":"none"}};return null==t.sortable||t.sortable?this.genHeaderSortingData(t,e,r,i):r.attrs["aria-label"]+=": Not sorted.",i.push("text-xs-"+(t.align||"left")),Array.isArray(t.class)?i.push.apply(i,a(t.class)):t.class&&i.push(t.class),r.class=i,[r,e]},genHeaderSortingData:function(t,e,n,r){var s=this;"value"in t||Object(i["consoleWarn"])("Headers must have a value property that corresponds to a value in the v-model array",this),n.attrs.tabIndex=0,n.on={click:function(){s.expanded={},s.sort(t.value)},keydown:function(e){32===e.keyCode&&(e.preventDefault(),s.sort(t.value))}},r.push("sortable");var a=this.$createElement(o["default"],{props:{small:!0}},this.sortIcon);t.align&&"left"!==t.align?e.unshift(a):e.push(a);var c=this.computedPagination,l=c.sortBy===t.value;l?(r.push("active"),c.descending?(r.push("desc"),n.attrs["aria-sort"]="descending",n.attrs["aria-label"]+=": Sorted descending. Activate to remove sorting."):(r.push("asc"),n.attrs["aria-sort"]="ascending",n.attrs["aria-label"]+=": Sorted ascending. Activate to sort descending.")):n.attrs["aria-label"]+=": Not sorted. Activate to sort ascending."}}}},"./src/components/VDataTable/mixins/progress.js":
/*!******************************************************!*\
  !*** ./src/components/VDataTable/mixins/progress.js ***!
  \******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e["default"]={methods:{genTProgress:function(){var t=this.$createElement("th",{staticClass:"column",attrs:{colspan:this.headerColumns}},[this.genProgress()]);return this.genTR([t],{staticClass:"v-datatable__progress"})}}}},"./src/components/VDatePicker/VDatePicker.ts":
/*!***************************************************!*\
  !*** ./src/components/VDatePicker/VDatePicker.ts ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDatePickerTitle */"./src/components/VDatePicker/VDatePickerTitle.ts"),r=n(/*! ./VDatePickerHeader */"./src/components/VDatePicker/VDatePickerHeader.ts"),o=n(/*! ./VDatePickerDateTable */"./src/components/VDatePicker/VDatePickerDateTable.ts"),s=n(/*! ./VDatePickerMonthTable */"./src/components/VDatePicker/VDatePickerMonthTable.ts"),a=n(/*! ./VDatePickerYears */"./src/components/VDatePicker/VDatePickerYears.ts"),c=n(/*! ../../mixins/picker */"./src/mixins/picker.ts"),l=n(/*! ./util */"./src/components/VDatePicker/util/index.ts"),u=n(/*! ./util/isDateAllowed */"./src/components/VDatePicker/util/isDateAllowed.ts"),d=n(/*! ../../util/console */"./src/util/console.ts"),h=n(/*! ../VCalendar/util/timestamp */"./src/components/VCalendar/util/timestamp.ts"),p=n(/*! ../../util/mixins */"./src/util/mixins.ts"),f=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s};function m(t,e){var n=f(t.split("-"),3),i=n[0],r=n[1],o=void 0===r?1:r,s=n[2],a=void 0===s?1:s;return(i+"-"+Object(l["pad"])(o)+"-"+Object(l["pad"])(a)).substr(0,{date:10,month:7,year:4}[e])}e["default"]=Object(p["default"])(c["default"]).extend({name:"v-date-picker",props:{allowedDates:Function,dayFormat:Function,disabled:Boolean,events:{type:[Array,Function,Object],default:function(){return null}},eventColor:{type:[Array,Function,Object,String],default:function(){return"warning"}},firstDayOfWeek:{type:[String,Number],default:0},headerDateFormat:Function,locale:{type:String,default:"en-us"},max:String,min:String,monthFormat:Function,multiple:Boolean,nextIcon:{type:String,default:"$vuetify.icons.next"},pickerDate:String,prevIcon:{type:String,default:"$vuetify.icons.prev"},reactive:Boolean,readonly:Boolean,scrollable:Boolean,showCurrent:{type:[Boolean,String],default:!0},showWeek:Boolean,titleDateFormat:Function,type:{type:String,default:"date",validator:function(t){return["date","month"].includes(t)}},value:[Array,String],weekdayFormat:Function,yearFormat:Function,yearIcon:String},data:function(){var t=this,e=new Date;return{activePicker:this.type.toUpperCase(),inputDay:null,inputMonth:null,inputYear:null,isReversing:!1,now:e,tableDate:function(){if(t.pickerDate)return t.pickerDate;var n=(t.multiple?t.value[t.value.length-1]:t.value)||e.getFullYear()+"-"+(e.getMonth()+1);return m(n,"date"===t.type?"month":"year")}()}},computed:{lastValue:function(){return this.multiple?this.value[this.value.length-1]:this.value},selectedMonths:function(){return this.value&&this.value.length&&"month"!==this.type?this.multiple?this.value.map((function(t){return t.substr(0,7)})):this.value.substr(0,7):this.value},current:function(){return!0===this.showCurrent?m(this.now.getFullYear()+"-"+(this.now.getMonth()+1)+"-"+this.now.getDate(),this.type):this.showCurrent||null},inputDate:function(){return"date"===this.type?this.inputYear+"-"+Object(l["pad"])(this.inputMonth+1)+"-"+Object(l["pad"])(this.inputDay):this.inputYear+"-"+Object(l["pad"])(this.inputMonth+1)},tableMonth:function(){return Number((this.pickerDate||this.tableDate).split("-")[1])-1},tableYear:function(){return Number((this.pickerDate||this.tableDate).split("-")[0])},minMonth:function(){return this.min?m(this.min,"month"):null},maxMonth:function(){return this.max?m(this.max,"month"):null},minYear:function(){return this.min?m(this.min,"year"):null},maxYear:function(){return this.max?m(this.max,"year"):null},formatters:function(){return{year:this.yearFormat||Object(l["createNativeLocaleFormatter"])(this.locale,{year:"numeric",timeZone:"UTC"},{length:4}),titleDate:this.titleDateFormat||(this.multiple?this.defaultTitleMultipleDateFormatter:this.defaultTitleDateFormatter)}},defaultTitleMultipleDateFormatter:function(){var t=this;return this.value.length<2?function(e){return e.length?t.defaultTitleDateFormatter(e[0]):"0 selected"}:function(t){return t.length+" selected"}},defaultTitleDateFormatter:function(){var t={year:{year:"numeric",timeZone:"UTC"},month:{month:"long",timeZone:"UTC"},date:{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"}},e=Object(l["createNativeLocaleFormatter"])(this.locale,t[this.type],{start:0,length:{date:10,month:7,year:4}[this.type]}),n=function(t){return e(t).replace(/([^\d\s])([\d])/g,(function(t,e,n){return e+" "+n})).replace(", ",",<br>")};return this.landscape?n:e}},watch:{tableDate:function(t,e){var n="month"===this.type?"year":"month";this.isReversing=m(t,n)<m(e,n),this.$emit("update:pickerDate",t)},pickerDate:function(t){t?this.tableDate=t:this.lastValue&&"date"===this.type?this.tableDate=m(this.lastValue,"month"):this.lastValue&&"month"===this.type&&(this.tableDate=m(this.lastValue,"year"))},value:function(t,e){this.checkMultipleProp(),this.setInputDate(),this.multiple||!this.value||this.pickerDate?this.multiple&&this.value.length&&!e.length&&!this.pickerDate&&(this.tableDate=m(this.inputDate,"month"===this.type?"year":"month")):this.tableDate=m(this.inputDate,"month"===this.type?"year":"month")},type:function(t){if(this.activePicker=t.toUpperCase(),this.value&&this.value.length){var e=(this.multiple?this.value:[this.value]).map((function(e){return m(e,t)})).filter(this.isDateAllowed);this.$emit("input",this.multiple?e:e[0])}}},created:function(){this.checkMultipleProp(),this.pickerDate!==this.tableDate&&this.$emit("update:pickerDate",this.tableDate),this.setInputDate()},methods:{emitInput:function(t){var e=this.multiple?-1===this.value.indexOf(t)?this.value.concat([t]):this.value.filter((function(e){return e!==t})):t;this.$emit("input",e),this.multiple||this.$emit("change",t)},checkMultipleProp:function(){if(null!=this.value){var t=this.value.constructor.name,e=this.multiple?"Array":"String";t!==e&&Object(d["consoleWarn"])("Value must be "+(this.multiple?"an":"a")+" "+e+", got "+t,this)}},isDateAllowed:function(t){return Object(u["default"])(t,this.min,this.max,this.allowedDates)},yearClick:function(t){this.inputYear=t,"month"===this.type?this.tableDate=""+t:this.tableDate=t+"-"+Object(l["pad"])((this.tableMonth||0)+1),this.activePicker="MONTH",this.reactive&&!this.readonly&&!this.multiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)},monthClick:function(t){this.inputYear=parseInt(t.split("-")[0],10),this.inputMonth=parseInt(t.split("-")[1],10)-1,"date"===this.type?(this.inputDay&&(this.inputDay=Math.min(this.inputDay,Object(h["daysInMonth"])(this.inputYear,this.inputMonth+1))),this.tableDate=t,this.activePicker="DATE",this.reactive&&!this.readonly&&!this.multiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)):this.emitInput(this.inputDate)},dateClick:function(t){this.inputYear=parseInt(t.split("-")[0],10),this.inputMonth=parseInt(t.split("-")[1],10)-1,this.inputDay=parseInt(t.split("-")[2],10),this.emitInput(this.inputDate)},genPickerTitle:function(){var t=this;return this.$createElement(i["default"],{props:{date:this.value?this.formatters.titleDate(this.value):"",disabled:this.disabled,readonly:this.readonly,selectingYear:"YEAR"===this.activePicker,year:this.formatters.year(this.value?""+this.inputYear:this.tableDate),yearIcon:this.yearIcon,value:this.multiple?this.value[0]:this.value},slot:"title",on:{"update:selectingYear":function(e){return t.activePicker=e?"YEAR":t.type.toUpperCase()}}})},genTableHeader:function(){var t=this;return this.$createElement(r["default"],{props:{nextIcon:this.nextIcon,color:this.color,dark:this.dark,disabled:this.disabled,format:this.headerDateFormat,light:this.light,locale:this.locale,min:"DATE"===this.activePicker?this.minMonth:this.minYear,max:"DATE"===this.activePicker?this.maxMonth:this.maxYear,prevIcon:this.prevIcon,readonly:this.readonly,value:"DATE"===this.activePicker?Object(l["pad"])(this.tableYear,4)+"-"+Object(l["pad"])(this.tableMonth+1):""+Object(l["pad"])(this.tableYear,4)},on:{toggle:function(){return t.activePicker="DATE"===t.activePicker?"MONTH":"YEAR"},input:function(e){return t.tableDate=e}}})},genDateTable:function(){var t=this;return this.$createElement(o["default"],{props:{allowedDates:this.allowedDates,color:this.color,current:this.current,dark:this.dark,disabled:this.disabled,events:this.events,eventColor:this.eventColor,firstDayOfWeek:this.firstDayOfWeek,format:this.dayFormat,light:this.light,locale:this.locale,min:this.min,max:this.max,readonly:this.readonly,scrollable:this.scrollable,showWeek:this.showWeek,tableDate:Object(l["pad"])(this.tableYear,4)+"-"+Object(l["pad"])(this.tableMonth+1),value:this.value,weekdayFormat:this.weekdayFormat},ref:"table",on:{input:this.dateClick,tableDate:function(e){return t.tableDate=e},"click:date":function(e){return t.$emit("click:date",e)},"dblclick:date":function(e){return t.$emit("dblclick:date",e)}}})},genMonthTable:function(){var t=this;return this.$createElement(s["default"],{props:{allowedDates:"month"===this.type?this.allowedDates:null,color:this.color,current:this.current?m(this.current,"month"):null,dark:this.dark,disabled:this.disabled,events:"month"===this.type?this.events:null,eventColor:"month"===this.type?this.eventColor:null,format:this.monthFormat,light:this.light,locale:this.locale,min:this.minMonth,max:this.maxMonth,readonly:this.readonly&&"month"===this.type,scrollable:this.scrollable,value:this.selectedMonths,tableDate:""+Object(l["pad"])(this.tableYear,4)},ref:"table",on:{input:this.monthClick,tableDate:function(e){return t.tableDate=e},"click:month":function(e){return t.$emit("click:month",e)},"dblclick:month":function(e){return t.$emit("dblclick:month",e)}}})},genYears:function(){return this.$createElement(a["default"],{props:{color:this.color,format:this.yearFormat,locale:this.locale,min:this.minYear,max:this.maxYear,value:this.tableYear},on:{input:this.yearClick}})},genPickerBody:function(){var t="YEAR"===this.activePicker?[this.genYears()]:[this.genTableHeader(),"DATE"===this.activePicker?this.genDateTable():this.genMonthTable()];return this.$createElement("div",{key:this.activePicker},t)},setInputDate:function(){if(this.lastValue){var t=this.lastValue.split("-");this.inputYear=parseInt(t[0],10),this.inputMonth=parseInt(t[1],10)-1,"date"===this.type&&(this.inputDay=parseInt(t[2],10))}else this.inputYear=this.inputYear||this.now.getFullYear(),this.inputMonth=null==this.inputMonth?this.inputMonth:this.now.getMonth(),this.inputDay=this.inputDay||this.now.getDate()}},render:function(){return this.genPicker("v-picker--date")}})},"./src/components/VDatePicker/VDatePickerDateTable.ts":
/*!************************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerDateTable.ts ***!
  \************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./mixins/date-picker-table */"./src/components/VDatePicker/mixins/date-picker-table.ts"),r=n(/*! ./util */"./src/components/VDatePicker/util/index.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),s=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(s["default"])(i["default"]).extend({name:"v-date-picker-date-table",props:{firstDayOfWeek:{type:[String,Number],default:0},showWeek:Boolean,weekdayFormat:Function},computed:{formatter:function(){return this.format||Object(r["createNativeLocaleFormatter"])(this.locale,{day:"numeric",timeZone:"UTC"},{start:8,length:2})},weekdayFormatter:function(){return this.weekdayFormat||Object(r["createNativeLocaleFormatter"])(this.locale,{weekday:"narrow",timeZone:"UTC"})},weekDays:function(){var t=this,e=parseInt(this.firstDayOfWeek,10);return this.weekdayFormatter?Object(o["createRange"])(7).map((function(n){return t.weekdayFormatter("2017-01-"+(e+n+15))})):Object(o["createRange"])(7).map((function(t){return["S","M","T","W","T","F","S"][(t+e)%7]}))}},methods:{calculateTableDate:function(t){return Object(r["monthChange"])(this.tableDate,Math.sign(t||1))},genTHead:function(){var t=this,e=this.weekDays.map((function(e){return t.$createElement("th",e)}));return this.showWeek&&e.unshift(this.$createElement("th")),this.$createElement("thead",this.genTR(e))},weekDaysBeforeFirstDayOfTheMonth:function(){var t=new Date(this.displayedYear+"-"+Object(r["pad"])(this.displayedMonth+1)+"-01T00:00:00+00:00"),e=t.getUTCDay();return(e-parseInt(this.firstDayOfWeek)+7)%7},getWeekNumber:function(){var t=[0,31,59,90,120,151,181,212,243,273,304,334][this.displayedMonth];this.displayedMonth>1&&(this.displayedYear%4===0&&this.displayedYear%100!==0||this.displayedYear%400===0)&&t++;var e=(this.displayedYear+(this.displayedYear-1>>2)-Math.floor((this.displayedYear-1)/100)+Math.floor((this.displayedYear-1)/400)-Number(this.firstDayOfWeek))%7;return Math.floor((t+e)/7)+1},genWeekNumber:function(t){return this.$createElement("td",[this.$createElement("small",{staticClass:"v-date-picker-table--date__week"},String(t).padStart(2,"0"))])},genTBody:function(){var t=[],e=new Date(this.displayedYear,this.displayedMonth+1,0).getDate(),n=[],i=this.weekDaysBeforeFirstDayOfTheMonth(),o=this.getWeekNumber();this.showWeek&&n.push(this.genWeekNumber(o++));while(i--)n.push(this.$createElement("td"));for(i=1;i<=e;i++){var s=this.displayedYear+"-"+Object(r["pad"])(this.displayedMonth+1)+"-"+Object(r["pad"])(i);n.push(this.$createElement("td",[this.genButton(s,!0,"date",this.formatter)])),n.length%(this.showWeek?8:7)===0&&(t.push(this.genTR(n)),n=[],i<e&&this.showWeek&&n.push(this.genWeekNumber(o++)))}return n.length&&t.push(this.genTR(n)),this.$createElement("tbody",t)},genTR:function(t){return[this.$createElement("tr",t)]}},render:function(){return this.genTable("v-date-picker-table v-date-picker-table--date",[this.genTHead(),this.genTBody()],this.calculateTableDate)}})},"./src/components/VDatePicker/VDatePickerHeader.ts":
/*!*********************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerHeader.ts ***!
  \*********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_date-picker-header.styl */"./src/stylus/components/_date-picker-header.styl");var i=n(/*! ../VBtn */"./src/components/VBtn/index.ts"),r=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),o=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),a=n(/*! ./util */"./src/components/VDatePicker/util/index.ts"),c=n(/*! ../../util/mixins */"./src/util/mixins.ts"),l=function(){return l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)},u=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s};e["default"]=Object(c["default"])(o["default"],s["default"]).extend({name:"v-date-picker-header",props:{disabled:Boolean,format:Function,locale:{type:String,default:"en-us"},min:String,max:String,nextIcon:{type:String,default:"$vuetify.icons.next"},prevIcon:{type:String,default:"$vuetify.icons.prev"},readonly:Boolean,value:{type:[Number,String],required:!0}},data:function(){return{isReversing:!1}},computed:{formatter:function(){return this.format?this.format:String(this.value).split("-")[1]?Object(a["createNativeLocaleFormatter"])(this.locale,{month:"long",year:"numeric",timeZone:"UTC"},{length:7}):Object(a["createNativeLocaleFormatter"])(this.locale,{year:"numeric",timeZone:"UTC"},{length:4})}},watch:{value:function(t,e){this.isReversing=t<e}},methods:{genBtn:function(t){var e=this,n=this.disabled||t<0&&this.min&&this.calculateChange(t)<this.min||t>0&&this.max&&this.calculateChange(t)>this.max;return this.$createElement(i["default"],{props:{dark:this.dark,disabled:n,icon:!0,light:this.light},nativeOn:{click:function(n){n.stopPropagation(),e.$emit("input",e.calculateChange(t))}}},[this.$createElement(r["default"],t<0===!this.$vuetify.rtl?this.prevIcon:this.nextIcon)])},calculateChange:function(t){var e=u(String(this.value).split("-").map(Number),2),n=e[0],i=e[1];return null==i?""+(n+t):Object(a["monthChange"])(String(this.value),t)},genHeader:function(){var t=this,e=!this.disabled&&(this.color||"accent"),n=this.$createElement("div",this.setTextColor(e,{key:String(this.value)}),[this.$createElement("button",{attrs:{type:"button"},on:{click:function(){return t.$emit("toggle")}}},[this.$slots.default||this.formatter(String(this.value))])]),i=this.$createElement("transition",{props:{name:this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"}},[n]);return this.$createElement("div",{staticClass:"v-date-picker-header__value",class:{"v-date-picker-header__value--disabled":this.disabled}},[i])}},render:function(){return this.$createElement("div",{staticClass:"v-date-picker-header",class:l({"v-date-picker-header--disabled":this.disabled},this.themeClasses)},[this.genBtn(-1),this.genHeader(),this.genBtn(1)])}})},"./src/components/VDatePicker/VDatePickerMonthTable.ts":
/*!*************************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerMonthTable.ts ***!
  \*************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./mixins/date-picker-table */"./src/components/VDatePicker/mixins/date-picker-table.ts"),r=n(/*! ./util */"./src/components/VDatePicker/util/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(o["default"])(i["default"]).extend({name:"v-date-picker-month-table",computed:{formatter:function(){return this.format||Object(r["createNativeLocaleFormatter"])(this.locale,{month:"short",timeZone:"UTC"},{start:5,length:2})}},methods:{calculateTableDate:function(t){return""+(parseInt(this.tableDate,10)+Math.sign(t||1))},genTBody:function(){for(var t=this,e=[],n=Array(3).fill(null),i=12/n.length,o=function(i){var o=n.map((function(e,o){var s=i*n.length+o,a=t.displayedYear+"-"+Object(r["pad"])(s+1);return t.$createElement("td",{key:s},[t.genButton(a,!1,"month",t.formatter)])}));e.push(s.$createElement("tr",{key:i},o))},s=this,a=0;a<i;a++)o(a);return this.$createElement("tbody",e)}},render:function(){return this.genTable("v-date-picker-table v-date-picker-table--month",[this.genTBody()],this.calculateTableDate)}})},"./src/components/VDatePicker/VDatePickerTitle.ts":
/*!********************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerTitle.ts ***!
  \********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_date-picker-title.styl */"./src/stylus/components/_date-picker-title.styl");var i=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),r=n(/*! ../../mixins/picker-button */"./src/mixins/picker-button.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(o["default"])(r["default"]).extend({name:"v-date-picker-title",props:{date:{type:String,default:""},disabled:Boolean,readonly:Boolean,selectingYear:Boolean,value:{type:String},year:{type:[Number,String],default:""},yearIcon:{type:String}},data:function(){return{isReversing:!1}},computed:{computedTransition:function(){return this.isReversing?"picker-reverse-transition":"picker-transition"}},watch:{value:function(t,e){this.isReversing=t<e}},methods:{genYearIcon:function(){return this.$createElement(i["default"],{props:{dark:!0}},this.yearIcon)},getYearBtn:function(){return this.genPickerButton("selectingYear",!0,[String(this.year),this.yearIcon?this.genYearIcon():null],!1,"v-date-picker-title__year")},genTitleText:function(){return this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("div",{domProps:{innerHTML:this.date||"&nbsp;"},key:this.value})])},genTitleDate:function(){return this.genPickerButton("selectingYear",!1,[this.genTitleText()],!1,"v-date-picker-title__date")}},render:function(t){return t("div",{staticClass:"v-date-picker-title",class:{"v-date-picker-title--disabled":this.disabled}},[this.getYearBtn(),this.genTitleDate()])}})},"./src/components/VDatePicker/VDatePickerYears.ts":
/*!********************************************************!*\
  !*** ./src/components/VDatePicker/VDatePickerYears.ts ***!
  \********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_date-picker-years.styl */"./src/stylus/components/_date-picker-years.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ./util */"./src/components/VDatePicker/util/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(o["default"])(i["default"]).extend({name:"v-date-picker-years",props:{format:Function,locale:{type:String,default:"en-us"},min:[Number,String],max:[Number,String],readonly:Boolean,value:[Number,String]},data:function(){return{defaultColor:"primary"}},computed:{formatter:function(){return this.format||Object(r["createNativeLocaleFormatter"])(this.locale,{year:"numeric",timeZone:"UTC"},{length:4})}},mounted:function(){var t=this;setTimeout((function(){var e=t.$el.getElementsByClassName("active")[0];t.$el.scrollTop=e?e.offsetTop-t.$el.offsetHeight/2+e.offsetHeight/2:t.$el.scrollHeight/2-t.$el.offsetHeight/2}))},methods:{genYearItem:function(t){var e=this,n=this.formatter(""+t),i=parseInt(this.value,10)===t,r=i&&(this.color||"primary");return this.$createElement("li",this.setTextColor(r,{key:t,class:{active:i},on:{click:function(){return e.$emit("input",t)}}}),n)},genYearItems:function(){for(var t=[],e=this.value?parseInt(this.value,10):(new Date).getFullYear(),n=this.max?parseInt(this.max,10):e+100,i=Math.min(n,this.min?parseInt(this.min,10):e-100),r=n;r>=i;r--)t.push(this.genYearItem(r));return t}},render:function(){return this.$createElement("ul",{staticClass:"v-date-picker-years",ref:"years"},this.genYearItems())}})},"./src/components/VDatePicker/index.js":
/*!*********************************************!*\
  !*** ./src/components/VDatePicker/index.js ***!
  \*********************************************/
/*! exports provided: VDatePicker, VDatePickerTitle, VDatePickerHeader, VDatePickerDateTable, VDatePickerMonthTable, VDatePickerYears, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDatePicker */"./src/components/VDatePicker/VDatePicker.ts");n.d(e,"VDatePicker",(function(){return i["default"]}));var r=n(/*! ./VDatePickerTitle */"./src/components/VDatePicker/VDatePickerTitle.ts");n.d(e,"VDatePickerTitle",(function(){return r["default"]}));var o=n(/*! ./VDatePickerHeader */"./src/components/VDatePicker/VDatePickerHeader.ts");n.d(e,"VDatePickerHeader",(function(){return o["default"]}));var s=n(/*! ./VDatePickerDateTable */"./src/components/VDatePicker/VDatePickerDateTable.ts");n.d(e,"VDatePickerDateTable",(function(){return s["default"]}));var a=n(/*! ./VDatePickerMonthTable */"./src/components/VDatePicker/VDatePickerMonthTable.ts");n.d(e,"VDatePickerMonthTable",(function(){return a["default"]}));var c=n(/*! ./VDatePickerYears */"./src/components/VDatePicker/VDatePickerYears.ts");n.d(e,"VDatePickerYears",(function(){return c["default"]})),e["default"]={$_vuetify_subcomponents:{VDatePicker:i["default"],VDatePickerTitle:r["default"],VDatePickerHeader:o["default"],VDatePickerDateTable:s["default"],VDatePickerMonthTable:a["default"],VDatePickerYears:c["default"]}}},"./src/components/VDatePicker/mixins/date-picker-table.ts":
/*!****************************************************************!*\
  !*** ./src/components/VDatePicker/mixins/date-picker-table.ts ***!
  \****************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../../stylus/components/_date-picker-table.styl */"./src/stylus/components/_date-picker-table.styl");var i=n(/*! ../../../directives/touch */"./src/directives/touch.ts"),r=n(/*! ../../../mixins/colorable */"./src/mixins/colorable.ts"),o=n(/*! ../../../mixins/themeable */"./src/mixins/themeable.ts"),s=n(/*! ../util/isDateAllowed */"./src/components/VDatePicker/util/isDateAllowed.ts"),a=n(/*! ../../../util/mixins */"./src/util/mixins.ts"),c=function(){return c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},c.apply(this,arguments)};e["default"]=Object(a["default"])(r["default"],o["default"]).extend({directives:{Touch:i["default"]},props:{allowedDates:Function,current:String,disabled:Boolean,format:Function,events:{type:[Array,Function,Object],default:function(){return null}},eventColor:{type:[Array,Function,Object,String],default:function(){return"warning"}},locale:{type:String,default:"en-us"},min:String,max:String,readonly:Boolean,scrollable:Boolean,tableDate:{type:String,required:!0},value:[String,Array]},data:function(){return{isReversing:!1}},computed:{computedTransition:function(){return this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"},displayedMonth:function(){return Number(this.tableDate.split("-")[1])-1},displayedYear:function(){return Number(this.tableDate.split("-")[0])}},watch:{tableDate:function(t,e){this.isReversing=t<e}},methods:{genButtonClasses:function(t,e,n,i){return c({"v-btn--active":n,"v-btn--flat":!n,"v-btn--icon":n&&t&&e,"v-btn--floating":e,"v-btn--depressed":!e&&n,"v-btn--disabled":!t||this.disabled&&n,"v-btn--outline":i&&!n},this.themeClasses)},genButtonEvents:function(t,e,n){var i=this;if(!this.disabled)return{click:function(){e&&!i.readonly&&i.$emit("input",t),i.$emit("click:"+n,t)},dblclick:function(){return i.$emit("dblclick:"+n,t)}}},genButton:function(t,e,n,i){var r=Object(s["default"])(t,this.min,this.max,this.allowedDates),o=t===this.value||Array.isArray(this.value)&&-1!==this.value.indexOf(t),a=t===this.current,c=o?this.setBackgroundColor:this.setTextColor,l=(o||a)&&(this.color||"accent");return this.$createElement("button",c(l,{staticClass:"v-btn",class:this.genButtonClasses(r,e,o,a),attrs:{type:"button"},domProps:{disabled:this.disabled||!r},on:this.genButtonEvents(t,r,n)}),[this.$createElement("div",{staticClass:"v-btn__content"},[i(t)]),this.genEvents(t)])},getEventColors:function(t){var e,n=function(t){return Array.isArray(t)?t:[t]},i=[];return e=Array.isArray(this.events)?this.events.includes(t):this.events instanceof Function?this.events(t)||!1:this.events&&this.events[t]||!1,e?(i=!0!==e?n(e):"string"===typeof this.eventColor?[this.eventColor]:"function"===typeof this.eventColor?n(this.eventColor(t)):Array.isArray(this.eventColor)?this.eventColor:n(this.eventColor[t]),i.filter((function(t){return t}))):[]},genEvents:function(t){var e=this,n=this.getEventColors(t);return n.length?this.$createElement("div",{staticClass:"v-date-picker-table__events"},n.map((function(t){return e.$createElement("div",e.setBackgroundColor(t))}))):null},wheel:function(t,e){t.preventDefault(),this.$emit("tableDate",e(t.deltaY))},touch:function(t,e){this.$emit("tableDate",e(t))},genTable:function(t,e,n){var i=this,r=this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("table",{key:this.tableDate},e)]),o={name:"touch",value:{left:function(t){return t.offsetX<-15&&i.touch(1,n)},right:function(t){return t.offsetX>15&&i.touch(-1,n)}}};return this.$createElement("div",{staticClass:t,class:c({"v-date-picker-table--disabled":this.disabled},this.themeClasses),on:!this.disabled&&this.scrollable?{wheel:function(t){return i.wheel(t,n)}}:void 0,directives:[o]},[r])}}})},"./src/components/VDatePicker/util/createNativeLocaleFormatter.ts":
/*!************************************************************************!*\
  !*** ./src/components/VDatePicker/util/createNativeLocaleFormatter.ts ***!
  \************************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./pad */"./src/components/VDatePicker/util/pad.ts"),r=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s};function o(t,e,n){void 0===n&&(n={start:0,length:0});var o=function(t){var e=r(t.trim().split(" ")[0].split("-"),3),n=e[0],o=e[1],s=e[2];return[Object(i["default"])(n,4),Object(i["default"])(o||1),Object(i["default"])(s||1)].join("-")};try{var s=new Intl.DateTimeFormat(t||void 0,e);return function(t){return s.format(new Date(o(t)+"T00:00:00+00:00"))}}catch(a){return n.start||n.length?function(t){return o(t).substr(n.start||0,n.length)}:void 0}}e["default"]=o},"./src/components/VDatePicker/util/index.ts":
/*!**************************************************!*\
  !*** ./src/components/VDatePicker/util/index.ts ***!
  \**************************************************/
/*! exports provided: createNativeLocaleFormatter, monthChange, pad */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./createNativeLocaleFormatter */"./src/components/VDatePicker/util/createNativeLocaleFormatter.ts");n.d(e,"createNativeLocaleFormatter",(function(){return i["default"]}));var r=n(/*! ./monthChange */"./src/components/VDatePicker/util/monthChange.ts");n.d(e,"monthChange",(function(){return r["default"]}));var o=n(/*! ./pad */"./src/components/VDatePicker/util/pad.ts");n.d(e,"pad",(function(){return o["default"]}))},"./src/components/VDatePicker/util/isDateAllowed.ts":
/*!**********************************************************!*\
  !*** ./src/components/VDatePicker/util/isDateAllowed.ts ***!
  \**********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t,e,n,i){return(!i||i(t))&&(!e||t>=e)&&(!n||t<=n)}n.r(e),n.d(e,"default",(function(){return i}))},"./src/components/VDatePicker/util/monthChange.ts":
/*!********************************************************!*\
  !*** ./src/components/VDatePicker/util/monthChange.ts ***!
  \********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./pad */"./src/components/VDatePicker/util/pad.ts"),r=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s};e["default"]=function(t,e){var n=r(t.split("-").map(Number),2),o=n[0],s=n[1];return s+e===0?o-1+"-12":s+e===13?o+1+"-01":o+"-"+Object(i["default"])(s+e)}},"./src/components/VDatePicker/util/pad.ts":
/*!************************************************!*\
  !*** ./src/components/VDatePicker/util/pad.ts ***!
  \************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=function(t,e,n){return e>>=0,t=String(t),n=String(n),t.length>e?String(t):(e-=t.length,e>n.length&&(n+=n.repeat(e/n.length)),n.slice(0,e)+String(t))};e["default"]=function(t,e){return void 0===e&&(e=2),i(t,e,"0")}},"./src/components/VDialog/VDialog.js":
/*!*******************************************!*\
  !*** ./src/components/VDialog/VDialog.js ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_dialogs.styl */"./src/stylus/components/_dialogs.styl");var i=n(/*! ../../mixins/dependent */"./src/mixins/dependent.ts"),r=n(/*! ../../mixins/detachable */"./src/mixins/detachable.js"),o=n(/*! ../../mixins/overlayable */"./src/mixins/overlayable.ts"),s=n(/*! ../../mixins/returnable */"./src/mixins/returnable.ts"),a=n(/*! ../../mixins/stackable */"./src/mixins/stackable.ts"),c=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),l=n(/*! ../../directives/click-outside */"./src/directives/click-outside.ts"),u=n(/*! ../../util/helpers */"./src/util/helpers.ts"),d=n(/*! ../../util/ThemeProvider */"./src/util/ThemeProvider.ts"),h=n(/*! ../../util/console */"./src/util/console.ts"),p=function(){return p=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},p.apply(this,arguments)};e["default"]={name:"v-dialog",directives:{ClickOutside:l["default"]},mixins:[i["default"],r["default"],o["default"],s["default"],a["default"],c["default"]],props:{disabled:Boolean,persistent:Boolean,fullscreen:Boolean,fullWidth:Boolean,noClickAnimation:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[String,Number],default:"none"},origin:{type:String,default:"center center"},width:{type:[String,Number],default:"auto"},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"}},data:function(){return{animate:!1,animateTimeout:null,stackClass:"v-dialog__content--active",stackMinZIndex:200}},computed:{classes:function(){var t;return t={},t[("v-dialog "+this.contentClass).trim()]=!0,t["v-dialog--active"]=this.isActive,t["v-dialog--persistent"]=this.persistent,t["v-dialog--fullscreen"]=this.fullscreen,t["v-dialog--scrollable"]=this.scrollable,t["v-dialog--animated"]=this.animate,t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){t?(this.show(),this.hideScroll()):this.removeOverlay()},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},mounted:function(){"v-slot"===Object(u["getSlotType"])(this,"activator",!0)&&Object(h["consoleError"])("v-dialog's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,clearTimeout(t.animateTimeout),t.animateTimeout=setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(t.target))&&(this.persistent?(this.noClickAnimation||this.overlay!==t.target||this.animateClick(),!1):this.activeZIndex>=this.getMaxZIndex())},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):o["default"].options.methods.hideScroll.call(this)},show:function(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$refs.content.focus()},onKeydown:function(t){if(t.keyCode===u["keyCodes"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},getActivator:function(t){if(this.$refs.activator)return this.$refs.activator.children.length>0?this.$refs.activator.children[0]:this.$refs.activator;if(t&&(this.activatedBy=t.currentTarget||t.target),this.activatedBy)return this.activatedBy;if(this.activatorNode){var e=Array.isArray(this.activatorNode)?this.activatorNode[0]:this.activatorNode,n=e&&e.elm;if(n)return n}return null},genActivator:function(){var t=this;if(!this.hasActivator)return null;var e=this.disabled?{}:{click:function(e){e.stopPropagation(),t.getActivator(e),t.disabled||(t.isActive=!t.isActive)}};if("scoped"===Object(u["getSlotType"])(this,"activator")){var n=this.$scopedSlots.activator({on:e});return this.activatorNode=n,n}return this.$createElement("div",{staticClass:"v-dialog__activator",class:{"v-dialog__activator--disabled":this.disabled},ref:"activator",on:e},this.$slots.activator)}},render:function(t){var e=this,n=[],i={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:function(){e.isActive=!1},args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],on:{click:function(t){t.stopPropagation()}}};this.fullscreen||(i.style={maxWidth:"none"===this.maxWidth?void 0:Object(u["convertToUnit"])(this.maxWidth),width:"auto"===this.width?void 0:Object(u["convertToUnit"])(this.width)}),n.push(this.genActivator());var r=t("div",i,this.showLazyContent(this.$slots.default));return this.transition&&(r=t("transition",{props:{name:this.transition,origin:this.origin}},[r])),n.push(t("div",{class:this.contentClasses,attrs:p({tabIndex:"-1"},this.getScopeIdAttrs()),on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.$createElement(d["default"],{props:{root:!0,light:this.light,dark:this.dark}},[r])])),t("div",{staticClass:"v-dialog__container",style:{display:!this.hasActivator||this.fullWidth?"block":"inline-block"}},n)}}},"./src/components/VDialog/index.js":
/*!*****************************************!*\
  !*** ./src/components/VDialog/index.js ***!
  \*****************************************/
/*! exports provided: VDialog, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDialog */"./src/components/VDialog/VDialog.js");n.d(e,"VDialog",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VDivider/VDivider.ts":
/*!*********************************************!*\
  !*** ./src/components/VDivider/VDivider.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_dividers.styl */"./src/stylus/components/_dividers.styl");var i=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),r=function(){return r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};e["default"]=i["default"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(t){return t("hr",{class:r({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:this.$attrs,on:this.$listeners})}})},"./src/components/VDivider/index.ts":
/*!******************************************!*\
  !*** ./src/components/VDivider/index.ts ***!
  \******************************************/
/*! exports provided: VDivider, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VDivider */"./src/components/VDivider/VDivider.ts");n.d(e,"VDivider",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VExpansionPanel/VExpansionPanel.ts":
/*!***********************************************************!*\
  !*** ./src/components/VExpansionPanel/VExpansionPanel.ts ***!
  \***********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_expansion-panel.styl */"./src/stylus/components/_expansion-panel.styl");var i=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),r=n(/*! ../../mixins/registrable */"./src/mixins/registrable.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};e["default"]=Object(o["default"])(i["default"],Object(r["provide"])("expansionPanel")).extend({name:"v-expansion-panel",provide:function(){return{expansionPanel:this}},props:{disabled:Boolean,readonly:Boolean,expand:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,value:{type:[Number,Array],default:function(){return null}}},data:function(){return{items:[],open:[]}},computed:{classes:function(){return s({"v-expansion-panel--focusable":this.focusable,"v-expansion-panel--popout":this.popout,"v-expansion-panel--inset":this.inset},this.themeClasses)}},watch:{expand:function(t){var e=-1;if(!t){var n=this.open.reduce((function(t,e){return e?t+1:t}),0),i=Array(this.items.length).fill(!1);1===n&&(e=this.open.indexOf(!0)),e>-1&&(i[e]=!0),this.open=i}this.$emit("input",t?this.open:e>-1?e:null)},value:function(t){this.updateFromValue(t)}},mounted:function(){null!==this.value&&this.updateFromValue(this.value)},methods:{updateFromValue:function(t){if(!Array.isArray(t)||this.expand){var e=Array(this.items.length).fill(!1);"number"===typeof t?e[t]=!0:null!==t&&(e=t),this.updatePanels(e)}},updatePanels:function(t){this.open=t;for(var e=0;e<this.items.length;e++)this.items[e].toggle(t&&t[e])},panelClick:function(t){for(var e=this.expand?this.open.slice():Array(this.items.length).fill(!1),n=0;n<this.items.length;n++)this.items[n]._uid===t&&(e[n]=!this.open[n],!this.expand&&this.$emit("input",e[n]?n:null));this.updatePanels(e),this.expand&&this.$emit("input",e)},register:function(t){var e=this.items.push(t)-1;null!==this.value&&this.updateFromValue(this.value),t.toggle(!!this.open[e])},unregister:function(t){var e=this.items.findIndex((function(e){return e._uid===t._uid}));this.items.splice(e,1),this.open.splice(e,1)}},render:function(t){return t("ul",{staticClass:"v-expansion-panel",class:this.classes},this.$slots.default)}})},"./src/components/VExpansionPanel/VExpansionPanelContent.ts":
/*!******************************************************************!*\
  !*** ./src/components/VExpansionPanel/VExpansionPanelContent.ts ***!
  \******************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../transitions */"./src/components/transitions/index.js"),r=n(/*! ../../mixins/bootable */"./src/mixins/bootable.ts"),o=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),s=n(/*! ../../mixins/rippleable */"./src/mixins/rippleable.ts"),a=n(/*! ../../mixins/registrable */"./src/mixins/registrable.ts"),c=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),l=n(/*! ../../util/mixins */"./src/util/mixins.ts"),u=n(/*! ../../util/console */"./src/util/console.ts"),d=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t};e["default"]=Object(l["default"])(r["default"],o["default"],s["default"],Object(a["inject"])("expansionPanel","v-expansion-panel-content","v-expansion-panel")).extend({name:"v-expansion-panel-content",props:{disabled:Boolean,readonly:Boolean,expandIcon:{type:String,default:"$vuetify.icons.expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{height:"auto"}},computed:{containerClasses:function(){return{"v-expansion-panel__container--active":this.isActive,"v-expansion-panel__container--disabled":this.isDisabled}},isDisabled:function(){return this.expansionPanel.disabled||this.disabled},isReadonly:function(){return this.expansionPanel.readonly||this.readonly}},beforeMount:function(){this.expansionPanel.register(this),"undefined"!==typeof this.value&&Object(u["consoleWarn"])("v-model has been deprecated",this)},beforeDestroy:function(){this.expansionPanel.unregister(this)},methods:{onKeydown:function(t){13===t.keyCode&&this.$el===document.activeElement&&this.expansionPanel.panelClick(this._uid)},onHeaderClick:function(){this.isReadonly||this.expansionPanel.panelClick(this._uid)},genBody:function(){return this.$createElement("div",{ref:"body",class:"v-expansion-panel__body",directives:[{name:"show",value:this.isActive}]},this.showLazyContent(this.$slots.default))},genHeader:function(){var t=h(this.$slots.header||[]);return this.hideActions||t.push(this.genIcon()),this.$createElement("div",{staticClass:"v-expansion-panel__header",directives:[{name:"ripple",value:this.ripple}],on:{click:this.onHeaderClick}},t)},genIcon:function(){var t=this.$slots.actions||[this.$createElement(c["default"],this.expandIcon)];return this.$createElement("transition",{attrs:{name:"fade-transition"}},[this.$createElement("div",{staticClass:"v-expansion-panel__header__icon",directives:[{name:"show",value:!this.isDisabled}]},t)])},toggle:function(t){var e=this;t&&(this.isBooted=!0),this.$nextTick((function(){return e.isActive=t}))}},render:function(t){return t("li",{staticClass:"v-expansion-panel__container",class:this.containerClasses,attrs:{tabindex:this.isReadonly||this.isDisabled?null:0,"aria-expanded":Boolean(this.isActive)},on:{keydown:this.onKeydown}},[this.$slots.header&&this.genHeader(),t(i["VExpandTransition"],[this.genBody()])])}})},"./src/components/VExpansionPanel/index.ts":
/*!*************************************************!*\
  !*** ./src/components/VExpansionPanel/index.ts ***!
  \*************************************************/
/*! exports provided: VExpansionPanel, VExpansionPanelContent, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VExpansionPanel */"./src/components/VExpansionPanel/VExpansionPanel.ts");n.d(e,"VExpansionPanel",(function(){return i["default"]}));var r=n(/*! ./VExpansionPanelContent */"./src/components/VExpansionPanel/VExpansionPanelContent.ts");n.d(e,"VExpansionPanelContent",(function(){return r["default"]})),e["default"]={$_vuetify_subcomponents:{VExpansionPanel:i["default"],VExpansionPanelContent:r["default"]}}},"./src/components/VFooter/VFooter.js":
/*!*******************************************!*\
  !*** ./src/components/VFooter/VFooter.js ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_footer.styl */"./src/stylus/components/_footer.styl");var i=n(/*! ../../mixins/applicationable */"./src/mixins/applicationable.ts"),r=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),o=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};e["default"]={name:"v-footer",mixins:[Object(i["default"])(null,["height","inset"]),r["default"],o["default"]],props:{height:{default:32,type:[Number,String]},inset:Boolean},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},computedMarginBottom:function(){if(this.app)return this.$vuetify.application.bottom},computedPaddingLeft:function(){return this.app&&this.inset?this.$vuetify.application.left:0},computedPaddingRight:function(){return this.app&&this.inset?this.$vuetify.application.right:0},styles:function(){var t={height:isNaN(this.height)?this.height:this.height+"px"};return this.computedPaddingLeft&&(t.paddingLeft=this.computedPaddingLeft+"px"),this.computedPaddingRight&&(t.paddingRight=this.computedPaddingRight+"px"),this.computedMarginBottom&&(t.marginBottom=this.computedMarginBottom+"px"),t}},methods:{updateApplication:function(){var t=parseInt(this.height);return isNaN(t)?this.$el?this.$el.clientHeight:0:t}},render:function(t){var e=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:s({"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--inset":this.inset},this.themeClasses),style:this.styles,ref:"content"});return t("footer",e,this.$slots.default)}}},"./src/components/VFooter/index.js":
/*!*****************************************!*\
  !*** ./src/components/VFooter/index.js ***!
  \*****************************************/
/*! exports provided: VFooter, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VFooter */"./src/components/VFooter/VFooter.js");n.d(e,"VFooter",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VForm/VForm.js":
/*!***************************************!*\
  !*** ./src/components/VForm/VForm.js ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_forms.styl */"./src/stylus/components/_forms.styl");var i=n(/*! ../../mixins/registrable */"./src/mixins/registrable.ts");e["default"]={name:"v-form",mixins:[Object(i["provide"])("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,n=function(t){return t.$watch("hasError",(function(n){e.$set(e.errorBag,t._uid,n)}),{immediate:!0})},i={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",(function(r){r&&(e.errorBag.hasOwnProperty(t._uid)||(i.valid=n(t)))})):i.valid=n(t),i},validate:function(){var t=this.inputs.filter((function(t){return!t.validate(!0)})).length;return!t},reset:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].reset();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].resetValidation();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},register:function(t){var e=this.watchInput(t);this.inputs.push(t),this.watchers.push(e)},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var n=this.watchers.find((function(t){return t._uid===e._uid}));n.valid&&n.valid(),n.shouldValidate&&n.shouldValidate(),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}},"./src/components/VForm/index.js":
/*!***************************************!*\
  !*** ./src/components/VForm/index.js ***!
  \***************************************/
/*! exports provided: VForm, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VForm */"./src/components/VForm/VForm.js");n.d(e,"VForm",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VGrid/VContainer.js":
/*!********************************************!*\
  !*** ./src/components/VGrid/VContainer.js ***!
  \********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_grid.styl */"./src/stylus/components/_grid.styl");var i=n(/*! ./grid */"./src/components/VGrid/grid.js");e["default"]=Object(i["default"])("container")},"./src/components/VGrid/VContent.js":
/*!******************************************!*\
  !*** ./src/components/VGrid/VContent.js ***!
  \******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_content.styl */"./src/stylus/components/_content.styl");var i=n(/*! ../../mixins/ssr-bootable */"./src/mixins/ssr-bootable.ts");e["default"]={name:"v-content",mixins:[i["default"]],props:{tag:{type:String,default:"main"}},computed:{styles:function(){var t=this.$vuetify.application,e=t.bar,n=t.top,i=t.right,r=t.footer,o=t.insetFooter,s=t.bottom,a=t.left;return{paddingTop:n+e+"px",paddingRight:i+"px",paddingBottom:r+o+s+"px",paddingLeft:a+"px"}}},render:function(t){var e={staticClass:"v-content",style:this.styles,ref:"content"};return t(this.tag,e,[t("div",{staticClass:"v-content__wrap"},this.$slots.default)])}}},"./src/components/VGrid/VFlex.js":
/*!***************************************!*\
  !*** ./src/components/VGrid/VFlex.js ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_grid.styl */"./src/stylus/components/_grid.styl");var i=n(/*! ./grid */"./src/components/VGrid/grid.js");e["default"]=Object(i["default"])("flex")},"./src/components/VGrid/VLayout.js":
/*!*****************************************!*\
  !*** ./src/components/VGrid/VLayout.js ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_grid.styl */"./src/stylus/components/_grid.styl");var i=n(/*! ./grid */"./src/components/VGrid/grid.js");e["default"]=Object(i["default"])("layout")},"./src/components/VGrid/grid.js":
/*!**************************************!*\
  !*** ./src/components/VGrid/grid.js ***!
  \**************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){return{name:"v-"+t,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,n){var i=n.props,r=n.data,o=n.children;r.staticClass=(t+" "+(r.staticClass||"")).trim();var s=r.attrs;if(s){r.attrs={};var a=Object.keys(s).filter((function(t){if("slot"===t)return!1;var e=s[t];return t.startsWith("data-")?(r.attrs[t]=e,!1):e||"string"===typeof e}));a.length&&(r.staticClass+=" "+a.join(" "))}return i.id&&(r.domProps=r.domProps||{},r.domProps.id=i.id),e(i.tag,r,o)}}}n.r(e),n.d(e,"default",(function(){return i}))},"./src/components/VGrid/index.js":
/*!***************************************!*\
  !*** ./src/components/VGrid/index.js ***!
  \***************************************/
/*! exports provided: VContainer, VContent, VFlex, VLayout, VSpacer, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VSpacer",(function(){return c}));var i=n(/*! ../../util/helpers */"./src/util/helpers.ts"),r=n(/*! ./VContainer */"./src/components/VGrid/VContainer.js");n.d(e,"VContainer",(function(){return r["default"]}));var o=n(/*! ./VContent */"./src/components/VGrid/VContent.js");n.d(e,"VContent",(function(){return o["default"]}));var s=n(/*! ./VFlex */"./src/components/VGrid/VFlex.js");n.d(e,"VFlex",(function(){return s["default"]}));var a=n(/*! ./VLayout */"./src/components/VGrid/VLayout.js");n.d(e,"VLayout",(function(){return a["default"]}));var c=Object(i["createSimpleFunctional"])("spacer","div","v-spacer");e["default"]={$_vuetify_subcomponents:{VContainer:r["default"],VContent:o["default"],VFlex:s["default"],VLayout:a["default"],VSpacer:c}}},"./src/components/VHover/VHover.ts":
/*!*****************************************!*\
  !*** ./src/components/VHover/VHover.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/delayable */"./src/mixins/delayable.ts"),r=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=n(/*! ../../util/console */"./src/util/console.ts");e["default"]=Object(o["default"])(i["default"],r["default"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default?t=this.$scopedSlots.default({hover:this.isActive}):this.$slots.default&&1===this.$slots.default.length&&(t=this.$slots.default[0]),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):(Object(s["consoleWarn"])("v-hover should only contain a single element",this),t)):(Object(s["consoleWarn"])("v-hover is missing a default scopedSlot or bound value",this),null);var t}})},"./src/components/VHover/index.ts":
/*!****************************************!*\
  !*** ./src/components/VHover/index.ts ***!
  \****************************************/
/*! exports provided: VHover, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VHover */"./src/components/VHover/VHover.ts");n.d(e,"VHover",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VIcon/VIcon.ts":
/*!***************************************!*\
  !*** ./src/components/VIcon/VIcon.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_icons.styl */"./src/stylus/components/_icons.styl");var i,r=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),o=n(/*! ../../mixins/sizeable */"./src/mixins/sizeable.ts"),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts"),c=n(/*! vue */"vue"),l=n.n(c),u=n(/*! ../../util/mixins */"./src/util/mixins.ts"),d=function(){return d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},d.apply(this,arguments)};function h(t){return["fas","far","fal","fab"].some((function(e){return t.includes(e)}))}(function(t){t["small"]="16px",t["default"]="24px",t["medium"]="28px",t["large"]="36px",t["xLarge"]="40px"})(i||(i={}));var p=Object(u["default"])(r["default"],o["default"],s["default"]).extend({name:"v-icon",props:{disabled:Boolean,left:Boolean,right:Boolean},methods:{getIcon:function(){var t="";return this.$slots.default&&(t=this.$slots.default[0].text.trim()),Object(a["remapInternalIcon"])(this,t)},getSize:function(){var t={small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},e=Object(a["keys"])(t).find((function(e){return t[e]}));return e&&i[e]||Object(a["convertToUnit"])(this.size)},getDefaultData:function(){var t={staticClass:"v-icon",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.$listeners.click||this.$listeners["!click"],"v-icon--right":this.right},attrs:d({"aria-hidden":!0},this.$attrs),on:this.$listeners};return t},applyColors:function(t){t.class=d({},t.class,this.themeClasses),this.setTextColor(this.color,t)},renderFontIcon:function(t,e){var n=[],i=this.getDefaultData(),r="material-icons",o=t.indexOf("-"),s=o<=-1;s?n.push(t):(r=t.slice(0,o),h(r)&&(r="")),i.class[r]=!0,i.class[t]=!s;var a=this.getSize();return a&&(i.style={fontSize:a}),this.applyColors(i),e("i",i,n)},renderSvgIcon:function(t,e){var n=this.getDefaultData();n.class["v-icon--is-component"]=!0;var i=this.getSize();i&&(n.style={fontSize:i,height:i}),this.applyColors(n);var r=t.component;return n.props=t.props,n.nativeOn=n.on,e(r,n)}},render:function(t){var e=this.getIcon();return"string"===typeof e?this.renderFontIcon(e,t):this.renderSvgIcon(e,t)}});e["default"]=l.a.extend({name:"v-icon",$_wrapperFor:p,functional:!0,render:function(t,e){var n=e.data,i=e.children,r="";return n.domProps&&(r=n.domProps.textContent||n.domProps.innerHTML||r,delete n.domProps.textContent,delete n.domProps.innerHTML),t(p,n,r?[r]:i)}})},"./src/components/VIcon/index.ts":
/*!***************************************!*\
  !*** ./src/components/VIcon/index.ts ***!
  \***************************************/
/*! exports provided: VIcon, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VIcon */"./src/components/VIcon/VIcon.ts");n.d(e,"VIcon",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VImg/VImg.ts":
/*!*************************************!*\
  !*** ./src/components/VImg/VImg.ts ***!
  \*************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_images.styl */"./src/stylus/components/_images.styl");var i=n(/*! ../VResponsive */"./src/components/VResponsive/index.ts"),r=n(/*! ../../util/console */"./src/util/console.ts");e["default"]=i["default"].extend({name:"v-img",props:{alt:String,contain:Boolean,src:{type:[String,Object],default:""},gradient:String,lazySrc:String,srcset:String,sizes:String,position:{type:String,default:"center center"},transition:{type:[Boolean,String],default:"fade-transition"}},data:function(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0}},computed:{computedAspectRatio:function(){return this.normalisedSrc.aspect},normalisedSrc:function(){return"string"===typeof this.src?{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||this.calculatedAspectRatio)}:{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect||this.calculatedAspectRatio)}},__cachedImage:function(){if(!this.normalisedSrc.src&&!this.normalisedSrc.lazySrc)return[];var t=[],e=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&t.push("linear-gradient("+this.gradient+")"),e&&t.push('url("'+e+'")');var n=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:t.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[n]):n}},watch:{src:function(){this.isLoading?this.loadImage():this.init()},"$vuetify.breakpoint.width":"getSrc"},mounted:function(){this.init()},methods:{init:function(){if(this.normalisedSrc.lazySrc){var t=new Image;t.src=this.normalisedSrc.lazySrc,this.pollForSize(t,null)}this.normalisedSrc.src&&this.loadImage()},onLoad:function(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src)},onError:function(){Object(r["consoleError"])("Image load failed\n\nsrc: "+this.normalisedSrc.src,this),this.$emit("error",this.src)},getSrc:function(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage:function(){var t=this,e=new Image;this.image=e,e.onload=function(){e.decode?e.decode().catch((function(e){Object(r["consoleWarn"])("Failed to decode image, trying to render anyway\n\nsrc: "+t.normalisedSrc.src+(e.message?"\nOriginal error: "+e.message:""),t)})).then(t.onLoad):t.onLoad()},e.onerror=this.onError,e.src=this.normalisedSrc.src,this.sizes&&(e.sizes=this.sizes),this.normalisedSrc.srcset&&(e.srcset=this.normalisedSrc.srcset),this.aspectRatio||this.pollForSize(e),this.getSrc()},pollForSize:function(t,e){var n=this;void 0===e&&(e=100);var i=function i(){var r=t.naturalHeight,o=t.naturalWidth;r||o?n.calculatedAspectRatio=o/r:null!=e&&setTimeout(i,e)};i()},__genPlaceholder:function(){if(this.$slots.placeholder){var t=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},this.$slots.placeholder)]:[];return this.transition?this.$createElement("transition",{attrs:{name:this.transition}},t):t[0]}}},render:function(t){var e=i["default"].options.render.call(this,t);return e.data.staticClass+=" v-image",e.data.attrs={role:this.alt?"img":void 0,"aria-label":this.alt},e.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],t(e.tag,e.data,e.children)}})},"./src/components/VImg/index.ts":
/*!**************************************!*\
  !*** ./src/components/VImg/index.ts ***!
  \**************************************/
/*! exports provided: VImg, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VImg */"./src/components/VImg/VImg.ts");n.d(e,"VImg",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VInput/VInput.ts":
/*!*****************************************!*\
  !*** ./src/components/VInput/VInput.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_inputs.styl */"./src/stylus/components/_inputs.styl");var i=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),r=n(/*! ../VLabel */"./src/components/VLabel/index.ts"),o=n(/*! ../VMessages */"./src/components/VMessages/index.ts"),s=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),a=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),c=n(/*! ../../mixins/validatable */"./src/mixins/validatable.ts"),l=n(/*! ../../util/helpers */"./src/util/helpers.ts"),u=n(/*! ../../util/console */"./src/util/console.ts"),d=n(/*! ../../util/mixins */"./src/util/mixins.ts"),h=function(){return h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},h.apply(this,arguments)};e["default"]=Object(d["default"])(s["default"],a["default"],c["default"]).extend({name:"v-input",props:{appendIcon:String,appendIconCb:Function,backgroundColor:{type:String,default:""},height:[Number,String],hideDetails:Boolean,hint:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,prependIconCb:Function,value:{required:!1}},data:function(){return{attrsInput:{},lazyValue:this.value,hasMouseDown:!1}},computed:{classes:function(){return{}},classesInput:function(){return h({},this.classes,{"v-input--has-state":this.hasState,"v-input--hide-details":this.hideDetails,"v-input--is-label-active":this.isLabelActive,"v-input--is-dirty":this.isDirty,"v-input--is-disabled":this.disabled,"v-input--is-focused":this.isFocused,"v-input--is-loading":!1!==this.loading&&void 0!==this.loading,"v-input--is-readonly":this.readonly},this.themeClasses)},directivesInput:function(){return[]},hasHint:function(){return!this.hasMessages&&this.hint&&(this.persistentHint||this.isFocused)},hasLabel:function(){return Boolean(this.$slots.label||this.label)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit(this.$_modelEvent,t)}},isDirty:function(){return!!this.lazyValue},isDisabled:function(){return Boolean(this.disabled||this.readonly)},isLabelActive:function(){return this.isDirty}},watch:{value:function(t){this.lazyValue=t}},beforeCreate:function(){this.$_modelEvent=this.$options.model&&this.$options.model.event||"input"},methods:{genContent:function(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl:function(){return this.$createElement("div",{staticClass:"v-input__control"},[this.genInputSlot(),this.genMessages()])},genDefaultSlot:function(){return[this.genLabel(),this.$slots.default]},genIcon:function(t,e,n){var r=this;void 0===n&&(n=!0);var o=this[t+"Icon"],s="click:"+Object(l["kebabCase"])(t);e=e||this[t+"IconCb"],n&&t&&e&&Object(u["deprecate"])(":"+t+"-icon-cb","@"+s,this);var a={props:{color:this.validationState,dark:this.dark,disabled:this.disabled,light:this.light},on:this.$listeners[s]||e?{click:function(t){t.preventDefault(),t.stopPropagation(),r.$emit(s,t),e&&e(t)},mouseup:function(t){t.preventDefault(),t.stopPropagation()}}:void 0};return this.$createElement("div",{staticClass:"v-input__icon v-input__icon--"+Object(l["kebabCase"])(t),key:""+t+o},[this.$createElement(i["default"],a,o)])},genInputSlot:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:Object(l["convertToUnit"])(this.height)},directives:this.directivesInput,on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:"input-slot"}),[this.genDefaultSlot()])},genLabel:function(){return this.hasLabel?this.$createElement(r["default"],{props:{color:this.validationState,dark:this.dark,focused:this.hasState,for:this.$attrs.id,light:this.light}},this.$slots.label||this.label):null},genMessages:function(){var t=this;if(this.hideDetails)return null;var e=this.hasHint?[this.hint]:this.validations;return this.$createElement(o["default"],{props:{color:this.hasHint?"":this.validationState,dark:this.dark,light:this.light,value:this.hasMessages||this.hasHint?e:[]},scopedSlots:{default:this.$scopedSlots.message?function(e){return t.$scopedSlots.message(e)}:void 0}})},genSlot:function(t,e,n){if(!n.length)return null;var i=t+"-"+e;return this.$createElement("div",{staticClass:"v-input__"+i,ref:i},n)},genPrependSlot:function(){var t=[];return this.$slots.prepend?t.push(this.$slots.prepend):this.prependIcon&&t.push(this.genIcon("prepend")),this.genSlot("prepend","outer",t)},genAppendSlot:function(){var t=[];return this.$slots.append?t.push(this.$slots.append):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","outer",t)},onClick:function(t){this.$emit("click",t)},onMouseDown:function(t){this.hasMouseDown=!0,this.$emit("mousedown",t)},onMouseUp:function(t){this.hasMouseDown=!1,this.$emit("mouseup",t)}},render:function(t){return t("div",this.setTextColor(this.validationState,{staticClass:"v-input",attrs:this.attrsInput,class:this.classesInput}),this.genContent())}})},"./src/components/VInput/index.ts":
/*!****************************************!*\
  !*** ./src/components/VInput/index.ts ***!
  \****************************************/
/*! exports provided: VInput, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VInput */"./src/components/VInput/VInput.ts");n.d(e,"VInput",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VItemGroup/VItem.ts":
/*!********************************************!*\
  !*** ./src/components/VItemGroup/VItem.ts ***!
  \********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/groupable */"./src/mixins/groupable.ts"),r=n(/*! ../../util/mixins */"./src/util/mixins.ts"),o=n(/*! ../../util/console */"./src/util/console.ts");e["default"]=Object(r["default"])(Object(i["factory"])("itemGroup","v-item","v-item-group")).extend({name:"v-item",props:{value:{required:!1}},render:function(){var t,e;return this.$scopedSlots.default?(this.$scopedSlots.default&&(e=this.$scopedSlots.default({active:this.isActive,toggle:this.toggle})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(e.data=this._b(e.data||{},e.tag,{class:(t={},t[this.activeClass]=this.isActive,t)}),e):(Object(o["consoleWarn"])("v-item should only contain a single element",this),e)):(Object(o["consoleWarn"])("v-item is missing a default scopedSlot",this),null)}})},"./src/components/VItemGroup/VItemGroup.ts":
/*!*************************************************!*\
  !*** ./src/components/VItemGroup/VItemGroup.ts ***!
  \*************************************************/
/*! exports provided: BaseItemGroup, default */function(t,e,n){"use strict";n.r(e),n.d(e,"BaseItemGroup",(function(){return c}));n(/*! ../../stylus/components/_item-group.styl */"./src/stylus/components/_item-group.styl");var i=n(/*! ../../mixins/proxyable */"./src/mixins/proxyable.ts"),r=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=n(/*! ../../util/console */"./src/util/console.ts"),a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)},c=Object(o["default"])(i["default"],r["default"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean},data:function(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes:function(){return a({},this.themeClasses)},selectedItems:function(){var t=this;return this.items.filter((function(e,n){return t.toggleMethod(t.getValue(e,n))}))},selectedValues:function(){return Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod:function(){var t=this;if(!this.multiple)return function(e){return t.internalValue===e};var e=this.internalValue;return Array.isArray(e)?function(t){return e.includes(t)}:function(){return!1}}},watch:{internalValue:function(){this.$nextTick(this.updateItemsState)}},created:function(){this.multiple&&!Array.isArray(this.internalValue)&&Object(s["consoleWarn"])("Model must be bound to an array if the multiple property is true.",this)},methods:{getValue:function(t,e){return null==t.value||""===t.value?e:t.value},onClick:function(t,e){this.updateInternalValue(this.getValue(t,e))},register:function(t){var e=this,n=this.items.push(t)-1;t.$on("change",(function(){return e.onClick(t,n)})),this.mandatory&&null==this.internalLazyValue&&this.updateMandatory(),this.updateItem(t,n)},unregister:function(t){if(!this._isDestroyed){var e=this.items.indexOf(t),n=this.getValue(t,e);this.items.splice(e,1);var i=this.selectedValues.indexOf(n);if(!(i<0)){if(!this.mandatory)return this.updateInternalValue(n);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter((function(t){return t!==n})):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}}},updateItem:function(t,e){var n=this.getValue(t,e);t.isActive=this.toggleMethod(n)},updateItemsState:function(){if(this.mandatory&&!this.selectedItems.length)return this.updateMandatory();this.items.forEach(this.updateItem)},updateInternalValue:function(t){this.multiple?this.updateMultiple(t):this.updateSingle(t)},updateMandatory:function(t){if(this.items.length){var e=t?this.items.length-1:0;this.updateInternalValue(this.getValue(this.items[e],e))}},updateMultiple:function(t){var e=Array.isArray(this.internalValue)?this.internalValue:[],n=e.slice(),i=n.findIndex((function(e){return e===t}));this.mandatory&&i>-1&&n.length-1<1||null!=this.max&&i<0&&n.length+1>this.max||(i>-1?n.splice(i,1):n.push(t),this.internalValue=n)},updateSingle:function(t){var e=t===this.internalValue;this.mandatory&&e||(this.internalValue=e?void 0:t)}},render:function(t){return t("div",{staticClass:"v-item-group",class:this.classes},this.$slots.default)}});e["default"]=c.extend({name:"v-item-group",provide:function(){return{itemGroup:this}}})},"./src/components/VItemGroup/index.ts":
/*!********************************************!*\
  !*** ./src/components/VItemGroup/index.ts ***!
  \********************************************/
/*! exports provided: VItem, VItemGroup, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VItem */"./src/components/VItemGroup/VItem.ts");n.d(e,"VItem",(function(){return i["default"]}));var r=n(/*! ./VItemGroup */"./src/components/VItemGroup/VItemGroup.ts");n.d(e,"VItemGroup",(function(){return r["default"]})),e["default"]={$_vuetify_subcomponents:{VItem:i["default"],VItemGroup:r["default"]}}},"./src/components/VJumbotron/VJumbotron.js":
/*!*************************************************!*\
  !*** ./src/components/VJumbotron/VJumbotron.js ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_jumbotrons.styl */"./src/stylus/components/_jumbotrons.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../mixins/routable */"./src/mixins/routable.ts"),o=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),s=n(/*! ../../util/console */"./src/util/console.ts");e["default"]={name:"v-jumbotron",mixins:[i["default"],r["default"],o["default"]],props:{gradient:String,height:{type:[Number,String],default:"400px"},src:String,tag:{type:String,default:"div"}},computed:{backgroundStyles:function(){var t={};return this.gradient&&(t.background="linear-gradient("+this.gradient+")"),t},classes:function(){return this.themeClasses},styles:function(){return{height:this.height}}},mounted:function(){Object(s["deprecate"])("v-jumbotron",this.src?"v-img":"v-responsive",this)},methods:{genBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-jumbotron__background",style:this.backgroundStyles}))},genContent:function(){return this.$createElement("div",{staticClass:"v-jumbotron__content"},this.$slots.default)},genImage:function(){return this.src?this.$slots.img?this.$slots.img({src:this.src}):this.$createElement("img",{staticClass:"v-jumbotron__image",attrs:{src:this.src}}):null},genWrapper:function(){return this.$createElement("div",{staticClass:"v-jumbotron__wrapper"},[this.genImage(),this.genBackground(),this.genContent()])}},render:function(t){var e=this.generateRouteLink(this.classes),n=e.tag,i=e.data;return i.staticClass="v-jumbotron",i.style=this.styles,t(n,i,[this.genWrapper()])}}},"./src/components/VJumbotron/index.js":
/*!********************************************!*\
  !*** ./src/components/VJumbotron/index.js ***!
  \********************************************/
/*! exports provided: VJumbotron, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VJumbotron */"./src/components/VJumbotron/VJumbotron.js");n.d(e,"VJumbotron",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VLabel/VLabel.ts":
/*!*****************************************!*\
  !*** ./src/components/VLabel/VLabel.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_labels.styl */"./src/stylus/components/_labels.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)};e["default"]=Object(o["default"])(r["default"]).extend({name:"v-label",functional:!0,props:{absolute:Boolean,color:{type:String,default:"primary"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:"auto"},value:Boolean},render:function(t,e){var n=e.children,o=e.listeners,c=e.props,l={staticClass:"v-label",class:a({"v-label--active":c.value,"v-label--is-disabled":c.disabled},Object(r["functionalThemeClasses"])(e)),attrs:{for:c.for,"aria-hidden":!c.for},on:o,style:{left:Object(s["convertToUnit"])(c.left),right:Object(s["convertToUnit"])(c.right),position:c.absolute?"absolute":"relative"}};return t("label",i["default"].options.methods.setTextColor(c.focused&&c.color,l),n)}})},"./src/components/VLabel/index.ts":
/*!****************************************!*\
  !*** ./src/components/VLabel/index.ts ***!
  \****************************************/
/*! exports provided: VLabel, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VLabel */"./src/components/VLabel/VLabel.ts");n.d(e,"VLabel",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VList/VList.ts":
/*!***************************************!*\
  !*** ./src/components/VList/VList.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_lists.styl */"./src/stylus/components/_lists.styl");var i=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),r=n(/*! ../../mixins/registrable */"./src/mixins/registrable.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)},a=function(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};e["default"]=Object(o["default"])(Object(r["provide"])("list"),i["default"]).extend({name:"v-list",provide:function(){return{listClick:this.listClick}},props:{dense:Boolean,expand:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},data:function(){return{groups:[]}},computed:{classes:function(){return s({"v-list--dense":this.dense,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine},this.themeClasses)}},methods:{register:function(t){this.groups.push(t)},unregister:function(t){var e=this.groups.findIndex((function(e){return e._uid===t._uid}));e>-1&&this.groups.splice(e,1)},listClick:function(t){var e,n;if(!this.expand)try{for(var i=a(this.groups),r=i.next();!r.done;r=i.next()){var o=r.value;o.toggle(t)}}catch(s){e={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},render:function(t){var e={staticClass:"v-list",class:this.classes,attrs:{role:"list"}};return t("div",e,[this.$slots.default])}})},"./src/components/VList/VListGroup.ts":
/*!********************************************!*\
  !*** ./src/components/VList/VListGroup.ts ***!
  \********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),r=n(/*! ../../mixins/bootable */"./src/mixins/bootable.ts"),o=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),s=n(/*! ../../mixins/registrable */"./src/mixins/registrable.ts"),a=n(/*! ../transitions */"./src/components/transitions/index.js"),c=n(/*! ../../util/mixins */"./src/util/mixins.ts"),l=function(){return l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)};e["default"]=Object(c["default"])(r["default"],Object(s["inject"])("list","v-list-group","v-list"),o["default"]).extend({name:"v-list-group",inject:["listClick"],props:{activeClass:{type:String,default:"primary--text"},appendIcon:{type:String,default:"$vuetify.icons.expand"},disabled:Boolean,group:String,noAction:Boolean,prependIcon:String,subGroup:Boolean},data:function(){return{groups:[]}},computed:{groupClasses:function(){return{"v-list__group--active":this.isActive,"v-list__group--disabled":this.disabled}},headerClasses:function(){return{"v-list__group__header--active":this.isActive,"v-list__group__header--sub-group":this.subGroup}},itemsClasses:function(){return{"v-list__group__items--no-action":this.noAction}}},watch:{isActive:function(t){!this.subGroup&&t&&this.listClick(this._uid)},$route:function(t){var e=this.matchRoute(t.path);this.group&&(e&&this.isActive!==e&&this.listClick(this._uid),this.isActive=e)}},mounted:function(){this.list.register(this),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy:function(){this.list.unregister(this._uid)},methods:{click:function(t){this.disabled||(this.$emit("click",t),this.isActive=!this.isActive)},genIcon:function(t){return this.$createElement(i["default"],t)},genAppendIcon:function(){var t=!this.subGroup&&this.appendIcon;return t||this.$slots.appendIcon?this.$createElement("div",{staticClass:"v-list__group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(t)]):null},genGroup:function(){return this.$createElement("div",{staticClass:"v-list__group__header",class:this.headerClasses,on:l({},this.$listeners,{click:this.click}),ref:"item"},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems:function(){return this.$createElement("div",{staticClass:"v-list__group__items",class:this.itemsClasses,directives:[{name:"show",value:this.isActive}],ref:"group"},this.showLazyContent(this.$slots.default))},genPrependIcon:function(){var t,e=this.prependIcon?this.prependIcon:!!this.subGroup&&"$vuetify.icons.subgroup";return e||this.$slots.prependIcon?this.$createElement("div",{staticClass:"v-list__group__header__prepend-icon",class:(t={},t[this.activeClass]=this.isActive,t)},[this.$slots.prependIcon||this.genIcon(e)]):null},toggle:function(t){this.isActive=this._uid===t},matchRoute:function(t){return!!this.group&&null!==t.match(this.group)}},render:function(t){return t("div",{staticClass:"v-list__group",class:this.groupClasses},[this.genGroup(),t(a["VExpandTransition"],[this.genItems()])])}})},"./src/components/VList/VListTile.ts":
/*!*******************************************!*\
  !*** ./src/components/VList/VListTile.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../mixins/routable */"./src/mixins/routable.ts"),o=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),a=n(/*! ../../directives/ripple */"./src/directives/ripple.ts"),c=n(/*! ../../util/mixins */"./src/util/mixins.ts"),l=function(){return l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)};e["default"]=Object(c["default"])(i["default"],r["default"],o["default"],s["default"]).extend({name:"v-list-tile",directives:{Ripple:a["default"]},inheritAttrs:!1,props:{activeClass:{type:String,default:"primary--text"},avatar:Boolean,inactive:Boolean,tag:String},data:function(){return{proxyClass:"v-list__tile--active"}},computed:{listClasses:function(){return this.disabled?{"v-list--disabled":!0}:void 0},classes:function(){var t;return l({"v-list__tile":!0,"v-list__tile--link":this.isLink&&!this.inactive,"v-list__tile--avatar":this.avatar,"v-list__tile--disabled":this.disabled,"v-list__tile--active":!this.to&&this.isActive},this.themeClasses,(t={},t[this.activeClass]=this.isActive,t))},isLink:function(){var t=this.$listeners&&(this.$listeners.click||this.$listeners["!click"]);return Boolean(this.href||this.to||t)}},render:function(t){var e=!this.inactive&&this.isLink,n=e?this.generateRouteLink(this.classes):{tag:this.tag||"div",data:{class:this.classes}},i=n.tag,r=n.data;return r.attrs=Object.assign({},r.attrs,this.$attrs),t("div",this.setTextColor(!this.disabled&&this.isActive&&this.color,{class:this.listClasses,attrs:{disabled:this.disabled,role:"listitem"}}),[t(i,r,this.$slots.default)])}})},"./src/components/VList/VListTileAction.ts":
/*!*************************************************!*\
  !*** ./src/components/VList/VListTileAction.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e["default"]=r.a.extend({name:"v-list-tile-action",functional:!0,render:function(t,e){var n=e.data,i=e.children,r=void 0===i?[]:i;n.staticClass=n.staticClass?"v-list__tile__action "+n.staticClass:"v-list__tile__action";var o=r.filter((function(t){return!1===t.isComment&&" "!==t.text}));return o.length>1&&(n.staticClass+=" v-list__tile__action--stack"),t("div",n,r)}})},"./src/components/VList/VListTileAvatar.ts":
/*!*************************************************!*\
  !*** ./src/components/VList/VListTileAvatar.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VAvatar */"./src/components/VAvatar/index.ts"),r=n(/*! vue */"vue"),o=n.n(r);e["default"]=o.a.extend({name:"v-list-tile-avatar",functional:!0,props:{color:String,size:{type:[Number,String],default:40},tile:Boolean},render:function(t,e){var n=e.data,r=e.children,o=e.props;n.staticClass=("v-list__tile__avatar "+(n.staticClass||"")).trim();var s=t(i["default"],{props:{color:o.color,size:o.size,tile:o.tile}},[r]);return t("div",n,[s])}})},"./src/components/VList/index.ts":
/*!***************************************!*\
  !*** ./src/components/VList/index.ts ***!
  \***************************************/
/*! exports provided: VList, VListGroup, VListTile, VListTileAction, VListTileAvatar, VListTileActionText, VListTileContent, VListTileTitle, VListTileSubTitle, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VListTileActionText",(function(){return l})),n.d(e,"VListTileContent",(function(){return u})),n.d(e,"VListTileTitle",(function(){return d})),n.d(e,"VListTileSubTitle",(function(){return h}));var i=n(/*! ../../util/helpers */"./src/util/helpers.ts"),r=n(/*! ./VList */"./src/components/VList/VList.ts");n.d(e,"VList",(function(){return r["default"]}));var o=n(/*! ./VListGroup */"./src/components/VList/VListGroup.ts");n.d(e,"VListGroup",(function(){return o["default"]}));var s=n(/*! ./VListTile */"./src/components/VList/VListTile.ts");n.d(e,"VListTile",(function(){return s["default"]}));var a=n(/*! ./VListTileAction */"./src/components/VList/VListTileAction.ts");n.d(e,"VListTileAction",(function(){return a["default"]}));var c=n(/*! ./VListTileAvatar */"./src/components/VList/VListTileAvatar.ts");n.d(e,"VListTileAvatar",(function(){return c["default"]}));var l=Object(i["createSimpleFunctional"])("v-list__tile__action-text","span"),u=Object(i["createSimpleFunctional"])("v-list__tile__content","div"),d=Object(i["createSimpleFunctional"])("v-list__tile__title","div"),h=Object(i["createSimpleFunctional"])("v-list__tile__sub-title","div");e["default"]={$_vuetify_subcomponents:{VList:r["default"],VListGroup:o["default"],VListTile:s["default"],VListTileAction:a["default"],VListTileActionText:l,VListTileAvatar:c["default"],VListTileContent:u,VListTileSubTitle:h,VListTileTitle:d}}},"./src/components/VMenu/VMenu.js":
/*!***************************************!*\
  !*** ./src/components/VMenu/VMenu.js ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_menus.styl */"./src/stylus/components/_menus.styl");var i=n(/*! vue */"vue"),r=n.n(i),o=n(/*! ../../mixins/delayable */"./src/mixins/delayable.ts"),s=n(/*! ../../mixins/dependent */"./src/mixins/dependent.ts"),a=n(/*! ../../mixins/detachable */"./src/mixins/detachable.js"),c=n(/*! ../../mixins/menuable.js */"./src/mixins/menuable.js"),l=n(/*! ../../mixins/returnable */"./src/mixins/returnable.ts"),u=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),d=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),h=n(/*! ./mixins/menu-activator */"./src/components/VMenu/mixins/menu-activator.js"),p=n(/*! ./mixins/menu-generators */"./src/components/VMenu/mixins/menu-generators.js"),f=n(/*! ./mixins/menu-keyable */"./src/components/VMenu/mixins/menu-keyable.js"),m=n(/*! ./mixins/menu-position */"./src/components/VMenu/mixins/menu-position.js"),v=n(/*! ../../directives/click-outside */"./src/directives/click-outside.ts"),g=n(/*! ../../directives/resize */"./src/directives/resize.ts"),_=n(/*! ../../util/helpers */"./src/util/helpers.ts"),y=n(/*! ../../util/ThemeProvider */"./src/util/ThemeProvider.ts"),E=n(/*! ../../util/console */"./src/util/console.ts");e["default"]=r.a.extend({name:"v-menu",provide:function(){return{theme:this.theme}},directives:{ClickOutside:v["default"],Resize:g["default"]},mixins:[h["default"],s["default"],o["default"],a["default"],p["default"],f["default"],c["default"],m["default"],l["default"],u["default"],d["default"]],props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,fullWidth:Boolean,maxHeight:{default:"auto"},openOnClick:{type:Boolean,default:!0},offsetX:Boolean,offsetY:Boolean,openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data:function(){return{defaultOffset:8,hasJustFocused:!1,resizeTimeout:null}},computed:{calculatedLeft:function(){var t=Math.max(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?this.calcXOverflow(this.calcLeftAuto(),t)+"px":this.calcLeft(t)},calculatedMaxHeight:function(){return this.auto?"200px":Object(_["convertToUnit"])(this.maxHeight)},calculatedMaxWidth:function(){return isNaN(this.maxWidth)?this.maxWidth:this.maxWidth+"px"},calculatedMinWidth:function(){if(this.minWidth)return isNaN(this.minWidth)?this.minWidth:this.minWidth+"px";var t=Math.min(this.dimensions.activator.width+this.nudgeWidth+(this.auto?16:0),Math.max(this.pageWidth-24,0)),e=isNaN(parseInt(this.calculatedMaxWidth))?t:parseInt(this.calculatedMaxWidth);return Math.min(e,t)+"px"},calculatedTop:function(){return!this.auto||this.isAttached?this.calcTop():this.calcYOverflow(this.calculatedTopAuto)+"px"},styles:function(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{activator:function(t,e){this.removeActivatorEvents(e),this.addActivatorEvents(t)},disabled:function(t){this.activator&&(t?this.removeActivatorEvents(this.activator):this.addActivatorEvents(this.activator))},isContentActive:function(t){this.hasJustFocused=t}},mounted:function(){this.isActive&&this.activate(),"v-slot"===Object(_["getSlotType"])(this,"activator",!0)&&Object(E["consoleError"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){var t=this;this.getTiles(),this.updateDimensions(),requestAnimationFrame((function(){t.startTransition().then((function(){t.$refs.content&&(t.calculatedTopAuto=t.calcTopAuto(),t.auto&&(t.$refs.content.scrollTop=t.calcScrollPosition()))}))}))},closeConditional:function(t){return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(t.target)},onResize:function(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(this.updateDimensions,100))}},render:function(t){var e={staticClass:"v-menu",class:{"v-menu--inline":!this.fullWidth&&this.$slots.activator},directives:[{arg:500,name:"resize",value:this.onResize}],on:this.disableKeys?void 0:{keydown:this.onKeyDown}};return t("div",e,[this.genActivator(),this.$createElement(y["default"],{props:{root:!0,light:this.light,dark:this.dark}},[this.genTransition()])])}})},"./src/components/VMenu/index.js":
/*!***************************************!*\
  !*** ./src/components/VMenu/index.js ***!
  \***************************************/
/*! exports provided: VMenu, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VMenu */"./src/components/VMenu/VMenu.js");n.d(e,"VMenu",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VMenu/mixins/menu-activator.js":
/*!*******************************************************!*\
  !*** ./src/components/VMenu/mixins/menu-activator.js ***!
  \*******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e["default"]={methods:{activatorClickHandler:function(t){this.openOnClick&&!this.isActive?(this.getActivator(t).focus(),this.isActive=!0,this.absoluteX=t.clientX,this.absoluteY=t.clientY):this.closeOnClick&&this.isActive&&(this.getActivator(t).blur(),this.isActive=!1)},mouseEnterHandler:function(){var t=this;this.runDelay("open",(function(){t.hasJustFocused||(t.hasJustFocused=!0,t.isActive=!0)}))},mouseLeaveHandler:function(t){var e=this;this.runDelay("close",(function(){e.$refs.content.contains(t.relatedTarget)||requestAnimationFrame((function(){e.isActive=!1,e.callDeactivate()}))}))},addActivatorEvents:function(t){void 0===t&&(t=null),t&&!this.disabled&&t.addEventListener("click",this.activatorClickHandler)},removeActivatorEvents:function(t){void 0===t&&(t=null),t&&t.removeEventListener("click",this.activatorClickHandler)}}}},"./src/components/VMenu/mixins/menu-generators.js":
/*!********************************************************!*\
  !*** ./src/components/VMenu/mixins/menu-generators.js ***!
  \********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../../util/helpers */"./src/util/helpers.ts"),r=function(){return r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)},o=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},s=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};e["default"]={methods:{genActivator:function(){if(!this.$slots.activator&&!this.$scopedSlots.activator)return null;var t={};if(this.disabled||(this.openOnHover?(t.mouseenter=this.mouseEnterHandler,t.mouseleave=this.mouseLeaveHandler):this.openOnClick&&(t.click=this.activatorClickHandler)),"scoped"===Object(i["getSlotType"])(this,"activator")){t.keydown=this.onKeyDown;var e=this.$scopedSlots.activator({on:t});return this.activatorNode=e,e}return this.$createElement("div",{staticClass:"v-menu__activator",class:{"v-menu__activator--active":this.hasJustFocused||this.isActive,"v-menu__activator--disabled":this.disabled},ref:"activator",on:t},this.$slots.activator)},genTransition:function(){return this.transition?this.$createElement("transition",{props:{name:this.transition}},[this.genContent()]):this.genContent()},genDirectives:function(){var t=this,e=!this.openOnHover&&this.closeOnClick?[{name:"click-outside",value:function(){t.isActive=!1},args:{closeConditional:this.closeConditional,include:function(){return s([t.$el],t.getOpenDependentElements())}}}]:[];return e.push({name:"show",value:this.isContentActive}),e},genContent:function(){var t,e=this,n={attrs:this.getScopeIdAttrs(),staticClass:"v-menu__content",class:r({},this.rootThemeClasses,(t={"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive},t[this.contentClass.trim()]=!0,t)),style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:function(t){t.stopPropagation(),t.target.getAttribute("disabled")||e.closeOnContentClick&&(e.isActive=!1)},keydown:this.onKeyDown}};return!this.disabled&&this.openOnHover&&(n.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(n.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",n,this.showLazyContent(this.$slots.default))}}}},"./src/components/VMenu/mixins/menu-keyable.js":
/*!*****************************************************!*\
  !*** ./src/components/VMenu/mixins/menu-keyable.js ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../../util/helpers */"./src/util/helpers.ts");e["default"]={props:{disableKeys:Boolean},data:function(){return{listIndex:-1,tiles:[]}},watch:{isActive:function(t){t||(this.listIndex=-1)},listIndex:function(t,e){if(t in this.tiles){var n=this.tiles[t];n.classList.add("v-list__tile--highlighted"),this.$refs.content.scrollTop=n.offsetTop-n.clientHeight}e in this.tiles&&this.tiles[e].classList.remove("v-list__tile--highlighted")}},methods:{onKeyDown:function(t){var e=this;if(t.keyCode===i["keyCodes"].esc){setTimeout((function(){e.isActive=!1}));var n=this.getActivator();this.$nextTick((function(){return n&&n.focus()}))}else t.keyCode===i["keyCodes"].tab?setTimeout((function(){e.$refs.content.contains(document.activeElement)||(e.isActive=!1)})):this.changeListIndex(t)},changeListIndex:function(t){if(this.getTiles(),t.keyCode===i["keyCodes"].down&&this.listIndex<this.tiles.length-1)this.listIndex++;else if(t.keyCode===i["keyCodes"].up&&this.listIndex>-1)this.listIndex--;else{if(t.keyCode!==i["keyCodes"].enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}t.preventDefault()},getTiles:function(){this.tiles=this.$refs.content.querySelectorAll(".v-list__tile")}}}},"./src/components/VMenu/mixins/menu-position.js":
/*!******************************************************!*\
  !*** ./src/components/VMenu/mixins/menu-position.js ***!
  \******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e["default"]={data:function(){return{calculatedTopAuto:0}},methods:{calcScrollPosition:function(){var t=this.$refs.content,e=t.querySelector(".v-list__tile--active"),n=t.scrollHeight-t.offsetHeight;return e?Math.min(n,Math.max(0,e.offsetTop-t.offsetHeight/2+e.offsetHeight/2)):t.scrollTop},calcLeftAuto:function(){return this.isAttached?0:parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto:function(){var t=this.$refs.content,e=t.querySelector(".v-list__tile--active");if(e||(this.selectedIndex=null),this.offsetY||!e)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(e);var n=e.offsetTop-this.calcScrollPosition(),i=t.querySelector(".v-list__tile").offsetTop;return this.computedTop-n-i}}}},"./src/components/VMessages/VMessages.ts":
/*!***********************************************!*\
  !*** ./src/components/VMessages/VMessages.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_messages.styl */"./src/stylus/components/_messages.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=n(/*! ../../util/helpers */"./src/util/helpers.ts");e["default"]=Object(o["default"])(i["default"],r["default"]).extend({name:"v-messages",props:{value:{type:Array,default:function(){return[]}}},methods:{genChildren:function(){return this.$createElement("transition-group",{staticClass:"v-messages__wrapper",attrs:{name:"message-transition",tag:"div"}},this.value.map(this.genMessage))},genMessage:function(t,e){var n=this.$scopedSlots.default?this.$scopedSlots.default({message:t,key:e}):void 0,i=Object(s["escapeHTML"])(t),r=n?void 0:i;return this.$createElement("div",{staticClass:"v-messages__message",key:e,domProps:{innerHTML:r}},n)}},render:function(t){return t("div",this.setTextColor(this.color,{staticClass:"v-messages",class:this.themeClasses}),[this.genChildren()])}})},"./src/components/VMessages/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VMessages/index.ts ***!
  \*******************************************/
/*! exports provided: VMessages, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VMessages */"./src/components/VMessages/VMessages.ts");n.d(e,"VMessages",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VNavigationDrawer/VNavigationDrawer.ts":
/*!***************************************************************!*\
  !*** ./src/components/VNavigationDrawer/VNavigationDrawer.ts ***!
  \***************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_navigation-drawer.styl */"./src/stylus/components/_navigation-drawer.styl");var i=n(/*! ../../mixins/applicationable */"./src/mixins/applicationable.ts"),r=n(/*! ../../mixins/dependent */"./src/mixins/dependent.ts"),o=n(/*! ../../mixins/overlayable */"./src/mixins/overlayable.ts"),s=n(/*! ../../mixins/ssr-bootable */"./src/mixins/ssr-bootable.ts"),a=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),c=n(/*! ../../directives/click-outside */"./src/directives/click-outside.ts"),l=n(/*! ../../directives/resize */"./src/directives/resize.ts"),u=n(/*! ../../directives/touch */"./src/directives/touch.ts"),d=n(/*! ../../util/helpers */"./src/util/helpers.ts"),h=n(/*! ../../util/mixins */"./src/util/mixins.ts"),p=function(){return p=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},p.apply(this,arguments)};e["default"]=Object(h["default"])(Object(i["default"])("left",["miniVariant","right","width"]),r["default"],o["default"],s["default"],a["default"]).extend({name:"v-navigation-drawer",directives:{ClickOutside:c["default"],Resize:l["default"],Touch:u["default"]},props:{clipped:Boolean,disableRouteWatcher:Boolean,disableResizeWatcher:Boolean,height:{type:[Number,String],default:"100%"},floating:Boolean,miniVariant:Boolean,miniVariantWidth:{type:[Number,String],default:80},mobileBreakPoint:{type:[Number,String],default:1264},permanent:Boolean,right:Boolean,stateless:Boolean,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:300},value:{required:!1}},data:function(){return{isActive:!1,touchArea:{left:0,right:0}}},computed:{applicationProperty:function(){return this.right?"right":"left"},calculatedTransform:function(){return this.isActive?0:this.right?this.calculatedWidth:-this.calculatedWidth},calculatedWidth:function(){return parseInt(this.miniVariant?this.miniVariantWidth:this.width)},classes:function(){return p({"v-navigation-drawer":!0,"v-navigation-drawer--absolute":this.absolute,"v-navigation-drawer--clipped":this.clipped,"v-navigation-drawer--close":!this.isActive,"v-navigation-drawer--fixed":!this.absolute&&(this.app||this.fixed),"v-navigation-drawer--floating":this.floating,"v-navigation-drawer--is-mobile":this.isMobile,"v-navigation-drawer--mini-variant":this.miniVariant,"v-navigation-drawer--open":this.isActive,"v-navigation-drawer--right":this.right,"v-navigation-drawer--temporary":this.temporary},this.themeClasses)},hasApp:function(){return this.app&&!this.isMobile&&!this.temporary},isMobile:function(){return!this.stateless&&!this.permanent&&!this.temporary&&this.$vuetify.breakpoint.width<parseInt(this.mobileBreakPoint,10)},marginTop:function(){if(!this.hasApp)return 0;var t=this.$vuetify.application.bar;return t+=this.clipped?this.$vuetify.application.top:0,t},maxHeight:function(){if(!this.hasApp)return null;var t=this.$vuetify.application.bottom+this.$vuetify.application.footer+this.$vuetify.application.bar;return this.clipped?t+this.$vuetify.application.top:t},reactsToClick:function(){return!this.stateless&&!this.permanent&&(this.isMobile||this.temporary)},reactsToMobile:function(){return!this.disableResizeWatcher&&!this.stateless&&!this.permanent&&!this.temporary},reactsToRoute:function(){return!this.disableRouteWatcher&&!this.stateless&&(this.temporary||this.isMobile)},resizeIsDisabled:function(){return this.disableResizeWatcher||this.stateless},showOverlay:function(){return this.isActive&&(this.isMobile||this.temporary)},styles:function(){var t={height:Object(d["convertToUnit"])(this.height),marginTop:this.marginTop+"px",maxHeight:null!=this.maxHeight?"calc(100% - "+ +this.maxHeight+"px)":void 0,transform:"translateX("+this.calculatedTransform+"px)",width:this.calculatedWidth+"px"};return t}},watch:{$route:function(){this.reactsToRoute&&this.closeConditional()&&(this.isActive=!1)},isActive:function(t){this.$emit("input",t),this.callUpdate()},isMobile:function(t,e){!t&&this.isActive&&!this.temporary&&this.removeOverlay(),null!=e&&!this.resizeIsDisabled&&this.reactsToMobile&&(this.isActive=!t,this.callUpdate())},permanent:function(t){t&&(this.isActive=!0),this.callUpdate()},showOverlay:function(t){t?this.genOverlay():this.removeOverlay()},temporary:function(){this.callUpdate()},value:function(t){if(!this.permanent){var e=this;if(null==t)return e.init();t!==this.isActive&&(this.isActive=t)}}},beforeMount:function(){this.init()},methods:{calculateTouchArea:function(){if(this.$el.parentNode){var t=this.$el.parentNode.getBoundingClientRect();this.touchArea={left:t.left+50,right:t.right-50}}},closeConditional:function(){return this.isActive&&!this._isDestroyed&&this.reactsToClick},genDirectives:function(){var t=this,e=[{name:"click-outside",value:function(){return t.isActive=!1},args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}}];return!this.touchless&&e.push({name:"touch",value:{parent:!0,left:this.swipeLeft,right:this.swipeRight}}),e},init:function(){this.permanent?this.isActive=!0:this.stateless||null!=this.value?this.isActive=this.value:this.temporary||(this.isActive=!this.isMobile)},swipeRight:function(t){this.isActive&&!this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(!this.right&&t.touchstartX<=this.touchArea.left?this.isActive=!0:this.right&&this.isActive&&(this.isActive=!1)))},swipeLeft:function(t){this.isActive&&this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(this.right&&t.touchstartX>=this.touchArea.right?this.isActive=!0:!this.right&&this.isActive&&(this.isActive=!1)))},updateApplication:function(){return!this.isActive||this.temporary||this.isMobile?0:this.calculatedWidth}},render:function(t){var e=this,n={class:this.classes,style:this.styles,directives:this.genDirectives(),on:{click:function(){e.miniVariant&&e.$emit("update:miniVariant",!1)},transitionend:function(t){if(t.target===t.currentTarget){e.$emit("transitionend",t);var n=document.createEvent("UIEvents");n.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(n)}}}};return t("aside",n,[this.$slots.default,t("div",{class:"v-navigation-drawer__border"})])}})},"./src/components/VNavigationDrawer/index.ts":
/*!***************************************************!*\
  !*** ./src/components/VNavigationDrawer/index.ts ***!
  \***************************************************/
/*! exports provided: VNavigationDrawer, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VNavigationDrawer */"./src/components/VNavigationDrawer/VNavigationDrawer.ts");n.d(e,"VNavigationDrawer",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VOverflowBtn/VOverflowBtn.js":
/*!*****************************************************!*\
  !*** ./src/components/VOverflowBtn/VOverflowBtn.js ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_overflow-buttons.styl */"./src/stylus/components/_overflow-buttons.styl");var i=n(/*! ../VSelect/VSelect */"./src/components/VSelect/VSelect.js"),r=n(/*! ../VAutocomplete */"./src/components/VAutocomplete/index.js"),o=n(/*! ../VTextField/VTextField */"./src/components/VTextField/VTextField.js"),s=n(/*! ../VBtn */"./src/components/VBtn/index.ts"),a=n(/*! ../../util/console */"./src/util/console.ts");e["default"]=r["default"].extend({name:"v-overflow-btn",props:{segmented:Boolean,editable:Boolean,transition:i["default"].options.props.transition},computed:{classes:function(){return Object.assign(r["default"].options.computed.classes.call(this),{"v-overflow-btn":!0,"v-overflow-btn--segmented":this.segmented,"v-overflow-btn--editable":this.editable})},isAnyValueAllowed:function(){return this.editable||r["default"].options.computed.isAnyValueAllowed.call(this)},isSingle:function(){return!0},computedItems:function(){return this.segmented?this.allItems:this.filteredItems},$_menuProps:function(){var t=r["default"].options.computed.$_menuProps.call(this);return t.transition=t.transition||"v-menu-transition",t}},methods:{genSelections:function(){return this.editable?r["default"].options.methods.genSelections.call(this):i["default"].options.methods.genSelections.call(this)},genCommaSelection:function(t,e,n){return this.segmented?this.genSegmentedBtn(t):i["default"].options.methods.genCommaSelection.call(this,t,e,n)},genInput:function(){var t=o["default"].options.methods.genInput.call(this);return t.data.domProps.value=this.editable?this.internalSearch:"",t.data.attrs.readonly=!this.isAnyValueAllowed,t},genLabel:function(){if(this.editable&&this.isFocused)return null;var t=o["default"].options.methods.genLabel.call(this);return t?(t.data.style={},t):t},genSegmentedBtn:function(t){var e=this,n=this.getValue(t),i=this.computedItems.find((function(t){return e.getValue(t)===n}))||t;return i.text&&i.callback?this.$createElement(s["default"],{props:{flat:!0},on:{click:function(t){t.stopPropagation(),i.callback(t)}}},[i.text]):(Object(a["consoleWarn"])("When using 'segmented' prop without a selection slot, items must contain both a text and callback property",this),null)}}})},"./src/components/VOverflowBtn/index.js":
/*!**********************************************!*\
  !*** ./src/components/VOverflowBtn/index.js ***!
  \**********************************************/
/*! exports provided: VOverflowBtn, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VOverflowBtn */"./src/components/VOverflowBtn/VOverflowBtn.js");n.d(e,"VOverflowBtn",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VPagination/VPagination.ts":
/*!***************************************************!*\
  !*** ./src/components/VPagination/VPagination.ts ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_pagination.styl */"./src/stylus/components/_pagination.styl");var i=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),r=n(/*! ../../directives/resize */"./src/directives/resize.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),a=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),c=function(){return c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},c.apply(this,arguments)},l=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},u=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t};e["default"]=Object(o["default"])(s["default"],a["default"]).extend({name:"v-pagination",directives:{Resize:r["default"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1===0}},totalVisible:[Number,String],nextIcon:{type:String,default:"$vuetify.icons.next"},prevIcon:{type:String,default:"$vuetify.icons.prev"},value:{type:Number,default:0}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return c({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10)||this.maxButtons;if(this.length<=t)return this.range(1,this.length);var e=t%2===0?1:0,n=Math.floor(t/2),i=this.length-n+1+e;if(this.value>n&&this.value<i){var r=this.value-n+2,o=this.value+n-2-e;return u([1,"..."],this.range(r,o),["...",this.length])}if(this.value===n){o=this.value+n-1-e;return u(this.range(1,o),["...",this.length])}if(this.value===i){r=this.value-n+1;return u([1,"..."],this.range(r,this.length))}return u(this.range(1,n),["..."],this.range(i,this.length))}},watch:{value:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){var n=[];t=t>0?t:1;for(var i=t;i<=e;i++)n.push(i);return n},genIcon:function(t,e,n,r){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":n},attrs:{type:"button"},on:n?{}:{click:r}},[t(i["default"],[e])])])},genItem:function(t,e){var n=this,i=e===this.value&&(this.color||"primary");return t("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button"},on:{click:function(){return n.$emit("input",e)}}}),[e.toString()])},genItems:function(t){var e=this;return this.items.map((function(n,i){return t("li",{key:i},[isNaN(Number(n))?t("span",{class:"v-pagination__more"},[n.toString()]):e.genItem(t,n)])}))}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next)];return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}})},"./src/components/VPagination/index.ts":
/*!*********************************************!*\
  !*** ./src/components/VPagination/index.ts ***!
  \*********************************************/
/*! exports provided: VPagination, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VPagination */"./src/components/VPagination/VPagination.ts");n.d(e,"VPagination",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VParallax/VParallax.ts":
/*!***********************************************!*\
  !*** ./src/components/VParallax/VParallax.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_parallax.styl */"./src/stylus/components/_parallax.styl");var i=n(/*! ../../mixins/translatable */"./src/mixins/translatable.ts"),r=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(r["default"])(i["default"]).extend({name:"v-parallax",props:{alt:{type:String,default:""},height:{type:[String,Number],default:500},src:String},data:function(){return{isBooted:!1}},computed:{styles:function(){return{display:"block",opacity:this.isBooted?1:0,transform:"translate(-50%, "+this.parallax+"px)"}}},watch:{parallax:function(){this.isBooted=!0}},mounted:function(){this.init()},methods:{init:function(){var t=this,e=this.$refs.img;e&&(e.complete?(this.translate(),this.listeners()):e.addEventListener("load",(function(){t.translate(),t.listeners()}),!1))},objHeight:function(){return this.$refs.img.naturalHeight}},render:function(t){var e={staticClass:"v-parallax__image",style:this.styles,attrs:{src:this.src,alt:this.alt},ref:"img"},n=t("div",{staticClass:"v-parallax__image-container"},[t("img",e)]),i=t("div",{staticClass:"v-parallax__content"},this.$slots.default);return t("div",{staticClass:"v-parallax",style:{height:this.height+"px"},on:this.$listeners},[n,i])}})},"./src/components/VParallax/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VParallax/index.ts ***!
  \*******************************************/
/*! exports provided: VParallax, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VParallax */"./src/components/VParallax/VParallax.ts");n.d(e,"VParallax",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VPicker/VPicker.ts":
/*!*******************************************!*\
  !*** ./src/components/VPicker/VPicker.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_pickers.styl */"./src/stylus/components/_pickers.styl"),n(/*! ../../stylus/components/_cards.styl */"./src/stylus/components/_cards.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),s=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)};e["default"]=Object(s["default"])(i["default"],r["default"]).extend({name:"v-picker",props:{fullWidth:Boolean,landscape:Boolean,transition:{type:String,default:"fade-transition"},width:{type:[Number,String],default:290}},computed:{computedTitleColor:function(){var t=!this.isDark&&(this.color||"primary");return this.color||t}},methods:{genTitle:function(){return this.$createElement("div",this.setBackgroundColor(this.computedTitleColor,{staticClass:"v-picker__title",class:{"v-picker__title--landscape":this.landscape}}),this.$slots.title)},genBodyTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},this.$slots.default)},genBody:function(){return this.$createElement("div",{staticClass:"v-picker__body",class:this.themeClasses,style:this.fullWidth?void 0:{width:Object(o["convertToUnit"])(this.width)}},[this.genBodyTransition()])},genActions:function(){return this.$createElement("div",{staticClass:"v-picker__actions v-card__actions"},this.$slots.actions)}},render:function(t){return t("div",{staticClass:"v-picker v-card",class:a({"v-picker--landscape":this.landscape,"v-picker--full-width":this.fullWidth},this.themeClasses)},[this.$slots.title?this.genTitle():null,this.genBody(),this.$slots.actions?this.genActions():null])}})},"./src/components/VPicker/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VPicker/index.ts ***!
  \*****************************************/
/*! exports provided: VPicker, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VPicker */"./src/components/VPicker/VPicker.ts");n.d(e,"VPicker",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VProgressCircular/VProgressCircular.ts":
/*!***************************************************************!*\
  !*** ./src/components/VProgressCircular/VProgressCircular.ts ***!
  \***************************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_progress-circular.styl */"./src/stylus/components/_progress-circular.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(r["default"])(i["default"]).extend({name:"v-progress-circular",props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},computed:{calculatedSize:function(){return Number(this.size)+(this.button?8:0)},circumference:function(){return 2*Math.PI*this.radius},classes:function(){return{"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue:function(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},radius:function(){return 20},strokeDashArray:function(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset:function(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth:function(){return Number(this.width)/+this.size*this.viewBoxSize*2},styles:function(){return{height:this.calculatedSize+"px",width:this.calculatedSize+"px"}},svgStyles:function(){return{transform:"rotate("+Number(this.rotate)+"deg)"}},viewBoxSize:function(){return this.radius/(1-Number(this.width)/+this.size)}},methods:{genCircle:function(t,e,n){return t("circle",{class:"v-progress-circular__"+e,attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":n}})},genSvg:function(t){var e=[this.indeterminate||this.genCircle(t,"underlay",0),this.genCircle(t,"overlay",this.strokeDashOffset)];return t("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:this.viewBoxSize+" "+this.viewBoxSize+" "+2*this.viewBoxSize+" "+2*this.viewBoxSize}},e)}},render:function(t){var e=t("div",{staticClass:"v-progress-circular__info"},this.$slots.default),n=this.genSvg(t);return t("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:this.styles,on:this.$listeners}),[n,e])}})},"./src/components/VProgressCircular/index.ts":
/*!***************************************************!*\
  !*** ./src/components/VProgressCircular/index.ts ***!
  \***************************************************/
/*! exports provided: VProgressCircular, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VProgressCircular */"./src/components/VProgressCircular/VProgressCircular.ts");n.d(e,"VProgressCircular",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VProgressLinear/VProgressLinear.ts":
/*!***********************************************************!*\
  !*** ./src/components/VProgressLinear/VProgressLinear.ts ***!
  \***********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_progress-linear.styl */"./src/stylus/components/_progress-linear.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../util/helpers */"./src/util/helpers.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=n(/*! ../transitions */"./src/components/transitions/index.js");e["default"]=Object(o["default"])(i["default"]).extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:7},indeterminate:Boolean,query:Boolean,value:{type:[Number,String],default:0}},computed:{backgroundStyle:function(){var t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{height:this.active?Object(r["convertToUnit"])(this.height):0,opacity:t,width:this.normalizedBufer+"%"}},effectiveWidth:function(){return this.normalizedBufer?100*+this.normalizedValue/+this.normalizedBufer:0},normalizedBufer:function(){return this.bufferValue<0?0:this.bufferValue>100?100:parseFloat(this.bufferValue)},normalizedValue:function(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},styles:function(){var t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBufer)||(t.width=this.normalizedBufer+"%"),t}},methods:{genDeterminate:function(t){return t("div",this.setBackgroundColor(this.color,{ref:"front",staticClass:"v-progress-linear__bar__determinate",style:{width:this.effectiveWidth+"%"}}))},genBar:function(t,e){var n;return t("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__bar__indeterminate",class:(n={},n[e]=!0,n)}))},genIndeterminate:function(t){return t("div",{ref:"front",staticClass:"v-progress-linear__bar__indeterminate",class:{"v-progress-linear__bar__indeterminate--active":this.active}},[this.genBar(t,"long"),this.genBar(t,"short")])}},render:function(t){var e=t(s["VFadeTransition"],this.indeterminate?[this.genIndeterminate(t)]:[]),n=t(s["VSlideXTransition"],this.indeterminate?[]:[this.genDeterminate(t)]),i=t("div",{staticClass:"v-progress-linear__bar",style:this.styles},[e,n]),o=t("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle})),a=this.$slots.default&&t("div",{staticClass:"v-progress-linear__content"},this.$slots.default);return t("div",{staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBufer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:{"v-progress-linear--query":this.query},style:{height:Object(r["convertToUnit"])(this.height)},on:this.$listeners},[o,i,a])}})},"./src/components/VProgressLinear/index.ts":
/*!*************************************************!*\
  !*** ./src/components/VProgressLinear/index.ts ***!
  \*************************************************/
/*! exports provided: VProgressLinear, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VProgressLinear */"./src/components/VProgressLinear/VProgressLinear.ts");n.d(e,"VProgressLinear",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VRadioGroup/VRadio.js":
/*!**********************************************!*\
  !*** ./src/components/VRadioGroup/VRadio.js ***!
  \**********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_radios.styl */"./src/stylus/components/_radios.styl");var i=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),r=n(/*! ../VLabel */"./src/components/VLabel/index.ts"),o=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),s=n(/*! ../../mixins/rippleable */"./src/mixins/rippleable.ts"),a=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),c=n(/*! ../../mixins/selectable */"./src/mixins/selectable.js"),l=n(/*! ../../mixins/registrable */"./src/mixins/registrable.ts"),u=function(){return u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},u.apply(this,arguments)},d=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t};e["default"]={name:"v-radio",mixins:[o["default"],s["default"],Object(l["inject"])("radio","v-radio","v-radio-group"),a["default"]],inheritAttrs:!1,props:{color:{type:String,default:"accent"},disabled:Boolean,label:String,onIcon:{type:String,default:"$vuetify.icons.radioOn"},offIcon:{type:String,default:"$vuetify.icons.radioOff"},readonly:Boolean,value:null},data:function(){return{isActive:!1,isFocused:!1,parentError:!1}},computed:{computedData:function(){return this.setTextColor(!this.parentError&&this.isActive&&this.color,{staticClass:"v-radio",class:u({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses)})},computedColor:function(){return this.isActive?this.color:this.radio.validationState||!1},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},hasState:function(){return this.isActive||!!this.radio.validationState},isDisabled:function(){return this.disabled||!!this.radio.disabled},isReadonly:function(){return this.readonly||!!this.radio.readonly}},mounted:function(){this.radio.register(this)},beforeDestroy:function(){this.radio.unregister(this)},methods:{genInput:function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=c["default"].options.methods.genInput).call.apply(t,h([this],e))},genLabel:function(){return this.$createElement(r["default"],{on:{click:this.onChange},attrs:{for:this.id},props:{color:this.radio.validationState||"",dark:this.dark,focused:this.hasState,light:this.light}},this.$slots.label||this.label)},genRadio:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("radio",u({name:this.radio.name||!!this.radio._uid&&"v-radio-"+this.radio._uid,value:this.value},this.$attrs)),this.genRipple(this.setTextColor(this.computedColor)),this.$createElement(i["default"],this.setTextColor(this.computedColor,{props:{dark:this.dark,light:this.light}}),this.computedIcon)])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isDisabled||this.isActive&&this.radio.mandatory||this.$emit("change",this.value)},onKeydown:function(){}},render:function(t){return t("div",this.computedData,[this.genRadio(),this.genLabel()])}}},"./src/components/VRadioGroup/VRadioGroup.js":
/*!***************************************************!*\
  !*** ./src/components/VRadioGroup/VRadioGroup.js ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_selection-controls.styl */"./src/stylus/components/_selection-controls.styl"),n(/*! ../../stylus/components/_radio-group.styl */"./src/stylus/components/_radio-group.styl");var i=n(/*! ../VInput */"./src/components/VInput/index.ts"),r=n(/*! ../../mixins/comparable */"./src/mixins/comparable.ts"),o=n(/*! ../../mixins/registrable */"./src/mixins/registrable.ts");e["default"]=i["default"].extend({name:"v-radio-group",mixins:[r["default"],Object(o["provide"])("radio")],model:{prop:"value",event:"change"},provide:function(){return{radio:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},mandatory:{type:Boolean,default:!0},name:String,row:Boolean,value:{default:null}},data:function(){return{internalTabIndex:-1,radios:[]}},computed:{classes:function(){return{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},watch:{hasError:"setErrorState",internalValue:"setActiveRadio"},mounted:function(){this.setErrorState(this.hasError),this.setActiveRadio()},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{role:"radiogroup"}},i["default"].options.methods.genDefaultSlot.call(this))},onRadioChange:function(t){this.disabled||(this.hasInput=!0,this.internalValue=t,this.setActiveRadio(),this.$nextTick(this.validate))},onRadioBlur:function(t){t.relatedTarget&&t.relatedTarget.classList.contains("v-radio")||(this.hasInput=!0,this.$emit("blur",t))},register:function(t){t.isActive=this.valueComparator(this.internalValue,t.value),t.$on("change",this.onRadioChange),t.$on("blur",this.onRadioBlur),this.radios.push(t)},setErrorState:function(t){for(var e=this.radios.length;--e>=0;)this.radios[e].parentError=t},setActiveRadio:function(){for(var t=this.radios.length;--t>=0;){var e=this.radios[t];e.isActive=this.valueComparator(this.internalValue,e.value)}},unregister:function(t){t.$off("change",this.onRadioChange),t.$off("blur",this.onRadioBlur);var e=this.radios.findIndex((function(e){return e===t}));e>-1&&this.radios.splice(e,1)}}})},"./src/components/VRadioGroup/index.js":
/*!*********************************************!*\
  !*** ./src/components/VRadioGroup/index.js ***!
  \*********************************************/
/*! exports provided: VRadioGroup, VRadio, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VRadioGroup */"./src/components/VRadioGroup/VRadioGroup.js");n.d(e,"VRadioGroup",(function(){return i["default"]}));var r=n(/*! ./VRadio */"./src/components/VRadioGroup/VRadio.js");n.d(e,"VRadio",(function(){return r["default"]})),e["default"]={$_vuetify_subcomponents:{VRadioGroup:i["default"],VRadio:r["default"]}}},"./src/components/VRangeSlider/VRangeSlider.js":
/*!*****************************************************!*\
  !*** ./src/components/VRangeSlider/VRangeSlider.js ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_range-sliders.styl */"./src/stylus/components/_range-sliders.styl");var i=n(/*! ../VSlider */"./src/components/VSlider/index.js"),r=n(/*! ../../util/helpers */"./src/util/helpers.ts");e["default"]={name:"v-range-slider",extends:i["default"],props:{value:{type:Array,default:function(){return[]}}},data:function(t){return{activeThumb:null,lazyValue:t.value.length?t.value:[0,0]}},computed:{classes:function(){return Object.assign({},{"v-input--range-slider":!0},i["default"].options.computed.classes.call(this))},internalValue:{get:function(){return this.lazyValue},set:function(t){var e=this,n=this,i=n.min,o=n.max,s=t.map((function(t){return e.roundValue(Math.min(Math.max(t,i),o))}));(s[0]>s[1]||s[1]<s[0])&&(null!==this.activeThumb&&(this.activeThumb=1===this.activeThumb?0:1),s=[s[1],s[0]]),this.lazyValue=s,Object(r["deepEqual"])(s,this.value)||this.$emit("input",s),this.validate()}},inputWidth:function(){var t=this;return this.internalValue.map((function(e){return(t.roundValue(e)-t.min)/(t.max-t.min)*100}))},isDirty:function(){var t=this;return this.internalValue.some((function(e){return e!==t.min}))||this.alwaysDirty},trackFillStyles:function(){var t=i["default"].options.computed.trackFillStyles.call(this),e=Math.abs(this.inputWidth[0]-this.inputWidth[1]);return t.width="calc("+e+"% - "+this.trackPadding+"px)",t[this.$vuetify.rtl?"right":"left"]=this.inputWidth[0]+"%",t},trackPadding:function(){return this.isDirty||this.internalValue[0]?0:i["default"].options.computed.trackPadding.call(this)}},methods:{getIndexOfClosestValue:function(t,e){return Math.abs(t[0]-e)<Math.abs(t[1]-e)?0:1},genInput:function(){var t=this;return Object(r["createRange"])(2).map((function(e){var n=i["default"].options.methods.genInput.call(t);return n.data.attrs.value=t.internalValue[e],n.data.on.focus=function(n){t.activeThumb=e,i["default"].options.methods.onFocus.call(t,n)},n}))},genChildren:function(){var t=this;return[this.genInput(),this.genTrackContainer(),this.genSteps(),Object(r["createRange"])(2).map((function(e){var n=t.internalValue[e],i=function(n){t.isActive=!0,t.activeThumb=e,t.onThumbMouseDown(n)},r=t.inputWidth[e],o=(t.isFocused||t.isActive)&&t.activeThumb===e;return t.genThumbContainer(n,r,o,i)}))]},onSliderClick:function(t){this.isActive||(this.isFocused=!0,this.onMouseMove(t,!0),this.$emit("change",this.internalValue))},onMouseMove:function(t,e){void 0===e&&(e=!1);var n=this.parseMouseMove(t),i=n.value,r=n.isInsideTrack;r&&(e&&(this.activeThumb=this.getIndexOfClosestValue(this.internalValue,i)),this.setInternalValue(i))},onKeyDown:function(t){var e=this.parseKeyDown(t,this.internalValue[this.activeThumb]);null!=e&&this.setInternalValue(e)},setInternalValue:function(t){var e=this;this.internalValue=this.internalValue.map((function(n,i){return i===e.activeThumb?t:Number(n)}))}}}},"./src/components/VRangeSlider/index.js":
/*!**********************************************!*\
  !*** ./src/components/VRangeSlider/index.js ***!
  \**********************************************/
/*! exports provided: VRangeSlider, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VRangeSlider */"./src/components/VRangeSlider/VRangeSlider.js");n.d(e,"VRangeSlider",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VRating/VRating.ts":
/*!*******************************************!*\
  !*** ./src/components/VRating/VRating.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_rating.styl */"./src/stylus/components/_rating.styl");var i=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),r=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),o=n(/*! ../../mixins/delayable */"./src/mixins/delayable.ts"),s=n(/*! ../../mixins/sizeable */"./src/mixins/sizeable.ts"),a=n(/*! ../../mixins/rippleable */"./src/mixins/rippleable.ts"),c=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),l=n(/*! ../../util/helpers */"./src/util/helpers.ts"),u=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(u["default"])(r["default"],o["default"],a["default"],s["default"],c["default"]).extend({name:"v-rating",props:{backgroundColor:{type:String,default:"accent"},color:{type:String,default:"primary"},dense:Boolean,emptyIcon:{type:String,default:"$vuetify.icons.ratingEmpty"},fullIcon:{type:String,default:"$vuetify.icons.ratingFull"},halfIcon:{type:String,default:"$vuetify.icons.ratingHalf"},halfIncrements:Boolean,length:{type:[Number,String],default:5},clearable:Boolean,readonly:Boolean,hover:Boolean,value:{type:Number,default:0}},data:function(){return{hoverIndex:-1,internalValue:this.value}},computed:{directives:function(){return this.readonly||!this.ripple?[]:[{name:"ripple",value:{circle:!0}}]},iconProps:function(){var t=this.$props,e=t.dark,n=t.medium,i=t.large,r=t.light,o=t.small,s=t.size,a=t.xLarge;return{dark:e,medium:n,large:i,light:r,size:s,small:o,xLarge:a}},isHovering:function(){return this.hover&&this.hoverIndex>=0}},watch:{internalValue:function(t){t!==this.value&&this.$emit("input",t)},value:function(t){this.internalValue=t}},methods:{createClickFn:function(t){var e=this;return function(n){if(!e.readonly){var i=e.genHoverIndex(n,t);e.clearable&&e.internalValue===i?e.internalValue=0:e.internalValue=i}}},createProps:function(t){var e={index:t,value:this.internalValue,click:this.createClickFn(t),isFilled:Math.floor(this.internalValue)>t,isHovered:Math.floor(this.hoverIndex)>t};return this.halfIncrements&&(e.isHalfHovered=!e.isHovered&&(this.hoverIndex-t)%1>0,e.isHalfFilled=!e.isFilled&&(this.internalValue-t)%1>0),e},genHoverIndex:function(t,e){return e+(this.isHalfEvent(t)?.5:1)},getIconName:function(t){var e=this.isHovering?t.isHovered:t.isFilled,n=this.isHovering?t.isHalfHovered:t.isHalfFilled;return e?this.fullIcon:n?this.halfIcon:this.emptyIcon},getColor:function(t){if(this.isHovering){if(t.isHovered||t.isHalfHovered)return this.color}else if(t.isFilled||t.isHalfFilled)return this.color;return this.backgroundColor},isHalfEvent:function(t){if(this.halfIncrements){var e=t.target&&t.target.getBoundingClientRect();if(e&&t.pageX-e.left<e.width/2)return!0}return!1},onMouseEnter:function(t,e){var n=this;this.runDelay("open",(function(){n.hoverIndex=n.genHoverIndex(t,e)}))},onMouseLeave:function(){var t=this;this.runDelay("close",(function(){return t.hoverIndex=-1}))},genItem:function(t){var e=this,n=this.createProps(t);if(this.$scopedSlots.item)return this.$scopedSlots.item(n);var r={click:n.click};return this.hover&&(r.mouseenter=function(n){return e.onMouseEnter(n,t)},r.mouseleave=this.onMouseLeave,this.halfIncrements&&(r.mousemove=function(n){return e.onMouseEnter(n,t)})),this.$createElement(i["default"],this.setTextColor(this.getColor(n),{directives:this.directives,props:this.iconProps,on:r}),[this.getIconName(n)])}},render:function(t){var e=this,n=Object(l["createRange"])(Number(this.length)).map((function(t){return e.genItem(t)}));return t("div",{staticClass:"v-rating",class:{"v-rating--readonly":this.readonly,"v-rating--dense":this.dense}},n)}})},"./src/components/VRating/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VRating/index.ts ***!
  \*****************************************/
/*! exports provided: VRating, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VRating */"./src/components/VRating/VRating.ts");n.d(e,"VRating",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VResponsive/VResponsive.ts":
/*!***************************************************!*\
  !*** ./src/components/VResponsive/VResponsive.ts ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_responsive.styl */"./src/stylus/components/_responsive.styl");var i=n(/*! ../../mixins/measurable */"./src/mixins/measurable.ts"),r=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(r["default"])(i["default"]).extend({name:"v-responsive",props:{aspectRatio:[String,Number]},computed:{computedAspectRatio:function(){return Number(this.aspectRatio)},aspectStyle:function(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer:function(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-responsive__content"},this.$slots.default)}},render:function(t){return t("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}})},"./src/components/VResponsive/index.ts":
/*!*********************************************!*\
  !*** ./src/components/VResponsive/index.ts ***!
  \*********************************************/
/*! exports provided: VResponsive, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VResponsive */"./src/components/VResponsive/VResponsive.ts");n.d(e,"VResponsive",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VSelect/VSelect.js":
/*!*******************************************!*\
  !*** ./src/components/VSelect/VSelect.js ***!
  \*******************************************/
/*! exports provided: defaultMenuProps, default */function(t,e,n){"use strict";n.r(e),n.d(e,"defaultMenuProps",(function(){return f}));n(/*! ../../stylus/components/_text-fields.styl */"./src/stylus/components/_text-fields.styl"),n(/*! ../../stylus/components/_select.styl */"./src/stylus/components/_select.styl");var i=n(/*! ../VChip */"./src/components/VChip/index.ts"),r=n(/*! ../VMenu */"./src/components/VMenu/index.js"),o=n(/*! ./VSelectList */"./src/components/VSelect/VSelectList.js"),s=n(/*! ../VTextField/VTextField */"./src/components/VTextField/VTextField.js"),a=n(/*! ../../mixins/comparable */"./src/mixins/comparable.ts"),c=n(/*! ../../mixins/filterable */"./src/mixins/filterable.ts"),l=n(/*! ../../directives/click-outside */"./src/directives/click-outside.ts"),u=n(/*! ../../util/helpers */"./src/util/helpers.ts"),d=n(/*! ../../util/console */"./src/util/console.ts"),h=function(){return h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},h.apply(this,arguments)},p=function(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},f={closeOnClick:!1,closeOnContentClick:!1,openOnClick:!1,maxHeight:300};e["default"]=s["default"].extend({name:"v-select",directives:{ClickOutside:l["default"]},mixins:[a["default"],c["default"]],props:{appendIcon:{type:String,default:"$vuetify.icons.dropdown"},appendIconCb:Function,attach:{type:null,default:!1},browserAutocomplete:{type:String,default:"on"},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:function(){return[]}},itemAvatar:{type:[String,Array,Function],default:"avatar"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:function(){return f}},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,searchInput:{default:null},smallChips:Boolean},data:function(t){return{attrsInput:{role:"combobox"},cachedItems:t.cacheItems?t.items:[],content:null,isBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0!==t.value?t.value:t.multiple?[]:void 0,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems:function(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes:function(){return Object.assign({},s["default"].options.computed.classes.call(this),{"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive})},computedItems:function(){return this.allItems},counterValue:function(){return this.multiple?this.selectedItems.length:(this.getText(this.selectedItems[0])||"").toString().length},directives:function(){return this.isFocused?[{name:"click-outside",value:this.blur,args:{closeConditional:this.closeConditional}}]:void 0},dynamicHeight:function(){return"auto"},hasChips:function(){return this.chips||this.smallChips},hasSlot:function(){return Boolean(this.hasChips||this.$scopedSlots.selection)},isDirty:function(){return this.selectedItems.length>0},listData:function(){var t,e=this.$vnode&&this.$vnode.context.$options._scopeId;return{attrs:e?(t={},t[e]=!0,t):null,props:{action:this.multiple&&!this.isHidingSelected,color:this.color,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,noDataText:this.$vuetify.t(this.noDataText),selectedItems:this.selectedItems,itemAvatar:this.itemAvatar,itemDisabled:this.itemDisabled,itemValue:this.itemValue,itemText:this.itemText},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList:function(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&Object(d["consoleError"])("assert: staticList should not be called if slots are used"),this.$createElement(o["default"],this.listData)},virtualizedItems:function(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:function(){return!0},$_menuProps:function(){var t;return t="string"===typeof this.menuProps?this.menuProps.split(","):this.menuProps,Array.isArray(t)&&(t=t.reduce((function(t,e){return t[e.trim()]=!0,t}),{})),h({},f,{value:this.menuCanShow&&this.isMenuActive,nudgeBottom:this.nudgeBottom?this.nudgeBottom:t.offsetY?1:0},t)}},watch:{internalValue:function(t){this.initialValue=t,this.setSelectedItems()},isBooted:function(){var t=this;this.$nextTick((function(){t.content&&t.content.addEventListener&&t.content.addEventListener("scroll",t.onScroll,!1)}))},isMenuActive:function(t){t&&(this.isBooted=!0)},items:{immediate:!0,handler:function(t){this.cacheItems&&(this.cachedItems=this.filterDuplicates(this.cachedItems.concat(t))),this.setSelectedItems()}}},mounted:function(){this.content=this.$refs.menu&&this.$refs.menu.$refs.content},methods:{blur:function(t){s["default"].options.methods.blur.call(this,t),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1},activateMenu:function(){this.isMenuActive=!0},clearableCallback:function(){var t=this;this.setValue(this.multiple?[]:void 0),this.$nextTick((function(){return t.$refs.input.focus()})),this.openOnClear&&(this.isMenuActive=!0)},closeConditional:function(t){return!this._isDestroyed&&!!this.content&&!this.content.contains(t.target)&&!!this.$el&&!this.$el.contains(t.target)&&t.target!==this.$el},filterDuplicates:function(t){for(var e=new Map,n=0;n<t.length;++n){var i=t[n],r=this.getValue(i);!e.has(r)&&e.set(r,i)}return Array.from(e.values())},findExistingIndex:function(t){var e=this,n=this.getValue(t);return(this.internalValue||[]).findIndex((function(t){return e.valueComparator(e.getValue(t),n)}))},genChipSelection:function(t,e){var n=this,r=this.disabled||this.readonly||this.getDisabled(t);return this.$createElement(i["default"],{staticClass:"v-chip--select-multi",attrs:{tabindex:-1},props:{close:this.deletableChips&&!r,disabled:r,selected:e===this.selectedIndex,small:this.smallChips},on:{click:function(t){r||(t.stopPropagation(),n.selectedIndex=e)},input:function(){return n.onChipInput(t)}},key:this.getValue(t)},this.getText(t))},genCommaSelection:function(t,e,n){var i=JSON.stringify(this.getValue(t)),r=e===this.selectedIndex&&this.color,o=this.disabled||this.getDisabled(t);return this.$createElement("div",this.setTextColor(r,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":o},key:i}),this.getText(t)+(n?"":", "))},genDefaultSlot:function(){var t=this.genSelections(),e=this.genInput();return Array.isArray(t)?t.push(e):(t.children=t.children||[],t.children.push(e)),[this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,t,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot()]),this.genMenu(),this.genProgress()]},genInput:function(){var t=s["default"].options.methods.genInput.call(this);return t.data.domProps.value=null,t.data.attrs.readonly=!0,t.data.attrs["aria-readonly"]=String(this.readonly),t.data.on.keypress=this.onKeyPress,t},genList:function(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot:function(){var t=this,e=["prepend-item","no-data","append-item"].filter((function(e){return t.$slots[e]})).map((function(e){return t.$createElement("template",{slot:e},t.$slots[e])}));return this.$createElement(o["default"],h({},this.listData),e)},genMenu:function(){var t,e,n=this,i=this.$_menuProps;i.activator=this.$refs["input-slot"];var o=Object.keys(r["default"].options.props),s=Object.keys(this.$attrs).reduce((function(t,e){return o.includes(Object(u["camelize"])(e))&&t.push(e),t}),[]);try{for(var a=p(s),c=a.next();!c.done;c=a.next()){var l=c.value;i[Object(u["camelize"])(l)]=this.$attrs[l]}}catch(_){t={error:_}}finally{try{c&&!c.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}if(s.length){var h=s.length>1,f=s.reduce((function(t,e){return t[Object(u["camelize"])(e)]=n.$attrs[e],t}),{}),m=s.map((function(t){return"'"+t+"'"})).join(", "),v=h?"\n":"'",g=Object.keys(f).every((function(t){var e=r["default"].options.props[t],n=f[t];return!0===n||(e.type||e)===Boolean&&""===n}));f=g?Object.keys(f).join(", "):JSON.stringify(f,null,h?2:0).replace(/"([^(")"]+)":/g,"$1:").replace(/"/g,"'"),Object(d["consoleWarn"])(m+" "+(h?"are":"is")+" deprecated, use "+v+(g?"":":")+'menu-props="'+f+'"'+v+" instead",this)}return""===this.attach||!0===this.attach||"attach"===this.attach?i.attach=this.$el:i.attach=this.attach,this.$createElement(r["default"],{props:i,on:{input:function(t){n.isMenuActive=t,n.isFocused=t}},ref:"menu"},[this.genList()])},genSelections:function(){var t,e=this.selectedItems.length,n=new Array(e);t=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;while(e--)n[e]=t(this.selectedItems[e],e,e===n.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},n)},genSlotSelection:function(t,e){return this.$scopedSlots.selection({parent:this,item:t,index:e,selected:e===this.selectedIndex,disabled:this.disabled||this.readonly})},getMenuIndex:function(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled:function(t){return Object(u["getPropertyFromItem"])(t,this.itemDisabled,!1)},getText:function(t){return Object(u["getPropertyFromItem"])(t,this.itemText,t)},getValue:function(t){return Object(u["getPropertyFromItem"])(t,this.itemValue,this.getText(t))},onBlur:function(t){t&&this.$emit("blur",t)},onChipInput:function(t){this.multiple?this.selectItem(t):this.setValue(null),0===this.selectedItems.length?this.isMenuActive=!0:this.isMenuActive=!1,this.selectedIndex=-1},onClick:function(){this.isDisabled||(this.isMenuActive=!0,this.isFocused||(this.isFocused=!0,this.$emit("focus")))},onEnterDown:function(){this.onBlur()},onEscDown:function(t){t.preventDefault(),this.isMenuActive&&(t.stopPropagation(),this.isMenuActive=!1)},onKeyPress:function(t){var e=this;if(!this.multiple){var n=1e3,i=performance.now();i-this.keyboardLookupLastTime>n&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=t.key.toLowerCase(),this.keyboardLookupLastTime=i;var r=this.allItems.findIndex((function(t){var n=(e.getText(t)||"").toString();return n.toLowerCase().startsWith(e.keyboardLookupPrefix)})),o=this.allItems[r];-1!==r&&(this.setValue(this.returnObject?o:this.getValue(o)),setTimeout((function(){return e.setMenuIndex(r)})))}},onKeyDown:function(t){var e=t.keyCode;return this.readonly||this.isMenuActive||![u["keyCodes"].enter,u["keyCodes"].space,u["keyCodes"].up,u["keyCodes"].down].includes(e)||this.activateMenu(),this.isMenuActive&&this.$refs.menu&&this.$refs.menu.changeListIndex(t),e===u["keyCodes"].enter?this.onEnterDown(t):e===u["keyCodes"].esc?this.onEscDown(t):e===u["keyCodes"].tab?this.onTabDown(t):void 0},onMouseUp:function(t){var e=this;if(this.hasMouseDown){var n=this.$refs["append-inner"];this.isMenuActive&&n&&(n===t.target||n.contains(t.target))?this.$nextTick((function(){return e.isMenuActive=!e.isMenuActive})):this.isEnclosed&&!this.isDisabled&&(this.isMenuActive=!0)}s["default"].options.methods.onMouseUp.call(this,t)},onScroll:function(){var t=this;if(this.isMenuActive){if(this.lastItem>=this.computedItems.length)return;var e=this.content.scrollHeight-(this.content.scrollTop+this.content.clientHeight)<200;e&&(this.lastItem+=20)}else requestAnimationFrame((function(){return t.content.scrollTop=0}))},onTabDown:function(t){var e=this.getMenuIndex(),n=this.$refs.menu.tiles[e];n&&n.className.indexOf("v-list__tile--highlighted")>-1&&this.isMenuActive&&e>-1?(t.preventDefault(),t.stopPropagation(),n.click()):this.blur(t)},selectItem:function(t){var e=this;if(this.multiple){var n=(this.internalValue||[]).slice(),i=this.findExistingIndex(t);-1!==i?n.splice(i,1):n.push(t),this.setValue(n.map((function(t){return e.returnObject?t:e.getValue(t)}))),this.$nextTick((function(){e.$refs.menu&&e.$refs.menu.updateDimensions()}))}else this.setValue(this.returnObject?t:this.getValue(t)),this.isMenuActive=!1},setMenuIndex:function(t){this.$refs.menu&&(this.$refs.menu.listIndex=t)},setSelectedItems:function(){var t,e,n=this,i=[],r=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue],o=function(t){var e=s.allItems.findIndex((function(e){return n.valueComparator(n.getValue(e),n.getValue(t))}));e>-1&&i.push(s.allItems[e])},s=this;try{for(var a=p(r),c=a.next();!c.done;c=a.next()){var l=c.value;o(l)}}catch(u){t={error:u}}finally{try{c&&!c.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}this.selectedItems=i},setValue:function(t){var e=this.internalValue;this.internalValue=t,t!==e&&this.$emit("change",t)}}})},"./src/components/VSelect/VSelectList.js":
/*!***********************************************!*\
  !*** ./src/components/VSelect/VSelectList.js ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_cards.styl */"./src/stylus/components/_cards.styl");var i=n(/*! ../VCheckbox */"./src/components/VCheckbox/index.js"),r=n(/*! ../VDivider */"./src/components/VDivider/index.ts"),o=n(/*! ../VSubheader */"./src/components/VSubheader/index.ts"),s=n(/*! ../VList */"./src/components/VList/index.ts"),a=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),c=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),l=n(/*! ../../util/helpers */"./src/util/helpers.ts"),u=function(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};e["default"]={name:"v-select-list",mixins:[a["default"],c["default"]],props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:function(){return[]}},itemAvatar:{type:[String,Array,Function],default:"avatar"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:{default:null},selectedItems:{type:Array,default:function(){return[]}}},computed:{parsedItems:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},tileActiveClass:function(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile:function(){var t={on:{mousedown:function(t){return t.preventDefault()}}};return this.$createElement(s["VListTile"],t,[this.genTileContent(this.noDataText)])}},methods:{genAction:function(t,e){var n=this,r={on:{click:function(e){e.stopPropagation(),n.$emit("select",t)}}};return this.$createElement(s["VListTileAction"],r,[this.$createElement(i["default"],{props:{color:this.color,inputValue:e}})])},genDivider:function(t){return this.$createElement(r["default"],{props:t})},genFilteredText:function(t){if(t=(t||"").toString(),!this.searchInput||this.noFilter)return Object(l["escapeHTML"])(t);var e=this.getMaskedCharacters(t),n=e.start,i=e.middle,r=e.end;return""+Object(l["escapeHTML"])(n)+this.genHighlight(i)+Object(l["escapeHTML"])(r)},genHeader:function(t){return this.$createElement(o["default"],{props:t},t.header)},genHighlight:function(t){return'<span class="v-list__tile__mask">'+Object(l["escapeHTML"])(t)+"</span>"},getMaskedCharacters:function(t){var e=(this.searchInput||"").toString().toLocaleLowerCase(),n=t.toLocaleLowerCase().indexOf(e);if(n<0)return{start:"",middle:t,end:""};var i=t.slice(0,n),r=t.slice(n,n+e.length),o=t.slice(n+e.length);return{start:i,middle:r,end:o}},genTile:function(t,e,n,i){var r=this;void 0===e&&(e=null),void 0===n&&(n=!1),void 0===i&&(i=this.hasItem(t)),t===Object(t)&&(n=this.getAvatar(t),e=null!==e?e:this.getDisabled(t));var o={on:{mousedown:function(t){t.preventDefault()},click:function(){return e||r.$emit("select",t)}},props:{activeClass:this.tileActiveClass,avatar:n,disabled:e,ripple:!0,value:i,color:this.color}};if(!this.$scopedSlots.item)return this.$createElement(s["VListTile"],o,[this.action&&!this.hideSelected&&this.items.length>0?this.genAction(t,i):null,this.genTileContent(t)]);var a=this,c=this.$scopedSlots.item({parent:a,item:t,tile:o});return this.needsTile(c)?this.$createElement(s["VListTile"],o,c):c},genTileContent:function(t){var e=this.genFilteredText(this.getText(t));return this.$createElement(s["VListTileContent"],[this.$createElement(s["VListTileTitle"],{domProps:{innerHTML:e}})])},hasItem:function(t){return this.parsedItems.indexOf(this.getValue(t))>-1},needsTile:function(t){return 1!==t.length||null==t[0].componentOptions||"v-list-tile"!==t[0].componentOptions.Ctor.options.name},getAvatar:function(t){return Boolean(Object(l["getPropertyFromItem"])(t,this.itemAvatar,!1))},getDisabled:function(t){return Boolean(Object(l["getPropertyFromItem"])(t,this.itemDisabled,!1))},getText:function(t){return String(Object(l["getPropertyFromItem"])(t,this.itemText,t))},getValue:function(t){return Object(l["getPropertyFromItem"])(t,this.itemValue,this.getText(t))}},render:function(){var t,e,n=[];try{for(var i=u(this.items),r=i.next();!r.done;r=i.next()){var o=r.value;this.hideSelected&&this.hasItem(o)||(null==o?n.push(this.genTile(o)):o.header?n.push(this.genHeader(o)):o.divider?n.push(this.genDivider(o)):n.push(this.genTile(o)))}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n.length||n.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&n.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&n.push(this.$slots["append-item"]),this.$createElement("div",{staticClass:"v-select-list v-card",class:this.themeClasses},[this.$createElement(s["VList"],{props:{dense:this.dense}},n)])}}},"./src/components/VSelect/index.js":
/*!*****************************************!*\
  !*** ./src/components/VSelect/index.js ***!
  \*****************************************/
/*! exports provided: VSelect, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VSelect",(function(){return u}));var i=n(/*! ./VSelect */"./src/components/VSelect/VSelect.js"),r=n(/*! ../VOverflowBtn */"./src/components/VOverflowBtn/index.js"),o=n(/*! ../VAutocomplete */"./src/components/VAutocomplete/index.js"),s=n(/*! ../VCombobox */"./src/components/VCombobox/index.js"),a=n(/*! ../../util/rebuildFunctionalSlots */"./src/util/rebuildFunctionalSlots.ts"),c=n(/*! ../../util/dedupeModelListeners */"./src/util/dedupeModelListeners.ts"),l=n(/*! ../../util/console */"./src/util/console.ts"),u={functional:!0,$_wrapperFor:i["default"],props:{autocomplete:Boolean,combobox:Boolean,multiple:Boolean,tags:Boolean,editable:Boolean,overflow:Boolean,segmented:Boolean},render:function(t,e){var n=e.props,d=e.data,h=e.slots,p=e.parent;Object(c["default"])(d);var f=Object(a["default"])(h(),t);return n.autocomplete&&Object(l["deprecate"])("<v-select autocomplete>","<v-autocomplete>",u,p),n.combobox&&Object(l["deprecate"])("<v-select combobox>","<v-combobox>",u,p),n.tags&&Object(l["deprecate"])("<v-select tags>","<v-combobox multiple>",u,p),n.overflow&&Object(l["deprecate"])("<v-select overflow>","<v-overflow-btn>",u,p),n.segmented&&Object(l["deprecate"])("<v-select segmented>","<v-overflow-btn segmented>",u,p),n.editable&&Object(l["deprecate"])("<v-select editable>","<v-overflow-btn editable>",u,p),d.attrs=d.attrs||{},n.combobox||n.tags?(d.attrs.multiple=n.tags,t(s["default"],d,f)):n.autocomplete?(d.attrs.multiple=n.multiple,t(o["default"],d,f)):n.overflow||n.segmented||n.editable?(d.attrs.segmented=n.segmented,d.attrs.editable=n.editable,t(r["default"],d,f)):(d.attrs.multiple=n.multiple,t(i["default"],d,f))}};e["default"]=u},"./src/components/VSheet/VSheet.ts":
/*!*****************************************!*\
  !*** ./src/components/VSheet/VSheet.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_sheet.styl */"./src/stylus/components/_sheet.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../mixins/elevatable */"./src/mixins/elevatable.ts"),o=n(/*! ../../mixins/measurable */"./src/mixins/measurable.ts"),s=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=function(){return c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},c.apply(this,arguments)};e["default"]=Object(a["default"])(i["default"],r["default"],o["default"],s["default"]).extend({name:"v-sheet",props:{tag:{type:String,default:"div"},tile:Boolean},computed:{classes:function(){return c({"v-sheet":!0,"v-sheet--tile":this.tile},this.themeClasses,this.elevationClasses)},styles:function(){return this.measurableStyles}},render:function(t){var e={class:this.classes,style:this.styles,on:this.$listeners};return t(this.tag,this.setBackgroundColor(this.color,e),this.$slots.default)}})},"./src/components/VSheet/index.ts":
/*!****************************************!*\
  !*** ./src/components/VSheet/index.ts ***!
  \****************************************/
/*! exports provided: VSheet, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSheet */"./src/components/VSheet/VSheet.ts");n.d(e,"VSheet",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VSlider/VSlider.js":
/*!*******************************************!*\
  !*** ./src/components/VSlider/VSlider.js ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_sliders.styl */"./src/stylus/components/_sliders.styl");var i=n(/*! ../transitions */"./src/components/transitions/index.js"),r=n(/*! ../VInput */"./src/components/VInput/index.ts"),o=n(/*! ../../directives/click-outside */"./src/directives/click-outside.ts"),s=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=n(/*! ../../util/console */"./src/util/console.ts"),c=n(/*! ../../mixins/loadable */"./src/mixins/loadable.ts"),l=function(){return l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)};e["default"]=r["default"].extend({name:"v-slider",directives:{ClickOutside:o["default"]},mixins:[c["default"]],props:{alwaysDirty:Boolean,inverseLabel:Boolean,label:String,min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},ticks:{type:[Boolean,String],default:!1,validator:function(t){return"boolean"===typeof t||"always"===t}},tickLabels:{type:Array,default:function(){return[]}},tickSize:{type:[Number,String],default:1},thumbColor:{type:String,default:null},thumbLabel:{type:[Boolean,String],default:null,validator:function(t){return"boolean"===typeof t||"always"===t}},thumbSize:{type:[Number,String],default:32},trackColor:{type:String,default:null},value:[Number,String]},data:function(t){return{app:{},isActive:!1,keyPressed:0,lazyValue:"undefined"!==typeof t.value?t.value:Number(t.min),oldValue:null}},computed:{classes:function(){return{"v-input--slider":!0,"v-input--slider--ticks":this.showTicks,"v-input--slider--inverse-label":this.inverseLabel,"v-input--slider--ticks-labels":this.tickLabels.length>0,"v-input--slider--thumb-label":this.thumbLabel||this.$scopedSlots.thumbLabel}},showTicks:function(){return this.tickLabels.length>0||!this.disabled&&this.stepNumeric&&!!this.ticks},showThumbLabel:function(){return!this.disabled&&(!!this.thumbLabel||""===this.thumbLabel||this.$scopedSlots["thumb-label"])},computedColor:function(){return this.disabled?null:this.validationState||this.color||"primary"},computedTrackColor:function(){return this.disabled?null:this.trackColor||null},computedThumbColor:function(){return this.disabled||!this.isDirty?null:this.validationState||this.thumbColor||this.color||"primary"},internalValue:{get:function(){return this.lazyValue},set:function(t){var e=this,n=e.min,i=e.max,r=this.roundValue(Math.min(Math.max(t,n),i));r!==this.lazyValue&&(this.lazyValue=r,this.$emit("input",r),this.validate())}},stepNumeric:function(){return this.step>0?parseFloat(this.step):0},trackFillStyles:function(){var t=this.$vuetify.rtl?"auto":0,e=this.$vuetify.rtl?0:"auto",n=this.inputWidth+"%";return this.disabled&&(n="calc("+this.inputWidth+"% - 8px)"),{transition:this.trackTransition,left:t,right:e,width:n}},trackPadding:function(){return this.isActive||this.inputWidth>0||this.disabled?0:7},trackStyles:function(){var t=this.disabled?"calc("+this.inputWidth+"% + 8px)":this.trackPadding+"px",e=this.$vuetify.rtl?"auto":t,n=this.$vuetify.rtl?t:"auto",i=this.disabled?"calc("+(100-this.inputWidth)+"% - 8px)":"100%";return{transition:this.trackTransition,left:e,right:n,width:i}},tickStyles:function(){var t=Number(this.tickSize);return{"border-width":t+"px","border-radius":t>1?"50%":null,transform:t>1?"translateX(-"+t+"px) translateY(-"+(t-1)+"px)":null}},trackTransition:function(){return this.keyPressed>=2?"none":""},numTicks:function(){return Math.ceil((this.max-this.min)/this.stepNumeric)},inputWidth:function(){return(this.roundValue(this.internalValue)-this.min)/(this.max-this.min)*100},isDirty:function(){return this.internalValue>this.min||this.alwaysDirty}},watch:{min:function(t){t>this.internalValue&&this.$emit("input",parseFloat(t))},max:function(t){t<this.internalValue&&this.$emit("input",parseFloat(t))},value:function(t){this.internalValue=t}},mounted:function(){this.app=document.querySelector("[data-app]")||Object(a["consoleWarn"])("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{genDefaultSlot:function(){var t=[this.genLabel()],e=this.genSlider();return this.inverseLabel?t.unshift(e):t.push(e),t.push(this.genProgress()),t},genListeners:function(){return{blur:this.onBlur,click:this.onSliderClick,focus:this.onFocus,keydown:this.onKeyDown,keyup:this.onKeyUp}},genInput:function(){return this.$createElement("input",{attrs:l({"aria-label":this.label,name:this.name,role:"slider",tabindex:this.disabled?-1:this.$attrs.tabindex,value:this.internalValue,readonly:!0,"aria-readonly":String(this.readonly),"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.internalValue},this.$attrs),on:this.genListeners(),ref:"input"})},genSlider:function(){return this.$createElement("div",{staticClass:"v-slider",class:{"v-slider--is-active":this.isActive},directives:[{name:"click-outside",value:this.onBlur}]},this.genChildren())},genChildren:function(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),this.genThumbContainer(this.internalValue,this.inputWidth,this.isFocused||this.isActive,this.onThumbMouseDown)]},genSteps:function(){var t=this;if(!this.step||!this.showTicks)return null;var e=Object(s["createRange"])(this.numTicks+1).map((function(e){var n=[];return t.tickLabels[e]&&n.push(t.$createElement("span",t.tickLabels[e])),t.$createElement("span",{key:e,staticClass:"v-slider__ticks",class:{"v-slider__ticks--always-show":"always"===t.ticks||t.tickLabels.length>0},style:l({},t.tickStyles,{left:e*(100/t.numTicks)+"%"})},n)}));return this.$createElement("div",{staticClass:"v-slider__ticks-container"},e)},genThumb:function(){return this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb"}))},genThumbContainer:function(t,e,n,i){var r=[this.genThumb()],o=this.getLabel(t);return this.showThumbLabel&&r.push(this.genThumbLabel(o)),this.$createElement("div",this.setTextColor(this.computedThumbColor,{staticClass:"v-slider__thumb-container",class:{"v-slider__thumb-container--is-active":n,"v-slider__thumb-container--show-label":this.showThumbLabel},style:{transition:this.trackTransition,left:(this.$vuetify.rtl?100-e:e)+"%"},on:{touchstart:i,mousedown:i}}),r)},genThumbLabel:function(t){var e=Object(s["convertToUnit"])(this.thumbSize);return this.$createElement(i["VScaleTransition"],{props:{origin:"bottom center"}},[this.$createElement("div",{staticClass:"v-slider__thumb-label__container",directives:[{name:"show",value:this.isFocused||this.isActive||"always"===this.thumbLabel}]},[this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb-label",style:{height:e,width:e}}),[t])])])},genTrackContainer:function(){var t=[this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track",style:this.trackStyles})),this.$createElement("div",this.setBackgroundColor(this.computedColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles}))];return this.$createElement("div",{staticClass:"v-slider__track__container",ref:"track"},t)},getLabel:function(t){return this.$scopedSlots["thumb-label"]?this.$scopedSlots["thumb-label"]({value:t}):this.$createElement("span",t)},onBlur:function(t){2!==this.keyPressed&&(this.isActive=!1,this.isFocused=!1,this.$emit("blur",t))},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onThumbMouseDown:function(t){this.oldValue=this.internalValue,this.keyPressed=2;var e={passive:!0};this.isActive=!0,this.isFocused=!1,"touches"in t?(this.app.addEventListener("touchmove",this.onMouseMove,e),Object(s["addOnceEventListener"])(this.app,"touchend",this.onSliderMouseUp)):(this.app.addEventListener("mousemove",this.onMouseMove,e),Object(s["addOnceEventListener"])(this.app,"mouseup",this.onSliderMouseUp)),this.$emit("start",this.internalValue)},onSliderMouseUp:function(){this.keyPressed=0;var t={passive:!0};this.isActive=!1,this.isFocused=!1,this.app.removeEventListener("touchmove",this.onMouseMove,t),this.app.removeEventListener("mousemove",this.onMouseMove,t),this.$emit("end",this.internalValue),Object(s["deepEqual"])(this.oldValue,this.internalValue)||this.$emit("change",this.internalValue)},onMouseMove:function(t){var e=this.parseMouseMove(t),n=e.value,i=e.isInsideTrack;i&&this.setInternalValue(n)},onKeyDown:function(t){if(!this.disabled&&!this.readonly){var e=this.parseKeyDown(t);null!=e&&(this.setInternalValue(e),this.$emit("change",e))}},onKeyUp:function(){this.keyPressed=0},onSliderClick:function(t){this.isFocused=!0,this.onMouseMove(t),this.$emit("change",this.internalValue)},parseMouseMove:function(t){var e=this.$refs.track.getBoundingClientRect(),n=e.left,i=e.width,r="touches"in t?t.touches[0].clientX:t.clientX,o=Math.min(Math.max((r-n)/i,0),1)||0;this.$vuetify.rtl&&(o=1-o);var s=r>=n-8&&r<=n+i+8,a=parseFloat(this.min)+o*(this.max-this.min);return{value:a,isInsideTrack:s}},parseKeyDown:function(t,e){if(void 0===e&&(e=this.internalValue),!this.disabled){var n=s["keyCodes"].pageup,i=s["keyCodes"].pagedown,r=s["keyCodes"].end,o=s["keyCodes"].home,a=s["keyCodes"].left,c=s["keyCodes"].right,l=s["keyCodes"].down,u=s["keyCodes"].up;if([n,i,r,o,a,c,l,u].includes(t.keyCode)){t.preventDefault();var d=this.stepNumeric||1,h=(this.max-this.min)/d;if([a,c,l,u].includes(t.keyCode)){this.keyPressed+=1;var p=this.$vuetify.rtl?[a,u]:[c,u],f=p.includes(t.keyCode)?1:-1,m=t.shiftKey?3:t.ctrlKey?2:1;e+=f*d*m}else if(t.keyCode===o)e=parseFloat(this.min);else if(t.keyCode===r)e=parseFloat(this.max);else{f=t.keyCode===i?1:-1;e-=f*d*(h>100?h/10:10)}return e}}},roundValue:function(t){if(!this.stepNumeric)return t;var e=this.step.toString().trim(),n=e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0,i=this.min%this.stepNumeric,r=Math.round((t-i)/this.stepNumeric)*this.stepNumeric+i;return parseFloat(Math.max(Math.min(r,this.max),this.min).toFixed(n))},setInternalValue:function(t){this.internalValue=t}}})},"./src/components/VSlider/index.js":
/*!*****************************************!*\
  !*** ./src/components/VSlider/index.js ***!
  \*****************************************/
/*! exports provided: VSlider, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSlider */"./src/components/VSlider/VSlider.js");n.d(e,"VSlider",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VSnackbar/VSnackbar.ts":
/*!***********************************************!*\
  !*** ./src/components/VSnackbar/VSnackbar.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_snackbars.styl */"./src/stylus/components/_snackbars.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),o=n(/*! ../../mixins/positionable */"./src/mixins/positionable.ts"),s=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(s["default"])(i["default"],r["default"],Object(o["factory"])(["absolute","top","bottom","left","right"])).extend({name:"v-snackbar",props:{autoHeight:Boolean,multiLine:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--active":this.isActive,"v-snack--absolute":this.absolute,"v-snack--auto-height":this.autoHeight,"v-snack--bottom":this.bottom||!this.top,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--top":this.top,"v-snack--vertical":this.vertical}}},watch:{isActive:function(){this.setTimeout()}},mounted:function(){this.setTimeout()},methods:{setTimeout:function(){var t=this;window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout((function(){t.isActive=!1}),this.timeout))}},render:function(t){return t("transition",{attrs:{name:"v-snack-transition"}},this.isActive&&[t("div",{staticClass:"v-snack",class:this.classes,on:this.$listeners},[t("div",this.setBackgroundColor(this.color,{staticClass:"v-snack__wrapper"}),[t("div",{staticClass:"v-snack__content"},this.$slots.default)])])])}})},"./src/components/VSnackbar/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VSnackbar/index.ts ***!
  \*******************************************/
/*! exports provided: VSnackbar, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSnackbar */"./src/components/VSnackbar/VSnackbar.ts");n.d(e,"VSnackbar",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VSparkline/VSparkline.ts":
/*!*************************************************!*\
  !*** ./src/components/VSparkline/VSparkline.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../util/mixins */"./src/util/mixins.ts"),o=n(/*! ./helpers/core */"./src/components/VSparkline/helpers/core.ts"),s=n(/*! ./helpers/path */"./src/components/VSparkline/helpers/path.ts"),a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)};e["default"]=Object(r["default"])(i["default"]).extend({name:"VSparkline",props:{autoDraw:Boolean,autoDrawDuration:{type:Number,default:2e3},autoDrawEasing:{type:String,default:"ease"},autoLineWidth:{type:Boolean,default:!1},color:{type:String,default:"primary"},fill:{type:Boolean,default:!1},gradient:{type:Array,default:function(){return[]}},gradientDirection:{type:String,validator:function(t){return["top","bottom","left","right"].includes(t)},default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:function(){return[]}},lineWidth:{type:[String,Number],default:4},padding:{type:[String,Number],default:8},smooth:{type:[Boolean,Number,String],default:!1},showLabels:Boolean,type:{type:String,default:"trend",validator:function(t){return["trend","bar"].includes(t)}},value:{type:Array,default:function(){return[]}},width:{type:[Number,String],default:300},labelSize:{type:[Number,String],default:7}},data:function(){return{lastLength:0}},computed:{parsedPadding:function(){return Number(this.padding)},parsedWidth:function(){return Number(this.width)},totalBars:function(){return this.value.length},_lineWidth:function(){if(this.autoLineWidth&&"trend"!==this.type){var t=this.parsedPadding*(this.totalBars+1);return(this.parsedWidth-t)/this.totalBars}return Number(this.lineWidth)||4},boundary:function(){var t=Number(this.height);return{minX:this.parsedPadding,minY:this.parsedPadding,maxX:this.parsedWidth-this.parsedPadding,maxY:t-this.parsedPadding}},hasLabels:function(){return Boolean(this.showLabels||this.labels.length>0||this.$scopedSlots.label)},parsedLabels:function(){for(var t=[],e=this.points,n=e.length,i=0;t.length<n;i++){var r=e[i],o=this.labels[i];o||(o=r===Object(r)?r.value:r),t.push(a({},r,{value:String(o)}))}return t},points:function(){return Object(o["genPoints"])(this.value.slice(),this.boundary,this.type)},textY:function(){return this.boundary.maxY+6}},watch:{value:{immediate:!0,handler:function(){var t=this;this.$nextTick((function(){if(t.autoDraw&&"bar"!==t.type){var e=t.$refs.path,n=e.getTotalLength();t.fill?(e.style.transformOrigin="bottom center",e.style.transition="none",e.style.transform="scaleY(0)",e.getBoundingClientRect(),e.style.transition="transform "+t.autoDrawDuration+"ms "+t.autoDrawEasing,e.style.transform="scaleY(1)"):(e.style.transition="none",e.style.strokeDasharray=n+" "+n,e.style.strokeDashoffset=Math.abs(n-(t.lastLength||0)).toString(),e.getBoundingClientRect(),e.style.transition="stroke-dashoffset "+t.autoDrawDuration+"ms "+t.autoDrawEasing,e.style.strokeDashoffset="0"),t.lastLength=n}}))}}},methods:{genGradient:function(){var t=this,e=this.gradientDirection,n=this.gradient.slice();n.length||n.push("");var i=Math.max(n.length-1,1),r=n.reverse().map((function(e,n){return t.$createElement("stop",{attrs:{offset:n/i,"stop-color":e||t.color||"currentColor"}})}));return this.$createElement("defs",[this.$createElement("linearGradient",{attrs:{id:this._uid,x1:+("left"===e),y1:+("top"===e),x2:+("right"===e),y2:+("bottom"===e)}},r)])},genG:function(t){return this.$createElement("g",{style:{fontSize:"8",textAnchor:"middle",dominantBaseline:"mathematical",fill:this.color||"currentColor"}},t)},genLabels:function(){if(this.hasLabels)return this.genG(this.parsedLabels.map(this.genText))},genPath:function(){var t=!0===this.smooth?8:Number(this.smooth);return this.$createElement("path",{attrs:{id:this._uid,d:Object(s["genPath"])(this.points.slice(),t,this.fill,Number(this.height)),fill:this.fill?"url(#"+this._uid+")":"none",stroke:this.fill?"none":"url(#"+this._uid+")"},ref:"path"})},genText:function(t,e){var n=this.$scopedSlots.label?this.$scopedSlots.label({index:e,value:t.value}):t.value;return this.$createElement("text",{attrs:{x:t.x,y:this.textY}},[n])},genBar:function(){if(this.value&&!(this.totalBars<2)){var t=this,e=t.width,n=t.height,i=t.parsedPadding,r=t._lineWidth,s=e||this.totalBars*i*2,c=n||75,l={minX:i,minY:i,maxX:Number(s)-i,maxY:Number(c)-i},u=a({},this.$props);u.points=Object(o["genPoints"])(this.value,l,this.type);var d=l.maxX/(u.points.length-1);return u.boundary=l,u.lineWidth=r||d-Number(i||5),u.offsetX=0,this.autoLineWidth||(u.offsetX=l.maxX/this.totalBars/2-l.minX),this.$createElement("svg",{attrs:{width:"100%",height:"25%",viewBox:"0 0 "+s+" "+c}},[this.genGradient(),this.genClipPath(u.offsetX,u.lineWidth,"sparkline-bar-"+this._uid),this.hasLabels?this.genBarLabels(u):void 0,this.$createElement("g",{attrs:{transform:"scale(1,-1) translate(0,-"+l.maxY+")","clip-path":"url(#sparkline-bar-"+this._uid+"-clip)",fill:"url(#"+this._uid+")"}},[this.$createElement("rect",{attrs:{x:0,y:0,width:s,height:c}})])])}},genClipPath:function(t,e,n){var i=this,r=this.boundary.maxY,o="number"===typeof this.smooth?this.smooth:this.smooth?2:0;return this.$createElement("clipPath",{attrs:{id:n+"-clip"}},this.points.map((function(n){return i.$createElement("rect",{attrs:{x:n.x+t,y:0,width:e,height:Math.max(r-n.y,0),rx:o,ry:o}},[i.autoDraw?i.$createElement("animate",{attrs:{attributeName:"height",from:0,to:r-n.y,dur:i.autoDrawDuration+"ms",fill:"freeze"}}):void 0])})))},genBarLabels:function(t){var e=this,n=t.offsetX||0,i=t.points.map((function(i){return e.$createElement("text",{attrs:{x:i.x+n+e._lineWidth/2,y:t.boundary.maxY+(Number(e.labelSize)||7),"font-size":Number(e.labelSize)||7}},i.value.toString())}));return this.genG(i)},genTrend:function(){return this.$createElement("svg",this.setTextColor(this.color,{attrs:{"stroke-width":this._lineWidth||1,width:"100%",height:"25%",viewBox:"0 0 "+this.width+" "+this.height}}),[this.genGradient(),this.genLabels(),this.genPath()])}},render:function(t){if(!(this.totalBars<2))return"trend"===this.type?this.genTrend():this.genBar()}})},"./src/components/VSparkline/helpers/core.ts":
/*!***************************************************!*\
  !*** ./src/components/VSparkline/helpers/core.ts ***!
  \***************************************************/
/*! exports provided: genPoints */function(t,e,n){"use strict";n.r(e),n.d(e,"genPoints",(function(){return o}));var i=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},r=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t};function o(t,e,n){var i=e.minX,o=e.minY,s=e.maxX,a=e.maxY,c=t.map((function(t){return"number"===typeof t?t:t.value})),l=c.length,u=Math.max.apply(Math,r(c))+1,d=Math.min.apply(Math,r(c));d&&(d-=1);var h=(s-i)/(l-1);"bar"===n&&(h=s/l);var p=(a-o)/(u-d);return c.map((function(t,e){return{x:i+e*h,y:a-(t-d)*p+1e-5*+(e===l-1)-1e-5*+(0===e),value:t}}))}},"./src/components/VSparkline/helpers/math.ts":
/*!***************************************************!*\
  !*** ./src/components/VSparkline/helpers/math.ts ***!
  \***************************************************/
/*! exports provided: checkCollinear, getDistance, moveTo */function(t,e,n){"use strict";function i(t){return parseInt(t,10)}function r(t,e,n){return i(t.x+n.x)===i(2*e.x)&&i(t.y+n.y)===i(2*e.y)}function o(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function s(t,e,n){var i={x:t.x-e.x,y:t.y-e.y},r=Math.sqrt(i.x*i.x+i.y*i.y),o={x:i.x/r,y:i.y/r};return{x:e.x+o.x*n,y:e.y+o.y*n}}n.r(e),n.d(e,"checkCollinear",(function(){return r})),n.d(e,"getDistance",(function(){return o})),n.d(e,"moveTo",(function(){return s}))},"./src/components/VSparkline/helpers/path.ts":
/*!***************************************************!*\
  !*** ./src/components/VSparkline/helpers/path.ts ***!
  \***************************************************/
/*! exports provided: genPath */function(t,e,n){"use strict";n.r(e),n.d(e,"genPath",(function(){return r}));var i=n(/*! ./math */"./src/components/VSparkline/helpers/math.ts");function r(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=75);var o=t.shift(),s=t[t.length-1];return(n?"M"+o.x+" "+r+" L"+o.x+" "+o.y:"M"+o.x+" "+o.y)+t.map((function(n,r){var s=t[r+1],a=t[r-1]||o,c=s&&Object(i["checkCollinear"])(s,n,a);if(!s||c)return"L"+n.x+" "+n.y;var l=Math.min(Object(i["getDistance"])(a,n),Object(i["getDistance"])(s,n)),u=l/2<e,d=u?l/2:e,h=Object(i["moveTo"])(a,n,d),p=Object(i["moveTo"])(s,n,d);return"L"+h.x+" "+h.y+"S"+n.x+" "+n.y+" "+p.x+" "+p.y})).join("")+(n?"L"+s.x+" "+r+" Z":"")}},"./src/components/VSparkline/index.ts":
/*!********************************************!*\
  !*** ./src/components/VSparkline/index.ts ***!
  \********************************************/
/*! exports provided: VSparkline, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSparkline */"./src/components/VSparkline/VSparkline.ts");n.d(e,"VSparkline",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VSpeedDial/VSpeedDial.js":
/*!*************************************************!*\
  !*** ./src/components/VSpeedDial/VSpeedDial.js ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_speed-dial.styl */"./src/stylus/components/_speed-dial.styl");var i=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),r=n(/*! ../../mixins/positionable */"./src/mixins/positionable.ts"),o=n(/*! ../../mixins/transitionable */"./src/mixins/transitionable.ts"),s=n(/*! ../../directives/click-outside */"./src/directives/click-outside.ts");e["default"]={name:"v-speed-dial",directives:{ClickOutside:s["default"]},mixins:[r["default"],i["default"],o["default"]],props:{direction:{type:String,default:"top",validator:function(t){return["top","right","bottom","left"].includes(t)}},openOnHover:Boolean,transition:{type:String,default:"scale-transition"}},computed:{classes:function(){var t;return t={"v-speed-dial":!0,"v-speed-dial--top":this.top,"v-speed-dial--right":this.right,"v-speed-dial--bottom":this.bottom,"v-speed-dial--left":this.left,"v-speed-dial--absolute":this.absolute,"v-speed-dial--fixed":this.fixed},t["v-speed-dial--direction-"+this.direction]=!0,t}},render:function(t){var e=this,n=[],i={class:this.classes,directives:[{name:"click-outside",value:function(){return e.isActive=!1}}],on:{click:function(){return e.isActive=!e.isActive}}};if(this.openOnHover&&(i.on.mouseenter=function(){return e.isActive=!0},i.on.mouseleave=function(){return e.isActive=!1}),this.isActive){var r=0;n=(this.$slots.default||[]).map((function(e,n){return e.tag&&"undefined"!==typeof e.componentOptions&&"v-btn"===e.componentOptions.Ctor.options.name?(r++,t("div",{style:{transitionDelay:.05*r+"s"},key:n},[e])):(e.key=n,e)}))}var o=t("transition-group",{class:"v-speed-dial__list",props:{name:this.transition,mode:this.mode,origin:this.origin,tag:"div"}},n);return t("div",i,[this.$slots.activator,o])}}},"./src/components/VSpeedDial/index.js":
/*!********************************************!*\
  !*** ./src/components/VSpeedDial/index.js ***!
  \********************************************/
/*! exports provided: VSpeedDial, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSpeedDial */"./src/components/VSpeedDial/VSpeedDial.js");n.d(e,"VSpeedDial",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VStepper/VStepper.ts":
/*!*********************************************!*\
  !*** ./src/components/VStepper/VStepper.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_steppers.styl */"./src/stylus/components/_steppers.styl");var i=n(/*! ../../mixins/registrable */"./src/mixins/registrable.ts"),r=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};e["default"]=Object(o["default"])(Object(i["provide"])("stepper"),r["default"]).extend({name:"v-stepper",provide:function(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{nonLinear:Boolean,altLabels:Boolean,vertical:Boolean,value:[Number,String]},data:function(){return{inputValue:null,isBooted:!1,steps:[],content:[],isReverse:!1}},computed:{classes:function(){return s({"v-stepper":!0,"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear},this.themeClasses)}},watch:{inputValue:function(t,e){this.isReverse=Number(t)<Number(e);for(var n=this.steps.length;--n>=0;)this.steps[n].toggle(this.inputValue);for(n=this.content.length;--n>=0;)this.content[n].toggle(this.inputValue,this.isReverse);this.$emit("input",this.inputValue),e&&(this.isBooted=!0)},value:function(){var t=this;this.$nextTick((function(){return t.inputValue=t.value}))}},mounted:function(){this.inputValue=this.value||this.steps[0].step||1},methods:{register:function(t){"v-stepper-step"===t.$options.name?this.steps.push(t):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content.push(t))},unregister:function(t){"v-stepper-step"===t.$options.name?this.steps=this.steps.filter((function(e){return e!==t})):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content=this.content.filter((function(e){return e!==t})))},stepClick:function(t){var e=this;this.$nextTick((function(){return e.inputValue=t}))}},render:function(t){return t("div",{class:this.classes},this.$slots.default)}})},"./src/components/VStepper/VStepperContent.ts":
/*!****************************************************!*\
  !*** ./src/components/VStepper/VStepperContent.ts ***!
  \****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../transitions */"./src/components/transitions/index.js"),r=n(/*! ../../mixins/registrable */"./src/mixins/registrable.ts"),o=n(/*! ../../util/helpers */"./src/util/helpers.ts"),s=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(s["default"])(Object(r["inject"])("stepper","v-stepper-content","v-stepper")).extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data:function(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{classes:function(){return{"v-stepper__content":!0}},computedTransition:function(){return this.isReverse?i["VTabReverseTransition"]:i["VTabTransition"]},styles:function(){return this.isVertical?{height:Object(o["convertToUnit"])(this.height)}:{}},wrapperClasses:function(){return{"v-stepper__wrapper":!0}}},watch:{isActive:function(t,e){t&&null==e?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted:function(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition:function(t){this.isActive&&"height"===t.propertyName&&(this.height="auto")},enter:function(){var t=this,e=0;requestAnimationFrame((function(){e=t.$refs.wrapper.scrollHeight})),this.height=0,setTimeout((function(){return t.isActive&&(t.height=e||"auto")}),450)},leave:function(){var t=this;this.height=this.$refs.wrapper.clientHeight,setTimeout((function(){return t.height=0}),10)},toggle:function(t,e){this.isActive=t.toString()===this.step.toString(),this.isReverse=e}},render:function(t){var e={class:this.classes},n={class:this.wrapperClasses,style:this.styles,ref:"wrapper"};this.isVertical||(e.directives=[{name:"show",value:this.isActive}]);var i=t("div",n,[this.$slots.default]),r=t("div",e,[i]);return t(this.computedTransition,{on:this.$listeners},[r])}})},"./src/components/VStepper/VStepperStep.ts":
/*!*************************************************!*\
  !*** ./src/components/VStepper/VStepperStep.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),r=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),o=n(/*! ../../mixins/registrable */"./src/mixins/registrable.ts"),s=n(/*! ../../directives/ripple */"./src/directives/ripple.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(a["default"])(r["default"],Object(o["inject"])("stepper","v-stepper-step","v-stepper")).extend({name:"v-stepper-step",directives:{Ripple:s["default"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$vuetify.icons.complete"},editIcon:{type:String,default:"$vuetify.icons.edit"},errorIcon:{type:String,default:"$vuetify.icons.error"},editable:Boolean,rules:{type:Array,default:function(){return[]}},step:[Number,String]},data:function(){return{isActive:!1,isInactive:!0}},computed:{classes:function(){return{"v-stepper__step":!0,"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error":this.hasError,"v-stepper__step--complete":this.complete,"error--text":this.hasError}},hasError:function(){return this.rules.some((function(t){return!0!==t()}))}},mounted:function(){this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.stepper&&this.stepper.unregister(this)},methods:{click:function(t){t.stopPropagation(),this.$emit("click",t),this.editable&&this.stepClick(this.step)},toggle:function(t){this.isActive=t.toString()===this.step.toString(),this.isInactive=Number(t)<Number(this.step)}},render:function(t){var e,n={class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}};e=this.hasError?[t(i["default"],{},this.errorIcon)]:this.complete?this.editable?[t(i["default"],{},this.editIcon)]:[t(i["default"],{},this.completeIcon)]:String(this.step);var r=!(this.hasError||!this.complete&&!this.isActive)&&this.color,o=t("span",this.setBackgroundColor(r,{staticClass:"v-stepper__step__step"}),e),s=t("div",{staticClass:"v-stepper__label"},this.$slots.default);return t("div",n,[o,s])}})},"./src/components/VStepper/index.ts":
/*!******************************************!*\
  !*** ./src/components/VStepper/index.ts ***!
  \******************************************/
/*! exports provided: VStepper, VStepperContent, VStepperStep, VStepperHeader, VStepperItems, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VStepperHeader",(function(){return a})),n.d(e,"VStepperItems",(function(){return c}));var i=n(/*! ../../util/helpers */"./src/util/helpers.ts"),r=n(/*! ./VStepper */"./src/components/VStepper/VStepper.ts");n.d(e,"VStepper",(function(){return r["default"]}));var o=n(/*! ./VStepperStep */"./src/components/VStepper/VStepperStep.ts");n.d(e,"VStepperStep",(function(){return o["default"]}));var s=n(/*! ./VStepperContent */"./src/components/VStepper/VStepperContent.ts");n.d(e,"VStepperContent",(function(){return s["default"]}));var a=Object(i["createSimpleFunctional"])("v-stepper__header"),c=Object(i["createSimpleFunctional"])("v-stepper__items");e["default"]={$_vuetify_subcomponents:{VStepper:r["default"],VStepperContent:s["default"],VStepperStep:o["default"],VStepperHeader:a,VStepperItems:c}}},"./src/components/VSubheader/VSubheader.ts":
/*!*************************************************!*\
  !*** ./src/components/VSubheader/VSubheader.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_subheaders.styl */"./src/stylus/components/_subheaders.styl");var i=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),r=n(/*! ../../util/mixins */"./src/util/mixins.ts"),o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};e["default"]=Object(r["default"])(i["default"]).extend({name:"v-subheader",props:{inset:Boolean},render:function(t){return t("div",{staticClass:"v-subheader",class:o({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},"./src/components/VSubheader/index.ts":
/*!********************************************!*\
  !*** ./src/components/VSubheader/index.ts ***!
  \********************************************/
/*! exports provided: VSubheader, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSubheader */"./src/components/VSubheader/VSubheader.ts");n.d(e,"VSubheader",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VSwitch/VSwitch.js":
/*!*******************************************!*\
  !*** ./src/components/VSwitch/VSwitch.js ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_selection-controls.styl */"./src/stylus/components/_selection-controls.styl"),n(/*! ../../stylus/components/_switch.styl */"./src/stylus/components/_switch.styl");var i=n(/*! ../../mixins/selectable */"./src/mixins/selectable.js"),r=n(/*! ../../directives/touch */"./src/directives/touch.ts"),o=n(/*! ../transitions */"./src/components/transitions/index.js"),s=n(/*! ../VProgressCircular/VProgressCircular */"./src/components/VProgressCircular/VProgressCircular.ts"),a=n(/*! ../../util/helpers */"./src/util/helpers.ts"),c=function(){return c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},c.apply(this,arguments)};e["default"]={name:"v-switch",directives:{Touch:r["default"]},mixins:[i["default"]],props:{loading:{type:[Boolean,String],default:!1}},computed:{classes:function(){return{"v-input--selection-controls v-input--switch":!0}},switchData:function(){return this.setTextColor(this.loading?void 0:this.computedColor,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",this.$attrs),this.genRipple(this.setTextColor(this.computedColor,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",c({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",c({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(o["VFabTransition"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(s["default"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===a["keyCodes"].left&&this.isActive||t.keyCode===a["keyCodes"].right&&!this.isActive)&&this.onChange()}}}},"./src/components/VSwitch/index.js":
/*!*****************************************!*\
  !*** ./src/components/VSwitch/index.js ***!
  \*****************************************/
/*! exports provided: VSwitch, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSwitch */"./src/components/VSwitch/VSwitch.js");n.d(e,"VSwitch",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VSystemBar/VSystemBar.ts":
/*!*************************************************!*\
  !*** ./src/components/VSystemBar/VSystemBar.ts ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_system-bars.styl */"./src/stylus/components/_system-bars.styl");var i=n(/*! ../../mixins/applicationable */"./src/mixins/applicationable.ts"),r=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),o=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),s=n(/*! ../../util/mixins */"./src/util/mixins.ts"),a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)};e["default"]=Object(s["default"])(Object(i["default"])("bar",["height","window"]),r["default"],o["default"]).extend({name:"v-system-bar",props:{height:{type:[Number,String],validator:function(t){return!isNaN(parseInt(t))}},lightsOut:Boolean,status:Boolean,window:Boolean},computed:{classes:function(){return a({"v-system-bar--lights-out":this.lightsOut,"v-system-bar--absolute":this.absolute,"v-system-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-system-bar--status":this.status,"v-system-bar--window":this.window},this.themeClasses)},computedHeight:function(){return this.height?parseInt(this.height):this.window?32:24}},methods:{updateApplication:function(){return this.computedHeight}},render:function(t){var e={staticClass:"v-system-bar",class:this.classes,style:{height:this.computedHeight+"px"}};return t("div",this.setBackgroundColor(this.color,e),this.$slots.default)}})},"./src/components/VSystemBar/index.ts":
/*!********************************************!*\
  !*** ./src/components/VSystemBar/index.ts ***!
  \********************************************/
/*! exports provided: VSystemBar, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VSystemBar */"./src/components/VSystemBar/VSystemBar.ts");n.d(e,"VSystemBar",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VTabs/VTab.js":
/*!**************************************!*\
  !*** ./src/components/VTabs/VTab.js ***!
  \**************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/groupable */"./src/mixins/groupable.ts"),r=n(/*! ../../mixins/routable */"./src/mixins/routable.ts"),o=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),s=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)};e["default"]={name:"v-tab",mixins:[r["default"],Object(i["factory"])("tabGroup"),o["default"]],props:{ripple:{type:[Boolean,Object],default:!0}},computed:{classes:function(){return a({"v-tabs__item":!0,"v-tabs__item--disabled":this.disabled},this.groupClasses)},value:function(){var t=this.to||this.href||"";if(this.$router&&this.to===Object(this.to)){var e=this.$router.resolve(this.to,this.$route,this.append);t=e.href}return t.replace("#","")}},watch:{$route:"onRouteChange"},mounted:function(){this.onRouteChange()},methods:{click:function(t){this.href&&this.href.indexOf("#")>-1&&t.preventDefault(),this.$emit("click",t),this.to||this.toggle()},onRouteChange:function(){var t=this;if(this.to&&this.$refs.link){var e="_vnode.data.class."+this.activeClass;this.$nextTick((function(){Object(s["getObjectValueByPath"])(t.$refs.link,e)&&t.toggle()}))}}},render:function(t){var e=this.generateRouteLink(this.classes),n=e.data,i=this.disabled?"div":e.tag;return n.ref="link",t("div",{staticClass:"v-tabs__div"},[t(i,n,this.$slots.default)])}}},"./src/components/VTabs/VTabItem.js":
/*!******************************************!*\
  !*** ./src/components/VTabs/VTabItem.js ***!
  \******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VWindow/VWindowItem */"./src/components/VWindow/VWindowItem.ts"),r=n(/*! ../../util/console */"./src/util/console.ts");e["default"]=i["default"].extend({name:"v-tab-item",props:{id:String},render:function(t){var e=i["default"].options.render.call(this,t);return this.id&&(Object(r["deprecate"])("id","value",this),e.data.domProps=e.data.domProps||{},e.data.domProps.id=this.id),e}})},"./src/components/VTabs/VTabs.js":
/*!***************************************!*\
  !*** ./src/components/VTabs/VTabs.js ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_tabs.styl */"./src/stylus/components/_tabs.styl");var i=n(/*! ../VItemGroup/VItemGroup */"./src/components/VItemGroup/VItemGroup.ts"),r=n(/*! ./mixins/tabs-computed */"./src/components/VTabs/mixins/tabs-computed.js"),o=n(/*! ./mixins/tabs-generators */"./src/components/VTabs/mixins/tabs-generators.js"),s=n(/*! ./mixins/tabs-props */"./src/components/VTabs/mixins/tabs-props.js"),a=n(/*! ./mixins/tabs-touch */"./src/components/VTabs/mixins/tabs-touch.js"),c=n(/*! ./mixins/tabs-watchers */"./src/components/VTabs/mixins/tabs-watchers.js"),l=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),u=n(/*! ../../mixins/ssr-bootable */"./src/mixins/ssr-bootable.ts"),d=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),h=n(/*! ../../directives/resize */"./src/directives/resize.ts"),p=n(/*! ../../directives/touch */"./src/directives/touch.ts"),f=n(/*! ../../util/console */"./src/util/console.ts"),m=n(/*! ../../util/ThemeProvider */"./src/util/ThemeProvider.ts");e["default"]=i["BaseItemGroup"].extend({name:"v-tabs",directives:{Resize:h["default"],Touch:p["default"]},mixins:[l["default"],u["default"],r["default"],s["default"],o["default"],a["default"],c["default"],d["default"]],provide:function(){return{tabGroup:this,tabProxy:this.tabProxy,registerItems:this.registerItems,unregisterItems:this.unregisterItems}},data:function(){return{bar:[],content:[],isOverflowing:!1,nextIconVisible:!1,prevIconVisible:!1,resizeTimeout:null,scrollOffset:0,sliderWidth:null,sliderLeft:null,startX:0,tabItems:null,transitionTime:300,widths:{bar:0,container:0,wrapper:0}}},watch:{items:"onResize",tabs:"onResize"},mounted:function(){this.init()},methods:{checkIcons:function(){this.prevIconVisible=this.checkPrevIcon(),this.nextIconVisible=this.checkNextIcon()},checkPrevIcon:function(){return this.scrollOffset>0},checkNextIcon:function(){return this.widths.container>this.scrollOffset+this.widths.wrapper},callSlider:function(){var t=this;if(this.hideSlider||!this.activeTab)return!1;var e=this.activeTab;this.$nextTick((function(){e&&e.$el&&(t.sliderWidth=e.$el.scrollWidth,t.sliderLeft=e.$el.offsetLeft)}))},init:function(){this.$listeners["input"]&&Object(f["deprecate"])("@input","@change",this)},onResize:function(){if(!this._isDestroyed){this.setWidths();var t=this.isBooted?this.transitionTime:0;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(this.updateTabsView,t)}},overflowCheck:function(t,e){this.isOverflowing&&e(t)},scrollTo:function(t){this.scrollOffset=this.newOffset(t)},setOverflow:function(){this.isOverflowing=this.widths.bar<this.widths.container},setWidths:function(){var t=this.$refs.bar?this.$refs.bar.clientWidth:0,e=this.$refs.container?this.$refs.container.clientWidth:0,n=this.$refs.wrapper?this.$refs.wrapper.clientWidth:0;this.widths={bar:t,container:e,wrapper:n},this.setOverflow()},parseNodes:function(){for(var t=[],e=[],n=[],i=[],r=(this.$slots.default||[]).length,o=0;o<r;o++){var s=this.$slots.default[o];if(s.componentOptions)switch(s.componentOptions.Ctor.options.name){case"v-tabs-slider":n.push(s);break;case"v-tabs-items":e.push(s);break;case"v-tab-item":t.push(s);break;default:i.push(s)}else i.push(s)}return{tab:i,slider:n,items:e,item:t}},registerItems:function(t){this.tabItems=t,t(this.internalValue)},unregisterItems:function(){this.tabItems=null},updateTabsView:function(){this.callSlider(),this.scrollIntoView(),this.checkIcons()},scrollIntoView:function(){if(this.activeTab){if(!this.isOverflowing)return this.scrollOffset=0;var t=this.widths.wrapper+this.scrollOffset,e=this.activeTab.$el,n=e.clientWidth,i=e.offsetLeft,r=n+i,o=.3*n;this.activeTab===this.items[this.items.length-1]&&(o=0),i<this.scrollOffset?this.scrollOffset=Math.max(i-o,0):t<r&&(this.scrollOffset-=t-r-o)}},tabProxy:function(t){this.internalValue=t}},render:function(t){var e=this.parseNodes(),n=e.tab,i=e.slider,r=e.items,o=e.item;return t("div",{staticClass:"v-tabs",directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]},[this.genBar([this.hideSlider?null:this.genSlider(i),n]),t(m["default"],{props:{dark:this.theme.isDark,light:!this.theme.isDark}},[this.genItems(r,o)])])}})},"./src/components/VTabs/VTabsItems.js":
/*!********************************************!*\
  !*** ./src/components/VTabs/VTabsItems.js ***!
  \********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VWindow/VWindow */"./src/components/VWindow/VWindow.ts");e["default"]=i["default"].extend({name:"v-tabs-items",inject:{registerItems:{default:null},tabProxy:{default:null},unregisterItems:{default:null}},props:{cycle:Boolean},watch:{internalValue:function(t){this.tabProxy&&this.tabProxy(t)}},created:function(){this.registerItems&&this.registerItems(this.changeModel)},beforeDestroy:function(){this.unregisterItems&&this.unregisterItems()},methods:{changeModel:function(t){this.internalValue=t},getValue:function(t,e){return t.id?t.id:i["default"].options.methods.getValue.call(this,t,e)},next:function(){(this.cycle||this.internalIndex!==this.items.length-1)&&i["default"].options.methods.next.call(this)},prev:function(){(this.cycle||0!==this.internalIndex)&&i["default"].options.methods.prev.call(this)}}})},"./src/components/VTabs/VTabsSlider.js":
/*!*********************************************!*\
  !*** ./src/components/VTabs/VTabsSlider.js ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts");e["default"]={name:"v-tabs-slider",mixins:[i["default"]],render:function(t){return t("div",this.setBackgroundColor(this.color||"accent",{staticClass:"v-tabs__slider"}))}}},"./src/components/VTabs/index.js":
/*!***************************************!*\
  !*** ./src/components/VTabs/index.js ***!
  \***************************************/
/*! exports provided: VTabs, VTab, VTabItem, VTabsItems, VTabsSlider, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTabs */"./src/components/VTabs/VTabs.js");n.d(e,"VTabs",(function(){return i["default"]}));var r=n(/*! ./VTab */"./src/components/VTabs/VTab.js");n.d(e,"VTab",(function(){return r["default"]}));var o=n(/*! ./VTabsItems */"./src/components/VTabs/VTabsItems.js");n.d(e,"VTabsItems",(function(){return o["default"]}));var s=n(/*! ./VTabItem */"./src/components/VTabs/VTabItem.js");n.d(e,"VTabItem",(function(){return s["default"]}));var a=n(/*! ./VTabsSlider */"./src/components/VTabs/VTabsSlider.js");n.d(e,"VTabsSlider",(function(){return a["default"]})),e["default"]={$_vuetify_subcomponents:{VTabs:i["default"],VTab:r["default"],VTabsItems:o["default"],VTabItem:s["default"],VTabsSlider:a["default"]}}},"./src/components/VTabs/mixins/tabs-computed.js":
/*!******************************************************!*\
  !*** ./src/components/VTabs/mixins/tabs-computed.js ***!
  \******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e["default"]={computed:{activeTab:function(){if(this.selectedItems.length)return this.selectedItems[0]},containerStyles:function(){return this.height?{height:parseInt(this.height,10)+"px"}:null},hasArrows:function(){return(this.showArrows||!this.isMobile)&&this.isOverflowing},isMobile:function(){return this.$vuetify.breakpoint.width<this.mobileBreakPoint},sliderStyles:function(){return{left:this.sliderLeft+"px",transition:null!=this.sliderLeft?null:"none",width:this.sliderWidth+"px"}}}}},"./src/components/VTabs/mixins/tabs-generators.js":
/*!********************************************************!*\
  !*** ./src/components/VTabs/mixins/tabs-generators.js ***!
  \********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VTabsItems */"./src/components/VTabs/VTabsItems.js"),r=n(/*! ../VTabsSlider */"./src/components/VTabs/VTabsSlider.js"),o=n(/*! ../../VIcon */"./src/components/VIcon/index.ts");e["default"]={methods:{genBar:function(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tabs__bar",class:this.themeClasses,ref:"bar"}),[this.genTransition("prev"),this.genWrapper(this.genContainer(t)),this.genTransition("next")])},genContainer:function(t){return this.$createElement("div",{staticClass:"v-tabs__container",class:{"v-tabs__container--align-with-title":this.alignWithTitle,"v-tabs__container--centered":this.centered,"v-tabs__container--fixed-tabs":this.fixedTabs,"v-tabs__container--grow":this.grow,"v-tabs__container--icons-and-text":this.iconsAndText,"v-tabs__container--overflow":this.isOverflowing,"v-tabs__container--right":this.right},style:this.containerStyles,ref:"container"},t)},genIcon:function(t){var e=this;return this.hasArrows&&this[t+"IconVisible"]?this.$createElement(o["default"],{staticClass:"v-tabs__icon v-tabs__icon--"+t,props:{disabled:!this[t+"IconVisible"]},on:{click:function(){return e.scrollTo(t)}}},this[t+"Icon"]):null},genItems:function(t,e){return t.length>0?t:e.length?this.$createElement(i["default"],e):null},genTransition:function(t){return this.$createElement("transition",{props:{name:"fade-transition"}},[this.genIcon(t)])},genWrapper:function(t){var e=this;return this.$createElement("div",{staticClass:"v-tabs__wrapper",class:{"v-tabs__wrapper--show-arrows":this.hasArrows},ref:"wrapper",directives:[{name:"touch",value:{start:function(t){return e.overflowCheck(t,e.onTouchStart)},move:function(t){return e.overflowCheck(t,e.onTouchMove)},end:function(t){return e.overflowCheck(t,e.onTouchEnd)}}}]},[t])},genSlider:function(t){return t.length||(t=[this.$createElement(r["default"],{props:{color:this.sliderColor}})]),this.$createElement("div",{staticClass:"v-tabs__slider-wrapper",style:this.sliderStyles},t)}}}},"./src/components/VTabs/mixins/tabs-props.js":
/*!***************************************************!*\
  !*** ./src/components/VTabs/mixins/tabs-props.js ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e["default"]={props:{activeClass:{type:String,default:"v-tabs__item--active"},alignWithTitle:Boolean,centered:Boolean,fixedTabs:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0,validator:function(t){return!isNaN(parseInt(t))}},hideSlider:Boolean,iconsAndText:Boolean,mandatory:{type:Boolean,default:!0},mobileBreakPoint:{type:[Number,String],default:1264,validator:function(t){return!isNaN(parseInt(t))}},nextIcon:{type:String,default:"$vuetify.icons.next"},prevIcon:{type:String,default:"$vuetify.icons.prev"},right:Boolean,showArrows:Boolean,sliderColor:{type:String,default:"accent"},value:[Number,String]}}},"./src/components/VTabs/mixins/tabs-touch.js":
/*!***************************************************!*\
  !*** ./src/components/VTabs/mixins/tabs-touch.js ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e["default"]={methods:{newOffset:function(t){var e=this.$refs.wrapper.clientWidth;return"prev"===t?Math.max(this.scrollOffset-e,0):Math.min(this.scrollOffset+e,this.$refs.container.clientWidth-e)},onTouchStart:function(t){this.startX=this.scrollOffset+t.touchstartX,this.$refs.container.style.transition="none",this.$refs.container.style.willChange="transform"},onTouchMove:function(t){this.scrollOffset=this.startX-t.touchmoveX},onTouchEnd:function(){var t=this.$refs.container,e=this.$refs.wrapper,n=t.clientWidth-e.clientWidth;t.style.transition=null,t.style.willChange=null,this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=n&&(this.scrollOffset=n)}}}},"./src/components/VTabs/mixins/tabs-watchers.js":
/*!******************************************************!*\
  !*** ./src/components/VTabs/mixins/tabs-watchers.js ***!
  \******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e["default"]={watch:{activeTab:function(t,e){this.setOverflow(),t&&(this.tabItems&&this.tabItems(this.getValue(t,this.items.indexOf(t))),null!=e&&this.updateTabsView())},alignWithTitle:"callSlider",centered:"callSlider",fixedTabs:"callSlider",hasArrows:function(t){t||(this.scrollOffset=0)},internalValue:function(t){this.$listeners["input"]&&this.$emit("input",t)},lazyValue:"updateTabs",right:"callSlider","$vuetify.application.left":"onResize","$vuetify.application.right":"onResize",scrollOffset:function(t){this.$refs.container.style.transform="translateX("+-t+"px)",this.hasArrows&&(this.prevIconVisible=this.checkPrevIcon(),this.nextIconVisible=this.checkNextIcon())}}}},"./src/components/VTextField/VTextField.js":
/*!*************************************************!*\
  !*** ./src/components/VTextField/VTextField.js ***!
  \*************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_text-fields.styl */"./src/stylus/components/_text-fields.styl");var i=n(/*! ../VInput */"./src/components/VInput/index.ts"),r=n(/*! ../VCounter */"./src/components/VCounter/index.ts"),o=n(/*! ../VLabel */"./src/components/VLabel/index.ts"),s=n(/*! ../../mixins/maskable */"./src/mixins/maskable.js"),a=n(/*! ../../mixins/loadable */"./src/mixins/loadable.ts"),c=n(/*! ../../directives/ripple */"./src/directives/ripple.ts"),l=n(/*! ../../util/helpers */"./src/util/helpers.ts"),u=n(/*! ../../util/console */"./src/util/console.ts"),d=function(){return d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},d.apply(this,arguments)},h=["color","file","time","date","datetime-local","week","month"];e["default"]=i["default"].extend({name:"v-text-field",directives:{Ripple:c["default"]},mixins:[s["default"],a["default"]],inheritAttrs:!1,props:{appendOuterIcon:String,appendOuterIconCb:Function,autofocus:Boolean,box:Boolean,browserAutocomplete:String,clearable:Boolean,clearIcon:{type:String,default:"$vuetify.icons.clear"},clearIconCb:Function,color:{type:String,default:"primary"},counter:[Boolean,Number,String],flat:Boolean,fullWidth:Boolean,label:String,outline:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,prependInnerIconCb:Function,reverse:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:"text"}},data:function(){return{badInput:!1,initialValue:null,internalChange:!1,isClearing:!1}},computed:{classes:function(){return{"v-text-field":!0,"v-text-field--full-width":this.fullWidth,"v-text-field--prefix":this.prefix,"v-text-field--single-line":this.isSingle,"v-text-field--solo":this.isSolo,"v-text-field--solo-inverted":this.soloInverted,"v-text-field--solo-flat":this.flat,"v-text-field--box":this.box,"v-text-field--enclosed":this.isEnclosed,"v-text-field--reverse":this.reverse,"v-text-field--outline":this.hasOutline,"v-text-field--placeholder":this.placeholder}},counterValue:function(){return(this.internalValue||"").toString().length},directivesInput:function(){return[]},hasOutline:function(){return this.outline||this.textarea},internalValue:{get:function(){return this.lazyValue},set:function(t){this.mask&&t!==this.lazyValue?(this.lazyValue=this.unmaskText(this.maskText(this.unmaskText(t))),this.setSelectionRange()):(this.lazyValue=t,this.$emit("input",this.lazyValue))}},isDirty:function(){return null!=this.lazyValue&&this.lazyValue.toString().length>0||this.badInput},isEnclosed:function(){return this.box||this.isSolo||this.hasOutline||this.fullWidth},isLabelActive:function(){return this.isDirty||h.includes(this.type)},isSingle:function(){return this.isSolo||this.singleLine},isSolo:function(){return this.solo||this.soloInverted},labelPosition:function(){var t=this.prefix&&!this.labelValue?this.prefixWidth:0;return!this.$vuetify.rtl!==!this.reverse?{left:"auto",right:t}:{left:t,right:"auto"}},showLabel:function(){return this.hasLabel&&(!this.isSingle||!this.isLabelActive&&!this.placeholder&&!this.prefixLabel)},labelValue:function(){return!this.isSingle&&Boolean(this.isFocused||this.isLabelActive||this.placeholder||this.prefixLabel)},prefixWidth:function(){if(this.prefix||this.$refs.prefix)return this.$refs.prefix.offsetWidth},prefixLabel:function(){return this.prefix&&!this.value}},watch:{isFocused:function(t){this.hasColor=t,t?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)},value:function(t){var e=this;if(this.mask&&!this.internalChange){var n=this.maskText(this.unmaskText(t));this.lazyValue=this.unmaskText(n),String(t)!==this.lazyValue&&this.$nextTick((function(){e.$refs.input.value=n,e.$emit("input",e.lazyValue)}))}else this.lazyValue=t}},mounted:function(){this.autofocus&&this.onFocus()},methods:{focus:function(){this.onFocus()},blur:function(t){var e=this;window.requestAnimationFrame((function(){e.$refs.input&&e.$refs.input.blur()})),this.onBlur(t)},clearableCallback:function(){var t=this;this.internalValue=null,this.$nextTick((function(){return t.$refs.input.focus()}))},genAppendSlot:function(){var t=[];return this.$slots["append-outer"]?t.push(this.$slots["append-outer"]):this.appendOuterIcon&&t.push(this.genIcon("appendOuter")),this.genSlot("append","outer",t)},genPrependInnerSlot:function(){var t=[];return this.$slots["prepend-inner"]?t.push(this.$slots["prepend-inner"]):this.prependInnerIcon&&t.push(this.genIcon("prependInner")),this.genSlot("prepend","inner",t)},genIconSlot:function(){var t=[];return this.$slots["append"]?t.push(this.$slots["append"]):this.appendIcon&&t.push(this.genIcon("append")),this.genSlot("append","inner",t)},genInputSlot:function(){var t=i["default"].options.methods.genInputSlot.call(this),e=this.genPrependInnerSlot();return e&&t.children.unshift(e),t},genClearIcon:function(){if(!this.clearable)return null;var t=!!this.isDirty&&"clear";return this.clearIconCb&&Object(u["deprecate"])(":clear-icon-cb","@click:clear",this),this.genSlot("append","inner",[this.genIcon(t,!this.$listeners["click:clear"]&&this.clearIconCb||this.clearableCallback,!1)])},genCounter:function(){if(!1===this.counter||null==this.counter)return null;var t=!0===this.counter?this.$attrs.maxlength:this.counter;return this.$createElement(r["default"],{props:{dark:this.dark,light:this.light,max:t,value:this.counterValue}})},genDefaultSlot:function(){return[this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genLabel:function(){if(!this.showLabel)return null;var t={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.disabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$attrs.id&&(t.props.for=this.$attrs.id),this.$createElement(o["default"],t,this.$slots.label||this.label)},genInput:function(){var t=Object.assign({},this.$listeners);delete t["change"];var e={style:{},domProps:{value:this.maskText(this.lazyValue)},attrs:d({"aria-label":(!this.$attrs||!this.$attrs.id)&&this.label},this.$attrs,{autofocus:this.autofocus,disabled:this.disabled,readonly:this.readonly,type:this.type}),on:Object.assign(t,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown}),ref:"input"};return this.placeholder&&(e.attrs.placeholder=this.placeholder),this.mask&&(e.attrs.maxlength=this.masked.length),this.browserAutocomplete&&(e.attrs.autocomplete=this.browserAutocomplete),this.$createElement("input",e)},genMessages:function(){return this.hideDetails?null:this.$createElement("div",{staticClass:"v-text-field__details"},[i["default"].options.methods.genMessages.call(this),this.genCounter()])},genTextFieldSlot:function(){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,this.genInput(),this.suffix?this.genAffix("suffix"):null])},genAffix:function(t){return this.$createElement("div",{class:"v-text-field__"+t,ref:t},this[t])},onBlur:function(t){this.isFocused=!1,this.internalChange=!1,t&&this.$emit("blur",t)},onClick:function(){this.isFocused||this.disabled||this.$refs.input.focus()},onFocus:function(t){if(this.$refs.input)return document.activeElement!==this.$refs.input?this.$refs.input.focus():void(this.isFocused||(this.isFocused=!0,this.$emit("focus",t)))},onInput:function(t){this.internalChange=!0,this.mask&&this.resetSelections(t.target),this.internalValue=t.target.value,this.badInput=t.target.validity&&t.target.validity.badInput},onKeyDown:function(t){this.internalChange=!0,t.keyCode===l["keyCodes"].enter&&this.$emit("change",this.internalValue),this.$emit("keydown",t)},onMouseDown:function(t){t.target!==this.$refs.input&&(t.preventDefault(),t.stopPropagation()),i["default"].options.methods.onMouseDown.call(this,t)},onMouseUp:function(t){this.hasMouseDown&&this.focus(),i["default"].options.methods.onMouseUp.call(this,t)}}})},"./src/components/VTextField/index.js":
/*!********************************************!*\
  !*** ./src/components/VTextField/index.js ***!
  \********************************************/
/*! exports provided: VTextField, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VTextField",(function(){return c}));var i=n(/*! ./VTextField */"./src/components/VTextField/VTextField.js"),r=n(/*! ../VTextarea/VTextarea */"./src/components/VTextarea/VTextarea.js"),o=n(/*! ../../util/rebuildFunctionalSlots */"./src/util/rebuildFunctionalSlots.ts"),s=n(/*! ../../util/dedupeModelListeners */"./src/util/dedupeModelListeners.ts"),a=n(/*! ../../util/console */"./src/util/console.ts"),c={functional:!0,$_wrapperFor:i["default"],props:{textarea:Boolean,multiLine:Boolean},render:function(t,e){var n=e.props,l=e.data,u=e.slots,d=e.parent;Object(s["default"])(l);var h=Object(o["default"])(u(),t);return n.textarea&&Object(a["deprecate"])("<v-text-field textarea>","<v-textarea outline>",c,d),n.multiLine&&Object(a["deprecate"])("<v-text-field multi-line>","<v-textarea>",c,d),n.textarea||n.multiLine?(l.attrs.outline=n.textarea,t(r["default"],l,h)):t(i["default"],l,h)}};e["default"]=c},"./src/components/VTextarea/VTextarea.js":
/*!***********************************************!*\
  !*** ./src/components/VTextarea/VTextarea.js ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_textarea.styl */"./src/stylus/components/_textarea.styl");var i=n(/*! ../VTextField/VTextField */"./src/components/VTextField/VTextField.js"),r=n(/*! ../../util/console */"./src/util/console.ts"),o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};e["default"]={name:"v-textarea",extends:i["default"],props:{autoGrow:Boolean,noResize:Boolean,outline:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return o({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},i["default"].options.computed.classes.call(this,null))},dynamicHeight:function(){return this.autoGrow?this.inputHeight:"auto"},isEnclosed:function(){return this.textarea||i["default"].options.computed.isEnclosed.call(this)},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){!this.internalChange&&this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0),this.autoGrow&&this.noResize&&Object(r["consoleInfo"])('"no-resize" is now implied when using "auto-grow", and can be removed',this)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height=0;var e=t.scrollHeight,n=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(n,e)+"px"}},genInput:function(){var t=i["default"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){i["default"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.internalChange=!0,this.$emit("keydown",t)}}}},"./src/components/VTextarea/index.js":
/*!*******************************************!*\
  !*** ./src/components/VTextarea/index.js ***!
  \*******************************************/
/*! exports provided: VTextarea, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTextarea */"./src/components/VTextarea/VTextarea.js");n.d(e,"VTextarea",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VTimePicker/VTimePicker.ts":
/*!***************************************************!*\
  !*** ./src/components/VTimePicker/VTimePicker.ts ***!
  \***************************************************/
/*! exports provided: selectingTimes, default */function(t,e,n){"use strict";n.r(e),n.d(e,"selectingTimes",(function(){return f}));var i=n(/*! ./VTimePickerTitle */"./src/components/VTimePicker/VTimePickerTitle.ts"),r=n(/*! ./VTimePickerClock */"./src/components/VTimePicker/VTimePickerClock.ts"),o=n(/*! ../../mixins/picker */"./src/mixins/picker.ts"),s=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=n(/*! ../VDatePicker/util/pad */"./src/components/VDatePicker/util/pad.ts"),c=n(/*! ../../util/mixins */"./src/util/mixins.ts"),l=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},u=Object(s["createRange"])(24),d=Object(s["createRange"])(12),h=d.map((function(t){return t+12})),p=Object(s["createRange"])(60),f={hour:1,minute:2,second:3},m={1:"hour",2:"minute",3:"second"};e["default"]=Object(c["default"])(o["default"]).extend({name:"v-time-picker",props:{allowedHours:Function,allowedMinutes:Function,allowedSeconds:Function,disabled:Boolean,format:{type:String,default:"ampm",validator:function(t){return["ampm","24hr"].includes(t)}},min:String,max:String,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,value:null},data:function(){return{inputHour:null,inputMinute:null,inputSecond:null,lazyInputHour:null,lazyInputMinute:null,lazyInputSecond:null,period:"am",selecting:f.hour}},computed:{selectingHour:{get:function(){return this.selecting===f.hour},set:function(t){this.selecting=f.hour}},selectingMinute:{get:function(){return this.selecting===f.minute},set:function(t){this.selecting=f.minute}},selectingSecond:{get:function(){return this.selecting===f.second},set:function(t){this.selecting=f.second}},isAllowedHourCb:function(){var t=this;if(!this.min&&!this.max)return this.allowedHours;var e=this.min?Number(this.min.split(":")[0]):0,n=this.max?Number(this.max.split(":")[0]):23;return function(i){return i>=1*e&&i<=1*n&&(!t.allowedHours||t.allowedHours(i))}},isAllowedMinuteCb:function(){var t=this,e=!this.allowedHours||this.allowedHours(this.inputHour);if(!this.min&&!this.max)return e?this.allowedMinutes:function(){return!1};var n=l(this.min?this.min.split(":").map(Number):[0,0],2),i=n[0],r=n[1],o=l(this.max?this.max.split(":").map(Number):[23,59],2),s=o[0],a=o[1],c=60*i+1*r,u=60*s+1*a;return function(n){var i=60*t.inputHour+n;return i>=c&&i<=u&&e&&(!t.allowedMinutes||t.allowedMinutes(n))}},isAllowedSecondCb:function(){var t=this,e=!this.allowedHours||this.allowedHours(this.inputHour),n=!this.allowedMinutes||this.allowedMinutes(this.inputMinute);if(!this.min&&!this.max)return e&&n?this.allowedSeconds:function(){return!1};var i=l(this.min?this.min.split(":").map(Number):[0,0,0],3),r=i[0],o=i[1],s=i[2],a=l(this.max?this.max.split(":").map(Number):[23,59,59],3),c=a[0],u=a[1],d=a[2],h=3600*r+60*o+1*(s||0),p=3600*c+60*u+1*(d||0);return function(i){var r=3600*t.inputHour+60*t.inputMinute+i;return r>=h&&r<=p&&e&&n&&(!t.allowedSeconds||t.allowedSeconds(i))}},isAmPm:function(){return"ampm"===this.format}},watch:{value:"setInputData"},mounted:function(){this.setInputData(this.value)},methods:{genValue:function(){return null==this.inputHour||null==this.inputMinute||this.useSeconds&&null==this.inputSecond?null:Object(a["default"])(this.inputHour)+":"+Object(a["default"])(this.inputMinute)+(this.useSeconds?":"+Object(a["default"])(this.inputSecond):"")},emitValue:function(){var t=this.genValue();null!==t&&this.$emit("input",t)},setPeriod:function(t){if(this.period=t,null!=this.inputHour){var e=this.inputHour+("am"===t?-12:12);this.inputHour=this.firstAllowed("hour",e),this.emitValue()}},setInputData:function(t){if(null==t||""===t)this.inputHour=null,this.inputMinute=null,this.inputSecond=null;else if(t instanceof Date)this.inputHour=t.getHours(),this.inputMinute=t.getMinutes(),this.inputSecond=t.getSeconds();else{var e=l(t.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6),6),n=e[1],i=e[2],r=e[4],o=e[5];this.inputHour=o?this.convert12to24(parseInt(n,10),o):parseInt(n,10),this.inputMinute=parseInt(i,10),this.inputSecond=parseInt(r||0,10)}this.period=null==this.inputHour||this.inputHour<12?"am":"pm"},convert24to12:function(t){return t?(t-1)%12+1:12},convert12to24:function(t,e){return t%12+("pm"===e?12:0)},onInput:function(t){this.selecting===f.hour?this.inputHour=this.isAmPm?this.convert12to24(t,this.period):t:this.selecting===f.minute?this.inputMinute=t:this.inputSecond=t,this.emitValue()},onChange:function(t){this.$emit("click:"+m[this.selecting],t);var e=this.selecting===(this.useSeconds?f.second:f.minute);if(this.selecting===f.hour?this.selecting=f.minute:this.useSeconds&&this.selecting===f.minute&&(this.selecting=f.second),this.inputHour!==this.lazyInputHour||this.inputMinute!==this.lazyInputMinute||this.useSeconds&&this.inputSecond!==this.lazyInputSecond){var n=this.genValue();null!==n&&(this.lazyInputHour=this.inputHour,this.lazyInputMinute=this.inputMinute,this.useSeconds&&(this.lazyInputSecond=this.inputSecond),e&&this.$emit("change",n))}},firstAllowed:function(t,e){var n="hour"===t?this.isAllowedHourCb:"minute"===t?this.isAllowedMinuteCb:this.isAllowedSecondCb;if(!n)return e;var i="minute"===t||"second"===t?p:this.isAmPm?e<12?d:h:u,r=i.find((function(t){return n((t+e)%i.length+i[0])}));return((r||0)+e)%i.length+i[0]},genClock:function(){return this.$createElement(r["default"],{props:{allowedValues:this.selecting===f.hour?this.isAllowedHourCb:this.selecting===f.minute?this.isAllowedMinuteCb:this.isAllowedSecondCb,color:this.color,dark:this.dark,disabled:this.disabled,double:this.selecting===f.hour&&!this.isAmPm,format:this.selecting===f.hour?this.isAmPm?this.convert24to12:function(t){return t}:function(t){return Object(a["default"])(t,2)},light:this.light,max:this.selecting===f.hour?this.isAmPm&&"am"===this.period?11:23:59,min:this.selecting===f.hour&&this.isAmPm&&"pm"===this.period?12:0,readonly:this.readonly,scrollable:this.scrollable,size:Number(this.width)-(!this.fullWidth&&this.landscape?80:20),step:this.selecting===f.hour?1:5,value:this.selecting===f.hour?this.inputHour:this.selecting===f.minute?this.inputMinute:this.inputSecond},on:{input:this.onInput,change:this.onChange},ref:"clock"})},genPickerBody:function(){return this.$createElement("div",{staticClass:"v-time-picker-clock__container",key:this.selecting},[this.genClock()])},genPickerTitle:function(){var t=this;return this.$createElement(i["default"],{props:{ampm:this.isAmPm,disabled:this.disabled,hour:this.inputHour,minute:this.inputMinute,second:this.inputSecond,period:this.period,readonly:this.readonly,useSeconds:this.useSeconds,selecting:this.selecting},on:{"update:selecting":function(e){return t.selecting=e},"update:period":this.setPeriod},ref:"title",slot:"title"})}},render:function(){return this.genPicker("v-picker--time")}})},"./src/components/VTimePicker/VTimePickerClock.ts":
/*!********************************************************!*\
  !*** ./src/components/VTimePicker/VTimePickerClock.ts ***!
  \********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_time-picker-clock.styl */"./src/stylus/components/_time-picker-clock.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};e["default"]=Object(o["default"])(i["default"],r["default"]).extend({name:"v-time-picker-clock",props:{allowedValues:Function,disabled:Boolean,double:Boolean,format:{type:Function,default:function(t){return t}},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},value:Number},data:function(){return{inputValue:this.value,isDragging:!1,valueOnMouseDown:null,valueOnMouseUp:null}},computed:{count:function(){return this.max-this.min+1},degreesPerUnit:function(){return 360/this.roundCount},degrees:function(){return this.degreesPerUnit*Math.PI/180},displayedValue:function(){return null==this.value?this.min:this.value},innerRadiusScale:function(){return.62},roundCount:function(){return this.double?this.count/2:this.count}},watch:{value:function(t){this.inputValue=t}},methods:{wheel:function(t){t.preventDefault();var e=Math.sign(-t.deltaY||1),n=this.displayedValue;do{n+=e,n=(n-this.min+this.count)%this.count+this.min}while(!this.isAllowed(n)&&n!==this.displayedValue);n!==this.displayedValue&&this.update(n)},isInner:function(t){return this.double&&t-this.min>=this.roundCount},handScale:function(t){return this.isInner(t)?this.innerRadiusScale:1},isAllowed:function(t){return!this.allowedValues||this.allowedValues(t)},genValues:function(){for(var t=[],e=this.min;e<=this.max;e+=this.step){var n=e===this.value&&(this.color||"accent");t.push(this.$createElement("span",this.setBackgroundColor(n,{staticClass:"v-time-picker-clock__item",class:{"v-time-picker-clock__item--active":e===this.displayedValue,"v-time-picker-clock__item--disabled":this.disabled||!this.isAllowed(e)},style:this.getTransform(e),domProps:{innerHTML:"<span>"+this.format(e)+"</span>"}})))}return t},genHand:function(){var t="scaleY("+this.handScale(this.displayedValue)+")",e=this.rotate+this.degreesPerUnit*(this.displayedValue-this.min),n=null!=this.value&&(this.color||"accent");return this.$createElement("div",this.setBackgroundColor(n,{staticClass:"v-time-picker-clock__hand",class:{"v-time-picker-clock__hand--inner":this.isInner(this.value)},style:{transform:"rotate("+e+"deg) "+t}}))},getTransform:function(t){var e=this.getPosition(t),n=e.x,i=e.y;return{left:50+50*n+"%",top:50+50*i+"%"}},getPosition:function(t){var e=this.rotate*Math.PI/180;return{x:Math.sin((t-this.min)*this.degrees+e)*this.handScale(t),y:-Math.cos((t-this.min)*this.degrees+e)*this.handScale(t)}},onMouseDown:function(t){t.preventDefault(),this.valueOnMouseDown=null,this.valueOnMouseUp=null,this.isDragging=!0,this.onDragMove(t)},onMouseUp:function(){this.isDragging=!1,null!==this.valueOnMouseUp&&this.isAllowed(this.valueOnMouseUp)&&this.$emit("change",this.valueOnMouseUp)},onDragMove:function(t){if(t.preventDefault(),this.isDragging||"click"===t.type){var e,n=this.$refs.clock.getBoundingClientRect(),i=n.width,r=n.top,o=n.left,s=this.$refs.innerClock.getBoundingClientRect().width,a="touches"in t?t.touches[0]:t,c=a.clientX,l=a.clientY,u={x:i/2,y:-i/2},d={x:c-o,y:r-l},h=Math.round(this.angle(u,d)-this.rotate+360)%360,p=this.double&&this.euclidean(u,d)<(s+s*this.innerRadiusScale)/4,f=(Math.round(h/this.degreesPerUnit)+(p?this.roundCount:0))%this.count+this.min;e=h>=360-this.degreesPerUnit/2?p?this.max-this.roundCount+1:this.min:f,this.isAllowed(f)&&(null===this.valueOnMouseDown&&(this.valueOnMouseDown=e),this.valueOnMouseUp=e,this.update(e))}},update:function(t){this.inputValue!==t&&(this.inputValue=t,this.$emit("input",t))},euclidean:function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},angle:function(t,e){var n=2*Math.atan2(e.y-t.y-this.euclidean(t,e),e.x-t.x);return Math.abs(180*n/Math.PI)}},render:function(t){var e=this,n={staticClass:"v-time-picker-clock",class:s({"v-time-picker-clock--indeterminate":null==this.value},this.themeClasses),on:this.readonly||this.disabled?void 0:Object.assign({mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseleave:function(){return e.isDragging&&e.onMouseUp()},touchstart:this.onMouseDown,touchend:this.onMouseUp,mousemove:this.onDragMove,touchmove:this.onDragMove},this.scrollable?{wheel:this.wheel}:{}),ref:"clock"};return t("div",n,[t("div",{staticClass:"v-time-picker-clock__inner",ref:"innerClock"},[this.genHand(),this.genValues()])])}})},"./src/components/VTimePicker/VTimePickerTitle.ts":
/*!********************************************************!*\
  !*** ./src/components/VTimePicker/VTimePickerTitle.ts ***!
  \********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_time-picker-title.styl */"./src/stylus/components/_time-picker-title.styl");var i=n(/*! ../../mixins/picker-button */"./src/mixins/picker-button.ts"),r=n(/*! ../VDatePicker/util */"./src/components/VDatePicker/util/index.ts"),o=n(/*! ../../util/mixins */"./src/util/mixins.ts"),s=n(/*! ./VTimePicker */"./src/components/VTimePicker/VTimePicker.ts");e["default"]=Object(o["default"])(i["default"]).extend({name:"v-time-picker-title",props:{ampm:Boolean,disabled:Boolean,hour:Number,minute:Number,second:Number,period:{type:String,validator:function(t){return"am"===t||"pm"===t}},readonly:Boolean,useSeconds:Boolean,selecting:Number},methods:{genTime:function(){var t=this.hour;this.ampm&&(t=t?(t-1)%12+1:12);var e=null==this.hour?"--":this.ampm?String(t):Object(r["pad"])(t),n=null==this.minute?"--":Object(r["pad"])(this.minute),i=[this.genPickerButton("selecting",s["selectingTimes"].hour,e,this.disabled),this.$createElement("span",":"),this.genPickerButton("selecting",s["selectingTimes"].minute,n,this.disabled)];if(this.useSeconds){var o=null==this.second?"--":Object(r["pad"])(this.second);i.push(this.$createElement("span",":")),i.push(this.genPickerButton("selecting",s["selectingTimes"].second,o,this.disabled))}return this.$createElement("div",{class:"v-time-picker-title__time"},i)},genAmPm:function(){return this.$createElement("div",{staticClass:"v-time-picker-title__ampm"},[this.genPickerButton("period","am","am",this.disabled||this.readonly),this.genPickerButton("period","pm","pm",this.disabled||this.readonly)])}},render:function(t){var e=[this.genTime()];return this.ampm&&e.push(this.genAmPm()),t("div",{staticClass:"v-time-picker-title"},e)}})},"./src/components/VTimePicker/index.ts":
/*!*********************************************!*\
  !*** ./src/components/VTimePicker/index.ts ***!
  \*********************************************/
/*! exports provided: VTimePicker, VTimePickerClock, VTimePickerTitle, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTimePicker */"./src/components/VTimePicker/VTimePicker.ts");n.d(e,"VTimePicker",(function(){return i["default"]}));var r=n(/*! ./VTimePickerClock */"./src/components/VTimePicker/VTimePickerClock.ts");n.d(e,"VTimePickerClock",(function(){return r["default"]}));var o=n(/*! ./VTimePickerTitle */"./src/components/VTimePicker/VTimePickerTitle.ts");n.d(e,"VTimePickerTitle",(function(){return o["default"]})),e["default"]={$_vuetify_subcomponents:{VTimePicker:i["default"],VTimePickerClock:r["default"],VTimePickerTitle:o["default"]}}},"./src/components/VTimeline/VTimeline.ts":
/*!***********************************************!*\
  !*** ./src/components/VTimeline/VTimeline.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_timeline.styl */"./src/stylus/components/_timeline.styl");var i=n(/*! ../../util/mixins */"./src/util/mixins.ts"),r=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};e["default"]=Object(i["default"])(r["default"]).extend({name:"v-timeline",props:{alignTop:Boolean,dense:Boolean},computed:{classes:function(){return o({"v-timeline--align-top":this.alignTop,"v-timeline--dense":this.dense},this.themeClasses)}},render:function(t){return t("div",{staticClass:"v-timeline",class:this.classes},this.$slots.default)}})},"./src/components/VTimeline/VTimelineItem.ts":
/*!***************************************************!*\
  !*** ./src/components/VTimeline/VTimelineItem.ts ***!
  \***************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../util/mixins */"./src/util/mixins.ts"),r=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),o=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),s=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)};e["default"]=Object(i["default"])(s["default"],o["default"]).extend({name:"v-timeline-item",props:{color:{type:String,default:"primary"},fillDot:Boolean,hideDot:Boolean,icon:String,iconColor:String,large:Boolean,left:Boolean,right:Boolean,small:Boolean},computed:{hasIcon:function(){return!!this.icon||!!this.$slots.icon}},methods:{genBody:function(){return this.$createElement("div",{staticClass:"v-timeline-item__body"},this.$slots.default)},genIcon:function(){return this.$slots.icon?this.$slots.icon:this.$createElement(r["default"],{props:{color:this.iconColor,dark:!this.theme.isDark,small:this.small}},this.icon)},genInnerDot:function(){var t=this.setBackgroundColor(this.color);return this.$createElement("div",a({staticClass:"v-timeline-item__inner-dot"},t),[this.hasIcon&&this.genIcon()])},genDot:function(){return this.$createElement("div",{staticClass:"v-timeline-item__dot",class:{"v-timeline-item__dot--small":this.small,"v-timeline-item__dot--large":this.large}},[this.genInnerDot()])},genOpposite:function(){return this.$createElement("div",{staticClass:"v-timeline-item__opposite"},this.$slots.opposite)}},render:function(t){var e=[this.genBody()];return this.hideDot||e.unshift(this.genDot()),this.$slots.opposite&&e.push(this.genOpposite()),t("div",{staticClass:"v-timeline-item",class:a({"v-timeline-item--fill-dot":this.fillDot,"v-timeline-item--left":this.left,"v-timeline-item--right":this.right},this.themeClasses)},e)}})},"./src/components/VTimeline/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VTimeline/index.ts ***!
  \*******************************************/
/*! exports provided: VTimeline, VTimelineItem, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTimeline */"./src/components/VTimeline/VTimeline.ts");n.d(e,"VTimeline",(function(){return i["default"]}));var r=n(/*! ./VTimelineItem */"./src/components/VTimeline/VTimelineItem.ts");n.d(e,"VTimelineItem",(function(){return r["default"]})),e["default"]={$_vuetify_subcomponents:{VTimeline:i["default"],VTimelineItem:r["default"]}}},"./src/components/VToolbar/VToolbar.ts":
/*!*********************************************!*\
  !*** ./src/components/VToolbar/VToolbar.ts ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_toolbar.styl */"./src/stylus/components/_toolbar.styl");var i=n(/*! ../../mixins/applicationable */"./src/mixins/applicationable.ts"),r=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),o=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),s=n(/*! ../../mixins/ssr-bootable */"./src/mixins/ssr-bootable.ts"),a=n(/*! ../../directives/scroll */"./src/directives/scroll.ts"),c=n(/*! ../../util/console */"./src/util/console.ts"),l=n(/*! ../../util/mixins */"./src/util/mixins.ts"),u=function(){return u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},u.apply(this,arguments)};e["default"]=Object(l["default"])(Object(i["default"])("top",["clippedLeft","clippedRight","computedHeight","invertedScroll","manualScroll"]),r["default"],s["default"],o["default"]).extend({name:"v-toolbar",directives:{Scroll:a["default"]},props:{card:Boolean,clippedLeft:Boolean,clippedRight:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{type:[Number,String],validator:function(t){return!isNaN(parseInt(t))}},flat:Boolean,floating:Boolean,height:{type:[Number,String],validator:function(t){return!isNaN(parseInt(t))}},invertedScroll:Boolean,manualScroll:Boolean,prominent:Boolean,scrollOffScreen:Boolean,scrollToolbarOffScreen:Boolean,scrollTarget:String,scrollThreshold:{type:Number,default:300},tabs:Boolean},data:function(){return{activeTimeout:null,currentScroll:0,heights:{mobileLandscape:48,mobile:56,desktop:64,dense:48},isActive:!0,isExtended:!1,isScrollingUp:!1,previousScroll:0,savedScroll:0,target:null}},computed:{canScroll:function(){return this.scrollToolbarOffScreen?(Object(c["deprecate"])("scrollToolbarOffScreen","scrollOffScreen",this),!0):this.scrollOffScreen||this.invertedScroll},computedContentHeight:function(){return this.height?parseInt(this.height):this.dense?this.heights.dense:this.prominent||this.$vuetify.breakpoint.mdAndUp?this.heights.desktop:this.$vuetify.breakpoint.smAndDown&&this.$vuetify.breakpoint.width>this.$vuetify.breakpoint.height?this.heights.mobileLandscape:this.heights.mobile},computedExtensionHeight:function(){return this.tabs?48:this.extensionHeight?parseInt(this.extensionHeight):this.computedContentHeight},computedHeight:function(){return this.isExtended?this.computedContentHeight+this.computedExtensionHeight:this.computedContentHeight},computedMarginTop:function(){return this.app?this.$vuetify.application.bar:0},classes:function(){return u({"v-toolbar":!0,"elevation-0":this.flat||!this.isActive&&!this.tabs&&this.canScroll,"v-toolbar--absolute":this.absolute,"v-toolbar--card":this.card,"v-toolbar--clipped":this.clippedLeft||this.clippedRight,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--fixed":!this.absolute&&(this.app||this.fixed),"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.prominent},this.themeClasses)},computedPaddingLeft:function(){return!this.app||this.clippedLeft?0:this.$vuetify.application.left},computedPaddingRight:function(){return!this.app||this.clippedRight?0:this.$vuetify.application.right},computedTransform:function(){return this.isActive?0:this.canScroll?-this.computedContentHeight:-this.computedHeight},currentThreshold:function(){return Math.abs(this.currentScroll-this.savedScroll)},styles:function(){return{marginTop:this.computedMarginTop+"px",paddingRight:this.computedPaddingRight+"px",paddingLeft:this.computedPaddingLeft+"px",transform:"translateY("+this.computedTransform+"px)"}}},watch:{currentThreshold:function(t){this.invertedScroll?this.isActive=this.currentScroll>this.scrollThreshold:t<this.scrollThreshold||!this.isBooted||(this.isActive=this.isScrollingUp,this.savedScroll=this.currentScroll)},isActive:function(){this.savedScroll=0},invertedScroll:function(t){this.isActive=!t},manualScroll:function(t){this.isActive=!t},isScrollingUp:function(){this.savedScroll=this.savedScroll||this.currentScroll}},created:function(){(this.invertedScroll||this.manualScroll)&&(this.isActive=!1)},mounted:function(){this.scrollTarget&&(this.target=document.querySelector(this.scrollTarget))},methods:{onScroll:function(){this.canScroll&&!this.manualScroll&&"undefined"!==typeof window&&(this.currentScroll=this.target?this.target.scrollTop:window.pageYOffset,this.isScrollingUp=this.currentScroll<this.previousScroll,this.previousScroll=this.currentScroll)},updateApplication:function(){return this.invertedScroll||this.manualScroll?0:this.computedHeight}},render:function(t){this.isExtended=this.extended||!!this.$slots.extension;var e=[],n=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return n.directives=[{arg:this.scrollTarget,name:"scroll",value:this.onScroll}],e.push(t("div",{staticClass:"v-toolbar__content",style:{height:this.computedContentHeight+"px"},ref:"content"},this.$slots.default)),this.isExtended&&e.push(t("div",{staticClass:"v-toolbar__extension",style:{height:this.computedExtensionHeight+"px"}},this.$slots.extension)),t("nav",n,e)}})},"./src/components/VToolbar/VToolbarSideIcon.ts":
/*!*****************************************************!*\
  !*** ./src/components/VToolbar/VToolbarSideIcon.ts ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../VBtn */"./src/components/VBtn/index.ts"),r=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),o=n(/*! vue */"vue"),s=n.n(o);e["default"]=s.a.extend({name:"v-toolbar-side-icon",functional:!0,render:function(t,e){var n=e.slots,o=e.listeners,s=e.props,a=e.data,c=a.staticClass?a.staticClass+" v-toolbar__side-icon":"v-toolbar__side-icon",l=Object.assign(a,{staticClass:c,props:Object.assign(s,{icon:!0}),on:o}),u=n().default;return t(i["default"],l,u||[t(r["default"],"$vuetify.icons.menu")])}})},"./src/components/VToolbar/index.ts":
/*!******************************************!*\
  !*** ./src/components/VToolbar/index.ts ***!
  \******************************************/
/*! exports provided: VToolbar, VToolbarSideIcon, VToolbarTitle, VToolbarItems, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VToolbarTitle",(function(){return s})),n.d(e,"VToolbarItems",(function(){return a}));var i=n(/*! ../../util/helpers */"./src/util/helpers.ts"),r=n(/*! ./VToolbar */"./src/components/VToolbar/VToolbar.ts");n.d(e,"VToolbar",(function(){return r["default"]}));var o=n(/*! ./VToolbarSideIcon */"./src/components/VToolbar/VToolbarSideIcon.ts");n.d(e,"VToolbarSideIcon",(function(){return o["default"]}));var s=Object(i["createSimpleFunctional"])("v-toolbar__title"),a=Object(i["createSimpleFunctional"])("v-toolbar__items");e["default"]={$_vuetify_subcomponents:{VToolbar:r["default"],VToolbarItems:a,VToolbarTitle:s,VToolbarSideIcon:o["default"]}}},"./src/components/VTooltip/VTooltip.js":
/*!*********************************************!*\
  !*** ./src/components/VTooltip/VTooltip.js ***!
  \*********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_tooltips.styl */"./src/stylus/components/_tooltips.styl");var i=n(/*! ../../mixins/colorable */"./src/mixins/colorable.ts"),r=n(/*! ../../mixins/delayable */"./src/mixins/delayable.ts"),o=n(/*! ../../mixins/dependent */"./src/mixins/dependent.ts"),s=n(/*! ../../mixins/detachable */"./src/mixins/detachable.js"),a=n(/*! ../../mixins/menuable */"./src/mixins/menuable.js"),c=n(/*! ../../mixins/toggleable */"./src/mixins/toggleable.ts"),l=n(/*! ../../util/helpers */"./src/util/helpers.ts"),u=n(/*! ../../util/console */"./src/util/console.ts");e["default"]={name:"v-tooltip",mixins:[i["default"],r["default"],o["default"],s["default"],a["default"],c["default"]],props:{closeDelay:{type:[Number,String],default:200},debounce:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:200},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,n=t.content,i=!this.bottom&&!this.left&&!this.top&&!this.right,r=this.isAttached?e.offsetLeft:e.left,o=0;return this.top||this.bottom||i?o=r+e.width/2-n.width/2:(this.left||this.right)&&(o=r+(this.right?e.width:-n.width)+(this.right?10:-10)),this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),this.calcXOverflow(o,this.dimensions.content.width)+"px"},calculatedTop:function(){var t=this.dimensions,e=t.activator,n=t.content,i=this.isAttached?e.offsetTop:e.top,r=0;return this.top||this.bottom?r=i+(this.bottom?e.height:-n.height)+(this.bottom?10:-10):(this.left||this.right)&&(r=i+e.height/2-n.height/2),this.nudgeTop&&(r-=parseInt(this.nudgeTop)),this.nudgeBottom&&(r+=parseInt(this.nudgeBottom)),this.calcYOverflow(r+this.pageYOffset)+"px"},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left}},computedTransition:function(){return this.transition?this.transition:this.top?"slide-y-reverse-transition":this.right?"slide-x-transition":this.bottom?"slide-y-transition":this.left?"slide-x-reverse-transition":""},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(l["convertToUnit"])(this.maxWidth),minWidth:Object(l["convertToUnit"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(l["getSlotType"])(this,"activator",!0)&&Object(u["consoleError"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},genActivator:function(){var t=this,e=this.disabled?{}:{mouseenter:function(e){t.getActivator(e),t.runDelay("open")},mouseleave:function(e){t.getActivator(e),t.runDelay("close")}};if("scoped"===Object(l["getSlotType"])(this,"activator")){var n=this.$scopedSlots.activator({on:e});return this.activatorNode=n,n}return this.$createElement("span",{on:e,ref:"activator"},this.$slots.activator)}},render:function(t){var e,n=t("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(e={},e[this.contentClass]=!0,e["menuable__content__active"]=this.isActive,e["v-tooltip__content--fixed"]=this.activatorFixed,e),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.showLazyContent(this.$slots.default));return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[t("transition",{props:{name:this.computedTransition}},[n]),this.genActivator()])}}},"./src/components/VTooltip/index.js":
/*!******************************************!*\
  !*** ./src/components/VTooltip/index.js ***!
  \******************************************/
/*! exports provided: VTooltip, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTooltip */"./src/components/VTooltip/VTooltip.js");n.d(e,"VTooltip",(function(){return i["default"]})),e["default"]=i["default"]},"./src/components/VTreeview/VTreeview.ts":
/*!***********************************************!*\
  !*** ./src/components/VTreeview/VTreeview.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_treeview.styl */"./src/stylus/components/_treeview.styl");var i=n(/*! ./VTreeviewNode */"./src/components/VTreeview/VTreeviewNode.ts"),r=n(/*! ../../mixins/themeable */"./src/mixins/themeable.ts"),o=n(/*! ../../mixins/registrable */"./src/mixins/registrable.ts"),s=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=n(/*! ../../util/console */"./src/util/console.ts"),l=n(/*! ./util/filterTreeItems */"./src/components/VTreeview/util/filterTreeItems.ts"),u=function(){return u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},u.apply(this,arguments)},d=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t},p=function(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};e["default"]=Object(a["default"])(Object(o["provide"])("treeview"),r["default"]).extend({name:"v-treeview",provide:function(){return{treeview:this}},props:u({active:{type:Array,default:function(){return[]}},items:{type:Array,default:function(){return[]}},hoverable:Boolean,multipleActive:Boolean,open:{type:Array,default:function(){return[]}},openAll:Boolean,returnObject:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},search:String,filter:Function},i["VTreeviewNodeProps"]),data:function(){return{nodes:{},selectedCache:new Set,activeCache:new Set,openCache:new Set}},computed:{excludedItems:function(){var t=new Set;if(!this.search)return t;for(var e=0;e<this.items.length;e++)Object(l["filterTreeItems"])(this.filter||l["filterTreeItem"],this.items[e],this.search,this.itemKey,this.itemText,this.itemChildren,t);return t}},watch:{items:{handler:function(){var t=this,e=Object.keys(this.nodes).map((function(e){return Object(s["getObjectValueByPath"])(t.nodes[e].item,t.itemKey)})),n=this.getKeys(this.items),i=Object(s["arrayDiff"])(n,e);if(i.length||!(n.length<e.length)){i.forEach((function(e){return delete t.nodes[e]}));var r=h(this.selectedCache);this.selectedCache=new Set,this.activeCache=new Set,this.openCache=new Set,this.buildTree(this.items),Object(s["deepEqual"])(r,h(this.selectedCache))||this.emitSelected()}},deep:!0},active:function(t){this.handleNodeCacheWatcher(t,this.activeCache,this.updateActive,this.emitActive)},value:function(t){this.handleNodeCacheWatcher(t,this.selectedCache,this.updateSelected,this.emitSelected)},open:function(t){this.handleNodeCacheWatcher(t,this.openCache,this.updateOpen,this.emitOpen)}},created:function(){var t=this;this.buildTree(this.items),this.value.forEach((function(e){return t.updateSelected(e,!0)})),this.emitSelected(),this.active.forEach((function(e){return t.updateActive(e,!0)})),this.emitActive()},mounted:function(){var t=this;(this.$slots.prepend||this.$slots.append)&&Object(c["consoleWarn"])("The prepend and append slots require a slot-scope attribute",this),this.openAll?this.updateAll(!0):(this.open.forEach((function(e){return t.updateOpen(e,!0)})),this.emitOpen())},methods:{updateAll:function(t){var e=this;Object.keys(this.nodes).forEach((function(n){return e.updateOpen(Object(s["getObjectValueByPath"])(e.nodes[n].item,e.itemKey),t)})),this.emitOpen()},getKeys:function(t,e){void 0===e&&(e=[]);for(var n=0;n<t.length;n++){var i=Object(s["getObjectValueByPath"])(t[n],this.itemKey);e.push(i);var r=Object(s["getObjectValueByPath"])(t[n],this.itemChildren);r&&e.push.apply(e,h(this.getKeys(r)))}return e},buildTree:function(t,e){var n=this;void 0===e&&(e=null);for(var i=0;i<t.length;i++){var r=t[i],o=Object(s["getObjectValueByPath"])(r,this.itemKey),a=Object(s["getObjectValueByPath"])(r,this.itemChildren,[]),c=this.nodes.hasOwnProperty(o)?this.nodes[o]:{isSelected:!1,isIndeterminate:!1,isActive:!1,isOpen:!1,vnode:null},l={vnode:c.vnode,parent:e,children:a.map((function(t){return Object(s["getObjectValueByPath"])(t,n.itemKey)})),item:r};this.buildTree(a,o),!this.nodes.hasOwnProperty(o)&&null!==e&&this.nodes.hasOwnProperty(e)?(l.isSelected=this.nodes[e].isSelected,l.isIndeterminate=this.nodes[e].isIndeterminate):(l.isSelected=c.isSelected,l.isIndeterminate=c.isIndeterminate),l.isActive=c.isActive,l.isOpen=c.isOpen,this.nodes[o]=a.length?this.calculateState(l,this.nodes):l,this.nodes[o].isSelected&&this.selectedCache.add(o),this.nodes[o].isActive&&this.activeCache.add(o),this.nodes[o].isOpen&&this.openCache.add(o),this.updateVnodeState(o)}},calculateState:function(t,e){var n=t.children.reduce((function(t,n){return t[0]+=+Boolean(e[n].isSelected),t[1]+=+Boolean(e[n].isIndeterminate),t}),[0,0]);return t.isSelected=!!t.children.length&&n[0]===t.children.length,t.isIndeterminate=!t.isSelected&&(n[0]>0||n[1]>0),t},emitOpen:function(){this.emitNodeCache("update:open",this.openCache)},emitSelected:function(){this.emitNodeCache("input",this.selectedCache)},emitActive:function(){this.emitNodeCache("update:active",this.activeCache)},emitNodeCache:function(t,e){var n=this;this.$emit(t,this.returnObject?h(e).map((function(t){return n.nodes[t].item})):h(e))},handleNodeCacheWatcher:function(t,e,n,i){var r=this;t=this.returnObject?t.map((function(t){return Object(s["getObjectValueByPath"])(t,r.itemKey)})):t;var o=h(e);Object(s["deepEqual"])(o,t)||(o.forEach((function(t){return n(t,!1)})),t.forEach((function(t){return n(t,!0)})),i())},getDescendants:function(t,e){void 0===e&&(e=[]);var n=this.nodes[t].children;e.push.apply(e,h(n));for(var i=0;i<n.length;i++)e=this.getDescendants(n[i],e);return e},getParents:function(t){var e=this.nodes[t].parent,n=[];while(null!==e)n.push(e),e=this.nodes[e].parent;return n},register:function(t){var e=Object(s["getObjectValueByPath"])(t.item,this.itemKey);this.nodes[e].vnode=t,this.updateVnodeState(e)},unregister:function(t){var e=Object(s["getObjectValueByPath"])(t.item,this.itemKey);this.nodes[e]&&(this.nodes[e].vnode=null)},updateActive:function(t,e){var n=this;if(this.nodes.hasOwnProperty(t)){this.multipleActive||this.activeCache.forEach((function(t){n.nodes[t].isActive=!1,n.updateVnodeState(t),n.activeCache.delete(t)}));var i=this.nodes[t];i&&(e?this.activeCache.add(t):this.activeCache.delete(t),i.isActive=e,this.updateVnodeState(t))}},updateSelected:function(t,e){var n,i,r=this;if(this.nodes.hasOwnProperty(t)){var o=new Map,s=h([t],this.getDescendants(t));s.forEach((function(t){r.nodes[t].isSelected=e,r.nodes[t].isIndeterminate=!1,o.set(t,e)}));var a=this.getParents(t);a.forEach((function(t){r.nodes[t]=r.calculateState(r.nodes[t],r.nodes),o.set(t,r.nodes[t].isSelected)}));var c=h([t],s,a);c.forEach(this.updateVnodeState);try{for(var l=p(o.entries()),u=l.next();!u.done;u=l.next()){var f=d(u.value,2),m=f[0],v=f[1];!0===v?this.selectedCache.add(m):this.selectedCache.delete(m)}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}},updateOpen:function(t,e){var n=this;if(this.nodes.hasOwnProperty(t)){var i=this.nodes[t],r=Object(s["getObjectValueByPath"])(i.item,this.itemChildren);r&&!r.length&&i.vnode&&!i.vnode.hasLoaded?i.vnode.checkChildren().then((function(){return n.updateOpen(t,e)})):r&&r.length&&(i.isOpen=e,i.isOpen?this.openCache.add(t):this.openCache.delete(t),this.updateVnodeState(t))}},updateVnodeState:function(t){var e=this.nodes[t];e&&e.vnode&&(e.vnode.isSelected=e.isSelected,e.vnode.isIndeterminate=e.isIndeterminate,e.vnode.isActive=e.isActive,e.vnode.isOpen=e.isOpen)},isExcluded:function(t){return!!this.search&&this.excludedItems.has(t)}},render:function(t){var e=this.items.length?this.items.map(i["default"].options.methods.genChild.bind(this)):this.$slots.default;return t("div",{staticClass:"v-treeview",class:u({"v-treeview--hoverable":this.hoverable},this.themeClasses)},e)}})},"./src/components/VTreeview/VTreeviewNode.ts":
/*!***************************************************!*\
  !*** ./src/components/VTreeview/VTreeviewNode.ts ***!
  \***************************************************/
/*! exports provided: VTreeviewNodeProps, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VTreeviewNodeProps",(function(){return u}));var i=n(/*! ../transitions */"./src/components/transitions/index.js"),r=n(/*! ../VIcon */"./src/components/VIcon/index.ts"),o=n(/*! ./VTreeviewNode */"./src/components/VTreeview/VTreeviewNode.ts"),s=n(/*! ../../mixins/registrable */"./src/mixins/registrable.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts"),c=n(/*! ../../util/helpers */"./src/util/helpers.ts"),l=function(){return l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)},u={activatable:Boolean,activeClass:{type:String,default:"v-treeview-node--active"},selectable:Boolean,selectedColor:{type:String,default:"accent"},indeterminateIcon:{type:String,default:"$vuetify.icons.checkboxIndeterminate"},onIcon:{type:String,default:"$vuetify.icons.checkboxOn"},offIcon:{type:String,default:"$vuetify.icons.checkboxOff"},expandIcon:{type:String,default:"$vuetify.icons.subgroup"},loadingIcon:{type:String,default:"$vuetify.icons.loading"},itemKey:{type:String,default:"id"},itemText:{type:String,default:"name"},itemChildren:{type:String,default:"children"},loadChildren:Function,openOnClick:Boolean,transition:Boolean};e["default"]=Object(a["default"])(Object(s["inject"])("treeview")).extend({name:"v-treeview-node",inject:{treeview:{default:null}},props:l({item:{type:Object,default:function(){return null}}},u),data:function(){return{isOpen:!1,isSelected:!1,isIndeterminate:!1,isActive:!1,isLoading:!1,hasLoaded:!1}},computed:{key:function(){return Object(c["getObjectValueByPath"])(this.item,this.itemKey)},children:function(){return Object(c["getObjectValueByPath"])(this.item,this.itemChildren)},text:function(){return Object(c["getObjectValueByPath"])(this.item,this.itemText)},scopedProps:function(){return{item:this.item,leaf:!this.children,selected:this.isSelected,indeterminate:this.isIndeterminate,active:this.isActive,open:this.isOpen}},computedIcon:function(){return this.isIndeterminate?this.indeterminateIcon:this.isSelected?this.onIcon:this.offIcon},hasChildren:function(){return!!this.children&&(!!this.children.length||!!this.loadChildren)}},created:function(){this.treeview.register(this)},beforeDestroy:function(){this.treeview.unregister(this)},methods:{checkChildren:function(){var t=this;return new Promise((function(e){if(!t.children||t.children.length||!t.loadChildren||t.hasLoaded)return e();t.isLoading=!0,e(t.loadChildren(t.item))})).then((function(){t.isLoading=!1,t.hasLoaded=!0}))},open:function(){this.isOpen=!this.isOpen,this.treeview.updateOpen(this.key,this.isOpen),this.treeview.emitOpen()},genLabel:function(){var t=[];return this.$scopedSlots.label?t.push(this.$scopedSlots.label(this.scopedProps)):t.push(this.text),this.$createElement("div",{slot:"label",staticClass:"v-treeview-node__label"},t)},genContent:function(){var t=[this.$scopedSlots.prepend&&this.$scopedSlots.prepend(this.scopedProps),this.genLabel(),this.$scopedSlots.append&&this.$scopedSlots.append(this.scopedProps)];return this.$createElement("div",{staticClass:"v-treeview-node__content"},t)},genToggle:function(){var t=this;return this.$createElement(r["VIcon"],{staticClass:"v-treeview-node__toggle",class:{"v-treeview-node__toggle--open":this.isOpen,"v-treeview-node__toggle--loading":this.isLoading},slot:"prepend",on:{click:function(e){e.stopPropagation(),t.isLoading||t.checkChildren().then((function(){return t.open()}))}}},[this.isLoading?this.loadingIcon:this.expandIcon])},genCheckbox:function(){var t=this;return this.$createElement(r["VIcon"],{staticClass:"v-treeview-node__checkbox",props:{color:this.isSelected?this.selectedColor:void 0},on:{click:function(e){e.stopPropagation(),t.isLoading||t.checkChildren().then((function(){t.$nextTick((function(){t.isSelected=!t.isSelected,t.isIndeterminate=!1,t.treeview.updateSelected(t.key,t.isSelected),t.treeview.emitSelected()}))}))}}},[this.computedIcon])},genNode:function(){var t,e=this,n=[this.genContent()];return this.selectable&&n.unshift(this.genCheckbox()),this.hasChildren&&n.unshift(this.genToggle()),this.$createElement("div",{staticClass:"v-treeview-node__root",class:(t={},t[this.activeClass]=this.isActive,t),on:{click:function(){e.openOnClick&&e.children?e.open():e.activatable&&(e.isActive=!e.isActive,e.treeview.updateActive(e.key,e.isActive),e.treeview.emitActive())}}},n)},genChild:function(t){return this.$createElement(o["default"],{key:Object(c["getObjectValueByPath"])(t,this.itemKey),props:{activatable:this.activatable,activeClass:this.activeClass,item:t,selectable:this.selectable,selectedColor:this.selectedColor,expandIcon:this.expandIcon,indeterminateIcon:this.indeterminateIcon,offIcon:this.offIcon,onIcon:this.onIcon,loadingIcon:this.loadingIcon,itemKey:this.itemKey,itemText:this.itemText,itemChildren:this.itemChildren,loadChildren:this.loadChildren,transition:this.transition,openOnClick:this.openOnClick},scopedSlots:this.$scopedSlots})},genChildrenWrapper:function(){if(!this.isOpen||!this.children)return null;var t=[this.children.map(this.genChild)];return this.$createElement("div",{staticClass:"v-treeview-node__children"},t)},genTransition:function(){return this.$createElement(i["VExpandTransition"],[this.genChildrenWrapper()])}},render:function(t){var e=[this.genNode()];return this.transition?e.push(this.genTransition()):e.push(this.genChildrenWrapper()),t("div",{staticClass:"v-treeview-node",class:{"v-treeview-node--leaf":!this.hasChildren,"v-treeview-node--click":this.openOnClick,"v-treeview-node--selected":this.isSelected,"v-treeview-node--excluded":this.treeview.isExcluded(this.key)}},e)}})},"./src/components/VTreeview/index.ts":
/*!*******************************************!*\
  !*** ./src/components/VTreeview/index.ts ***!
  \*******************************************/
/*! exports provided: VTreeview, VTreeviewNode, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VTreeview */"./src/components/VTreeview/VTreeview.ts");n.d(e,"VTreeview",(function(){return i["default"]}));var r=n(/*! ./VTreeviewNode */"./src/components/VTreeview/VTreeviewNode.ts");n.d(e,"VTreeviewNode",(function(){return r["default"]})),e["default"]={$_vuetify_subcomponents:{VTreeview:i["default"],VTreeviewNode:r["default"]}}},"./src/components/VTreeview/util/filterTreeItems.ts":
/*!**********************************************************!*\
  !*** ./src/components/VTreeview/util/filterTreeItems.ts ***!
  \**********************************************************/
/*! exports provided: filterTreeItem, filterTreeItems */function(t,e,n){"use strict";n.r(e),n.d(e,"filterTreeItem",(function(){return r})),n.d(e,"filterTreeItems",(function(){return o}));var i=n(/*! ../../../util/helpers */"./src/util/helpers.ts");function r(t,e,n){var r=Object(i["getObjectValueByPath"])(t,n);return r.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}function o(t,e,n,r,s,a,c){if(t(e,n,s))return!0;var l=Object(i["getObjectValueByPath"])(e,a);if(l){for(var u=!1,d=0;d<l.length;d++)o(t,l[d],n,r,s,a,c)&&(u=!0);if(u)return!0}return c.add(Object(i["getObjectValueByPath"])(e,r)),!1}},"./src/components/VWindow/VWindow.ts":
/*!*******************************************!*\
  !*** ./src/components/VWindow/VWindow.ts ***!
  \*******************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../../stylus/components/_windows.styl */"./src/stylus/components/_windows.styl");var i=n(/*! ../VItemGroup/VItemGroup */"./src/components/VItemGroup/VItemGroup.ts"),r=n(/*! ../../directives/touch */"./src/directives/touch.ts");e["default"]=i["BaseItemGroup"].extend({name:"v-window",provide:function(){return{windowGroup:this}},directives:{Touch:r["default"]},props:{mandatory:{type:Boolean,default:!0},reverse:{type:Boolean,default:void 0},touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data:function(){return{internalHeight:void 0,isActive:!1,isBooted:!1,isReverse:!1}},computed:{computedTransition:function(){if(!this.isBooted)return"";var t=this.vertical?"y":"x",e=this.internalReverse===!this.$vuetify.rtl?"-reverse":"";return"v-window-"+t+e+"-transition"},internalIndex:function(){var t=this;return this.items.findIndex((function(e,n){return t.internalValue===t.getValue(e,n)}))},internalReverse:function(){return void 0!==this.reverse?this.reverse:this.isReverse}},watch:{internalIndex:"updateReverse"},mounted:function(){var t=this;this.$nextTick((function(){return t.isBooted=!0}))},methods:{genContainer:function(){return this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight}},this.$slots.default)},next:function(){this.isReverse=!1;var t=(this.internalIndex+1)%this.items.length,e=this.items[t];this.internalValue=this.getValue(e,t)},prev:function(){this.isReverse=!0;var t=(this.internalIndex+this.items.length-1)%this.items.length,e=this.items[t];this.internalValue=this.getValue(e,t)},updateReverse:function(t,e){this.isReverse=t<e}},render:function(t){var e={staticClass:"v-window",directives:[]};if(!this.touchless){var n=this.touch||{left:this.next,right:this.prev};e.directives.push({name:"touch",value:n})}return t("div",e,[this.genContainer()])}})},"./src/components/VWindow/VWindowItem.ts":
/*!***********************************************!*\
  !*** ./src/components/VWindow/VWindowItem.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../mixins/bootable */"./src/mixins/bootable.ts"),r=n(/*! ../../mixins/groupable */"./src/mixins/groupable.ts"),o=n(/*! ../../directives/touch */"./src/directives/touch.ts"),s=n(/*! ../../util/helpers */"./src/util/helpers.ts"),a=n(/*! ../../util/mixins */"./src/util/mixins.ts");e["default"]=Object(a["default"])(i["default"],Object(r["factory"])("windowGroup","v-window-item","v-window")).extend({name:"v-window-item",directives:{Touch:o["default"]},props:{reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data:function(){return{done:null,isActive:!1,wasCancelled:!1}},computed:{computedTransition:function(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},mounted:function(){this.$el.addEventListener("transitionend",this.onTransitionEnd,!1)},beforeDestroy:function(){this.$el.removeEventListener("transitionend",this.onTransitionEnd,!1)},methods:{genDefaultSlot:function(){return this.$slots.default},onAfterEnter:function(){var t=this;this.wasCancelled?this.wasCancelled=!1:requestAnimationFrame((function(){t.windowGroup.internalHeight=void 0,t.windowGroup.isActive=!1}))},onBeforeEnter:function(){this.windowGroup.isActive=!0},onLeave:function(t){this.windowGroup.internalHeight=Object(s["convertToUnit"])(t.clientHeight)},onEnterCancelled:function(){this.wasCancelled=!0},onEnter:function(t,e){var n=this,i=this.windowGroup.isBooted;i&&(this.done=e),requestAnimationFrame((function(){if(!n.computedTransition)return e();n.windowGroup.internalHeight=Object(s["convertToUnit"])(t.clientHeight),!i&&setTimeout(e,100)}))},onTransitionEnd:function(t){"transform"===t.propertyName&&t.target===this.$el&&this.done&&(this.done(),this.done=null)}},render:function(t){var e=t("div",{staticClass:"v-window-item",directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.showLazyContent(this.genDefaultSlot()));return t("transition",{props:{name:this.computedTransition},on:{afterEnter:this.onAfterEnter,beforeEnter:this.onBeforeEnter,leave:this.onLeave,enter:this.onEnter,enterCancelled:this.onEnterCancelled}},[e])}})},"./src/components/VWindow/index.ts":
/*!*****************************************!*\
  !*** ./src/components/VWindow/index.ts ***!
  \*****************************************/
/*! exports provided: VWindow, VWindowItem, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VWindow */"./src/components/VWindow/VWindow.ts");n.d(e,"VWindow",(function(){return i["default"]}));var r=n(/*! ./VWindowItem */"./src/components/VWindow/VWindowItem.ts");n.d(e,"VWindowItem",(function(){return r["default"]})),e["default"]={$_vuetify_subcomponents:{VWindow:i["default"],VWindowItem:r["default"]}}},"./src/components/Vuetify/goTo/easing-patterns.ts":
/*!********************************************************!*\
  !*** ./src/components/Vuetify/goTo/easing-patterns.ts ***!
  \********************************************************/
/*! exports provided: linear, easeInQuad, easeOutQuad, easeInOutQuad, easeInCubic, easeOutCubic, easeInOutCubic, easeInQuart, easeOutQuart, easeInOutQuart, easeInQuint, easeOutQuint, easeInOutQuint */function(t,e,n){"use strict";n.r(e),n.d(e,"linear",(function(){return i})),n.d(e,"easeInQuad",(function(){return r})),n.d(e,"easeOutQuad",(function(){return o})),n.d(e,"easeInOutQuad",(function(){return s})),n.d(e,"easeInCubic",(function(){return a})),n.d(e,"easeOutCubic",(function(){return c})),n.d(e,"easeInOutCubic",(function(){return l})),n.d(e,"easeInQuart",(function(){return u})),n.d(e,"easeOutQuart",(function(){return d})),n.d(e,"easeInOutQuart",(function(){return h})),n.d(e,"easeInQuint",(function(){return p})),n.d(e,"easeOutQuint",(function(){return f})),n.d(e,"easeInOutQuint",(function(){return m}));var i=function(t){return t},r=function(t){return t*t},o=function(t){return t*(2-t)},s=function(t){return t<.5?2*t*t:(4-2*t)*t-1},a=function(t){return t*t*t},c=function(t){return--t*t*t+1},l=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},u=function(t){return t*t*t*t},d=function(t){return 1- --t*t*t*t},h=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},p=function(t){return t*t*t*t*t},f=function(t){return 1+--t*t*t*t*t},m=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},"./src/components/Vuetify/goTo/index.ts":
/*!**********************************************!*\
  !*** ./src/components/Vuetify/goTo/index.ts ***!
  \**********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return c}));var i=n(/*! ./easing-patterns */"./src/components/Vuetify/goTo/easing-patterns.ts"),r=n(/*! ./util */"./src/components/Vuetify/goTo/util.ts"),o=n(/*! vue */"vue"),s=n.n(o),a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)};function c(t,e){void 0===e&&(e={});var n=a({container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0},e),o=Object(r["getContainer"])(n.container);if(n.appOffset){var c=o.classList.contains("v-navigation-drawer"),l=o.classList.contains("v-navigation-drawer--clipped");n.offset+=s.a.prototype.$vuetify.application.bar,c&&!l||(n.offset+=s.a.prototype.$vuetify.application.top)}var u=performance.now(),d=Object(r["getOffset"])(t)-n.offset,h=o.scrollTop;if(d===h)return Promise.resolve(d);var p="function"===typeof n.easing?n.easing:i[n.easing];if(!p)throw new TypeError('Easing function "'+n.easing+'" not found.');return new Promise((function(t){return requestAnimationFrame((function e(i){var r=i-u,s=Math.abs(n.duration?Math.min(r/n.duration,1):1);o.scrollTop=Math.floor(h+(d-h)*p(s));var a=o===document.body?document.documentElement.clientHeight:o.clientHeight;if(1===s||a+o.scrollTop===o.scrollHeight)return t(d);requestAnimationFrame(e)}))}))}},"./src/components/Vuetify/goTo/util.ts":
/*!*********************************************!*\
  !*** ./src/components/Vuetify/goTo/util.ts ***!
  \*********************************************/
/*! exports provided: getOffset, getContainer */function(t,e,n){"use strict";function i(t){if("number"===typeof t)return t;var e=s(t);if(!e)throw"string"===typeof t?new Error('Target element "'+t+'" not found.'):new TypeError("Target must be a Number/Selector/HTMLElement/VueComponent, received "+o(t)+" instead.");var n=0;while(e)n+=e.offsetTop,e=e.offsetParent;return n}function r(t){var e=s(t);if(e)return e;throw"string"===typeof t?new Error('Container element "'+t+'" not found.'):new TypeError("Container must be a Selector/HTMLElement/VueComponent, received "+o(t)+" instead.")}function o(t){return null==t?t:t.constructor.name}function s(t){return"string"===typeof t?document.querySelector(t):t&&t._isVue?t.$el:t instanceof HTMLElement?t:null}n.r(e),n.d(e,"getOffset",(function(){return i})),n.d(e,"getContainer",(function(){return r}))},"./src/components/Vuetify/index.ts":
/*!*****************************************!*\
  !*** ./src/components/Vuetify/index.ts ***!
  \*****************************************/
/*! exports provided: checkVueVersion, default */function(t,e,n){"use strict";n.r(e),n.d(e,"checkVueVersion",(function(){return f}));var i=n(/*! vue */"vue"),r=n.n(i),o=n(/*! ./mixins/application */"./src/components/Vuetify/mixins/application.ts"),s=n(/*! ./mixins/breakpoint */"./src/components/Vuetify/mixins/breakpoint.ts"),a=n(/*! ./mixins/theme */"./src/components/Vuetify/mixins/theme.ts"),c=n(/*! ./mixins/icons */"./src/components/Vuetify/mixins/icons.ts"),l=n(/*! ./mixins/options */"./src/components/Vuetify/mixins/options.ts"),u=n(/*! ./mixins/lang */"./src/components/Vuetify/mixins/lang.ts"),d=n(/*! ./goTo */"./src/components/Vuetify/goTo/index.ts"),h=n(/*! ../../util/console */"./src/util/console.ts"),p={install:function(t,e){if(void 0===e&&(e={}),!this.installed){this.installed=!0,r.a!==t&&Object(h["consoleError"])("Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this"),f(t);var n=Object(u["default"])(e.lang);if(t.prototype.$vuetify=new t({mixins:[Object(s["default"])(e.breakpoint)],data:{application:o["default"],dark:!1,icons:Object(c["default"])(e.iconfont,e.icons),lang:n,options:Object(l["default"])(e.options),rtl:e.rtl,theme:Object(a["default"])(e.theme)},methods:{goTo:d["default"],t:n.t.bind(n)}}),e.directives)for(var i in e.directives)t.directive(i,e.directives[i]);(function e(n){if(n){for(var i in n){var r=n[i];r&&!e(r.$_vuetify_subcomponents)&&t.component(i,r)}return!0}return!1})(e.components)}},version:"1.5.24"};function f(t,e){var n=e||"^2.5.18",i=n.split(".",3).map((function(t){return t.replace(/\D/g,"")})).map(Number),r=t.version.split(".",3).map((function(t){return parseInt(t,10)})),o=r[0]===i[0]&&(r[1]>i[1]||r[1]===i[1]&&r[2]>=i[2]);o||Object(h["consoleWarn"])("Vuetify requires Vue version "+n)}e["default"]=p},"./src/components/Vuetify/mixins/application.ts":
/*!******************************************************!*\
  !*** ./src/components/Vuetify/mixins/application.ts ***!
  \******************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e["default"]={bar:0,bottom:0,footer:0,insetFooter:0,left:0,right:0,top:0,components:{bar:{},bottom:{},footer:{},insetFooter:{},left:{},right:{},top:{}},bind:function(t,e,n){var i;this.components[e]&&(this.components[e]=(i={},i[t]=n,i),this.update(e))},unbind:function(t,e){null!=this.components[e][t]&&(delete this.components[e][t],this.update(e))},update:function(t){this[t]=Object.values(this.components[t]).reduce((function(t,e){return t+e}),0)}}},"./src/components/Vuetify/mixins/breakpoint.ts":
/*!*****************************************************!*\
  !*** ./src/components/Vuetify/mixins/breakpoint.ts ***!
  \*****************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return a}));var i=n(/*! vue */"vue"),r=n.n(i),o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},s={thresholds:{xs:600,sm:960,md:1280,lg:1920},scrollbarWidth:16};function a(t){return void 0===t&&(t={}),t||(t={}),r.a.extend({data:function(){return o({clientHeight:l(),clientWidth:c(),resizeTimeout:void 0},s,t)},computed:{breakpoint:function(){var t,e=this.clientWidth<this.thresholds.xs,n=this.clientWidth<this.thresholds.sm&&!e,i=this.clientWidth<this.thresholds.md-this.scrollbarWidth&&!(n||e),r=this.clientWidth<this.thresholds.lg-this.scrollbarWidth&&!(i||n||e),o=this.clientWidth>=this.thresholds.lg-this.scrollbarWidth,s=e,a=n,c=(e||n)&&!(i||r||o),l=!e&&(n||i||r||o),u=i,d=(e||n||i)&&!(r||o),h=!(e||n)&&(i||r||o),p=r,f=(e||n||i||r)&&!o,m=!(e||n||i)&&(r||o),v=o;switch(!0){case e:t="xs";break;case n:t="sm";break;case i:t="md";break;case r:t="lg";break;default:t="xl";break}return{xs:e,sm:n,md:i,lg:r,xl:o,name:t,xsOnly:s,smOnly:a,smAndDown:c,smAndUp:l,mdOnly:u,mdAndDown:d,mdAndUp:h,lgOnly:p,lgAndDown:f,lgAndUp:m,xlOnly:v,width:this.clientWidth,height:this.clientHeight,thresholds:this.thresholds,scrollbarWidth:this.scrollbarWidth}}},created:function(){"undefined"!==typeof window&&window.addEventListener("resize",this.onResize,{passive:!0})},beforeDestroy:function(){"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize)},methods:{onResize:function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.setDimensions,200)},setDimensions:function(){this.clientHeight=l(),this.clientWidth=c()}}})}function c(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}function l(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}},"./src/components/Vuetify/mixins/icons.ts":
/*!************************************************!*\
  !*** ./src/components/Vuetify/mixins/icons.ts ***!
  \************************************************/
/*! exports provided: convertToComponentDeclarations, default */function(t,e,n){"use strict";n.r(e),n.d(e,"convertToComponentDeclarations",(function(){return a})),n.d(e,"default",(function(){return l}));var i={complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"clear",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sort:"arrow_upward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached"},r={complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-exclamation",error:"mdi-alert",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half"},o={complete:"fa fa-check",cancel:"fa fa-times-circle",close:"fa fa-times",delete:"fa fa-times-circle",clear:"fa fa-times-circle",success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",prev:"fa fa-chevron-left",next:"fa fa-chevron-right",checkboxOn:"fa fa-check-square",checkboxOff:"fa fa-square-o",checkboxIndeterminate:"fa fa-minus-square",delimiter:"fa fa-circle",sort:"fa fa-sort-up",expand:"fa fa-chevron-down",menu:"fa fa-bars",subgroup:"fa fa-caret-down",dropdown:"fa fa-caret-down",radioOn:"fa fa-dot-circle",radioOff:"fa fa-circle-o",edit:"fa fa-pencil",ratingEmpty:"fa fa-star-o",ratingFull:"fa fa-star",ratingHalf:"fa fa-star-half-o"},s={complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sort:"fas fa-sort-up",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half"};function a(t,e){var n={};for(var i in e)n[i]={component:t,props:{icon:e[i].split(" fa-")}};return n}var c={md:i,mdi:r,fa:s,fa4:o,faSvg:a("font-awesome-icon",s)};function l(t,e){return void 0===t&&(t="md"),void 0===e&&(e={}),Object.assign({},c[t]||c.md,e)}},"./src/components/Vuetify/mixins/lang.ts":
/*!***********************************************!*\
  !*** ./src/components/Vuetify/mixins/lang.ts ***!
  \***********************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return d}));var i=n(/*! ../../../locale/en */"./src/locale/en.ts"),r=n(/*! ../../../util/helpers */"./src/util/helpers.ts"),o=n(/*! ../../../util/console */"./src/util/console.ts"),s=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},a=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},c="$vuetify.",l=Symbol("Lang fallback");function u(t,e,n){void 0===n&&(n=!1);var s=e.replace(c,""),a=Object(r["getObjectValueByPath"])(t,s,l);return a===l&&(n?(Object(o["consoleError"])('Translation key "'+s+'" not found in fallback'),a=e):(Object(o["consoleWarn"])('Translation key "'+s+'" not found, falling back to default'),a=u(i["default"],e,!0))),a}function d(t){return void 0===t&&(t={}),{locales:Object.assign({en:i["default"]},t.locales),current:t.current||"en",t:function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!e.startsWith(c))return e;if(t.t)return t.t.apply(t,a([e],n));var r=u(this.locales[this.current],e);return r.replace(/\{(\d+)\}/g,(function(t,e){return String(n[+e])}))}}}},"./src/components/Vuetify/mixins/options.ts":
/*!**************************************************!*\
  !*** ./src/components/Vuetify/mixins/options.ts ***!
  \**************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var i=function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r={minifyTheme:null,themeCache:null,customProperties:!1,cspNonce:null};function o(t){return void 0===t&&(t={}),i({},r,t)}},"./src/components/Vuetify/mixins/theme.ts":
/*!************************************************!*\
  !*** ./src/components/Vuetify/mixins/theme.ts ***!
  \************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var i=function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r={primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"};function o(t){return void 0===t&&(t={}),!1!==t&&i({},r,t)}},"./src/components/index.ts":
/*!*********************************!*\
  !*** ./src/components/index.ts ***!
  \*********************************/
/*! exports provided: VApp, VAlert, VAutocomplete, VAvatar, VBadge, VBottomNav, VBottomSheet, VBreadcrumbs, VBreadcrumbsItem, VBreadcrumbsDivider, VBtn, VBtnToggle, VCalendar, VCalendarDaily, VCalendarWeekly, VCalendarMonthly, VCard, VCardMedia, VCardTitle, VCardActions, VCardText, VCarousel, VCarouselItem, VCheckbox, VChip, VCombobox, VCounter, VDataIterator, VDataTable, VEditDialog, VTableOverflow, VDatePicker, VDatePickerTitle, VDatePickerHeader, VDatePickerDateTable, VDatePickerMonthTable, VDatePickerYears, VDialog, VDivider, VExpansionPanel, VExpansionPanelContent, VFooter, VForm, VContainer, VContent, VFlex, VLayout, VSpacer, VHover, VIcon, VImg, VInput, VItem, VItemGroup, VJumbotron, VLabel, VList, VListGroup, VListTile, VListTileAction, VListTileAvatar, VListTileActionText, VListTileContent, VListTileTitle, VListTileSubTitle, VMenu, VMessages, VNavigationDrawer, VOverflowBtn, VPagination, VSheet, VParallax, VPicker, VProgressCircular, VProgressLinear, VRadioGroup, VRadio, VRangeSlider, VRating, VResponsive, VSelect, VSlider, VSnackbar, VSparkline, VSpeedDial, VStepper, VStepperContent, VStepperStep, VStepperHeader, VStepperItems, VSubheader, VSwitch, VSystemBar, VTabs, VTab, VTabItem, VTabsItems, VTabsSlider, VTextarea, VTextField, VTimeline, VTimelineItem, VTimePicker, VTimePickerClock, VTimePickerTitle, VToolbar, VToolbarSideIcon, VToolbarTitle, VToolbarItems, VTooltip, VTreeview, VTreeviewNode, VWindow, VWindowItem, VBottomSheetTransition, VCarouselTransition, VCarouselReverseTransition, VTabTransition, VTabReverseTransition, VMenuTransition, VFabTransition, VDialogTransition, VDialogBottomTransition, VFadeTransition, VScaleTransition, VScrollXTransition, VScrollXReverseTransition, VScrollYTransition, VScrollYReverseTransition, VSlideXTransition, VSlideXReverseTransition, VSlideYTransition, VSlideYReverseTransition, VExpandTransition, VExpandXTransition, VRowExpandTransition */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./VApp */"./src/components/VApp/index.js");n.d(e,"VApp",(function(){return i["VApp"]}));var r=n(/*! ./VAlert */"./src/components/VAlert/index.ts");n.d(e,"VAlert",(function(){return r["VAlert"]}));var o=n(/*! ./VAutocomplete */"./src/components/VAutocomplete/index.js");n.d(e,"VAutocomplete",(function(){return o["VAutocomplete"]}));var s=n(/*! ./VAvatar */"./src/components/VAvatar/index.ts");n.d(e,"VAvatar",(function(){return s["VAvatar"]}));var a=n(/*! ./VBadge */"./src/components/VBadge/index.ts");n.d(e,"VBadge",(function(){return a["VBadge"]}));var c=n(/*! ./VBottomNav */"./src/components/VBottomNav/index.ts");n.d(e,"VBottomNav",(function(){return c["VBottomNav"]}));var l=n(/*! ./VBottomSheet */"./src/components/VBottomSheet/index.js");n.d(e,"VBottomSheet",(function(){return l["VBottomSheet"]}));var u=n(/*! ./VBreadcrumbs */"./src/components/VBreadcrumbs/index.ts");n.d(e,"VBreadcrumbs",(function(){return u["VBreadcrumbs"]})),n.d(e,"VBreadcrumbsItem",(function(){return u["VBreadcrumbsItem"]})),n.d(e,"VBreadcrumbsDivider",(function(){return u["VBreadcrumbsDivider"]}));var d=n(/*! ./VBtn */"./src/components/VBtn/index.ts");n.d(e,"VBtn",(function(){return d["VBtn"]}));var h=n(/*! ./VBtnToggle */"./src/components/VBtnToggle/index.ts");n.d(e,"VBtnToggle",(function(){return h["VBtnToggle"]}));var p=n(/*! ./VCalendar */"./src/components/VCalendar/index.ts");n.d(e,"VCalendar",(function(){return p["VCalendar"]})),n.d(e,"VCalendarDaily",(function(){return p["VCalendarDaily"]})),n.d(e,"VCalendarWeekly",(function(){return p["VCalendarWeekly"]})),n.d(e,"VCalendarMonthly",(function(){return p["VCalendarMonthly"]}));var f=n(/*! ./VCard */"./src/components/VCard/index.ts");n.d(e,"VCard",(function(){return f["VCard"]})),n.d(e,"VCardMedia",(function(){return f["VCardMedia"]})),n.d(e,"VCardTitle",(function(){return f["VCardTitle"]})),n.d(e,"VCardActions",(function(){return f["VCardActions"]})),n.d(e,"VCardText",(function(){return f["VCardText"]}));var m=n(/*! ./VCarousel */"./src/components/VCarousel/index.ts");n.d(e,"VCarousel",(function(){return m["VCarousel"]})),n.d(e,"VCarouselItem",(function(){return m["VCarouselItem"]}));var v=n(/*! ./VCheckbox */"./src/components/VCheckbox/index.js");n.d(e,"VCheckbox",(function(){return v["VCheckbox"]}));var g=n(/*! ./VChip */"./src/components/VChip/index.ts");n.d(e,"VChip",(function(){return g["VChip"]}));var _=n(/*! ./VCombobox */"./src/components/VCombobox/index.js");n.d(e,"VCombobox",(function(){return _["VCombobox"]}));var y=n(/*! ./VCounter */"./src/components/VCounter/index.ts");n.d(e,"VCounter",(function(){return y["VCounter"]}));var E=n(/*! ./VDataIterator */"./src/components/VDataIterator/index.js");n.d(e,"VDataIterator",(function(){return E["VDataIterator"]}));var b=n(/*! ./VDataTable */"./src/components/VDataTable/index.js");n.d(e,"VDataTable",(function(){return b["VDataTable"]})),n.d(e,"VEditDialog",(function(){return b["VEditDialog"]})),n.d(e,"VTableOverflow",(function(){return b["VTableOverflow"]}));var S=n(/*! ./VDatePicker */"./src/components/VDatePicker/index.js");n.d(e,"VDatePicker",(function(){return S["VDatePicker"]})),n.d(e,"VDatePickerTitle",(function(){return S["VDatePickerTitle"]})),n.d(e,"VDatePickerHeader",(function(){return S["VDatePickerHeader"]})),n.d(e,"VDatePickerDateTable",(function(){return S["VDatePickerDateTable"]})),n.d(e,"VDatePickerMonthTable",(function(){return S["VDatePickerMonthTable"]})),n.d(e,"VDatePickerYears",(function(){return S["VDatePickerYears"]}));var T=n(/*! ./VDialog */"./src/components/VDialog/index.js");n.d(e,"VDialog",(function(){return T["VDialog"]}));var w=n(/*! ./VDivider */"./src/components/VDivider/index.ts");n.d(e,"VDivider",(function(){return w["VDivider"]}));var C=n(/*! ./VExpansionPanel */"./src/components/VExpansionPanel/index.ts");n.d(e,"VExpansionPanel",(function(){return C["VExpansionPanel"]})),n.d(e,"VExpansionPanelContent",(function(){return C["VExpansionPanelContent"]}));var I=n(/*! ./VFooter */"./src/components/VFooter/index.js");n.d(e,"VFooter",(function(){return I["VFooter"]}));var R=n(/*! ./VForm */"./src/components/VForm/index.js");n.d(e,"VForm",(function(){return R["VForm"]}));var A=n(/*! ./VGrid */"./src/components/VGrid/index.js");n.d(e,"VContainer",(function(){return A["VContainer"]})),n.d(e,"VContent",(function(){return A["VContent"]})),n.d(e,"VFlex",(function(){return A["VFlex"]})),n.d(e,"VLayout",(function(){return A["VLayout"]})),n.d(e,"VSpacer",(function(){return A["VSpacer"]}));var O=n(/*! ./VHover */"./src/components/VHover/index.ts");n.d(e,"VHover",(function(){return O["VHover"]}));var x=n(/*! ./VIcon */"./src/components/VIcon/index.ts");n.d(e,"VIcon",(function(){return x["VIcon"]}));var D=n(/*! ./VImg */"./src/components/VImg/index.ts");n.d(e,"VImg",(function(){return D["VImg"]}));var k=n(/*! ./VInput */"./src/components/VInput/index.ts");n.d(e,"VInput",(function(){return k["VInput"]}));var N=n(/*! ./VItemGroup */"./src/components/VItemGroup/index.ts");n.d(e,"VItem",(function(){return N["VItem"]})),n.d(e,"VItemGroup",(function(){return N["VItemGroup"]}));var P=n(/*! ./VJumbotron */"./src/components/VJumbotron/index.js");n.d(e,"VJumbotron",(function(){return P["VJumbotron"]}));var L=n(/*! ./VLabel */"./src/components/VLabel/index.ts");n.d(e,"VLabel",(function(){return L["VLabel"]}));var M=n(/*! ./VList */"./src/components/VList/index.ts");n.d(e,"VList",(function(){return M["VList"]})),n.d(e,"VListGroup",(function(){return M["VListGroup"]})),n.d(e,"VListTile",(function(){return M["VListTile"]})),n.d(e,"VListTileAction",(function(){return M["VListTileAction"]})),n.d(e,"VListTileAvatar",(function(){return M["VListTileAvatar"]})),n.d(e,"VListTileActionText",(function(){return M["VListTileActionText"]})),n.d(e,"VListTileContent",(function(){return M["VListTileContent"]})),n.d(e,"VListTileTitle",(function(){return M["VListTileTitle"]})),n.d(e,"VListTileSubTitle",(function(){return M["VListTileSubTitle"]}));var V=n(/*! ./VMenu */"./src/components/VMenu/index.js");n.d(e,"VMenu",(function(){return V["VMenu"]}));var U=n(/*! ./VMessages */"./src/components/VMessages/index.ts");n.d(e,"VMessages",(function(){return U["VMessages"]}));var B=n(/*! ./VNavigationDrawer */"./src/components/VNavigationDrawer/index.ts");n.d(e,"VNavigationDrawer",(function(){return B["VNavigationDrawer"]}));var j=n(/*! ./VOverflowBtn */"./src/components/VOverflowBtn/index.js");n.d(e,"VOverflowBtn",(function(){return j["VOverflowBtn"]}));var F=n(/*! ./VPagination */"./src/components/VPagination/index.ts");n.d(e,"VPagination",(function(){return F["VPagination"]}));var H=n(/*! ./VSheet */"./src/components/VSheet/index.ts");n.d(e,"VSheet",(function(){return H["VSheet"]}));var W=n(/*! ./VParallax */"./src/components/VParallax/index.ts");n.d(e,"VParallax",(function(){return W["VParallax"]}));var G=n(/*! ./VPicker */"./src/components/VPicker/index.ts");n.d(e,"VPicker",(function(){return G["VPicker"]}));var $=n(/*! ./VProgressCircular */"./src/components/VProgressCircular/index.ts");n.d(e,"VProgressCircular",(function(){return $["VProgressCircular"]}));var z=n(/*! ./VProgressLinear */"./src/components/VProgressLinear/index.ts");n.d(e,"VProgressLinear",(function(){return z["VProgressLinear"]}));var Y=n(/*! ./VRadioGroup */"./src/components/VRadioGroup/index.js");n.d(e,"VRadioGroup",(function(){return Y["VRadioGroup"]})),n.d(e,"VRadio",(function(){return Y["VRadio"]}));var K=n(/*! ./VRangeSlider */"./src/components/VRangeSlider/index.js");n.d(e,"VRangeSlider",(function(){return K["VRangeSlider"]}));var q=n(/*! ./VRating */"./src/components/VRating/index.ts");n.d(e,"VRating",(function(){return q["VRating"]}));var X=n(/*! ./VResponsive */"./src/components/VResponsive/index.ts");n.d(e,"VResponsive",(function(){return X["VResponsive"]}));var J=n(/*! ./VSelect */"./src/components/VSelect/index.js");n.d(e,"VSelect",(function(){return J["VSelect"]}));var Z=n(/*! ./VSlider */"./src/components/VSlider/index.js");n.d(e,"VSlider",(function(){return Z["VSlider"]}));var Q=n(/*! ./VSnackbar */"./src/components/VSnackbar/index.ts");n.d(e,"VSnackbar",(function(){return Q["VSnackbar"]}));var tt=n(/*! ./VSparkline */"./src/components/VSparkline/index.ts");n.d(e,"VSparkline",(function(){return tt["VSparkline"]}));var et=n(/*! ./VSpeedDial */"./src/components/VSpeedDial/index.js");n.d(e,"VSpeedDial",(function(){return et["VSpeedDial"]}));var nt=n(/*! ./VStepper */"./src/components/VStepper/index.ts");n.d(e,"VStepper",(function(){return nt["VStepper"]})),n.d(e,"VStepperContent",(function(){return nt["VStepperContent"]})),n.d(e,"VStepperStep",(function(){return nt["VStepperStep"]})),n.d(e,"VStepperHeader",(function(){return nt["VStepperHeader"]})),n.d(e,"VStepperItems",(function(){return nt["VStepperItems"]}));var it=n(/*! ./VSubheader */"./src/components/VSubheader/index.ts");n.d(e,"VSubheader",(function(){return it["VSubheader"]}));var rt=n(/*! ./VSwitch */"./src/components/VSwitch/index.js");n.d(e,"VSwitch",(function(){return rt["VSwitch"]}));var ot=n(/*! ./VSystemBar */"./src/components/VSystemBar/index.ts");n.d(e,"VSystemBar",(function(){return ot["VSystemBar"]}));var st=n(/*! ./VTabs */"./src/components/VTabs/index.js");n.d(e,"VTabs",(function(){return st["VTabs"]})),n.d(e,"VTab",(function(){return st["VTab"]})),n.d(e,"VTabItem",(function(){return st["VTabItem"]})),n.d(e,"VTabsItems",(function(){return st["VTabsItems"]})),n.d(e,"VTabsSlider",(function(){return st["VTabsSlider"]}));var at=n(/*! ./VTextarea */"./src/components/VTextarea/index.js");n.d(e,"VTextarea",(function(){return at["VTextarea"]}));var ct=n(/*! ./VTextField */"./src/components/VTextField/index.js");n.d(e,"VTextField",(function(){return ct["VTextField"]}));var lt=n(/*! ./VTimeline */"./src/components/VTimeline/index.ts");n.d(e,"VTimeline",(function(){return lt["VTimeline"]})),n.d(e,"VTimelineItem",(function(){return lt["VTimelineItem"]}));var ut=n(/*! ./VTimePicker */"./src/components/VTimePicker/index.ts");n.d(e,"VTimePicker",(function(){return ut["VTimePicker"]})),n.d(e,"VTimePickerClock",(function(){return ut["VTimePickerClock"]})),n.d(e,"VTimePickerTitle",(function(){return ut["VTimePickerTitle"]}));var dt=n(/*! ./VToolbar */"./src/components/VToolbar/index.ts");n.d(e,"VToolbar",(function(){return dt["VToolbar"]})),n.d(e,"VToolbarSideIcon",(function(){return dt["VToolbarSideIcon"]})),n.d(e,"VToolbarTitle",(function(){return dt["VToolbarTitle"]})),n.d(e,"VToolbarItems",(function(){return dt["VToolbarItems"]}));var ht=n(/*! ./VTooltip */"./src/components/VTooltip/index.js");n.d(e,"VTooltip",(function(){return ht["VTooltip"]}));var pt=n(/*! ./VTreeview */"./src/components/VTreeview/index.ts");n.d(e,"VTreeview",(function(){return pt["VTreeview"]})),n.d(e,"VTreeviewNode",(function(){return pt["VTreeviewNode"]}));var ft=n(/*! ./VWindow */"./src/components/VWindow/index.ts");n.d(e,"VWindow",(function(){return ft["VWindow"]})),n.d(e,"VWindowItem",(function(){return ft["VWindowItem"]}));var mt=n(/*! ./transitions */"./src/components/transitions/index.js");n.d(e,"VBottomSheetTransition",(function(){return mt["VBottomSheetTransition"]})),n.d(e,"VCarouselTransition",(function(){return mt["VCarouselTransition"]})),n.d(e,"VCarouselReverseTransition",(function(){return mt["VCarouselReverseTransition"]})),n.d(e,"VTabTransition",(function(){return mt["VTabTransition"]})),n.d(e,"VTabReverseTransition",(function(){return mt["VTabReverseTransition"]})),n.d(e,"VMenuTransition",(function(){return mt["VMenuTransition"]})),n.d(e,"VFabTransition",(function(){return mt["VFabTransition"]})),n.d(e,"VDialogTransition",(function(){return mt["VDialogTransition"]})),n.d(e,"VDialogBottomTransition",(function(){return mt["VDialogBottomTransition"]})),n.d(e,"VFadeTransition",(function(){return mt["VFadeTransition"]})),n.d(e,"VScaleTransition",(function(){return mt["VScaleTransition"]})),n.d(e,"VScrollXTransition",(function(){return mt["VScrollXTransition"]})),n.d(e,"VScrollXReverseTransition",(function(){return mt["VScrollXReverseTransition"]})),n.d(e,"VScrollYTransition",(function(){return mt["VScrollYTransition"]})),n.d(e,"VScrollYReverseTransition",(function(){return mt["VScrollYReverseTransition"]})),n.d(e,"VSlideXTransition",(function(){return mt["VSlideXTransition"]})),n.d(e,"VSlideXReverseTransition",(function(){return mt["VSlideXReverseTransition"]})),n.d(e,"VSlideYTransition",(function(){return mt["VSlideYTransition"]})),n.d(e,"VSlideYReverseTransition",(function(){return mt["VSlideYReverseTransition"]})),n.d(e,"VExpandTransition",(function(){return mt["VExpandTransition"]})),n.d(e,"VExpandXTransition",(function(){return mt["VExpandXTransition"]})),n.d(e,"VRowExpandTransition",(function(){return mt["VRowExpandTransition"]}))},"./src/components/transitions/expand-transition.js":
/*!*********************************************************!*\
  !*** ./src/components/transitions/expand-transition.js ***!
  \*********************************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../../util/helpers */"./src/util/helpers.ts");e["default"]=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var n=e?"width":"height";return{beforeEnter:function(t){var e;t._parent=t.parentNode,t._initialStyle=(e={transition:t.style.transition,visibility:t.style.visibility,overflow:t.style.overflow},e[n]=t.style[n],e)},enter:function(e){var r=e._initialStyle;e.style.setProperty("transition","none","important"),e.style.visibility="hidden";var o=e["offset"+Object(i["upperFirst"])(n)]+"px";e.style.visibility=r.visibility,e.style.overflow="hidden",e.style[n]=0,e.offsetHeight,e.style.transition=r.transition,t&&e._parent&&e._parent.classList.add(t),requestAnimationFrame((function(){e.style[n]=o}))},afterEnter:o,enterCancelled:o,leave:function(t){var e;t._initialStyle=(e={overflow:t.style.overflow},e[n]=t.style[n],e),t.style.overflow="hidden",t.style[n]=t["offset"+Object(i["upperFirst"])(n)]+"px",t.offsetHeight,requestAnimationFrame((function(){return t.style[n]=0}))},afterLeave:r,leaveCancelled:r};function r(e){t&&e._parent&&e._parent.classList.remove(t),o(e)}function o(t){t.style.overflow=t._initialStyle.overflow,t.style[n]=t._initialStyle[n],delete t._initialStyle}}},"./src/components/transitions/index.js":
/*!*********************************************!*\
  !*** ./src/components/transitions/index.js ***!
  \*********************************************/
/*! exports provided: VBottomSheetTransition, VCarouselTransition, VCarouselReverseTransition, VTabTransition, VTabReverseTransition, VMenuTransition, VFabTransition, VDialogTransition, VDialogBottomTransition, VFadeTransition, VScaleTransition, VScrollXTransition, VScrollXReverseTransition, VScrollYTransition, VScrollYReverseTransition, VSlideXTransition, VSlideXReverseTransition, VSlideYTransition, VSlideYReverseTransition, VExpandTransition, VExpandXTransition, VRowExpandTransition, default */function(t,e,n){"use strict";n.r(e),n.d(e,"VBottomSheetTransition",(function(){return o})),n.d(e,"VCarouselTransition",(function(){return s})),n.d(e,"VCarouselReverseTransition",(function(){return a})),n.d(e,"VTabTransition",(function(){return c})),n.d(e,"VTabReverseTransition",(function(){return l})),n.d(e,"VMenuTransition",(function(){return u})),n.d(e,"VFabTransition",(function(){return d})),n.d(e,"VDialogTransition",(function(){return h})),n.d(e,"VDialogBottomTransition",(function(){return p})),n.d(e,"VFadeTransition",(function(){return f})),n.d(e,"VScaleTransition",(function(){return m})),n.d(e,"VScrollXTransition",(function(){return v})),n.d(e,"VScrollXReverseTransition",(function(){return g})),n.d(e,"VScrollYTransition",(function(){return _})),n.d(e,"VScrollYReverseTransition",(function(){return y})),n.d(e,"VSlideXTransition",(function(){return E})),n.d(e,"VSlideXReverseTransition",(function(){return b})),n.d(e,"VSlideYTransition",(function(){return S})),n.d(e,"VSlideYReverseTransition",(function(){return T})),n.d(e,"VExpandTransition",(function(){return w})),n.d(e,"VExpandXTransition",(function(){return C})),n.d(e,"VRowExpandTransition",(function(){return I}));var i=n(/*! ../../util/helpers */"./src/util/helpers.ts"),r=n(/*! ./expand-transition */"./src/components/transitions/expand-transition.js"),o=Object(i["createSimpleTransition"])("bottom-sheet-transition"),s=Object(i["createSimpleTransition"])("carousel-transition"),a=Object(i["createSimpleTransition"])("carousel-reverse-transition"),c=Object(i["createSimpleTransition"])("tab-transition"),l=Object(i["createSimpleTransition"])("tab-reverse-transition"),u=Object(i["createSimpleTransition"])("menu-transition"),d=Object(i["createSimpleTransition"])("fab-transition","center center","out-in"),h=Object(i["createSimpleTransition"])("dialog-transition"),p=Object(i["createSimpleTransition"])("dialog-bottom-transition"),f=Object(i["createSimpleTransition"])("fade-transition"),m=Object(i["createSimpleTransition"])("scale-transition"),v=Object(i["createSimpleTransition"])("scroll-x-transition"),g=Object(i["createSimpleTransition"])("scroll-x-reverse-transition"),_=Object(i["createSimpleTransition"])("scroll-y-transition"),y=Object(i["createSimpleTransition"])("scroll-y-reverse-transition"),E=Object(i["createSimpleTransition"])("slide-x-transition"),b=Object(i["createSimpleTransition"])("slide-x-reverse-transition"),S=Object(i["createSimpleTransition"])("slide-y-transition"),T=Object(i["createSimpleTransition"])("slide-y-reverse-transition"),w=Object(i["createJavaScriptTransition"])("expand-transition",Object(r["default"])()),C=Object(i["createJavaScriptTransition"])("expand-x-transition",Object(r["default"])("",!0)),I=Object(i["createJavaScriptTransition"])("row-expand-transition",Object(r["default"])("datatable__expand-col--expanded"));e["default"]={$_vuetify_subcomponents:{VBottomSheetTransition:o,VCarouselTransition:s,VCarouselReverseTransition:a,VDialogTransition:h,VDialogBottomTransition:p,VFabTransition:d,VFadeTransition:f,VMenuTransition:u,VScaleTransition:m,VScrollXTransition:v,VScrollXReverseTransition:g,VScrollYTransition:_,VScrollYReverseTransition:y,VSlideXTransition:E,VSlideXReverseTransition:b,VSlideYTransition:S,VSlideYReverseTransition:T,VTabReverseTransition:l,VTabTransition:c,VExpandTransition:w,VExpandXTransition:C,VRowExpandTransition:I}}},"./src/directives/click-outside.ts":
/*!*****************************************!*\
  !*** ./src/directives/click-outside.ts ***!
  \*****************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(){return!1}function r(t,e,n){n.args=n.args||{};var r=n.args.closeConditional||i;if(t&&!1!==r(t)&&!("isTrusted"in t&&!t.isTrusted||"pointerType"in t&&!t.pointerType)){var o=(n.args.include||function(){return[]})();o.push(e),!o.some((function(e){return e.contains(t.target)}))&&setTimeout((function(){r(t)&&n.value&&n.value(t)}),0)}}n.r(e),e["default"]={inserted:function(t,e){var n=function(n){return r(n,t,e)},i=document.querySelector("[data-app]")||document.body;i.addEventListener("click",n,!0),t._clickOutside=n},unbind:function(t){if(t._clickOutside){var e=document.querySelector("[data-app]")||document.body;e&&e.removeEventListener("click",t._clickOutside,!0),delete t._clickOutside}}}},"./src/directives/index.ts":
/*!*********************************!*\
  !*** ./src/directives/index.ts ***!
  \*********************************/
/*! exports provided: ClickOutside, Ripple, Resize, Scroll, Touch, default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./click-outside */"./src/directives/click-outside.ts");n.d(e,"ClickOutside",(function(){return i["default"]}));var r=n(/*! ./resize */"./src/directives/resize.ts");n.d(e,"Resize",(function(){return r["default"]}));var o=n(/*! ./ripple */"./src/directives/ripple.ts");n.d(e,"Ripple",(function(){return o["default"]}));var s=n(/*! ./scroll */"./src/directives/scroll.ts");n.d(e,"Scroll",(function(){return s["default"]}));var a=n(/*! ./touch */"./src/directives/touch.ts");n.d(e,"Touch",(function(){return a["default"]})),e["default"]={ClickOutside:i["default"],Ripple:o["default"],Resize:r["default"],Scroll:s["default"],Touch:a["default"]}},"./src/directives/resize.ts":
/*!**********************************!*\
  !*** ./src/directives/resize.ts ***!
  \**********************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t,e){var n=e.value,i=e.options||{passive:!0};window.addEventListener("resize",n,i),t._onResize={callback:n,options:i},e.modifiers&&e.modifiers.quiet||n()}function r(t){if(t._onResize){var e=t._onResize,n=e.callback,i=e.options;window.removeEventListener("resize",n,i),delete t._onResize}}n.r(e),e["default"]={inserted:i,unbind:r}},"./src/directives/ripple.ts":
/*!**********************************!*\
  !*** ./src/directives/ripple.ts ***!
  \**********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../util/console */"./src/util/console.ts"),r=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},o=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};function s(t,e){t.style["transform"]=e,t.style["webkitTransform"]=e}function a(t,e){t.style["opacity"]=e.toString()}function c(t){return"TouchEvent"===t.constructor.name}var l=function(t,e,n){void 0===n&&(n={});var i=e.getBoundingClientRect(),r=c(t)?t.touches[t.touches.length-1]:t,o=r.clientX-i.left,s=r.clientY-i.top,a=0,l=.3;e._ripple&&e._ripple.circle?(l=.15,a=e.clientWidth/2,a=n.center?a:a+Math.sqrt(Math.pow(o-a,2)+Math.pow(s-a,2))/4):a=Math.sqrt(Math.pow(e.clientWidth,2)+Math.pow(e.clientHeight,2))/2;var u=(e.clientWidth-2*a)/2+"px",d=(e.clientHeight-2*a)/2+"px",h=n.center?u:o-a+"px",p=n.center?d:s-a+"px";return{radius:a,scale:l,x:h,y:p,centerX:u,centerY:d}},u={show:function(t,e,n){if(void 0===n&&(n={}),e._ripple&&e._ripple.enabled){var i=document.createElement("span"),r=document.createElement("span");i.appendChild(r),i.className="v-ripple__container",n.class&&(i.className+=" "+n.class);var o=l(t,e,n),c=o.radius,u=o.scale,d=o.x,h=o.y,p=o.centerX,f=o.centerY,m=2*c+"px";r.className="v-ripple__animation",r.style.width=m,r.style.height=m,e.appendChild(i);var v=window.getComputedStyle(e);v&&"static"===v.position&&(e.style.position="relative",e.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),s(r,"translate("+d+", "+h+") scale3d("+u+","+u+","+u+")"),a(r,0),r.dataset.activated=String(performance.now()),setTimeout((function(){r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),s(r,"translate("+p+", "+f+") scale3d(1,1,1)"),a(r,.25)}),0)}},hide:function(t){if(t&&t._ripple&&t._ripple.enabled){var e=t.getElementsByClassName("v-ripple__animation");if(0!==e.length){var n=e[e.length-1];if(!n.dataset.isHiding){n.dataset.isHiding="true";var i=performance.now()-Number(n.dataset.activated),r=Math.max(250-i,0);setTimeout((function(){n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),a(n,0),setTimeout((function(){var e=t.getElementsByClassName("v-ripple__animation");1===e.length&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),n.parentNode&&t.removeChild(n.parentNode)}),300)}),r)}}}}};function d(t){return"undefined"===typeof t||!!t}function h(t){var e={},n=t.currentTarget;n&&n._ripple&&!n._ripple.touched&&(c(t)&&(n._ripple.touched=!0),e.center=n._ripple.centered,n._ripple.class&&(e.class=n._ripple.class),u.show(t,n,e))}function p(t){var e=t.currentTarget;e&&(window.setTimeout((function(){e._ripple&&(e._ripple.touched=!1)})),u.hide(e))}function f(t,e,n){var i=d(e.value);i||u.hide(t),t._ripple=t._ripple||{},t._ripple.enabled=i;var r=e.value||{};r.center&&(t._ripple.centered=!0),r.class&&(t._ripple.class=e.value.class),r.circle&&(t._ripple.circle=r.circle),i&&!n?(t.addEventListener("touchstart",h,{passive:!0}),t.addEventListener("touchend",p,{passive:!0}),t.addEventListener("touchcancel",p),t.addEventListener("mousedown",h),t.addEventListener("mouseup",p),t.addEventListener("mouseleave",p),t.addEventListener("dragstart",p,{passive:!0})):!i&&n&&m(t)}function m(t){t.removeEventListener("mousedown",h),t.removeEventListener("touchstart",p),t.removeEventListener("touchend",p),t.removeEventListener("touchcancel",p),t.removeEventListener("mouseup",p),t.removeEventListener("mouseleave",p),t.removeEventListener("dragstart",p)}function v(t,e,n){f(t,e,!1),n.context&&n.context.$nextTick((function(){var e=window.getComputedStyle(t);if(e&&"inline"===e.display){var r=n.fnOptions?[n.fnOptions,n.context]:[n.componentInstance];i["consoleWarn"].apply(void 0,o(["v-ripple can only be used on block-level elements"],r))}}))}function g(t){delete t._ripple,m(t)}function _(t,e){if(e.value!==e.oldValue){var n=d(e.oldValue);f(t,e,n)}}e["default"]={bind:v,unbind:g,update:_}},"./src/directives/scroll.ts":
/*!**********************************!*\
  !*** ./src/directives/scroll.ts ***!
  \**********************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t,e){var n=e.value,i=e.options||{passive:!0},r=e.arg?document.querySelector(e.arg):window;r&&(r.addEventListener("scroll",n,i),t._onScroll={callback:n,options:i,target:r})}function r(t){if(t._onScroll){var e=t._onScroll,n=e.callback,i=e.options,r=e.target;r.removeEventListener("scroll",n,i),delete t._onScroll}}n.r(e),e["default"]={inserted:i,unbind:r}},"./src/directives/touch.ts":
/*!*********************************!*\
  !*** ./src/directives/touch.ts ***!
  \*********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../util/helpers */"./src/util/helpers.ts"),r=function(t){var e=t.touchstartX,n=t.touchendX,i=t.touchstartY,r=t.touchendY,o=.5,s=16;t.offsetX=n-e,t.offsetY=r-i,Math.abs(t.offsetY)<o*Math.abs(t.offsetX)&&(t.left&&n<e-s&&t.left(t),t.right&&n>e+s&&t.right(t)),Math.abs(t.offsetX)<o*Math.abs(t.offsetY)&&(t.up&&r<i-s&&t.up(t),t.down&&r>i+s&&t.down(t))};function o(t,e){var n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,e.start&&e.start(Object.assign(t,e))}function s(t,e){var n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,e.end&&e.end(Object.assign(t,e)),r(e)}function a(t,e){var n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,e.move&&e.move(Object.assign(t,e))}function c(t){var e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:function(t){return o(t,e)},touchend:function(t){return s(t,e)},touchmove:function(t){return a(t,e)}}}function l(t,e,n){var r=e.value,o=r.parent?t.parentElement:t,s=r.options||{passive:!0};if(o){var a=c(e.value);o._touchHandlers=Object(o._touchHandlers),o._touchHandlers[n.context._uid]=a,Object(i["keys"])(a).forEach((function(t){o.addEventListener(t,a[t],s)}))}}function u(t,e,n){var r=e.value.parent?t.parentElement:t;if(r&&r._touchHandlers){var o=r._touchHandlers[n.context._uid];Object(i["keys"])(o).forEach((function(t){r.removeEventListener(t,o[t])})),delete r._touchHandlers[n.context._uid]}}e["default"]={inserted:l,unbind:u}},"./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ./stylus/app.styl */"./src/stylus/app.styl");var i=n(/*! ./components/Vuetify */"./src/components/Vuetify/index.ts"),r=n(/*! ./components */"./src/components/index.ts"),o=n(/*! ./directives */"./src/directives/index.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)},a={install:function(t,e){t.use(i["default"],s({components:r,directives:o["default"]},e))},version:"1.5.24"};"undefined"!==typeof window&&window.Vue&&window.Vue.use(a),e["default"]=a},"./src/locale/en.ts":
/*!**************************!*\
  !*** ./src/locale/en.ts ***!
  \**************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),e["default"]={dataIterator:{rowsPerPageText:"Items per page:",rowsPerPageAll:"All",pageText:"{0}-{1} of {2}",noResultsText:"No matching records found",nextPage:"Next page",prevPage:"Previous page"},dataTable:{rowsPerPageText:"Rows per page:"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual"}}},"./src/mixins/applicationable.ts":
/*!***************************************!*\
  !*** ./src/mixins/applicationable.ts ***!
  \***************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var i=n(/*! ./positionable */"./src/mixins/positionable.ts"),r=n(/*! ../util/mixins */"./src/util/mixins.ts");function o(t,e){return void 0===e&&(e=[]),Object(r["default"])(Object(i["factory"])(["absolute","fixed"])).extend({name:"applicationable",props:{app:Boolean},computed:{applicationProperty:function(){return t}},watch:{app:function(t,e){e?this.removeApplication(!0):this.callUpdate()},applicationProperty:function(t,e){this.$vuetify.application.unbind(this._uid,e)}},activated:function(){this.callUpdate()},created:function(){for(var t=0,n=e.length;t<n;t++)this.$watch(e[t],this.callUpdate);this.callUpdate()},mounted:function(){this.callUpdate()},deactivated:function(){this.removeApplication()},destroyed:function(){this.removeApplication()},methods:{callUpdate:function(){this.app&&this.$vuetify.application.bind(this._uid,this.applicationProperty,this.updateApplication())},removeApplication:function(t){void 0===t&&(t=!1),(t||this.app)&&this.$vuetify.application.unbind(this._uid,this.applicationProperty)},updateApplication:function(){return 0}}})}},"./src/mixins/bootable.ts":
/*!********************************!*\
  !*** ./src/mixins/bootable.ts ***!
  \********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e["default"]=r.a.extend().extend({name:"bootable",props:{lazy:Boolean},data:function(){return{isBooted:!1}},computed:{hasContent:function(){return this.isBooted||!this.lazy||this.isActive}},watch:{isActive:function(){this.isBooted=!0}},methods:{showLazyContent:function(t){return this.hasContent?t:void 0}}})},"./src/mixins/button-group.ts":
/*!************************************!*\
  !*** ./src/mixins/button-group.ts ***!
  \************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../components/VItemGroup/VItemGroup */"./src/components/VItemGroup/VItemGroup.ts");e["default"]=i["BaseItemGroup"].extend({name:"button-group",provide:function(){return{btnToggle:this}},props:{activeClass:{type:String,default:"v-btn--active"}},computed:{classes:function(){return i["BaseItemGroup"].options.computed.classes.call(this)}}})},"./src/mixins/colorable.ts":
/*!*********************************!*\
  !*** ./src/mixins/colorable.ts ***!
  \*********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},s=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s};function a(t){return!!t&&!!t.match(/^(#|(rgb|hsl)a?\()/)}e["default"]=r.a.extend({name:"colorable",props:{color:String},methods:{setBackgroundColor:function(t,e){var n;return void 0===e&&(e={}),a(t)?e.style=o({},e.style,{"background-color":""+t,"border-color":""+t}):t&&(e.class=o({},e.class,(n={},n[t]=!0,n))),e},setTextColor:function(t,e){var n;if(void 0===e&&(e={}),a(t))e.style=o({},e.style,{color:""+t,"caret-color":""+t});else if(t){var i=s(t.toString().trim().split(" ",2),2),r=i[0],c=i[1];e.class=o({},e.class,(n={},n[r+"--text"]=!0,n)),c&&(e.class["text--"+c]=!0)}return e}}})},"./src/mixins/comparable.ts":
/*!**********************************!*\
  !*** ./src/mixins/comparable.ts ***!
  \**********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),o=n(/*! ../util/helpers */"./src/util/helpers.ts");e["default"]=r.a.extend({name:"comparable",props:{valueComparator:{type:Function,default:o["deepEqual"]}}})},"./src/mixins/data-iterable.js":
/*!*************************************!*\
  !*** ./src/mixins/data-iterable.js ***!
  \*************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../components/VBtn */"./src/components/VBtn/index.ts"),r=n(/*! ../components/VIcon */"./src/components/VIcon/index.ts"),o=n(/*! ../components/VSelect */"./src/components/VSelect/index.js"),s=n(/*! ./filterable */"./src/mixins/filterable.ts"),a=n(/*! ./themeable */"./src/mixins/themeable.ts"),c=n(/*! ./loadable */"./src/mixins/loadable.ts"),l=n(/*! ../util/helpers */"./src/util/helpers.ts"),u=n(/*! ../util/console */"./src/util/console.ts"),d=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t};e["default"]={name:"data-iterable",mixins:[s["default"],c["default"],a["default"]],props:{expand:Boolean,hideActions:Boolean,disableInitialSort:Boolean,mustSort:Boolean,noResultsText:{type:String,default:"$vuetify.dataIterator.noResultsText"},nextIcon:{type:String,default:"$vuetify.icons.next"},prevIcon:{type:String,default:"$vuetify.icons.prev"},rowsPerPageItems:{type:Array,default:function(){return[5,10,25,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}]}},rowsPerPageText:{type:String,default:"$vuetify.dataIterator.rowsPerPageText"},selectAll:[Boolean,String],search:{required:!1},filter:{type:Function,default:function(t,e){return null!=t&&"boolean"!==typeof t&&-1!==t.toString().toLowerCase().indexOf(e)}},customFilter:{type:Function,default:function(t,e,n){return e=e.toString().toLowerCase(),""===e.trim()?t:t.filter((function(t){return Object.keys(t).some((function(i){return n(t[i],e)}))}))}},customSort:{type:Function,default:function(t,e,n){return null===e?t:t.sort((function(t,i){var r,o,s=Object(l["getObjectValueByPath"])(t,e),a=Object(l["getObjectValueByPath"])(i,e);return n&&(r=d([a,s],2),s=r[0],a=r[1]),isNaN(s)||isNaN(a)?null===s&&null===a?0:(o=d([s,a].map((function(t){return(t||"").toString().toLocaleLowerCase()})),2),s=o[0],a=o[1],s>a?1:s<a?-1:0):s-a}))}},value:{type:Array,default:function(){return[]}},items:{type:Array,required:!0,default:function(){return[]}},totalItems:{type:Number,default:null},itemKey:{type:String,default:"id"},pagination:{type:Object,default:function(){}}},data:function(){return{searchLength:0,defaultPagination:{descending:!1,page:1,rowsPerPage:5,sortBy:null,totalItems:0},expanded:{},actionsClasses:"v-data-iterator__actions",actionsRangeControlsClasses:"v-data-iterator__actions__range-controls",actionsSelectClasses:"v-data-iterator__actions__select",actionsPaginationClasses:"v-data-iterator__actions__pagination"}},computed:{computedPagination:function(){return this.hasPagination?this.pagination:this.defaultPagination},computedRowsPerPageItems:function(){var t=this;return this.rowsPerPageItems.map((function(e){return Object(l["isObject"])(e)?Object.assign({},e,{text:t.$vuetify.t(e.text)}):{value:e,text:Number(e).toLocaleString(t.$vuetify.lang.current)}}))},hasPagination:function(){var t=this.pagination||{};return Object.keys(t).length>0},hasSelectAll:function(){return void 0!==this.selectAll&&!1!==this.selectAll},itemsLength:function(){return this.hasSearch?this.searchLength:this.totalItems||this.items.length},indeterminate:function(){return this.hasSelectAll&&this.someItems&&!this.everyItem},everyItem:function(){var t=this;return this.filteredItems.length&&this.filteredItems.every((function(e){return t.isSelected(e)}))},someItems:function(){var t=this;return this.filteredItems.some((function(e){return t.isSelected(e)}))},getPage:function(){var t=this.computedPagination.rowsPerPage;return t===Object(t)?t.value:t},pageStart:function(){return-1===this.getPage?0:(this.computedPagination.page-1)*this.getPage},pageStop:function(){return-1===this.getPage?this.itemsLength:this.computedPagination.page*this.getPage},filteredItems:function(){return this.filteredItemsImpl()},selected:function(){for(var t={},e=0;e<this.value.length;e++){var n=Object(l["getObjectValueByPath"])(this.value[e],this.itemKey);t[n]=!0}return t},hasSearch:function(){return null!=this.search}},watch:{items:function(){var t=this;if(this.pageStart>=this.itemsLength&&this.resetPagination(),null===this.totalItems){var e=new Set(this.items.map((function(e){return Object(l["getObjectValueByPath"])(e,t.itemKey)}))),n=this.value.filter((function(n){return e.has(Object(l["getObjectValueByPath"])(n,t.itemKey))}));n.length!==this.value.length&&this.$emit("input",n)}},search:function(){var t=this;this.$nextTick((function(){t.updatePagination({page:1,totalItems:t.itemsLength})}))},"computedPagination.sortBy":"resetPagination","computedPagination.descending":"resetPagination"},methods:{initPagination:function(){this.rowsPerPageItems.length?this.defaultPagination.rowsPerPage=this.rowsPerPageItems[0]:Object(u["consoleWarn"])("The prop 'rows-per-page-items' can not be empty",this),this.defaultPagination.totalItems=this.items.length,this.updatePagination(Object.assign({},this.defaultPagination,this.pagination))},updatePagination:function(t){var e=this.hasPagination?this.pagination:this.defaultPagination,n=Object.assign({},e,t);this.$emit("update:pagination",n),this.hasPagination||(this.defaultPagination=n)},isSelected:function(t){return this.selected[Object(l["getObjectValueByPath"])(t,this.itemKey)]},isExpanded:function(t){return this.expanded[Object(l["getObjectValueByPath"])(t,this.itemKey)]},filteredItemsImpl:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.totalItems)return this.items;var n=this.items.slice();return this.hasSearch&&(n=this.customFilter.apply(this,h([n,this.search,this.filter],t)),this.searchLength=n.length),n=this.customSort(n,this.computedPagination.sortBy,this.computedPagination.descending),this.hideActions&&!this.hasPagination?n:n.slice(this.pageStart,this.pageStop)},resetPagination:function(){1!==this.computedPagination.page&&this.updatePagination({page:1})},sort:function(t){var e=this.computedPagination,n=e.sortBy,i=e.descending;null===n?this.updatePagination({sortBy:t,descending:!1}):n!==t||i?n!==t||this.mustSort?this.updatePagination({sortBy:t,descending:!1}):this.updatePagination({sortBy:null,descending:null}):this.updatePagination({descending:!0})},toggle:function(t){for(var e=this,n=Object.assign({},this.selected),i=0;i<this.filteredItems.length;i++){var r=Object(l["getObjectValueByPath"])(this.filteredItems[i],this.itemKey);n[r]=t}this.$emit("input",this.items.filter((function(t){var i=Object(l["getObjectValueByPath"])(t,e.itemKey);return n[i]})))},createProps:function(t,e){var n=this,i={item:t,index:e},r=this.itemKey,o=Object(l["getObjectValueByPath"])(t,r);return Object.defineProperty(i,"selected",{get:function(){return n.selected[o]},set:function(e){null==o&&Object(u["consoleWarn"])('"'+r+'" attribute must be defined for item',n);var i=n.value.slice();e?i.push(t):i=i.filter((function(t){return Object(l["getObjectValueByPath"])(t,r)!==o})),n.$emit("input",i)}}),Object.defineProperty(i,"expanded",{get:function(){return n.expanded[o]},set:function(t){if(null==o&&Object(u["consoleWarn"])('"'+r+'" attribute must be defined for item',n),!n.expand)for(var e in n.expanded)n.expanded.hasOwnProperty(e)&&n.$set(n.expanded,e,!1);n.$set(n.expanded,o,t)}}),i},genItems:function(){if(!this.itemsLength&&!this.items.length){var t=this.$slots["no-data"]||this.$vuetify.t(this.noDataText);return[this.genEmptyItems(t)]}if(!this.filteredItems.length){var e=this.$slots["no-results"]||this.$vuetify.t(this.noResultsText);return[this.genEmptyItems(e)]}return this.genFilteredItems()},genPrevIcon:function(){var t=this;return this.$createElement(i["default"],{props:{disabled:1===this.computedPagination.page,icon:!0,flat:!0},on:{click:function(){var e=t.computedPagination.page;t.updatePagination({page:e-1})}},attrs:{"aria-label":this.$vuetify.t("$vuetify.dataIterator.prevPage")}},[this.$createElement(r["default"],this.$vuetify.rtl?this.nextIcon:this.prevIcon)])},genNextIcon:function(){var t=this,e=this.computedPagination,n=e.rowsPerPage<0||e.page*e.rowsPerPage>=this.itemsLength||this.pageStop<0;return this.$createElement(i["default"],{props:{disabled:n,icon:!0,flat:!0},on:{click:function(){var e=t.computedPagination.page;t.updatePagination({page:e+1})}},attrs:{"aria-label":this.$vuetify.t("$vuetify.dataIterator.nextPage")}},[this.$createElement(r["default"],this.$vuetify.rtl?this.prevIcon:this.nextIcon)])},genSelect:function(){var t=this;return this.$createElement("div",{class:this.actionsSelectClasses},[this.$vuetify.t(this.rowsPerPageText),this.$createElement(o["default"],{attrs:{"aria-label":this.$vuetify.t(this.rowsPerPageText)},props:{items:this.computedRowsPerPageItems,value:this.computedPagination.rowsPerPage,hideDetails:!0,menuProps:{auto:!0,dark:this.dark,light:this.light,minWidth:"75px"}},on:{input:function(e){t.updatePagination({page:1,rowsPerPage:e})}}})])},genPagination:function(){var t,e=this,n="";if(this.itemsLength){var i=this.itemsLength<this.pageStop||this.pageStop<0?this.itemsLength:this.pageStop;n=this.$scopedSlots.pageText?this.$scopedSlots.pageText({pageStart:this.pageStart+1,pageStop:i,itemsLength:this.itemsLength}):(t=this.$vuetify).t.apply(t,h(["$vuetify.dataIterator.pageText"],[this.pageStart+1,i,this.itemsLength].map((function(t){return Number(t).toLocaleString(e.$vuetify.lang.current)}))))}return this.$createElement("div",{class:this.actionsPaginationClasses},[n])},genActions:function(){var t=this.$createElement("div",{class:this.actionsRangeControlsClasses},[this.genPagination(),this.genPrevIcon(),this.genNextIcon()]);return[this.$createElement("div",{class:this.actionsClasses},[this.$slots["actions-prepend"]?this.$createElement("div",{},this.$slots["actions-prepend"]):null,this.rowsPerPageItems.length>1?this.genSelect():null,t,this.$slots["actions-append"]?this.$createElement("div",{},this.$slots["actions-append"]):null])]}}}},"./src/mixins/delayable.ts":
/*!*********************************!*\
  !*** ./src/mixins/delayable.ts ***!
  \*********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e["default"]=r.a.extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:function(){return{openTimeout:void 0,closeTimeout:void 0}},methods:{clearDelay:function(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay:function(t,e){var n=this;this.clearDelay();var i=parseInt(this[t+"Delay"],10);this[t+"Timeout"]=setTimeout(e||function(){n.isActive={open:!0,close:!1}[t]},i)}}})},"./src/mixins/dependent.ts":
/*!*********************************!*\
  !*** ./src/mixins/dependent.ts ***!
  \*********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../util/mixins */"./src/util/mixins.ts"),r=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},o=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t};function s(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];i.isActive&&i.isDependent?e.push(i):e.push.apply(e,o(s(i.$children)))}return e}e["default"]=Object(i["default"])().extend({name:"dependent",data:function(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive:function(t){if(!t)for(var e=this.getOpenDependents(),n=0;n<e.length;n++)e[n].isActive=!1}},methods:{getOpenDependents:function(){return this.closeDependents?s(this.$children):[]},getOpenDependentElements:function(){for(var t=[],e=this.getOpenDependents(),n=0;n<e.length;n++)t.push.apply(t,o(e[n].getClickableDependentElements()));return t},getClickableDependentElements:function(){var t=[this.$el];return this.$refs.content&&t.push(this.$refs.content),this.overlay&&t.push(this.overlay),t.push.apply(t,o(this.getOpenDependentElements())),t}}})},"./src/mixins/detachable.js":
/*!**********************************!*\
  !*** ./src/mixins/detachable.js ***!
  \**********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./bootable */"./src/mixins/bootable.ts"),r=n(/*! ../util/console */"./src/util/console.ts"),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function s(t){var e="undefined"===typeof t?"undefined":o(t);return"boolean"===e||"string"===e||t.nodeType===Node.ELEMENT_NODE}e["default"]={name:"detachable",mixins:[i["default"]],props:{attach:{type:null,default:!1,validator:s},contentClass:{default:""}},data:function(){return{hasDetached:!1}},watch:{attach:function(){this.hasDetached=!1,this.initDetach()},hasContent:"initDetach"},beforeMount:function(){var t=this;this.$nextTick((function(){if(t.activatorNode){var e=Array.isArray(t.activatorNode)?t.activatorNode:[t.activatorNode];e.forEach((function(e){e.elm&&t.$el.parentNode.insertBefore(e.elm,t.$el)}))}}))},mounted:function(){!this.lazy&&this.initDetach()},deactivated:function(){this.isActive=!1},beforeDestroy:function(){try{if(this.$refs.content&&this.$refs.content.parentNode.removeChild(this.$refs.content),this.activatorNode){var t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];t.forEach((function(t){t.elm&&t.elm.parentNode.removeChild(t.elm)}))}}catch(e){console.log(e)}},methods:{getScopeIdAttrs:function(){var t,e=this.$vnode&&this.$vnode.context.$options._scopeId;return e&&(t={},t[e]="",t)},initDetach:function(){var t;this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach||(t=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,t?(t.insertBefore(this.$refs.content,t.firstChild),this.hasDetached=!0):Object(r["consoleWarn"])("Unable to locate target "+(this.attach||"[data-app]"),this))}}}},"./src/mixins/elevatable.ts":
/*!**********************************!*\
  !*** ./src/mixins/elevatable.ts ***!
  \**********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e["default"]=r.a.extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation:function(){return this.elevation},elevationClasses:function(){var t;return this.computedElevation||0===this.computedElevation?(t={},t["elevation-"+this.computedElevation]=!0,t):{}}}})},"./src/mixins/filterable.ts":
/*!**********************************!*\
  !*** ./src/mixins/filterable.ts ***!
  \**********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e["default"]=r.a.extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}})},"./src/mixins/groupable.ts":
/*!*********************************!*\
  !*** ./src/mixins/groupable.ts ***!
  \*********************************/
/*! exports provided: factory, default */function(t,e,n){"use strict";n.r(e),n.d(e,"factory",(function(){return r}));var i=n(/*! ./registrable */"./src/mixins/registrable.ts");function r(t,e,n){return Object(i["inject"])(t,e,n).extend({name:"groupable",props:{activeClass:{type:String,default:function(){if(this[t])return this[t].activeClass}},disabled:Boolean},data:function(){return{isActive:!1}},computed:{groupClasses:function(){var t;return this.activeClass?(t={},t[this.activeClass]=this.isActive,t):{}}},created:function(){this[t]&&this[t].register(this)},beforeDestroy:function(){this[t]&&this[t].unregister(this)},methods:{toggle:function(){this.$emit("change")}}})}var o=r("itemGroup");e["default"]=o},"./src/mixins/loadable.ts":
/*!********************************!*\
  !*** ./src/mixins/loadable.ts ***!
  \********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),o=n(/*! ../components/VProgressLinear */"./src/components/VProgressLinear/index.ts");e["default"]=r.a.extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(o["default"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:2,indeterminate:!0}})}}})},"./src/mixins/maskable.js":
/*!********************************!*\
  !*** ./src/mixins/maskable.js ***!
  \********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../util/mask */"./src/util/mask.ts");e["default"]={name:"maskable",props:{dontFillMaskBlanks:Boolean,mask:{type:[Object,String],default:null},returnMaskedValue:Boolean,value:{required:!1}},data:function(t){return{selection:0,lazySelection:0,lazyValue:t.value,preDefined:{"credit-card":"#### - #### - #### - ####",date:"##/##/####","date-with-time":"##/##/#### ##:##",phone:"(###) ### - ####",social:"###-##-####",time:"##:##","time-with-seconds":"##:##:##"}}},computed:{masked:function(){var t=this.preDefined[this.mask],e=t||this.mask||"";return e.split("")}},watch:{mask:function(){var t=this;if(this.$refs.input){for(var e=this.$refs.input.value,n=this.maskText(Object(i["unmaskText"])(this.lazyValue)),r=0,o=this.selection,s=0;s<o;s++)Object(i["isMaskDelimiter"])(e[s])||r++;if(o=0,n)for(s=0;s<n.length;s++)if(Object(i["isMaskDelimiter"])(n[s])||r--,o++,r<=0)break;this.$nextTick((function(){t.$refs.input.value=n,t.setCaretPosition(o)}))}}},beforeMount:function(){if(this.mask&&null!=this.value&&this.returnMaskedValue){var t=this.maskText(this.value);t!==this.value&&this.$emit("input",t)}},methods:{setCaretPosition:function(t){var e=this;this.selection=t,window.setTimeout((function(){e.$refs.input&&e.$refs.input.setSelectionRange(e.selection,e.selection)}),0)},updateRange:function(){if(this.$refs.input){var t=this.maskText(this.lazyValue),e=0;if(this.$refs.input.value=t,t)for(var n=0;n<t.length;n++){if(this.lazySelection<=0)break;Object(i["isMaskDelimiter"])(t[n])||this.lazySelection--,e++}this.setCaretPosition(e),this.$emit("input",this.returnMaskedValue?this.$refs.input.value:this.lazyValue)}},maskText:function(t){return this.mask?Object(i["maskText"])(t,this.masked,this.dontFillMaskBlanks):t},unmaskText:function(t){return this.mask&&!this.returnMaskedValue?Object(i["unmaskText"])(t):t},setSelectionRange:function(){this.$nextTick(this.updateRange)},resetSelections:function(t){if(t.selectionEnd){this.selection=t.selectionEnd,this.lazySelection=0;for(var e=0;e<this.selection;e++)Object(i["isMaskDelimiter"])(t.value[e])||this.lazySelection++}}}}},"./src/mixins/measurable.ts":
/*!**********************************!*\
  !*** ./src/mixins/measurable.ts ***!
  \**********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../util/helpers */"./src/util/helpers.ts"),r=n(/*! vue */"vue"),o=n.n(r);e["default"]=o.a.extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles:function(){var t={},e=Object(i["convertToUnit"])(this.height),n=Object(i["convertToUnit"])(this.minHeight),r=Object(i["convertToUnit"])(this.minWidth),o=Object(i["convertToUnit"])(this.maxHeight),s=Object(i["convertToUnit"])(this.maxWidth),a=Object(i["convertToUnit"])(this.width);return e&&(t.height=e),n&&(t.minHeight=n),r&&(t.minWidth=r),o&&(t.maxHeight=o),s&&(t.maxWidth=s),a&&(t.width=a),t}}})},"./src/mixins/menuable.js":
/*!********************************!*\
  !*** ./src/mixins/menuable.js ***!
  \********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),o=n(/*! ./positionable */"./src/mixins/positionable.ts"),s=n(/*! ./stackable */"./src/mixins/stackable.ts"),a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c={activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0},hasWindow:!1};e["default"]=r.a.extend({name:"menuable",mixins:[o["default"],s["default"]],props:{activator:{default:null,validator:function(t){return["string","object"].includes("undefined"===typeof t?"undefined":a(t))}},allowOverflow:Boolean,inputActivator:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:[Number,String],default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},data:function(){return{absoluteX:0,absoluteY:0,activatorFixed:!1,dimensions:Object.assign({},c),isContentActive:!1,pageWidth:0,pageYOffset:0,stackClass:"v-menu__content--active",stackMinZIndex:6}},computed:{computedLeft:function(){var t=this.dimensions.activator,e=this.dimensions.content,n=(this.isAttached?t.offsetLeft:t.left)||0,i=Math.max(t.width,e.width),r=0;if(r+=this.left?n-(i-t.width):n,this.offsetX){var o=isNaN(this.maxWidth)?t.width:Math.min(t.width,this.maxWidth);r+=this.left?-o:t.width}return this.nudgeLeft&&(r-=parseInt(this.nudgeLeft)),this.nudgeRight&&(r+=parseInt(this.nudgeRight)),r},computedTop:function(){var t=this.dimensions.activator,e=this.dimensions.content,n=0;return this.top&&(n+=t.height-e.height),this.isAttached?n+=t.offsetTop:n+=t.top+this.pageYOffset,this.offsetY&&(n+=this.top?-t.height:t.height),this.nudgeTop&&(n-=parseInt(this.nudgeTop)),this.nudgeBottom&&(n+=parseInt(this.nudgeBottom)),n},hasActivator:function(){return!!this.$slots.activator||!!this.$scopedSlots.activator||this.activator||this.inputActivator},isAttached:function(){return!1!==this.attach}},watch:{disabled:function(t){t&&this.callDeactivate()},isActive:function(t){this.disabled||(t?this.callActivate():this.callDeactivate())},positionX:"updateDimensions",positionY:"updateDimensions"},beforeMount:function(){this.checkForWindow()},methods:{absolutePosition:function(){return{offsetTop:0,offsetLeft:0,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate:function(){},calcLeft:function(t){return(this.isAttached?this.computedLeft:this.calcXOverflow(this.computedLeft,t))+"px"},calcTop:function(){return(this.isAttached?this.computedTop:this.calcYOverflow(this.computedTop))+"px"},calcXOverflow:function(t,e){var n=t+e-this.pageWidth+12;return t=(!this.left||this.right)&&n>0?Math.max(t-n,0):Math.max(t,12),t+this.getOffsetLeft()},calcYOverflow:function(t){var e=this.getInnerHeight(),n=this.pageYOffset+e,i=this.dimensions.activator,r=this.dimensions.content.height,o=t+r,s=n<o;return s&&this.offsetOverflow&&i.top>r?t=this.pageYOffset+(i.top-r):s&&!this.allowOverflow?t=n-r-12:t<this.pageYOffset&&!this.allowOverflow&&(t=this.pageYOffset+12),t<12?12:t},callActivate:function(){this.hasWindow&&this.activate()},callDeactivate:function(){this.isContentActive=!1,this.deactivate()},checkForWindow:function(){this.hasWindow||(this.hasWindow="undefined"!==typeof window)},checkForPageYOffset:function(){this.hasWindow&&(this.pageYOffset=this.activatorFixed?0:this.getOffsetTop())},checkActivatorFixed:function(){if(!1===this.attach){var t=this.getActivator();while(t){if("fixed"===window.getComputedStyle(t).position)return void(this.activatorFixed=!0);t=t.offsetParent}this.activatorFixed=!1}},deactivate:function(){},getActivator:function(t){if(this.inputActivator)return this.$el.querySelector(".v-input__slot");if(this.activator)return"string"===typeof this.activator?document.querySelector(this.activator):this.activator;if(this.$refs.activator)return this.$refs.activator.children.length>0?this.$refs.activator.children[0]:this.$refs.activator;if(t)return this.activatedBy=t.currentTarget||t.target,this.activatedBy;if(this.activatedBy)return this.activatedBy;if(this.activatorNode){var e=Array.isArray(this.activatorNode)?this.activatorNode[0]:this.activatorNode,n=e&&e.elm;if(n)return n}},getInnerHeight:function(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getOffsetLeft:function(){return this.hasWindow?window.pageXOffset||document.documentElement.scrollLeft:0},getOffsetTop:function(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect:function(t){var e=t.getBoundingClientRect();return{top:Math.round(e.top),left:Math.round(e.left),bottom:Math.round(e.bottom),right:Math.round(e.right),width:Math.round(e.width),height:Math.round(e.height)}},measure:function(t){if(!t||!this.hasWindow)return null;var e=this.getRoundedBoundedClientRect(t);if(this.isAttached){var n=window.getComputedStyle(t);e.left=parseInt(n.marginLeft),e.top=parseInt(n.marginTop)}return e},sneakPeek:function(t){var e=this;requestAnimationFrame((function(){var n=e.$refs.content;if(!n||e.isShown(n))return t();n.style.display="inline-block",t(),n.style.display="none"}))},startTransition:function(){var t=this;return new Promise((function(e){return requestAnimationFrame((function(){t.isContentActive=t.hasJustFocused=t.isActive,e()}))}))},isShown:function(t){return"none"!==t.style.display},updateDimensions:function(){var t=this;this.checkForWindow(),this.checkActivatorFixed(),this.checkForPageYOffset(),this.pageWidth=document.documentElement.clientWidth;var e={};if(!this.hasActivator||this.absolute)e.activator=this.absolutePosition();else{var n=this.getActivator();e.activator=this.measure(n),e.activator.offsetLeft=n.offsetLeft,this.isAttached?e.activator.offsetTop=n.offsetTop:e.activator.offsetTop=0}this.sneakPeek((function(){e.content=t.measure(t.$refs.content),t.dimensions=e}))}}})},"./src/mixins/overlayable.ts":
/*!***********************************!*\
  !*** ./src/mixins/overlayable.ts ***!
  \***********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);n(/*! ../stylus/components/_overlay.styl */"./src/stylus/components/_overlay.styl");var i=n(/*! ../util/helpers */"./src/util/helpers.ts"),r=n(/*! vue */"vue"),o=n.n(r);e["default"]=o.a.extend().extend({name:"overlayable",props:{hideOverlay:Boolean},data:function(){return{overlay:null,overlayOffset:0,overlayTimeout:void 0,overlayTransitionDuration:650}},watch:{hideOverlay:function(t){t?this.removeOverlay():this.genOverlay()}},beforeDestroy:function(){this.removeOverlay()},methods:{genOverlay:function(){var t=this;if(!this.isActive||this.hideOverlay||this.isActive&&this.overlayTimeout||this.overlay)return clearTimeout(this.overlayTimeout),this.overlay&&this.overlay.classList.add("v-overlay--active");this.overlay=document.createElement("div"),this.overlay.className="v-overlay",this.absolute&&(this.overlay.className+=" v-overlay--absolute"),this.hideScroll();var e=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");return e&&e.insertBefore(this.overlay,e.firstChild),this.overlay.clientHeight,requestAnimationFrame((function(){t.overlay&&(t.overlay.className+=" v-overlay--active",void 0!==t.activeZIndex&&(t.overlay.style.zIndex=String(t.activeZIndex-1)))})),!0},removeOverlay:function(t){var e=this;if(void 0===t&&(t=!0),!this.overlay)return t&&this.showScroll();this.overlay.classList.remove("v-overlay--active"),this.overlayTimeout=window.setTimeout((function(){try{e.overlay&&e.overlay.parentNode&&e.overlay.parentNode.removeChild(e.overlay),e.overlay=null,t&&e.showScroll()}catch(n){console.log(n)}clearTimeout(e.overlayTimeout),e.overlayTimeout=void 0}),this.overlayTransitionDuration)},scrollListener:function(t){if("keydown"===t.type){if(["INPUT","TEXTAREA","SELECT"].includes(t.target.tagName)||t.target.isContentEditable)return;var e=[i["keyCodes"].up,i["keyCodes"].pageup],n=[i["keyCodes"].down,i["keyCodes"].pagedown];if(e.includes(t.keyCode))t.deltaY=-1;else{if(!n.includes(t.keyCode))return;t.deltaY=1}}(t.target===this.overlay||"keydown"!==t.type&&t.target===document.body||this.checkPath(t))&&t.preventDefault()},hasScrollbar:function(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},shouldScroll:function(t,e){return 0===t.scrollTop&&e<0||t.scrollTop+t.clientHeight===t.scrollHeight&&e>0},isInside:function(t,e){return t===e||null!==t&&t!==document.body&&this.isInside(t.parentNode,e)},checkPath:function(t){var e=t.path||this.composedPath(t),n=t.deltaY;if("keydown"===t.type&&e[0]===document.body){var i=this.$refs.dialog,r=window.getSelection().anchorNode;return!(i&&this.hasScrollbar(i)&&this.isInside(r,i))||this.shouldScroll(i,n)}for(var o=0;o<e.length;o++){var s=e[o];if(s===document)return!0;if(s===document.documentElement)return!0;if(s===this.$refs.content)return!0;if(this.hasScrollbar(s))return this.shouldScroll(s,n)}return!0},composedPath:function(t){if(t.composedPath)return t.composedPath();var e=[],n=t.target;while(n){if(e.push(n),"HTML"===n.tagName)return e.push(document),e.push(window),e;n=n.parentElement}return e},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(i["addPassiveEventListener"])(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}})},"./src/mixins/picker-button.ts":
/*!*************************************!*\
  !*** ./src/mixins/picker-button.ts ***!
  \*************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./colorable */"./src/mixins/colorable.ts"),r=n(/*! ../util/mixins */"./src/util/mixins.ts");e["default"]=Object(r["default"])(i["default"]).extend({methods:{genPickerButton:function(t,e,n,i,r){var o=this;void 0===i&&(i=!1),void 0===r&&(r="");var s=this[t]===e,a=function(n){n.stopPropagation(),o.$emit("update:"+t,e)};return this.$createElement("div",{staticClass:("v-picker__title__btn "+r).trim(),class:{"v-picker__title__btn--active":s,"v-picker__title__btn--readonly":i},on:s||i?void 0:{click:a}},Array.isArray(n)?n:[n])}}})},"./src/mixins/picker.ts":
/*!******************************!*\
  !*** ./src/mixins/picker.ts ***!
  \******************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../components/VPicker */"./src/components/VPicker/index.ts"),r=n(/*! ./colorable */"./src/mixins/colorable.ts"),o=n(/*! ./themeable */"./src/mixins/themeable.ts"),s=n(/*! ../util/mixins */"./src/util/mixins.ts");e["default"]=Object(s["default"])(r["default"],o["default"]).extend({name:"picker",props:{fullWidth:Boolean,headerColor:String,landscape:Boolean,noTitle:Boolean,width:{type:[Number,String],default:290}},methods:{genPickerTitle:function(){return null},genPickerBody:function(){return null},genPickerActionsSlot:function(){return this.$scopedSlots.default?this.$scopedSlots.default({save:this.save,cancel:this.cancel}):this.$slots.default},genPicker:function(t){var e=[];if(!this.noTitle){var n=this.genPickerTitle();n&&e.push(n)}var r=this.genPickerBody();return r&&e.push(r),e.push(this.$createElement("template",{slot:"actions"},[this.genPickerActionsSlot()])),this.$createElement(i["default"],{staticClass:t,props:{color:this.headerColor||this.color,dark:this.dark,fullWidth:this.fullWidth,landscape:this.landscape,light:this.light,width:this.width}},e)}}})},"./src/mixins/positionable.ts":
/*!************************************!*\
  !*** ./src/mixins/positionable.ts ***!
  \************************************/
/*! exports provided: factory, default */function(t,e,n){"use strict";n.r(e),n.d(e,"factory",(function(){return a}));var i=n(/*! vue */"vue"),r=n.n(i),o=n(/*! ../util/helpers */"./src/util/helpers.ts"),s={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};function a(t){return void 0===t&&(t=[]),r.a.extend({name:"positionable",props:t.length?Object(o["filterObjectOnKeys"])(s,t):s})}e["default"]=a()},"./src/mixins/proxyable.ts":
/*!*********************************!*\
  !*** ./src/mixins/proxyable.ts ***!
  \*********************************/
/*! exports provided: factory, default */function(t,e,n){"use strict";n.r(e),n.d(e,"factory",(function(){return o}));var i=n(/*! vue */"vue"),r=n.n(i);function o(t,e){var n,i;return void 0===t&&(t="value"),void 0===e&&(e="change"),r.a.extend({name:"proxyable",model:{prop:t,event:e},props:(n={},n[t]={required:!1},n),data:function(){return{internalLazyValue:this[t]}},computed:{internalValue:{get:function(){return this.internalLazyValue},set:function(t){t!==this.internalLazyValue&&(this.internalLazyValue=t,this.$emit(e,t))}}},watch:(i={},i[t]=function(t){this.internalLazyValue=t},i)})}var s=o();e["default"]=s},"./src/mixins/registrable.ts":
/*!***********************************!*\
  !*** ./src/mixins/registrable.ts ***!
  \***********************************/
/*! exports provided: inject, provide */function(t,e,n){"use strict";n.r(e),n.d(e,"inject",(function(){return a})),n.d(e,"provide",(function(){return c}));var i=n(/*! vue */"vue"),r=n.n(i),o=n(/*! ../util/console */"./src/util/console.ts");function s(t,e){return function(){return Object(o["consoleWarn"])("The "+t+" component must be used inside a "+e)}}function a(t,e,n){var i,o=e&&n?{register:s(e,n),unregister:s(e,n)}:null;return r.a.extend({name:"registrable-inject",inject:(i={},i[t]={default:o},i)})}function c(t){return r.a.extend({name:"registrable-provide",methods:{register:null,unregister:null},provide:function(){var e;return e={},e[t]={register:this.register,unregister:this.unregister},e}})}},"./src/mixins/returnable.ts":
/*!**********************************!*\
  !*** ./src/mixins/returnable.ts ***!
  \**********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e["default"]=r.a.extend({name:"returnable",props:{returnValue:null},data:function(){return{isActive:!1,originalValue:null}},watch:{isActive:function(t){t?this.originalValue=this.returnValue:this.$emit("update:returnValue",this.originalValue)}},methods:{save:function(t){var e=this;this.originalValue=t,setTimeout((function(){e.isActive=!1}))}}})},"./src/mixins/rippleable.ts":
/*!**********************************!*\
  !*** ./src/mixins/rippleable.ts ***!
  \**********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../directives/ripple */"./src/directives/ripple.ts"),r=n(/*! vue */"vue"),o=n.n(r);e["default"]=o.a.extend({name:"rippleable",directives:{Ripple:i["default"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(t){return void 0===t&&(t={}),this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),t.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",t)):null},onChange:function(){}}})},"./src/mixins/routable.ts":
/*!********************************!*\
  !*** ./src/mixins/routable.ts ***!
  \********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),o=n(/*! ../directives/ripple */"./src/directives/ripple.ts"),s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};e["default"]=r.a.extend({name:"routable",directives:{Ripple:o["default"]},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactActiveClass:String,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:[Boolean,Object],tag:String,target:String},computed:{computedRipple:function(){return!(!this.ripple||this.disabled)&&this.ripple}},methods:{click:function(t){this.$emit("click",t)},generateRouteLink:function(t){var e,n,i=this.exact,r=(e={attrs:{disabled:this.disabled},class:t,props:{},directives:[{name:"ripple",value:this.computedRipple}]},e[this.to?"nativeOn":"on"]=s({},this.$listeners,{click:this.click}),e);if("undefined"===typeof this.exact&&(i="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){var o=this.activeClass,a=this.exactActiveClass||o;this.proxyClass&&(o+=" "+this.proxyClass,a+=" "+this.proxyClass),n=this.nuxt?"nuxt-link":"router-link",Object.assign(r.props,{to:this.to,exact:i,activeClass:o,exactActiveClass:a,append:this.append,replace:this.replace})}else n=(this.href?"a":this.tag)||"a","a"===n&&this.href&&(r.attrs.href=this.href);return this.target&&(r.attrs.target=this.target),{tag:n,data:r}}}})},"./src/mixins/selectable.js":
/*!**********************************!*\
  !*** ./src/mixins/selectable.js ***!
  \**********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../components/VInput */"./src/components/VInput/index.ts"),r=n(/*! ./rippleable */"./src/mixins/rippleable.ts"),o=n(/*! ./comparable */"./src/mixins/comparable.ts");e["default"]=i["default"].extend({name:"selectable",mixins:[r["default"],o["default"]],model:{prop:"inputValue",event:"change"},props:{color:{type:String,default:"accent"},id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(t){return{lazyValue:t.inputValue}},computed:{computedColor:function(){return this.isActive?this.color:this.validationState},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,n=this.internalValue;return this.isMultiple?!!Array.isArray(n)&&n.some((function(n){return t.valueComparator(n,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,n):Boolean(n):this.valueComparator(n,this.trueValue)},isDirty:function(){return this.isActive}},watch:{inputValue:function(t){this.lazyValue=t}},methods:{genLabel:function(){if(!this.hasLabel)return null;var t=i["default"].options.methods.genLabel.call(this);return t.data.on={click:this.onChange},t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-label":this.label,"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.id,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown},ref:"input"})},onBlur:function(){this.isFocused=!1},onChange:function(){var t=this;if(!this.isDisabled){var e=this.value,n=this.internalValue;if(this.isMultiple){Array.isArray(n)||(n=[]);var i=n.length;n=n.filter((function(n){return!t.valueComparator(n,e)})),n.length===i&&n.push(e)}else n=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(n,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(n,e)?null:e:!n;this.validate(!0,n),this.internalValue=n}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}})},"./src/mixins/sizeable.ts":
/*!********************************!*\
  !*** ./src/mixins/sizeable.ts ***!
  \********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e["default"]=r.a.extend({name:"sizeable",props:{large:Boolean,medium:Boolean,size:{type:[Number,String]},small:Boolean,xLarge:Boolean}})},"./src/mixins/ssr-bootable.ts":
/*!************************************!*\
  !*** ./src/mixins/ssr-bootable.ts ***!
  \************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e["default"]=r.a.extend({name:"ssr-bootable",data:function(){return{isBooted:!1}},mounted:function(){var t=this;window.requestAnimationFrame((function(){t.$el.setAttribute("data-booted","true"),t.isBooted=!0}))}})},"./src/mixins/stackable.ts":
/*!*********************************!*\
  !*** ./src/mixins/stackable.ts ***!
  \*********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i),o=n(/*! ../util/helpers */"./src/util/helpers.ts"),s=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s},a=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};e["default"]=r.a.extend().extend({name:"stackable",data:function(){return{stackClass:"unpecified",stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex:function(){if("undefined"===typeof window)return 0;var t=this.stackElement||this.$refs.content,e=this.isActive?this.getMaxZIndex(this.stackExclude||[t])+2:Object(o["getZIndex"])(t);return null==e?e:parseInt(e)}},methods:{getMaxZIndex:function(t){void 0===t&&(t=[]);for(var e=this.$el,n=[this.stackMinZIndex,Object(o["getZIndex"])(e)],i=a(document.getElementsByClassName(this.stackClass)),r=0;r<i.length;r++)t.includes(i[r])||n.push(Object(o["getZIndex"])(i[r]));return Math.max.apply(Math,a(n))}}})},"./src/mixins/themeable.ts":
/*!*********************************!*\
  !*** ./src/mixins/themeable.ts ***!
  \*********************************/
/*! exports provided: functionalThemeClasses, default */function(t,e,n){"use strict";n.r(e),n.d(e,"functionalThemeClasses",(function(){return s}));var i=n(/*! vue */"vue"),r=n.n(i),o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};function s(t){var e=o({},t.props,t.injections),n=a.options.computed.isDark.call(e);return a.options.computed.themeClasses.call({isDark:n})}var a=r.a.extend().extend({name:"themeable",provide:function(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data:function(){return{themeableProvide:{isDark:!1}}},computed:{isDark:function(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses:function(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark:function(){return!0===this.dark||!0!==this.light&&this.$vuetify.dark},rootThemeClasses:function(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler:function(t,e){t!==e&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}});e["default"]=a},"./src/mixins/toggleable.ts":
/*!**********************************!*\
  !*** ./src/mixins/toggleable.ts ***!
  \**********************************/
/*! exports provided: factory, default */function(t,e,n){"use strict";n.r(e),n.d(e,"factory",(function(){return o}));var i=n(/*! vue */"vue"),r=n.n(i);function o(t,e){var n,i;return void 0===t&&(t="value"),void 0===e&&(e="input"),r.a.extend({name:"toggleable",model:{prop:t,event:e},props:(n={},n[t]={required:!1},n),data:function(){return{isActive:!!this[t]}},watch:(i={},i[t]=function(t){this.isActive=!!t},i.isActive=function(n){!!n!==this[t]&&this.$emit(e,n)},i)})}var s=o();e["default"]=s},"./src/mixins/transitionable.ts":
/*!**************************************!*\
  !*** ./src/mixins/transitionable.ts ***!
  \**************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e["default"]=r.a.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})},"./src/mixins/translatable.ts":
/*!************************************!*\
  !*** ./src/mixins/translatable.ts ***!
  \************************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! vue */"vue"),r=n.n(i);e["default"]=r.a.extend({name:"translatable",props:{height:Number},data:function(){return{elOffsetTop:0,parallax:0,parallaxDist:0,percentScrolled:0,scrollTop:0,windowHeight:0,windowBottom:0}},computed:{imgHeight:function(){return this.objHeight()}},beforeDestroy:function(){window.removeEventListener("scroll",this.translate,!1),window.removeEventListener("resize",this.translate,!1)},methods:{calcDimensions:function(){var t=this.$el.getBoundingClientRect();this.scrollTop=window.pageYOffset,this.parallaxDist=this.imgHeight-this.height,this.elOffsetTop=t.top+this.scrollTop,this.windowHeight=window.innerHeight,this.windowBottom=this.scrollTop+this.windowHeight},listeners:function(){window.addEventListener("scroll",this.translate,!1),window.addEventListener("resize",this.translate,!1)},objHeight:function(){throw new Error("Not implemented !")},translate:function(){this.calcDimensions(),this.percentScrolled=(this.windowBottom-this.elOffsetTop)/(parseInt(this.height)+this.windowHeight),this.parallax=Math.round(this.parallaxDist*this.percentScrolled)}}})},"./src/mixins/validatable.ts":
/*!***********************************!*\
  !*** ./src/mixins/validatable.ts ***!
  \***********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./colorable */"./src/mixins/colorable.ts"),r=n(/*! ./registrable */"./src/mixins/registrable.ts"),o=n(/*! ../util/helpers */"./src/util/helpers.ts"),s=n(/*! ../util/console */"./src/util/console.ts"),a=n(/*! ../util/mixins */"./src/util/mixins.ts"),c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e["default"]=Object(a["default"])(i["default"],Object(r["inject"])("form")).extend({name:"validatable",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:function(){return[]}},messages:{type:[String,Array],default:function(){return[]}},readonly:Boolean,rules:{type:Array,default:function(){return[]}},success:Boolean,successMessages:{type:[String,Array],default:function(){return[]}},validateOnBlur:Boolean,value:{required:!1}},data:function(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{hasError:function(){return this.internalErrorMessages.length>0||this.errorBucket.length>0||this.error},hasSuccess:function(){return this.internalSuccessMessages.length>0||this.success},externalError:function(){return this.internalErrorMessages.length>0||this.error},hasMessages:function(){return this.validationTarget.length>0},hasState:function(){return this.hasSuccess||this.shouldValidate&&this.hasError},internalErrorMessages:function(){return this.genInternalMessages(this.errorMessages)},internalMessages:function(){return this.genInternalMessages(this.messages)},internalSuccessMessages:function(){return this.genInternalMessages(this.successMessages)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("input",t)}},shouldValidate:function(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations:function(){return this.validationTarget.slice(0,Number(this.errorCount))},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.color:void 0},validationTarget:function(){return this.internalErrorMessages.length>0?this.internalErrorMessages:this.successMessages.length>0?this.internalSuccessMessages:this.messages.length>0?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler:function(t,e){Object(o["deepEqual"])(t,e)||this.validate()},deep:!0},internalValue:function(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused:function(t){t||this.disabled||this.readonly||(this.hasFocused=!0,this.validateOnBlur&&this.validate())},isResetting:function(){var t=this;setTimeout((function(){t.hasInput=!1,t.hasFocused=!1,t.isResetting=!1,t.validate()}),0)},hasError:function(t){this.shouldValidate&&this.$emit("update:error",t)},value:function(t){this.lazyValue=t}},beforeMount:function(){this.validate()},created:function(){this.form&&this.form.register(this)},beforeDestroy:function(){this.form&&this.form.unregister(this)},methods:{genInternalMessages:function(t){return t?Array.isArray(t)?t:[t]:[]},reset:function(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:void 0},resetValidation:function(){this.isResetting=!0},validate:function(t,e){void 0===t&&(t=!1);var n=[];e=e||this.internalValue,t&&(this.hasInput=this.hasFocused=!0);for(var i=0;i<this.rules.length;i++){var r=this.rules[i],o="function"===typeof r?r(e):r;"string"===typeof o?n.push(o):"boolean"!==typeof o&&Object(s["consoleError"])("Rules should return a string or boolean, received '"+("undefined"===typeof o?"undefined":c(o))+"' instead",this)}return this.errorBucket=n,this.valid=0===n.length,this.valid}}})},"./src/stylus/app.styl":
/*!*****************************!*\
  !*** ./src/stylus/app.styl ***!
  \*****************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_alerts.styl":
/*!********************************************!*\
  !*** ./src/stylus/components/_alerts.styl ***!
  \********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_app.styl":
/*!*****************************************!*\
  !*** ./src/stylus/components/_app.styl ***!
  \*****************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_autocompletes.styl":
/*!***************************************************!*\
  !*** ./src/stylus/components/_autocompletes.styl ***!
  \***************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_avatars.styl":
/*!*********************************************!*\
  !*** ./src/stylus/components/_avatars.styl ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_badges.styl":
/*!********************************************!*\
  !*** ./src/stylus/components/_badges.styl ***!
  \********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_bottom-navs.styl":
/*!*************************************************!*\
  !*** ./src/stylus/components/_bottom-navs.styl ***!
  \*************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_bottom-sheets.styl":
/*!***************************************************!*\
  !*** ./src/stylus/components/_bottom-sheets.styl ***!
  \***************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_breadcrumbs.styl":
/*!*************************************************!*\
  !*** ./src/stylus/components/_breadcrumbs.styl ***!
  \*************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_button-toggle.styl":
/*!***************************************************!*\
  !*** ./src/stylus/components/_button-toggle.styl ***!
  \***************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_buttons.styl":
/*!*********************************************!*\
  !*** ./src/stylus/components/_buttons.styl ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_calendar-daily.styl":
/*!****************************************************!*\
  !*** ./src/stylus/components/_calendar-daily.styl ***!
  \****************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_calendar-weekly.styl":
/*!*****************************************************!*\
  !*** ./src/stylus/components/_calendar-weekly.styl ***!
  \*****************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_cards.styl":
/*!*******************************************!*\
  !*** ./src/stylus/components/_cards.styl ***!
  \*******************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_carousel.styl":
/*!**********************************************!*\
  !*** ./src/stylus/components/_carousel.styl ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_chips.styl":
/*!*******************************************!*\
  !*** ./src/stylus/components/_chips.styl ***!
  \*******************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_content.styl":
/*!*********************************************!*\
  !*** ./src/stylus/components/_content.styl ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_counters.styl":
/*!**********************************************!*\
  !*** ./src/stylus/components/_counters.styl ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_data-iterator.styl":
/*!***************************************************!*\
  !*** ./src/stylus/components/_data-iterator.styl ***!
  \***************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_data-table.styl":
/*!************************************************!*\
  !*** ./src/stylus/components/_data-table.styl ***!
  \************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_date-picker-header.styl":
/*!********************************************************!*\
  !*** ./src/stylus/components/_date-picker-header.styl ***!
  \********************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_date-picker-table.styl":
/*!*******************************************************!*\
  !*** ./src/stylus/components/_date-picker-table.styl ***!
  \*******************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_date-picker-title.styl":
/*!*******************************************************!*\
  !*** ./src/stylus/components/_date-picker-title.styl ***!
  \*******************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_date-picker-years.styl":
/*!*******************************************************!*\
  !*** ./src/stylus/components/_date-picker-years.styl ***!
  \*******************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_dialogs.styl":
/*!*********************************************!*\
  !*** ./src/stylus/components/_dialogs.styl ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_dividers.styl":
/*!**********************************************!*\
  !*** ./src/stylus/components/_dividers.styl ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_expansion-panel.styl":
/*!*****************************************************!*\
  !*** ./src/stylus/components/_expansion-panel.styl ***!
  \*****************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_footer.styl":
/*!********************************************!*\
  !*** ./src/stylus/components/_footer.styl ***!
  \********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_forms.styl":
/*!*******************************************!*\
  !*** ./src/stylus/components/_forms.styl ***!
  \*******************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_grid.styl":
/*!******************************************!*\
  !*** ./src/stylus/components/_grid.styl ***!
  \******************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_icons.styl":
/*!*******************************************!*\
  !*** ./src/stylus/components/_icons.styl ***!
  \*******************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_images.styl":
/*!********************************************!*\
  !*** ./src/stylus/components/_images.styl ***!
  \********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_inputs.styl":
/*!********************************************!*\
  !*** ./src/stylus/components/_inputs.styl ***!
  \********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_item-group.styl":
/*!************************************************!*\
  !*** ./src/stylus/components/_item-group.styl ***!
  \************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_jumbotrons.styl":
/*!************************************************!*\
  !*** ./src/stylus/components/_jumbotrons.styl ***!
  \************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_labels.styl":
/*!********************************************!*\
  !*** ./src/stylus/components/_labels.styl ***!
  \********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_lists.styl":
/*!*******************************************!*\
  !*** ./src/stylus/components/_lists.styl ***!
  \*******************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_menus.styl":
/*!*******************************************!*\
  !*** ./src/stylus/components/_menus.styl ***!
  \*******************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_messages.styl":
/*!**********************************************!*\
  !*** ./src/stylus/components/_messages.styl ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_navigation-drawer.styl":
/*!*******************************************************!*\
  !*** ./src/stylus/components/_navigation-drawer.styl ***!
  \*******************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_overflow-buttons.styl":
/*!******************************************************!*\
  !*** ./src/stylus/components/_overflow-buttons.styl ***!
  \******************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_overlay.styl":
/*!*********************************************!*\
  !*** ./src/stylus/components/_overlay.styl ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_pagination.styl":
/*!************************************************!*\
  !*** ./src/stylus/components/_pagination.styl ***!
  \************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_parallax.styl":
/*!**********************************************!*\
  !*** ./src/stylus/components/_parallax.styl ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_pickers.styl":
/*!*********************************************!*\
  !*** ./src/stylus/components/_pickers.styl ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_progress-circular.styl":
/*!*******************************************************!*\
  !*** ./src/stylus/components/_progress-circular.styl ***!
  \*******************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_progress-linear.styl":
/*!*****************************************************!*\
  !*** ./src/stylus/components/_progress-linear.styl ***!
  \*****************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_radio-group.styl":
/*!*************************************************!*\
  !*** ./src/stylus/components/_radio-group.styl ***!
  \*************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_radios.styl":
/*!********************************************!*\
  !*** ./src/stylus/components/_radios.styl ***!
  \********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_range-sliders.styl":
/*!***************************************************!*\
  !*** ./src/stylus/components/_range-sliders.styl ***!
  \***************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_rating.styl":
/*!********************************************!*\
  !*** ./src/stylus/components/_rating.styl ***!
  \********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_responsive.styl":
/*!************************************************!*\
  !*** ./src/stylus/components/_responsive.styl ***!
  \************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_select.styl":
/*!********************************************!*\
  !*** ./src/stylus/components/_select.styl ***!
  \********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_selection-controls.styl":
/*!********************************************************!*\
  !*** ./src/stylus/components/_selection-controls.styl ***!
  \********************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_sheet.styl":
/*!*******************************************!*\
  !*** ./src/stylus/components/_sheet.styl ***!
  \*******************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_sliders.styl":
/*!*********************************************!*\
  !*** ./src/stylus/components/_sliders.styl ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_small-dialog.styl":
/*!**************************************************!*\
  !*** ./src/stylus/components/_small-dialog.styl ***!
  \**************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_snackbars.styl":
/*!***********************************************!*\
  !*** ./src/stylus/components/_snackbars.styl ***!
  \***********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_speed-dial.styl":
/*!************************************************!*\
  !*** ./src/stylus/components/_speed-dial.styl ***!
  \************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_steppers.styl":
/*!**********************************************!*\
  !*** ./src/stylus/components/_steppers.styl ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_subheaders.styl":
/*!************************************************!*\
  !*** ./src/stylus/components/_subheaders.styl ***!
  \************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_switch.styl":
/*!********************************************!*\
  !*** ./src/stylus/components/_switch.styl ***!
  \********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_system-bars.styl":
/*!*************************************************!*\
  !*** ./src/stylus/components/_system-bars.styl ***!
  \*************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_tables.styl":
/*!********************************************!*\
  !*** ./src/stylus/components/_tables.styl ***!
  \********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_tabs.styl":
/*!******************************************!*\
  !*** ./src/stylus/components/_tabs.styl ***!
  \******************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_text-fields.styl":
/*!*************************************************!*\
  !*** ./src/stylus/components/_text-fields.styl ***!
  \*************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_textarea.styl":
/*!**********************************************!*\
  !*** ./src/stylus/components/_textarea.styl ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_time-picker-clock.styl":
/*!*******************************************************!*\
  !*** ./src/stylus/components/_time-picker-clock.styl ***!
  \*******************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_time-picker-title.styl":
/*!*******************************************************!*\
  !*** ./src/stylus/components/_time-picker-title.styl ***!
  \*******************************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_timeline.styl":
/*!**********************************************!*\
  !*** ./src/stylus/components/_timeline.styl ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_toolbar.styl":
/*!*********************************************!*\
  !*** ./src/stylus/components/_toolbar.styl ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_tooltips.styl":
/*!**********************************************!*\
  !*** ./src/stylus/components/_tooltips.styl ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_treeview.styl":
/*!**********************************************!*\
  !*** ./src/stylus/components/_treeview.styl ***!
  \**********************************************/
/*! no static exports found */function(t,e,n){},"./src/stylus/components/_windows.styl":
/*!*********************************************!*\
  !*** ./src/stylus/components/_windows.styl ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){},"./src/util/ThemeProvider.ts":
/*!***********************************!*\
  !*** ./src/util/ThemeProvider.ts ***!
  \***********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../mixins/themeable */"./src/mixins/themeable.ts"),r=n(/*! ./mixins */"./src/util/mixins.ts");e["default"]=Object(r["default"])(i["default"]).extend({name:"theme-provider",props:{root:Boolean},computed:{isDark:function(){return this.root?this.rootIsDark:i["default"].options.computed.isDark.call(this)}},render:function(){return this.$slots.default&&this.$slots.default.find((function(t){return!t.isComment&&" "!==t.text}))}})},"./src/util/color/transformCIELAB.ts":
/*!*******************************************!*\
  !*** ./src/util/color/transformCIELAB.ts ***!
  \*******************************************/
/*! exports provided: fromXYZ, toXYZ */function(t,e,n){"use strict";n.r(e),n.d(e,"fromXYZ",(function(){return s})),n.d(e,"toXYZ",(function(){return a}));var i=.20689655172413793,r=function(t){return t>Math.pow(i,3)?Math.cbrt(t):t/(3*Math.pow(i,2))+4/29},o=function(t){return t>i?Math.pow(t,3):3*Math.pow(i,2)*(t-4/29)};function s(t){var e=r,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function a(t){var e=o,n=(t[0]+16)/116;return[.95047*e(n+t[1]/500),e(n),1.08883*e(n-t[2]/200)]}},"./src/util/color/transformSRGB.ts":
/*!*****************************************!*\
  !*** ./src/util/color/transformSRGB.ts ***!
  \*****************************************/
/*! exports provided: fromXYZ, toXYZ */function(t,e,n){"use strict";n.r(e),n.d(e,"fromXYZ",(function(){return c})),n.d(e,"toXYZ",(function(){return l}));var i=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],r=function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055},o=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],s=function(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)};function a(t){return Math.max(0,Math.min(1,t))}function c(t){for(var e=Array(3),n=r,o=i,s=0;s<3;++s)e[s]=Math.round(255*a(n(o[s][0]*t[0]+o[s][1]*t[1]+o[s][2]*t[2])));return(e[0]<<16)+(e[1]<<8)+(e[2]<<0)}function l(t){for(var e=[0,0,0],n=s,i=o,r=n((t>>16&255)/255),a=n((t>>8&255)/255),c=n((t>>0&255)/255),l=0;l<3;++l)e[l]=i[l][0]*r+i[l][1]*a+i[l][2]*c;return e}},"./src/util/colorUtils.ts":
/*!********************************!*\
  !*** ./src/util/colorUtils.ts ***!
  \********************************/
/*! exports provided: colorToInt, intToHex, colorToHex */function(t,e,n){"use strict";n.r(e),n.d(e,"colorToInt",(function(){return r})),n.d(e,"intToHex",(function(){return o})),n.d(e,"colorToHex",(function(){return s}));var i=n(/*! ./console */"./src/util/console.ts");function r(t){var e;if("number"===typeof t)e=t;else{if("string"!==typeof t)throw new TypeError("Colors can only be numbers or strings, recieved "+(null==t?t:t.constructor.name)+" instead");var n="#"===t[0]?t.substring(1):t;3===n.length&&(n=n.split("").map((function(t){return t+t})).join("")),6!==n.length&&Object(i["consoleWarn"])("'"+t+"' is not a valid rgb color"),e=parseInt(n,16)}return e<0?(Object(i["consoleWarn"])("Colors cannot be negative: '"+t+"'"),e=0):(e>16777215||isNaN(e))&&(Object(i["consoleWarn"])("'"+t+"' is not a valid rgb color"),e=16777215),e}function o(t){var e=t.toString(16);return e.length<6&&(e="0".repeat(6-e.length)+e),"#"+e}function s(t){return o(r(t))}},"./src/util/console.ts":
/*!*****************************!*\
  !*** ./src/util/console.ts ***!
  \*****************************/
/*! exports provided: consoleInfo, consoleWarn, consoleError, deprecate */function(t,e,n){"use strict";function i(t,e,n){if(n&&(e={_isVue:!0,$parent:n,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return"[Vuetify] "+t+(e?d(e):"")}function r(t,e,n){var r=i(t,e,n);null!=r&&console.info(r)}function o(t,e,n){var r=i(t,e,n);null!=r&&console.warn(r)}function s(t,e,n){var r=i(t,e,n);null!=r&&console.error(r)}function a(t,e,n,i){o("'"+t+"' is deprecated, use '"+e+"' instead",n,i)}n.r(e),n.d(e,"consoleInfo",(function(){return r})),n.d(e,"consoleWarn",(function(){return o})),n.d(e,"consoleError",(function(){return s})),n.d(e,"deprecate",(function(){return a}));var c=/(?:^|[-_])(\w)/g,l=function(t){return t.replace(c,(function(t){return t.toUpperCase()})).replace(/[-_]/g,"")};function u(t,e){if(t.$root===t)return"<Root>";var n="function"===typeof t&&null!=t.cid?t.options:t._isVue?t.$options||t.constructor.options:t||{},i=n.name||n._componentTag,r=n.__file;if(!i&&r){var o=r.match(/([^/\\]+)\.vue$/);i=o&&o[1]}return(i?"<"+l(i)+">":"<Anonymous>")+(r&&!1!==e?" at "+r:"")}function d(t){if(t._isVue&&t.$parent){var e=[],n=0;while(t){if(e.length>0){var i=e[e.length-1];if(i.constructor===t.constructor){n++,t=t.$parent;continue}n>0&&(e[e.length-1]=[i,n],n=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map((function(t,e){return""+(0===e?"---\x3e ":" ".repeat(5+2*e))+(Array.isArray(t)?u(t[0])+"... ("+t[1]+" recursive calls)":u(t))})).join("\n")}return"\n\n(found in "+u(t)+")"}},"./src/util/dedupeModelListeners.ts":
/*!******************************************!*\
  !*** ./src/util/dedupeModelListeners.ts ***!
  \******************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t){if(t.model&&t.on&&t.on.input)if(Array.isArray(t.on.input)){var e=t.on.input.indexOf(t.model.callback);e>-1&&t.on.input.splice(e,1)}else delete t.on.input}n.r(e),n.d(e,"default",(function(){return i}))},"./src/util/helpers.ts":
/*!*****************************!*\
  !*** ./src/util/helpers.ts ***!
  \*****************************/
/*! exports provided: createSimpleFunctional, createSimpleTransition, createJavaScriptTransition, directiveConfig, addOnceEventListener, passiveSupported, addPassiveEventListener, getNestedValue, deepEqual, getObjectValueByPath, getPropertyFromItem, createRange, getZIndex, escapeHTML, filterObjectOnKeys, filterChildren, convertToUnit, kebabCase, isObject, keyCodes, remapInternalIcon, keys, camelize, arrayDiff, upperFirst, getSlotType */function(t,e,n){"use strict";n.r(e),n.d(e,"createSimpleFunctional",(function(){return a})),n.d(e,"createSimpleTransition",(function(){return l})),n.d(e,"createJavaScriptTransition",(function(){return u})),n.d(e,"directiveConfig",(function(){return d})),n.d(e,"addOnceEventListener",(function(){return h})),n.d(e,"passiveSupported",(function(){return p})),n.d(e,"addPassiveEventListener",(function(){return m})),n.d(e,"getNestedValue",(function(){return v})),n.d(e,"deepEqual",(function(){return g})),n.d(e,"getObjectValueByPath",(function(){return _})),n.d(e,"getPropertyFromItem",(function(){return y})),n.d(e,"createRange",(function(){return E})),n.d(e,"getZIndex",(function(){return b})),n.d(e,"escapeHTML",(function(){return T})),n.d(e,"filterObjectOnKeys",(function(){return w})),n.d(e,"filterChildren",(function(){return C})),n.d(e,"convertToUnit",(function(){return I})),n.d(e,"kebabCase",(function(){return R})),n.d(e,"isObject",(function(){return A})),n.d(e,"keyCodes",(function(){return O})),n.d(e,"remapInternalIcon",(function(){return D})),n.d(e,"keys",(function(){return k})),n.d(e,"camelize",(function(){return P})),n.d(e,"arrayDiff",(function(){return L})),n.d(e,"upperFirst",(function(){return M})),n.d(e,"getSlotType",(function(){return V}));var i=n(/*! vue */"vue"),r=n.n(i),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){return s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)};function a(t,e,n){return void 0===e&&(e="div"),r.a.extend({name:n||t.replace(/__/g,"-"),functional:!0,render:function(n,i){var r=i.data,o=i.children;return r.staticClass=(t+" "+(r.staticClass||"")).trim(),n(e,r,o)}})}function c(t,e){return Array.isArray(t)?t.concat(e):(t&&e.push(t),e)}function l(t,e,n){return void 0===e&&(e="top center 0"),{name:t,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:n},origin:{type:String,default:e}},render:function(e,n){var i="transition"+(n.props.group?"-group":"");n.data=n.data||{},n.data.props={name:t,mode:n.props.mode},n.data.on=n.data.on||{},Object.isExtensible(n.data.on)||(n.data.on=s({},n.data.on));var r=[],o=[],a=function(t){return t.style.position="absolute"};r.push((function(t){t.style.transformOrigin=n.props.origin,t.style.webkitTransformOrigin=n.props.origin})),n.props.leaveAbsolute&&o.push(a),n.props.hideOnLeave&&o.push((function(t){return t.style.display="none"}));var l=n.data.on,u=l.beforeEnter,d=l.leave;return n.data.on.beforeEnter=function(){return c(u,r)},n.data.on.leave=c(d,o),e(i,n.data,n.children)}}}function u(t,e,n){return void 0===n&&(n="in-out"),{name:t,functional:!0,props:{mode:{type:String,default:n}},render:function(n,i){var r={props:s({},i.props,{name:t}),on:e};return n("transition",r,i.children)}}}function d(t,e){return void 0===e&&(e={}),s({},e,t.modifiers,{value:t.arg},t.value||{})}function h(t,e,n){var i=function i(){n(),t.removeEventListener(e,i,!1)};t.addEventListener(e,i,!1)}var p=!1;try{if("undefined"!==typeof window){var f=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testListener",f,f),window.removeEventListener("testListener",f,f)}}catch(U){console.warn(U)}function m(t,e,n,i){t.addEventListener(e,n,!!p&&i)}function v(t,e,n){var i=e.length-1;if(i<0)return void 0===t?n:t;for(var r=0;r<i;r++){if(null==t)return n;t=t[e[r]]}return null==t||void 0===t[e[i]]?n:t[e[i]]}function g(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime())return!1;if(t!==Object(t)||e!==Object(e))return!1;var n=Object.keys(t);return n.length===Object.keys(e).length&&n.every((function(n){return g(t[n],e[n])}))}function _(t,e,n){return e&&e.constructor===String?(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),v(t,e.split("."),n)):n}function y(t,e,n){if(null==e)return void 0===t?n:t;if(t!==Object(t))return void 0===n?t:n;if("string"===typeof e)return _(t,e,n);if(Array.isArray(e))return v(t,e,n);if("function"!==typeof e)return n;var i=e(t,n);return"undefined"===typeof i?n:i}function E(t){return Array.from({length:t},(function(t,e){return e}))}function b(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return 0;var e=+window.getComputedStyle(t).getPropertyValue("z-index");return e||b(t.parentNode)}var S={"&":"&amp;","<":"&lt;",">":"&gt;"};function T(t){return t.replace(/[&<>]/g,(function(t){return S[t]||t}))}function w(t,e){for(var n={},i=0;i<e.length;i++){var r=e[i];"undefined"!==typeof t[r]&&(n[r]=t[r])}return n}function C(t,e){return void 0===t&&(t=[]),t.filter((function(t){return t.componentOptions&&t.componentOptions.Ctor.options.name===e}))}function I(t,e){return void 0===e&&(e="px"),null==t||""===t?void 0:isNaN(+t)?String(t):""+Number(t)+e}function R(t){return(t||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function A(t){return null!==t&&"object"===("undefined"===typeof t?"undefined":o(t))}var O=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34}),x="$vuetify.icons.";function D(t,e){return e.startsWith(x)?_(t,e,e):e}function k(t){return Object.keys(t)}var N=/-(\w)/g,P=function(t){return t.replace(N,(function(t,e){return e?e.toUpperCase():""}))};function L(t,e){for(var n=[],i=0;i<e.length;i++)t.indexOf(e[i])<0&&n.push(e[i]);return n}function M(t){return t.charAt(0).toUpperCase()+t.slice(1)}function V(t,e,n){return t.$slots[e]&&t.$scopedSlots[e]&&t.$scopedSlots[e].name?n?"v-slot":"scoped":t.$slots[e]?"normal":t.$scopedSlots[e]?"scoped":void 0}},"./src/util/mask.ts":
/*!**************************!*\
  !*** ./src/util/mask.ts ***!
  \**************************/
/*! exports provided: defaultDelimiters, isMaskDelimiter, maskText, unmaskText */function(t,e,n){"use strict";n.r(e),n.d(e,"defaultDelimiters",(function(){return i})),n.d(e,"isMaskDelimiter",(function(){return r})),n.d(e,"maskText",(function(){return l})),n.d(e,"unmaskText",(function(){return u}));var i=/[-!$%^&*()_+|~=`{}[\]:";'<>?,./\\ ]/,r=function(t){return!!t&&i.test(t)},o={"#":{test:function(t){return/[0-9]/.test(t)}},A:{test:function(t){return/[A-Z]/i.test(t)},convert:function(t){return t.toUpperCase()}},a:{test:function(t){return/[a-z]/i.test(t)},convert:function(t){return t.toLowerCase()}},N:{test:function(t){return/[0-9A-Z]/i.test(t)},convert:function(t){return t.toUpperCase()}},n:{test:function(t){return/[0-9a-z]/i.test(t)},convert:function(t){return t.toLowerCase()}},X:{test:r}},s=function(t){return o.hasOwnProperty(t)},a=function(t,e){return o[t].convert?o[t].convert(e):e},c=function(t,e){return!(null==e||!s(t))&&o[t].test(e)},l=function(t,e,n){if(null==t)return"";if(t=String(t),!e.length||!t.length)return t;Array.isArray(e)||(e=e.split(""));var i=0,r=0,o="";while(r<e.length){var l=e[r],u=t[i];if(s(l)||u!==l)if(s(l)||n){if(!c(l,u))return o;o+=a(l,u),i++}else o+=l;else o+=l,i++;r++}return o},u=function(t){return t?String(t).replace(new RegExp(i.source,"g"),""):t}},"./src/util/mixins.ts":
/*!****************************!*\
  !*** ./src/util/mixins.ts ***!
  \****************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var i=n(/*! vue */"vue"),r=n.n(i);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.a.extend({mixins:t})}},"./src/util/rebuildFunctionalSlots.ts":
/*!********************************************!*\
  !*** ./src/util/rebuildFunctionalSlots.ts ***!
  \********************************************/
/*! exports provided: default */function(t,e,n){"use strict";function i(t,e){var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(e("template",{slot:i},t[i]));return n}n.r(e),n.d(e,"default",(function(){return i}))},"./src/util/theme.ts":
/*!***************************!*\
  !*** ./src/util/theme.ts ***!
  \***************************/
/*! exports provided: parse, genStyles, genVariations */function(t,e,n){"use strict";n.r(e),n.d(e,"parse",(function(){return c})),n.d(e,"genStyles",(function(){return p})),n.d(e,"genVariations",(function(){return f}));var i=n(/*! ./colorUtils */"./src/util/colorUtils.ts"),r=n(/*! ./color/transformSRGB */"./src/util/color/transformSRGB.ts"),o=n(/*! ./color/transformCIELAB */"./src/util/color/transformCIELAB.ts"),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return s};function c(t,e){void 0===e&&(e=!1);for(var n=Object.keys(t),r={},o=0;o<n.length;++o){var a=n[o],l=t[a];e?("base"===a||a.startsWith("lighten")||a.startsWith("darken"))&&(r[a]=Object(i["colorToHex"])(l)):"object"===("undefined"===typeof l?"undefined":s(l))?r[a]=c(l,!0):r[a]=f(a,Object(i["colorToInt"])(l))}return r}var l=function(t,e){return"\n."+t+" {\n  background-color: "+e+" !important;\n  border-color: "+e+" !important;\n}\n."+t+"--text {\n  color: "+e+" !important;\n  caret-color: "+e+" !important;\n}"},u=function(t,e,n){var i=a(e.split(/(\d)/,2),2),r=i[0],o=i[1];return"\n."+t+"."+r+"-"+o+" {\n  background-color: "+n+" !important;\n  border-color: "+n+" !important;\n}\n."+t+"--text.text--"+r+"-"+o+" {\n  color: "+n+" !important;\n  caret-color: "+n+" !important;\n}"},d=function(t,e){return void 0===e&&(e="base"),"--v-"+t+"-"+e},h=function(t,e){return void 0===e&&(e="base"),"var("+d(t,e)+")"};function p(t,e){void 0===e&&(e=!1);var n=Object.keys(t);if(!n.length)return"";var i="",r="",o=e?h("primary"):t.primary.base;r+="a { color: "+o+"; }";for(var a=0;a<n.length;++a){var c=n[a],p=t[c];if("object"===("undefined"===typeof p?"undefined":s(p))){r+=l(c,e?h(c):p.base),e&&(i+="  "+d(c)+": "+p.base+";\n");for(var f=Object.keys(p),m=0;m<f.length;++m){var v=f[m],g=p[v];"base"!==v&&(r+=u(c,v,e?h(c,v):g),e&&(i+="  "+d(c,v)+": "+g+";\n"))}}}return e&&(i=":root {\n"+i+"}\n\n"),i+r}function f(t,e){for(var n={base:Object(i["intToHex"])(e)},r=5;r>0;--r)n["lighten"+r]=Object(i["intToHex"])(m(e,r));for(r=1;r<=4;++r)n["darken"+r]=Object(i["intToHex"])(v(e,r));return n}function m(t,e){var n=o["fromXYZ"](r["toXYZ"](t));return n[0]=n[0]+10*e,r["fromXYZ"](o["toXYZ"](n))}function v(t,e){var n=o["fromXYZ"](r["toXYZ"](t));return n[0]=n[0]-10*e,r["fromXYZ"](o["toXYZ"](n))}},vue:
/*!******************************************************************************!*\
  !*** external {"commonjs":"vue","commonjs2":"vue","amd":"vue","root":"Vue"} ***!
  \******************************************************************************/
/*! no static exports found */function(e,n){e.exports=t}})["default"]}))},cf6a:function(t,e,n){var i=n("d3f4"),r=n("67ab").onFreeze;n("5eda")("seal",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},cf7e:function(t,e,n){var i=n("6d8b");function r(t){return this._axes[t]}var o=function(t){this._axes={},this._dimList=[],this.name=t||""};o.prototype={constructor:o,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return i.map(this._dimList,r,this)},getAxesByScale:function(t){return t=t.toLowerCase(),i.filter(this.getAxes(),(function(e){return e.scale.type===t}))},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,i=t instanceof Array?[]:{},r=0;r<n.length;r++){var o=n[r],s=this._axes[o];i[o]=s[e](t[o])}return i}};var s=o;t.exports=s},d04f:function(t,e,n){n("7a56")("Array")},d0b0:function(t,e,n){"use strict";n("386b")("italics",(function(t){return function(){return t(this,"i","","")}}))},d15d:function(t,e,n){var i=n("6d8b"),r=i.createHashMap,o=i.each;function s(t){var e=r();t.eachSeries((function(t){var n=t.get("stack");if(n){var i=e.get(n)||e.set(n,[]),r=t.getData(),o={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.length&&r.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}})),e.each(a)}function a(t){o(t,(function(e,n){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],s=e.data,a=e.isStackedByIndex,c=s.map(o,(function(o,c,l){var u,d,h=s.get(e.stackedDimension,l);if(isNaN(h))return r;a?d=s.getRawIndex(l):u=s.get(e.stackedByDimension,l);for(var p=NaN,f=n-1;f>=0;f--){var m=t[f];if(a||(d=m.data.rawIndexOf(m.stackedByDimension,u)),d>=0){var v=m.data.getByRawIndex(m.stackResultDimension,d);if(h>=0&&v>0||h<=0&&v<0){h+=v,p=v;break}}}return i[0]=h,i[1]=p,i}));s.hostModel.setData(c),e.data=c}))}t.exports=s},d185:function(t,e,n){var i=n("11e9"),r=n("38fd"),o=n("69a8"),s=n("5ca1"),a=n("d3f4"),c=n("cb7c");function l(t,e){var n,s,u=arguments.length<3?t:arguments[2];return c(t)===u?t[e]:(n=i.f(t,e))?o(n,"value")?n.value:void 0!==n.get?n.get.call(u):void 0:a(s=r(t))?l(s,e,u):void 0}s(s.S,"Reflect",{get:l})},d263:function(t,e,n){"use strict";n("386b")("fixed",(function(t){return function(){return t(this,"tt","","")}}))},d28f:function(t,e,n){var i=n("3eba");n("84d5"),n("4650"),n("5e97");var r=n("903c"),o=n("6cb7");i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,r),o.registerSubTypeDefaulter("legend",(function(){return"plain"}))},d2c8:function(t,e,n){var i=n("aae3"),r=n("be13");t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},d2cf:function(t,e,n){var i=n("6d8b"),r=n("401b"),o=n("cb6d"),s=n("1fab"),a=n("607d"),c=n("0b44"),l="silent";function u(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:d}}function d(){a.stop(this.event)}function h(){}h.prototype.dispose=function(){};var p=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],f=function(t,e,n,i){s.call(this),this.storage=t,this.painter=e,this.painterRoot=i,n=n||new h,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,o.call(this),this.setHandlerProxy(n)};function m(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){var i,r=t;while(r){if(r.clipPath&&!r.clipPath.contain(e,n))return!1;r.silent&&(i=!0),r=r.parent}return!i||l}return!1}function v(t,e,n){var i=t.painter;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}f.prototype={constructor:f,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(i.each(p,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,n=t.zrY,i=v(this,e,n),r=this._hovered,o=r.target;o&&!o.__zr&&(r=this.findHover(r.x,r.y),o=r.target);var s=this._hovered=i?{x:e,y:n}:this.findHover(e,n),a=s.target,c=this.proxy;c.setCursor&&c.setCursor(a?a.cursor:"default"),o&&a!==o&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(s,"mousemove",t),a&&a!==o&&this.dispatchToElement(s,"mouseover",t)},mouseout:function(t){var e=t.zrEventControl,n=t.zrIsToLocalDOM;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&!n&&this.trigger("globalout",{type:"globalout",event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){t=t||{};var i=t.target;if(!i||!i.silent){var r="on"+e,o=u(e,t,n);while(i)if(i[r]&&(o.cancelBubble=i[r].call(i,o)),i.trigger(e,o),i=i.parent,o.cancelBubble)break;o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer((function(t){"function"===typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)})))}},findHover:function(t,e,n){for(var i=this.storage.getDisplayList(),r={x:t,y:e},o=i.length-1;o>=0;o--){var s;if(i[o]!==n&&!i[o].ignore&&(s=m(i[o],t,e))&&(!r.topTarget&&(r.topTarget=i[o]),s!==l)){r.target=i[o];break}}return r},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new c);var n=this._gestureMgr;"start"===e&&n.clear();var i=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),i){var r=i.type;t.gestureEvent=r,this.dispatchToElement({target:i.target},r,i.event)}}},i.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){f.prototype[t]=function(e){var n,i,o=e.zrX,s=e.zrY,a=v(this,o,s);if("mouseup"===t&&a||(n=this.findHover(o,s),i=n.target),"mousedown"===t)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if("mouseup"===t)this._upEl=i;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||r.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}})),i.mixin(f,s),i.mixin(f,o);var g=f;t.exports=g},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d498:function(t,e,n){var i=n("cbe5"),r=n("4fac"),o=i.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){r.buildPath(t,e,!1)}});t.exports=o},d4b1:function(t,e,n){var i=n("3eba"),r=n("17d6"),o=i.extendComponentView({type:"axisPointer",render:function(t,e,n){var i=e.getComponent("tooltip"),o=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";r.register("axisPointer",n,(function(t,e,n){"none"!==o&&("leave"===t||o.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},remove:function(t,e){r.unregister(e.getZr(),"axisPointer"),o.superApply(this._model,"remove",arguments)},dispose:function(t,e){r.unregister("axisPointer",e),o.superApply(this._model,"dispose",arguments)}}),s=o;t.exports=s},d4c0:function(t,e,n){var i=n("0d58"),r=n("2621"),o=n("52a7");t.exports=function(t){var e=i(t),n=r.f;if(n){var s,a=n(t),c=o.f,l=0;while(a.length>l)c.call(t,s=a[l++])&&e.push(s)}return e}},d4c6:function(t,e,n){var i=n("cbe5"),r=i.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},buildPath:function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),i.prototype.getBoundingRect.call(this)}});t.exports=r},d4d1:function(t,e,n){var i=n("cbe5"),r=n("401b"),o=n("897a"),s=r.min,a=r.max,c=r.scaleAndAdd,l=r.copy,u=[],d=[],h=[];function p(t){return isNaN(t[0])||isNaN(t[1])}function f(t,e,n,i,r,o,s,a,c,l,u){return"none"!==l&&l?m.apply(this,arguments):v.apply(this,arguments)}function m(t,e,n,i,r,o,s,a,c,u,f){for(var m=0,v=n,g=0;g<i;g++){var _=e[v];if(v>=r||v<0)break;if(p(_)){if(f){v+=o;continue}break}if(v===n)t[o>0?"moveTo":"lineTo"](_[0],_[1]);else if(c>0){var y=e[m],E="y"===u?1:0,b=(_[E]-y[E])*c;l(d,y),d[E]=y[E]+b,l(h,_),h[E]=_[E]-b,t.bezierCurveTo(d[0],d[1],h[0],h[1],_[0],_[1])}else t.lineTo(_[0],_[1]);m=v,v+=o}return g}function v(t,e,n,i,o,f,m,v,g,_,y){for(var E=0,b=n,S=0;S<i;S++){var T=e[b];if(b>=o||b<0)break;if(p(T)){if(y){b+=f;continue}break}if(b===n)t[f>0?"moveTo":"lineTo"](T[0],T[1]),l(d,T);else if(g>0){var w=b+f,C=e[w];if(y)while(C&&p(e[w]))w+=f,C=e[w];var I=.5,R=e[E];C=e[w];if(!C||p(C))l(h,T);else{var A,O;if(p(C)&&!y&&(C=T),r.sub(u,C,R),"x"===_||"y"===_){var x="x"===_?0:1;A=Math.abs(T[x]-R[x]),O=Math.abs(T[x]-C[x])}else A=r.dist(T,R),O=r.dist(T,C);I=O/(O+A),c(h,T,u,-g*(1-I))}s(d,d,v),a(d,d,m),s(h,h,v),a(h,h,m),t.bezierCurveTo(d[0],d[1],h[0],h[1],T[0],T[1]),c(d,T,u,g*I)}else t.lineTo(T[0],T[1]);E=b,b+=f}return S}function g(t,e){var n=[1/0,1/0],i=[-1/0,-1/0];if(e)for(var r=0;r<t.length;r++){var o=t[r];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1])}return{min:e?n:i,max:e?i:n}}var _=i.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:o(i.prototype.brush),buildPath:function(t,e){var n=e.points,i=0,r=n.length,o=g(n,e.smoothConstraint);if(e.connectNulls){for(;r>0;r--)if(!p(n[r-1]))break;for(;i<r;i++)if(!p(n[i]))break}while(i<r)i+=f(t,n,i,r,r,1,o.min,o.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),y=i.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:o(i.prototype.brush),buildPath:function(t,e){var n=e.points,i=e.stackedOnPoints,r=0,o=n.length,s=e.smoothMonotone,a=g(n,e.smoothConstraint),c=g(i,e.smoothConstraint);if(e.connectNulls){for(;o>0;o--)if(!p(n[o-1]))break;for(;r<o;r++)if(!p(n[r]))break}while(r<o){var l=f(t,n,r,o,o,1,a.min,a.max,e.smooth,s,e.connectNulls);f(t,i,r+l-1,l,o,-1,c.min,c.max,e.stackedOnSmooth,s,e.connectNulls),r+=l+1,t.closePath()}}});e.Polyline=_,e.Polygon=y},d51b:function(t,e){var n=function(){this.head=null,this.tail=null,this._len=0},i=n.prototype;i.insert=function(t){var e=new r(t);return this.insertEntry(e),e},i.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},i.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},i.len=function(){return this._len},i.clear=function(){this.head=this.tail=null,this._len=0};var r=function(t){this.value=t,this.next,this.prev},o=function(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},s=o.prototype;s.put=function(t,e){var n=this._list,i=this._map,o=null;if(null==i[t]){var s=n.len(),a=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var c=n.head;n.remove(c),delete i[c.key],o=c.value,this._lastRemovedEntry=c}a?a.value=e:a=new r(e),a.key=t,n.insertEntry(a),i[t]=a}return o},s.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},s.clear=function(){this._list.clear(),this._map={}};var a=o;t.exports=a},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d5b7:function(t,e,n){var i=n("de00"),r=n("1fab"),o=n("0cde"),s=n("bd6b"),a=n("6d8b"),c=function(t){o.call(this,t),r.call(this,t),s.call(this,t),this.id=t.id||i()};c.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"===typeof t)this.attrKV(t,e);else if(a.isObject(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},a.mixin(c,s),a.mixin(c,o),a.mixin(c,r);var l=c;t.exports=l},d6c6:function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},d752:function(t,e,n){var i=n("7726").parseFloat,r=n("aa77").trim;t.exports=1/i(n("fdef")+"-0")!==-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},d833:function(t,e,n){var i=n("20c8"),r=n("9680"),o=n("e7d2"),s=n("68ab"),a=n("9f51"),c=n("857d"),l=c.normalizeRadian,u=n("4a3f"),d=n("8728"),h=i.CMD,p=2*Math.PI,f=1e-4;function m(t,e){return Math.abs(t-e)<f}var v=[-1,-1,-1],g=[-1,-1];function _(){var t=g[0];g[0]=g[1],g[1]=t}function y(t,e,n,i,r,o,s,a,c,l){if(l>e&&l>i&&l>o&&l>a||l<e&&l<i&&l<o&&l<a)return 0;var d=u.cubicRootAt(e,i,o,a,l,v);if(0===d)return 0;for(var h,p,f=0,m=-1,y=0;y<d;y++){var E=v[y],b=0===E||1===E?.5:1,S=u.cubicAt(t,n,r,s,E);S<c||(m<0&&(m=u.cubicExtrema(e,i,o,a,g),g[1]<g[0]&&m>1&&_(),h=u.cubicAt(e,i,o,a,g[0]),m>1&&(p=u.cubicAt(e,i,o,a,g[1]))),2===m?E<g[0]?f+=h<e?b:-b:E<g[1]?f+=p<h?b:-b:f+=a<p?b:-b:E<g[0]?f+=h<e?b:-b:f+=a<h?b:-b)}return f}function E(t,e,n,i,r,o,s,a){if(a>e&&a>i&&a>o||a<e&&a<i&&a<o)return 0;var c=u.quadraticRootAt(e,i,o,a,v);if(0===c)return 0;var l=u.quadraticExtremum(e,i,o);if(l>=0&&l<=1){for(var d=0,h=u.quadraticAt(e,i,o,l),p=0;p<c;p++){var f=0===v[p]||1===v[p]?.5:1,m=u.quadraticAt(t,n,r,v[p]);m<s||(v[p]<l?d+=h<e?f:-f:d+=o<h?f:-f)}return d}f=0===v[0]||1===v[0]?.5:1,m=u.quadraticAt(t,n,r,v[0]);return m<s?0:o<e?f:-f}function b(t,e,n,i,r,o,s,a){if(a-=e,a>n||a<-n)return 0;var c=Math.sqrt(n*n-a*a);v[0]=-c,v[1]=c;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u%p<1e-4){i=0,r=p;var d=o?1:-1;return s>=v[0]+t&&s<=v[1]+t?d:0}if(o){c=i;i=l(r),r=l(c)}else i=l(i),r=l(r);i>r&&(r+=p);for(var h=0,f=0;f<2;f++){var m=v[f];if(m+t>s){var g=Math.atan2(a,m);d=o?1:-1;g<0&&(g=p+g),(g>=i&&g<=r||g+p>=i&&g+p<=r)&&(g>Math.PI/2&&g<1.5*Math.PI&&(d=-d),h+=d)}}return h}function S(t,e,n,i,c){for(var l=0,u=0,p=0,f=0,v=0,g=0;g<t.length;){var _=t[g++];switch(_===h.M&&g>1&&(n||(l+=d(u,p,f,v,i,c))),1===g&&(u=t[g],p=t[g+1],f=u,v=p),_){case h.M:f=t[g++],v=t[g++],u=f,p=v;break;case h.L:if(n){if(r.containStroke(u,p,t[g],t[g+1],e,i,c))return!0}else l+=d(u,p,t[g],t[g+1],i,c)||0;u=t[g++],p=t[g++];break;case h.C:if(n){if(o.containStroke(u,p,t[g++],t[g++],t[g++],t[g++],t[g],t[g+1],e,i,c))return!0}else l+=y(u,p,t[g++],t[g++],t[g++],t[g++],t[g],t[g+1],i,c)||0;u=t[g++],p=t[g++];break;case h.Q:if(n){if(s.containStroke(u,p,t[g++],t[g++],t[g],t[g+1],e,i,c))return!0}else l+=E(u,p,t[g++],t[g++],t[g],t[g+1],i,c)||0;u=t[g++],p=t[g++];break;case h.A:var S=t[g++],T=t[g++],w=t[g++],C=t[g++],I=t[g++],R=t[g++];g+=1;var A=1-t[g++],O=Math.cos(I)*w+S,x=Math.sin(I)*C+T;g>1?l+=d(u,p,O,x,i,c):(f=O,v=x);var D=(i-S)*C/w+S;if(n){if(a.containStroke(S,T,C,I,I+R,A,e,D,c))return!0}else l+=b(S,T,C,I,I+R,A,D,c);u=Math.cos(I+R)*w+S,p=Math.sin(I+R)*C+T;break;case h.R:f=u=t[g++],v=p=t[g++];var k=t[g++],N=t[g++];O=f+k,x=v+N;if(n){if(r.containStroke(f,v,O,v,e,i,c)||r.containStroke(O,v,O,x,e,i,c)||r.containStroke(O,x,f,x,e,i,c)||r.containStroke(f,x,f,v,e,i,c))return!0}else l+=d(O,v,O,x,i,c),l+=d(f,x,f,v,i,c);break;case h.Z:if(n){if(r.containStroke(u,p,f,v,e,i,c))return!0}else l+=d(u,p,f,v,i,c);u=f,p=v;break}}return n||m(p,v)||(l+=d(u,p,f,v,i,c)||0),0!==l}function T(t,e,n){return S(t,0,!1,e,n)}function w(t,e,n,i){return S(t,e,!0,n,i)}e.contain=T,e.containStroke=w},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9ab:function(t,e,n){var i=n("5ca1"),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},d9fc:function(t,e,n){var i=n("cbe5"),r=i.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});t.exports=r},db97:function(t,e,n){var i=n("5ca1");i(i.S,"Object",{is:n("83a1")})},dc2f:function(t,e){var n=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};n.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var i=n;t.exports=i},dcb3:function(t,e,n){var i=n("6d8b"),r=n("625e"),o=n("2306"),s=n("cd33"),a=n("607d"),c=n("88b3"),l=n("e0d3"),u=l.makeInner,d=u(),h=i.clone,p=i.bind;function f(){}function m(t,e,n,i){v(d(n).lastProp,i)||(d(n).lastProp=i,e?o.updateProps(n,i,t):(n.stopAnimation(),n.attr(i)))}function v(t,e){if(i.isObject(t)&&i.isObject(e)){var n=!0;return i.each(e,(function(e,i){n=n&&v(t[i],e)})),!!n}return t===e}function g(t,e){t[e.get("label.show")?"show":"hide"]()}function _(t){return{position:t.position.slice(),rotation:t.rotation||0}}function y(t,e,n){var i=e.get("z"),r=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=r&&(t.zlevel=r),t.silent=n)}))}f.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,n,r){var s=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,r||this._lastValue!==s||this._lastStatus!==a){this._lastValue=s,this._lastStatus=a;var c=this._group,l=this._handle;if(!a||"hide"===a)return c&&c.hide(),void(l&&l.hide());c&&c.show(),l&&l.show();var u={};this.makeElOption(u,s,t,e,n);var d=u.graphicKey;d!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=d;var h=this._moveAnimation=this.determineAnimation(t,e);if(c){var p=i.curry(m,e,h);this.updatePointerEl(c,u,p,e),this.updateLabelEl(c,u,p,e)}else c=this._group=new o.Group,this.createPointerEl(c,u,t,e),this.createLabelEl(c,u,t,e),n.getZr().add(c);y(c,e,!0),this._renderHandle(s)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var n=e.get("animation"),i=t.axis,r="category"===i.type,o=e.get("snap");if(!o&&!r)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(r&&i.getBandWidth()>a)return!0;if(o){var c=s.getAxisInfo(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/c>a}return!1}return!0===n},makeElOption:function(t,e,n,i,r){},createPointerEl:function(t,e,n,i){var r=e.pointer;if(r){var s=d(t).pointerEl=new o[r.type](h(e.pointer));t.add(s)}},createLabelEl:function(t,e,n,i){if(e.label){var r=d(t).labelEl=new o.Rect(h(e.label));t.add(r),g(r,i)}},updatePointerEl:function(t,e,n){var i=d(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,n,i){var r=d(t).labelEl;r&&(r.setStyle(e.label.style),n(r,{shape:e.label.shape,position:e.label.position}),g(r,i))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,r=this._api.getZr(),s=this._handle,l=n.getModel("handle"),u=n.get("status");if(!l.get("show")||!u||"hide"===u)return s&&r.remove(s),void(this._handle=null);this._handle||(e=!0,s=this._handle=o.createIcon(l.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){a.stop(t.event)},onmousedown:p(this._onHandleDragMove,this,0,0),drift:p(this._onHandleDragMove,this),ondragend:p(this._onHandleDragEnd,this)}),r.add(s)),y(s,n,!1);var d=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];s.setStyle(l.getItemStyle(null,d));var h=l.get("size");i.isArray(h)||(h=[h,h]),s.attr("scale",[h[0]/2,h[1]/2]),c.createOrUpdate(this,"_doDispatchAxisPointer",l.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){m(this._axisPointerModel,!e&&this._moveAnimation,this._handle,_(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(_(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(_(i)),d(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var t=this._handle;if(t){var e=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},_onHandleDragEnd:function(t){this._dragging=!1;var e=this._handle;if(e){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}},f.prototype.constructor=f,r.enableClassExtend(f);var E=f;t.exports=E},dcbc:function(t,e,n){var i=n("2aba");t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},dded:function(t,e,n){var i=n("6d8b"),r=n("42e5"),o=function(t,e,n,i,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=o||!1,r.call(this,i)};o.prototype={constructor:o},i.inherits(o,r);var s=o;t.exports=s},de00:function(t,e){var n=2311;function i(){return n++}t.exports=i},de1c:function(t,e){var n={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};t.exports=n},df1b:function(t,e,n){var i=n("5ca1"),r=n("d8e8"),o=n("cb7c"),s=(n("7726").Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!n("79e5")((function(){s((function(){}))})),"Reflect",{apply:function(t,e,n){var i=r(t),c=o(n);return s?s(i,e,c):a.call(i,e,c)}})},e073:function(t,e,n){var i=n("6d8b"),r=n("e86a"),o=n("e0d3"),s=o.makeInner,a=n("697e"),c=a.makeLabelFormatter,l=a.getOptionCategoryInterval,u=a.shouldShowAllLabels,d=s();function h(t){return"category"===t.type?f(t):g(t)}function p(t,e){return"category"===t.type?v(t,e):{ticks:t.scale.getTicks()}}function f(t){var e=t.getLabelModel(),n=m(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function m(t,e){var n,r,o=_(t,"labels"),s=l(e),a=y(o,s);return a||(i.isFunction(s)?n=C(t,s):(r="auto"===s?b(t):s,n=w(t,r)),E(o,s,{labels:n,labelCategoryInterval:r}))}function v(t,e){var n,r,o=_(t,"ticks"),s=l(e),a=y(o,s);if(a)return a;if(e.get("show")&&!t.scale.isBlank()||(n=[]),i.isFunction(s))n=C(t,s,!0);else if("auto"===s){var c=m(t,t.getLabelModel());r=c.labelCategoryInterval,n=i.map(c.labels,(function(t){return t.tickValue}))}else r=s,n=w(t,r,!0);return E(o,s,{ticks:n,tickCategoryInterval:r})}function g(t){var e=t.scale.getTicks(),n=c(t);return{labels:i.map(e,(function(e,i){return{formattedLabel:n(e,i),rawLabel:t.scale.getLabel(e),tickValue:e}}))}}function _(t,e){return d(t)[e]||(d(t)[e]=[])}function y(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function E(t,e,n){return t.push({key:e,value:n}),n}function b(t){var e=d(t).autoInterval;return null!=e?e:d(t).autoInterval=t.calculateCategoryInterval()}function S(t){var e=T(t),n=c(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,s=o.getExtent(),a=o.count();if(s[1]-s[0]<1)return 0;var l=1;a>40&&(l=Math.max(1,Math.floor(a/40)));for(var u=s[0],h=t.dataToCoord(u+1)-t.dataToCoord(u),p=Math.abs(h*Math.cos(i)),f=Math.abs(h*Math.sin(i)),m=0,v=0;u<=s[1];u+=l){var g=0,_=0,y=r.getBoundingRect(n(u),e.font,"center","top");g=1.3*y.width,_=1.3*y.height,m=Math.max(m,g,7),v=Math.max(v,_,7)}var E=m/p,b=v/f;isNaN(E)&&(E=1/0),isNaN(b)&&(b=1/0);var S=Math.max(0,Math.floor(Math.min(E,b))),w=d(t.model),C=t.getExtent(),I=w.lastAutoInterval,R=w.lastTickCount;return null!=I&&null!=R&&Math.abs(I-S)<=1&&Math.abs(R-a)<=1&&I>S&&w.axisExtend0===C[0]&&w.axisExtend1===C[1]?S=I:(w.lastTickCount=a,w.lastAutoInterval=S,w.axisExtend0=C[0],w.axisExtend1=C[1]),S}function T(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function w(t,e,n){var i=c(t),r=t.scale,o=r.getExtent(),s=t.getLabelModel(),a=[],l=Math.max((e||0)+1,1),d=o[0],h=r.count();0!==d&&l>1&&h/l>2&&(d=Math.round(Math.ceil(d/l)*l));var p=u(t),f=s.get("showMinLabel")||p,m=s.get("showMaxLabel")||p;f&&d!==o[0]&&g(o[0]);for(var v=d;v<=o[1];v+=l)g(v);function g(t){a.push(n?t:{formattedLabel:i(t),rawLabel:r.getLabel(t),tickValue:t})}return m&&v-l!==o[1]&&g(o[1]),a}function C(t,e,n){var r=t.scale,o=c(t),s=[];return i.each(r.getTicks(),(function(t){var i=r.getLabel(t);e(t,i)&&s.push(n?t:{formattedLabel:o(t),rawLabel:i,tickValue:t})})),s}e.createAxisLabels=h,e.createAxisTicks=p,e.calculateCategoryInterval=S},e0b8:function(t,e,n){"use strict";var i=n("7726"),r=n("5ca1"),o=n("2aba"),s=n("dcbc"),a=n("67ab"),c=n("4a59"),l=n("f605"),u=n("d3f4"),d=n("79e5"),h=n("5cc5"),p=n("7f20"),f=n("5dbc");t.exports=function(t,e,n,m,v,g){var _=i[t],y=_,E=v?"set":"add",b=y&&y.prototype,S={},T=function(t){var e=b[t];o(b,t,"delete"==t||"has"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof y&&(g||b.forEach&&!d((function(){(new y).entries().next()})))){var w=new y,C=w[E](g?{}:-0,1)!=w,I=d((function(){w.has(1)})),R=h((function(t){new y(t)})),A=!g&&d((function(){var t=new y,e=5;while(e--)t[E](e,e);return!t.has(-0)}));R||(y=e((function(e,n){l(e,y,t);var i=f(new _,e,y);return void 0!=n&&c(n,v,i[E],i),i})),y.prototype=b,b.constructor=y),(I||A)&&(T("delete"),T("has"),v&&T("get")),(A||C)&&T(E),g&&b.clear&&delete b.clear}else y=m.getConstructor(e,t,v,E),s(y.prototype,n),a.NEED=!0;return p(y,t),S[t]=y,r(r.G+r.W+r.F*(y!=_),S),g||m.setStrong(y,t,v),y}},e0d3:function(t,e,n){var i=n("6d8b"),r=n("22d1"),o=i.each,s=i.isObject,a=i.isArray,c="series\0";function l(t){return t instanceof Array?t:null==t?[]:[t]}function u(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var d=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function h(t){return!s(t)||a(t)||t instanceof Date?t:t.value}function p(t){return s(t)&&!(t instanceof Array)}function f(t,e){e=(e||[]).slice();var n=i.map(t||[],(function(t,e){return{exist:t}}));return o(e,(function(t,i){if(s(t)){for(var r=0;r<n.length;r++)if(!n[r].option&&null!=t.id&&n[r].exist.id===t.id+"")return n[r].option=t,void(e[i]=null);for(r=0;r<n.length;r++){var o=n[r].exist;if(!n[r].option&&(null==o.id||null==t.id)&&null!=t.name&&!g(t)&&!g(o)&&o.name===t.name+"")return n[r].option=t,void(e[i]=null)}}})),o(e,(function(t,e){if(s(t)){for(var i=0;i<n.length;i++){var r=n[i].exist;if(!n[i].option&&!g(r)&&null==t.id){n[i].option=t;break}}i>=n.length&&n.push({option:t})}})),n}function m(t){var e=i.createHashMap();o(t,(function(t,n){var i=t.exist;i&&e.set(i.id,t)})),o(t,(function(t,n){var r=t.option;i.assert(!r||null==r.id||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})})),o(t,(function(t,n){var i=t.exist,r=t.option,o=t.keyInfo;if(s(r)){if(o.name=null!=r.name?r.name+"":i?i.name:c+n,i)o.id=i.id;else if(null!=r.id)o.id=r.id+"";else{var a=0;do{o.id="\0"+o.name+"\0"+a++}while(e.get(o.id))}e.set(o.id,t)}}))}function v(t){var e=t.name;return!(!e||!e.indexOf(c))}function g(t){return s(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function _(t,e){var n={},i={};return r(t||[],n),r(e||[],i,n),[o(n),o(i)];function r(t,e,n){for(var i=0,r=t.length;i<r;i++)for(var o=t[i].seriesId,s=l(t[i].dataIndex),a=n&&n[o],c=0,u=s.length;c<u;c++){var d=s[c];a&&a[d]?a[d]=null:(e[o]||(e[o]={}))[d]=1}}function o(t,e){var n=[];for(var i in t)if(t.hasOwnProperty(i)&&null!=t[i])if(e)n.push(+i);else{var r=o(t[i],!0);r.length&&n.push({seriesId:i,dataIndex:r})}return n}}function y(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?i.isArray(e.dataIndex)?i.map(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?i.isArray(e.name)?i.map(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function E(){var t="__\0ec_inner_"+b+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}var b=0;function S(t,e,n){if(i.isString(e)){var r={};r[e+"Index"]=0,e=r}var s=n&&n.defaultMainType;!s||T(e,s+"Index")||T(e,s+"Id")||T(e,s+"Name")||(e[s+"Index"]=0);var a={};return o(e,(function(r,o){r=e[o];if("dataIndex"!==o&&"dataIndexInside"!==o){var s=o.match(/^(\w+)(Index|Id|Name)$/)||[],c=s[1],l=(s[2]||"").toLowerCase();if(!(!c||!l||null==r||"index"===l&&"none"===r||n&&n.includeMainTypes&&i.indexOf(n.includeMainTypes,c)<0)){var u={mainType:c};"index"===l&&"all"===r||(u[l]=r);var d=t.queryComponents(u);a[c+"Models"]=d,a[c+"Model"]=d[0]}}else a[o]=r})),a}function T(t,e){return t&&t.hasOwnProperty(e)}function w(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function C(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function I(t){return"auto"===t?r.domSupported?"html":"richText":t||"html"}function R(t,e){var n=i.createHashMap(),r=[];return i.each(t,(function(t){var i=e(t);(n.get(i)||(r.push(i),n.set(i,[]))).push(t)})),{keys:r,buckets:n}}e.normalizeToArray=l,e.defaultEmphasis=u,e.TEXT_STYLE_OPTIONS=d,e.getDataItemValue=h,e.isDataItemOption=p,e.mappingToExists=f,e.makeIdAndName=m,e.isNameSpecified=v,e.isIdInner=g,e.compressBatches=_,e.queryDataIndex=y,e.makeInner=E,e.parseFinder=S,e.setAttribute=w,e.getAttribute=C,e.getTooltipRenderMode=I,e.groupData=R},e0d8:function(t,e,n){var i=n("625e");function r(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}r.prototype.parse=function(t){return t},r.prototype.getSetting=function(t){return this._setting[t]},r.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},r.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},r.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},r.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},r.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},r.prototype.getLabel=null,i.enableClassExtend(r),i.enableClassManagement(r,{registerWhenExtend:!0});var o=r;t.exports=o},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e1fc:function(t,e,n){var i=n("6d8b"),r=n("d5b7"),o=n("9850"),s=function(t){for(var e in t=t||{},r.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};s.prototype={constructor:s,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,i=n.indexOf(e);i>=0&&(n.splice(i,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof s&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,o=i.indexOf(r,t);return o<0||(r.splice(o,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof s&&t.delChildrenFromStorage(n)),e&&e.refresh()),this},removeAll:function(){var t,e,n=this._children,i=this.__storage;for(e=0;e<n.length;e++)t=n[e],i&&(i.delFromStorage(t),t instanceof s&&t.delChildrenFromStorage(i)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n];t.call(e,i),"group"===i.type&&i.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof s&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof s&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new o(0,0,0,0),i=t||this._children,r=[],s=0;s<i.length;s++){var a=i[s];if(!a.ignore&&!a.invisible){var c=a.getBoundingRect(),l=a.getLocalTransform(r);l?(n.copy(c),n.applyTransform(l),e=e||n.clone(),e.union(n)):(e=e||c.clone(),e.union(c))}}return e||n}},i.inherits(s,r);var a=s;t.exports=a},e263:function(t,e,n){var i=n("401b"),r=n("4a3f"),o=Math.min,s=Math.max,a=Math.sin,c=Math.cos,l=2*Math.PI,u=i.create(),d=i.create(),h=i.create();function p(t,e,n){if(0!==t.length){var i,r=t[0],a=r[0],c=r[0],l=r[1],u=r[1];for(i=1;i<t.length;i++)r=t[i],a=o(a,r[0]),c=s(c,r[0]),l=o(l,r[1]),u=s(u,r[1]);e[0]=a,e[1]=l,n[0]=c,n[1]=u}}function f(t,e,n,i,r,a){r[0]=o(t,n),r[1]=o(e,i),a[0]=s(t,n),a[1]=s(e,i)}var m=[],v=[];function g(t,e,n,i,a,c,l,u,d,h){var p,f=r.cubicExtrema,g=r.cubicAt,_=f(t,n,a,l,m);for(d[0]=1/0,d[1]=1/0,h[0]=-1/0,h[1]=-1/0,p=0;p<_;p++){var y=g(t,n,a,l,m[p]);d[0]=o(y,d[0]),h[0]=s(y,h[0])}for(_=f(e,i,c,u,v),p=0;p<_;p++){var E=g(e,i,c,u,v[p]);d[1]=o(E,d[1]),h[1]=s(E,h[1])}d[0]=o(t,d[0]),h[0]=s(t,h[0]),d[0]=o(l,d[0]),h[0]=s(l,h[0]),d[1]=o(e,d[1]),h[1]=s(e,h[1]),d[1]=o(u,d[1]),h[1]=s(u,h[1])}function _(t,e,n,i,a,c,l,u){var d=r.quadraticExtremum,h=r.quadraticAt,p=s(o(d(t,n,a),1),0),f=s(o(d(e,i,c),1),0),m=h(t,n,a,p),v=h(e,i,c,f);l[0]=o(t,a,m),l[1]=o(e,c,v),u[0]=s(t,a,m),u[1]=s(e,c,v)}function y(t,e,n,r,o,s,p,f,m){var v=i.min,g=i.max,_=Math.abs(o-s);if(_%l<1e-4&&_>1e-4)return f[0]=t-n,f[1]=e-r,m[0]=t+n,void(m[1]=e+r);if(u[0]=c(o)*n+t,u[1]=a(o)*r+e,d[0]=c(s)*n+t,d[1]=a(s)*r+e,v(f,u,d),g(m,u,d),o%=l,o<0&&(o+=l),s%=l,s<0&&(s+=l),o>s&&!p?s+=l:o<s&&p&&(o+=l),p){var y=s;s=o,o=y}for(var E=0;E<s;E+=Math.PI/2)E>o&&(h[0]=c(E)*n+t,h[1]=a(E)*r+e,v(f,h,f),g(m,h,m))}e.fromPoints=p,e.fromLine=f,e.fromCubic=g,e.fromQuadratic=_,e.fromArc=y},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},e47b:function(t,e,n){var i=n("e0d3"),r=i.makeInner,o=i.normalizeToArray,s=r();function a(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}var c={clearColorPalette:function(){s(this).colorIdx=0,s(this).colorNameMap={}},getColorFromPalette:function(t,e,n){e=e||this;var i=s(e),r=i.colorIdx||0,c=i.colorNameMap=i.colorNameMap||{};if(c.hasOwnProperty(t))return c[t];var l=o(this.get("color",!0)),u=this.get("colorLayer",!0),d=null!=n&&u?a(u,n):l;if(d=d||l,d&&d.length){var h=d[r];return t&&(c[t]=h),i.colorIdx=(r+1)%d.length,h}}};t.exports=c},e4f7:function(t,e,n){var i=n("4bf8"),r=n("38fd");n("5eda")("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},e671:function(t,e,n){(function(e,n,i){!function(e,n){t.exports=n()}(0,(function(){"use strict";function t(t,e){return e.forEach((function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach((function(n){if("default"!==n&&!(n in t)){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}}))})),Object.freeze(t)}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s=function(t){try{return!!t()}catch(t){return!0}},a=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),c=a,l=Function.prototype,u=l.call,d=c&&l.bind.bind(u,u),h=c?d:function(t){return function(){return u.apply(t,arguments)}},p=h({}.isPrototypeOf),f=function(t){return t&&t.Math==Math&&t},m=f("object"==typeof globalThis&&globalThis)||f("object"==typeof window&&window)||f("object"==typeof self&&self)||f("object"==typeof r&&r)||function(){return this}()||r||Function("return this")(),v=a,g=Function.prototype,_=g.apply,y=g.call,E="object"==typeof Reflect&&Reflect.apply||(v?y.bind(_):function(){return y.apply(_,arguments)}),b=h,S=b({}.toString),T=b("".slice),w=function(t){return T(S(t),8,-1)},C=w,I=h,R=function(t){if("Function"===C(t))return I(t)},A="object"==typeof document&&document.all,O={all:A,IS_HTMLDDA:void 0===A&&void 0!==A},x=O.all,D=O.IS_HTMLDDA?function(t){return"function"==typeof t||t===x}:function(t){return"function"==typeof t},k={},N=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),P=a,L=Function.prototype.call,M=P?L.bind(L):function(){return L.apply(L,arguments)},V={},U={}.propertyIsEnumerable,B=Object.getOwnPropertyDescriptor,j=B&&!U.call({1:2},1);V.f=j?function(t){var e=B(this,t);return!!e&&e.enumerable}:U;var F,H,W=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},G=s,$=w,z=Object,Y=h("".split),K=G((function(){return!z("z").propertyIsEnumerable(0)}))?function(t){return"String"==$(t)?Y(t,""):z(t)}:z,q=function(t){return null==t},X=q,J=TypeError,Z=function(t){if(X(t))throw J("Can't call method on "+t);return t},Q=K,tt=Z,et=function(t){return Q(tt(t))},nt=D,it=O.all,rt=O.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:nt(t)||t===it}:function(t){return"object"==typeof t?null!==t:nt(t)},ot={},st=ot,at=m,ct=D,lt=function(t){return ct(t)?t:void 0},ut=function(t,e){return arguments.length<2?lt(st[t])||lt(at[t]):st[t]&&st[t][e]||at[t]&&at[t][e]},dt="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ht=m,pt=dt,ft=ht.process,mt=ht.Deno,vt=ft&&ft.versions||mt&&mt.version,gt=vt&&vt.v8;gt&&(H=(F=gt.split("."))[0]>0&&F[0]<4?1:+(F[0]+F[1])),!H&&pt&&(!(F=pt.match(/Edge\/(\d+)/))||F[1]>=74)&&(F=pt.match(/Chrome\/(\d+)/))&&(H=+F[1]);var _t=H,yt=_t,Et=s,bt=m.String,St=!!Object.getOwnPropertySymbols&&!Et((function(){var t=Symbol();return!bt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&yt&&yt<41})),Tt=St&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,wt=ut,Ct=D,It=p,Rt=Object,At=Tt?function(t){return"symbol"==typeof t}:function(t){var e=wt("Symbol");return Ct(e)&&It(e.prototype,Rt(t))},Ot=String,xt=function(t){try{return Ot(t)}catch(t){return"Object"}},Dt=D,kt=xt,Nt=TypeError,Pt=function(t){if(Dt(t))return t;throw Nt(kt(t)+" is not a function")},Lt=Pt,Mt=q,Vt=function(t,e){var n=t[e];return Mt(n)?void 0:Lt(n)},Ut=M,Bt=D,jt=rt,Ft=TypeError,Ht={exports:{}},Wt=m,Gt=Object.defineProperty,$t=function(t,e){try{Gt(Wt,t,{value:e,configurable:!0,writable:!0})}catch(o){Wt[t]=e}return e},zt="__core-js_shared__",Yt=m[zt]||$t(zt,{}),Kt=Yt;(Ht.exports=function(t,e){return Kt[t]||(Kt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.31.1",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"});var qt=Ht.exports,Xt=Z,Jt=Object,Zt=function(t){return Jt(Xt(t))},Qt=Zt,te=h({}.hasOwnProperty),ee=Object.hasOwn||function(t,e){return te(Qt(t),e)},ne=h,ie=0,re=Math.random(),oe=ne(1..toString),se=function(t){return"Symbol("+(void 0===t?"":t)+")_"+oe(++ie+re,36)},ae=qt,ce=ee,le=se,ue=St,de=Tt,he=m.Symbol,pe=ae("wks"),fe=de?he.for||he:he&&he.withoutSetter||le,me=function(t){return ce(pe,t)||(pe[t]=ue&&ce(he,t)?he[t]:fe("Symbol."+t)),pe[t]},ve=M,ge=rt,_e=At,ye=Vt,Ee=function(t,e){var n,i;if("string"===e&&Bt(n=t.toString)&&!jt(i=Ut(n,t)))return i;if(Bt(n=t.valueOf)&&!jt(i=Ut(n,t)))return i;if("string"!==e&&Bt(n=t.toString)&&!jt(i=Ut(n,t)))return i;throw Ft("Can't convert object to primitive value")},be=TypeError,Se=me("toPrimitive"),Te=function(t,e){if(!ge(t)||_e(t))return t;var n,i=ye(t,Se);if(i){if(void 0===e&&(e="default"),n=ve(i,t,e),!ge(n)||_e(n))return n;throw be("Can't convert object to primitive value")}return void 0===e&&(e="number"),Ee(t,e)},we=At,Ce=function(t){var e=Te(t,"string");return we(e)?e:e+""},Ie=rt,Re=m.document,Ae=Ie(Re)&&Ie(Re.createElement),Oe=function(t){return Ae?Re.createElement(t):{}},xe=Oe,De=!N&&!s((function(){return 7!=Object.defineProperty(xe("div"),"a",{get:function(){return 7}}).a})),ke=N,Ne=M,Pe=V,Le=W,Me=et,Ve=Ce,Ue=ee,Be=De,je=Object.getOwnPropertyDescriptor;k.f=ke?je:function(t,e){if(t=Me(t),e=Ve(e),Be)try{return je(t,e)}catch(t){}if(Ue(t,e))return Le(!Ne(Pe.f,t,e),t[e])};var Fe=s,He=D,We=/#|\.prototype\./,Ge=function(t,e){var n=ze[$e(t)];return n==Ke||n!=Ye&&(He(e)?Fe(e):!!e)},$e=Ge.normalize=function(t){return String(t).replace(We,".").toLowerCase()},ze=Ge.data={},Ye=Ge.NATIVE="N",Ke=Ge.POLYFILL="P",qe=Ge,Xe=Pt,Je=a,Ze=R(R.bind),Qe=function(t,e){return Xe(t),void 0===e?t:Je?Ze(t,e):function(){return t.apply(e,arguments)}},tn={},en=N&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),nn=rt,rn=String,on=TypeError,sn=function(t){if(nn(t))return t;throw on(rn(t)+" is not an object")},an=N,cn=De,ln=en,un=sn,dn=Ce,hn=TypeError,pn=Object.defineProperty,fn=Object.getOwnPropertyDescriptor,mn="enumerable",vn="configurable",gn="writable";tn.f=an?ln?function(t,e,n){if(un(t),e=dn(e),un(n),"function"==typeof t&&"prototype"===e&&"value"in n&&gn in n&&!n[gn]){var i=fn(t,e);i&&i[gn]&&(t[e]=n.value,n={configurable:vn in n?n[vn]:i[vn],enumerable:mn in n?n[mn]:i[mn],writable:!1})}return pn(t,e,n)}:pn:function(t,e,n){if(un(t),e=dn(e),un(n),cn)try{return pn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw hn("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var _n=tn,yn=W,En=N?function(t,e,n){return _n.f(t,e,yn(1,n))}:function(t,e,n){return t[e]=n,t},bn=m,Sn=E,Tn=R,wn=D,Cn=k.f,In=qe,Rn=ot,An=Qe,On=En,xn=ee,Dn=function(t){var e=function(n,i,r){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,i)}return new t(n,i,r)}return Sn(t,this,arguments)};return e.prototype=t.prototype,e},kn=function(t,e){var n,i,r,o,s,a,c,l,u,d=t.target,h=t.global,p=t.stat,f=t.proto,m=h?bn:p?bn[d]:(bn[d]||{}).prototype,v=h?Rn:Rn[d]||On(Rn,d,{})[d],g=v.prototype;for(o in e)i=!(n=In(h?o:d+(p?".":"#")+o,t.forced))&&m&&xn(m,o),a=v[o],i&&(c=t.dontCallGetSet?(u=Cn(m,o))&&u.value:m[o]),s=i&&c?c:e[o],i&&typeof a==typeof s||(l=t.bind&&i?An(s,bn):t.wrap&&i?Dn(s):f&&wn(s)?Tn(s):s,(t.sham||s&&s.sham||a&&a.sham)&&On(l,"sham",!0),On(v,o,l),f&&(xn(Rn,r=d+"Prototype")||On(Rn,r,{}),On(Rn[r],o,s),t.real&&g&&(n||!g[o])&&On(g,o,s)))},Nn=Math.ceil,Pn=Math.floor,Ln=Math.trunc||function(t){var e=+t;return(e>0?Pn:Nn)(e)},Mn=Ln,Vn=function(t){var e=+t;return e!=e||0===e?0:Mn(e)},Un=Vn,Bn=Math.max,jn=Math.min,Fn=function(t,e){var n=Un(t);return n<0?Bn(n+e,0):jn(n,e)},Hn=Vn,Wn=Math.min,Gn=function(t){return t>0?Wn(Hn(t),9007199254740991):0},$n=Gn,zn=function(t){return $n(t.length)},Yn=et,Kn=Fn,qn=zn,Xn=function(t){return function(e,n,i){var r,o=Yn(e),s=qn(o),a=Kn(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Jn={includes:Xn(!0),indexOf:Xn(!1)},Zn=Jn.includes;kn({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(t){return Zn(this,t,arguments.length>1?arguments[1]:void 0)}});var Qn=ot,ti=function(t){return Qn[t+"Prototype"]},ei=ti("Array").includes,ni=rt,ii=w,ri=me("match"),oi=function(t){var e;return ni(t)&&(void 0!==(e=t[ri])?!!e:"RegExp"==ii(t))},si=oi,ai=TypeError,ci={};ci[me("toStringTag")]="z";var li="[object z]"===String(ci),ui=li,di=D,hi=w,pi=me("toStringTag"),fi=Object,mi="Arguments"==hi(function(){return arguments}()),vi=ui?hi:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=fi(t),pi))?n:mi?hi(e):"Object"==(i=hi(e))&&di(e.callee)?"Arguments":i},gi=vi,_i=String,yi=function(t){if("Symbol"===gi(t))throw TypeError("Cannot convert a Symbol value to a string");return _i(t)},Ei=me("match"),bi=kn,Si=function(t){if(si(t))throw ai("The method doesn't accept regular expressions");return t},Ti=Z,wi=yi,Ci=function(t){var e=/./;try{"/./"[t](e)}catch(o){try{return e[Ei]=!1,"/./"[t](e)}catch(t){}}return!1},Ii=h("".indexOf);bi({target:"String",proto:!0,forced:!Ci("includes")},{includes:function(t){return!!~Ii(wi(Ti(this)),wi(Si(t)),arguments.length>1?arguments[1]:void 0)}});var Ri=ti("String").includes,Ai=p,Oi=ei,xi=Ri,Di=Array.prototype,ki=String.prototype,Ni=function(t){var e=t.includes;return t===Di||Ai(Di,t)&&e===Di.includes?Oi:"string"==typeof t||t===ki||Ai(ki,t)&&e===ki.includes?xi:e},Pi=o(Ni),Li=Pt,Mi=Zt,Vi=K,Ui=zn,Bi=TypeError,ji=function(t){return function(e,n,i,r){Li(n);var o=Mi(e),s=Vi(o),a=Ui(o),c=t?a-1:0,l=t?-1:1;if(i<2)for(;;){if(c in s){r=s[c],c+=l;break}if(c+=l,t?c<0:a<=c)throw Bi("Reduce of empty array with no initial value")}for(;t?c>=0:a>c;c+=l)c in s&&(r=n(r,s[c],c,o));return r}},Fi={left:ji(!1),right:ji(!0)},Hi=s,Wi=function(t,e){var n=[][t];return!!n&&Hi((function(){n.call(null,e||function(){return 1},1)}))},Gi="undefined"!=typeof n&&"process"==w(n),$i=Fi.left;kn({target:"Array",proto:!0,forced:!Gi&&_t>79&&_t<83||!Wi("reduce")},{reduce:function(t){var e=arguments.length;return $i(this,t,e,e>1?arguments[1]:void 0)}});var zi=ti("Array").reduce,Yi=p,Ki=zi,qi=Array.prototype,Xi=function(t){var e=t.reduce;return t===qi||Yi(qi,t)&&e===qi.reduce?Ki:e},Ji=Xi,Zi=o(Ji);let Qi=!0,tr=!0;function er(t,e,n){const i=t.match(e);return i&&i.length>=n&&parseInt(i[n],10)}function nr(t,e,n){if(!t.RTCPeerConnection)return;const i=t.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(t,i){if(t!==e)return r.apply(this,arguments);const o=t=>{const e=n(t);e&&(i.handleEvent?i.handleEvent(e):i(e))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(i,o),r.apply(this,[t,o])};const o=i.removeEventListener;i.removeEventListener=function(t,n){if(t!==e||!this._eventMap||!this._eventMap[e])return o.apply(this,arguments);if(!this._eventMap[e].has(n))return o.apply(this,arguments);const i=this._eventMap[e].get(n);return this._eventMap[e].delete(n),0===this._eventMap[e].size&&delete this._eventMap[e],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[t,i])},Object.defineProperty(i,"on"+e,{get(){return this["_on"+e]},set(t){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),t&&this.addEventListener(e,this["_on"+e]=t)},enumerable:!0,configurable:!0})}function ir(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(Qi=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function rr(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(tr=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function or(){if("object"==typeof window){if(Qi)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function sr(t,e){tr&&console.warn(t+" is deprecated, please use "+e+" instead.")}function ar(t){return"[object Object]"===Object.prototype.toString.call(t)}function cr(t){var e;return ar(t)?Zi(e=Object.keys(t)).call(e,(function(e,n){const i=ar(t[n]),r=i?cr(t[n]):t[n],o=i&&!Object.keys(r).length;return void 0===r||o?e:Object.assign(e,{[n]:r})}),{}):t}function lr(t,e,n){e&&!n.has(e.id)&&(n.set(e.id,e),Object.keys(e).forEach(i=>{i.endsWith("Id")?lr(t,t.get(e[i]),n):i.endsWith("Ids")&&e[i].forEach(e=>{lr(t,t.get(e),n)})}))}function ur(t,e,n){const i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(null===e)return r;const o=[];return t.forEach(t=>{"track"===t.type&&t.trackIdentifier===e.id&&o.push(t)}),o.forEach(e=>{t.forEach(n=>{n.type===i&&n.trackId===e.id&&lr(t,n,r)})}),r}var dr=se,hr=qt("keys"),pr=function(t){return hr[t]||(hr[t]=dr(t))},fr=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),mr=ee,vr=D,gr=Zt,_r=fr,yr=pr("IE_PROTO"),Er=Object,br=Er.prototype,Sr=_r?Er.getPrototypeOf:function(t){var e=gr(t);if(mr(e,yr))return e[yr];var n=e.constructor;return vr(n)&&e instanceof n?n.prototype:e instanceof Er?br:null},Tr=h,wr=Pt,Cr=D,Ir=String,Rr=TypeError,Ar=function(t,e,n){try{return Tr(wr(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}},Or=sn,xr=function(t){if("object"==typeof t||Cr(t))return t;throw Rr("Can't set "+Ir(t)+" as a prototype")},Dr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Ar(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return Or(n),xr(i),e?t(n,i):n.__proto__=i,n}}():void 0),kr={},Nr={},Pr=ee,Lr=et,Mr=Jn.indexOf,Vr=Nr,Ur=h([].push),Br=function(t,e){var n,i=Lr(t),r=0,o=[];for(n in i)!Pr(Vr,n)&&Pr(i,n)&&Ur(o,n);for(;e.length>r;)Pr(i,n=e[r++])&&(~Mr(o,n)||Ur(o,n));return o},jr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Fr=Br,Hr=jr.concat("length","prototype");kr.f=Object.getOwnPropertyNames||function(t){return Fr(t,Hr)};var Wr={};Wr.f=Object.getOwnPropertySymbols;var Gr=ut,$r=kr,zr=Wr,Yr=sn,Kr=h([].concat),qr=Gr("Reflect","ownKeys")||function(t){var e=$r.f(Yr(t)),n=zr.f;return n?Kr(e,n(t)):e},Xr=ee,Jr=qr,Zr=k,Qr=tn,to={},eo=Br,no=jr,io=Object.keys||function(t){return eo(t,no)},ro=N,oo=en,so=tn,ao=sn,co=et,lo=io;to.f=ro&&!oo?Object.defineProperties:function(t,e){ao(t);for(var n,i=co(e),r=lo(e),o=r.length,s=0;o>s;)so.f(t,n=r[s++],i[n]);return t};var uo,ho=ut("document","documentElement"),po=sn,fo=to,mo=jr,vo=Nr,go=ho,_o=Oe,yo="prototype",Eo="script",bo=pr("IE_PROTO"),So=function(){},To=function(t){return"<"+Eo+">"+t+"</"+Eo+">"},wo=function(t){t.write(To("")),t.close();var e=t.parentWindow.Object;return t=null,e},Co=function(){try{uo=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Co="undefined"!=typeof document?document.domain&&uo?wo(uo):(e=_o("iframe"),n="java"+Eo+":",e.style.display="none",go.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(To("document.F=Object")),t.close(),t.F):wo(uo);for(var i=mo.length;i--;)delete Co[yo][mo[i]];return Co()};vo[bo]=!0;var Io=Object.create||function(t,e){var n;return null!==t?(So[yo]=po(t),n=new So,So[yo]=null,n[bo]=t):n=Co(),void 0===e?n:fo.f(n,e)},Ro=rt,Ao=En,Oo=Error,xo=h("".replace),Do=String(Oo("zxcasd").stack),ko=/\n\s*at [^:]*:[^\n]*/,No=ko.test(Do),Po=W,Lo=!s((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",Po(1,7)),7!==t.stack)})),Mo=En,Vo=function(t,e){if(No&&"string"==typeof t&&!Oo.prepareStackTrace)for(;e--;)t=xo(t,ko,"");return t},Uo=Lo,Bo=Error.captureStackTrace,jo={},Fo=jo,Ho=me("iterator"),Wo=Array.prototype,Go=function(t){return void 0!==t&&(Fo.Array===t||Wo[Ho]===t)},$o=vi,zo=Vt,Yo=q,Ko=jo,qo=me("iterator"),Xo=function(t){if(!Yo(t))return zo(t,qo)||zo(t,"@@iterator")||Ko[$o(t)]},Jo=M,Zo=Pt,Qo=sn,ts=xt,es=Xo,ns=TypeError,is=function(t,e){var n=arguments.length<2?es(t):e;if(Zo(n))return Qo(Jo(n,t));throw ns(ts(t)+" is not iterable")},rs=M,os=sn,ss=Vt,as=function(t,e,n){var i,r;os(t);try{if(!(i=ss(t,"return"))){if("throw"===e)throw n;return n}i=rs(i,t)}catch(t){r=!0,i=t}if("throw"===e)throw n;if(r)throw i;return os(i),n},cs=Qe,ls=M,us=sn,ds=xt,hs=Go,ps=zn,fs=p,ms=is,vs=Xo,gs=as,_s=TypeError,ys=function(t,e){this.stopped=t,this.result=e},Es=ys.prototype,bs=function(t,e,n){var i,r,o,s,a,c,l,u=n&&n.that,d=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),m=cs(e,u),v=function(t){return i&&gs(i,"normal",t),new ys(!0,t)},g=function(t){return d?(us(t),f?m(t[0],t[1],v):m(t[0],t[1])):f?m(t,v):m(t)};if(h)i=t.iterator;else if(p)i=t;else{if(!(r=vs(t)))throw _s(ds(t)+" is not iterable");if(hs(r)){for(o=0,s=ps(t);s>o;o++)if((a=g(t[o]))&&fs(Es,a))return a;return new ys(!1)}i=ms(t,r)}for(c=h?t.next:i.next;!(l=ls(c,i)).done;){try{a=g(l.value)}catch(t){gs(i,"throw",t)}if("object"==typeof a&&a&&fs(Es,a))return a}return new ys(!1)},Ss=yi,Ts=kn,ws=p,Cs=Sr,Is=Dr,Rs=function(t,e,n){for(var i=Jr(e),r=Qr.f,o=Zr.f,s=0;s<i.length;s++){var a=i[s];Xr(t,a)||n&&Xr(n,a)||r(t,a,o(e,a))}},As=Io,Os=En,xs=W,Ds=function(t,e){Ro(e)&&"cause"in e&&Ao(t,"cause",e.cause)},ks=function(t,e,n,i){Uo&&(Bo?Bo(t,e):Mo(t,"stack",Vo(n,i)))},Ns=bs,Ps=function(t,e){return void 0===t?arguments.length<2?"":e:Ss(t)},Ls=me("toStringTag"),Ms=Error,Vs=[].push,Us=function(t,e){var n,i=ws(Bs,this);Is?n=Is(Ms(),i?Cs(this):Bs):(n=i?this:As(Bs),Os(n,Ls,"Error")),void 0!==e&&Os(n,"message",Ps(e)),ks(n,Us,n.stack,1),arguments.length>2&&Ds(n,arguments[2]);var r=[];return Ns(t,Vs,{that:r}),Os(n,"errors",r),n};Is?Is(Us,Ms):Rs(Us,Ms,{name:!0});var Bs=Us.prototype=As(Ms.prototype,{constructor:xs(1,Us),message:xs(1,""),name:xs(1,"AggregateError")});Ts({global:!0,constructor:!0,arity:2},{AggregateError:Us});var js,Fs,Hs,Ws=D,Gs=m.WeakMap,$s=Ws(Gs)&&/native code/.test(String(Gs)),zs=m,Ys=rt,Ks=En,qs=ee,Xs=Yt,Js=pr,Zs=Nr,Qs="Object already initialized",ta=zs.TypeError,ea=zs.WeakMap;if($s||Xs.state){var na=Xs.state||(Xs.state=new ea);na.get=na.get,na.has=na.has,na.set=na.set,js=function(t,e){if(na.has(t))throw ta(Qs);return e.facade=t,na.set(t,e),e},Fs=function(t){return na.get(t)||{}},Hs=function(t){return na.has(t)}}else{var ia=Js("state");Zs[ia]=!0,js=function(t,e){if(qs(t,ia))throw ta(Qs);return e.facade=t,Ks(t,ia,e),e},Fs=function(t){return qs(t,ia)?t[ia]:{}},Hs=function(t){return qs(t,ia)}}var ra,oa,sa,aa={set:js,get:Fs,has:Hs,enforce:function(t){return Hs(t)?Fs(t):js(t,{})},getterFor:function(t){return function(e){var n;if(!Ys(e)||(n=Fs(e)).type!==t)throw ta("Incompatible receiver, "+t+" required");return n}}},ca=N,la=ee,ua=Function.prototype,da=ca&&Object.getOwnPropertyDescriptor,ha=la(ua,"name"),pa={EXISTS:ha,PROPER:ha&&"something"===function(){}.name,CONFIGURABLE:ha&&(!ca||ca&&da(ua,"name").configurable)},fa=En,ma=function(t,e,n,i){return i&&i.enumerable?t[e]=n:fa(t,e,n),t},va=s,ga=D,_a=rt,ya=Io,Ea=Sr,ba=ma,Sa=me("iterator"),Ta=!1;[].keys&&("next"in(sa=[].keys())?(oa=Ea(Ea(sa)))!==Object.prototype&&(ra=oa):Ta=!0);var wa=!_a(ra)||va((function(){var t={};return ra[Sa].call(t)!==t}));ga((ra=wa?{}:ya(ra))[Sa])||ba(ra,Sa,(function(){return this}));var Ca={IteratorPrototype:ra,BUGGY_SAFARI_ITERATORS:Ta},Ia=vi,Ra=li?{}.toString:function(){return"[object "+Ia(this)+"]"},Aa=li,Oa=tn.f,xa=En,Da=ee,ka=Ra,Na=me("toStringTag"),Pa=function(t,e,n,i){if(t){var r=n?t:t.prototype;Da(r,Na)||Oa(r,Na,{configurable:!0,value:e}),i&&!Aa&&xa(r,"toString",ka)}},La=Ca.IteratorPrototype,Ma=Io,Va=W,Ua=Pa,Ba=jo,ja=function(){return this},Fa=function(t,e,n,i){var r=e+" Iterator";return t.prototype=Ma(La,{next:Va(+!i,n)}),Ua(t,r,!1,!0),Ba[r]=ja,t},Ha=kn,Wa=M,Ga=pa,$a=Fa,za=Sr,Ya=Pa,Ka=ma,qa=jo,Xa=Ca,Ja=Ga.PROPER,Za=Xa.BUGGY_SAFARI_ITERATORS,Qa=me("iterator"),tc="keys",ec="values",nc="entries",ic=function(){return this},rc=function(t,e,n,i,r,o,s){$a(n,e,i);var a,c,l,u=function(t){if(t===r&&m)return m;if(!Za&&t in p)return p[t];switch(t){case tc:case ec:case nc:return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",h=!1,p=t.prototype,f=p[Qa]||p["@@iterator"]||r&&p[r],m=!Za&&f||u(r),v="Array"==e&&p.entries||f;if(v&&(a=za(v.call(new t)))!==Object.prototype&&a.next&&(Ya(a,d,!0,!0),qa[d]=ic),Ja&&r==ec&&f&&f.name!==ec&&(h=!0,m=function(){return Wa(f,this)}),r)if(c={values:u(ec),keys:o?m:u(tc),entries:u(nc)},s)for(l in c)(Za||h||!(l in p))&&Ka(p,l,c[l]);else Ha({target:e,proto:!0,forced:Za||h},c);return s&&p[Qa]!==m&&Ka(p,Qa,m,{name:r}),qa[e]=m,c},oc=function(t,e){return{value:t,done:e}},sc=et,ac=jo,cc=aa;tn.f;var lc=rc,uc=oc,dc="Array Iterator",hc=cc.set,pc=cc.getterFor(dc);lc(Array,"Array",(function(t,e){hc(this,{type:dc,target:sc(t),index:0,kind:e})}),(function(){var t=pc(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,uc(void 0,!0)):uc("keys"==n?i:"values"==n?e[i]:[i,e[i]],!1)}),"values"),ac.Arguments=ac.Array;var fc=tn,mc=function(t,e,n){return fc.f(t,e,n)},vc=ut,gc=mc,_c=N,yc=me("species"),Ec=p,bc=TypeError,Sc=function(t,e){if(Ec(e,t))return t;throw bc("Incorrect invocation")},Tc=D,wc=Yt,Cc=h(Function.toString);Tc(wc.inspectSource)||(wc.inspectSource=function(t){return Cc(t)});var Ic=wc.inspectSource,Rc=h,Ac=s,Oc=D,xc=vi,Dc=Ic,kc=function(){},Nc=[],Pc=ut("Reflect","construct"),Lc=/^\s*(?:class|function)\b/,Mc=Rc(Lc.exec),Vc=!Lc.exec(kc),Uc=function(t){if(!Oc(t))return!1;try{return Pc(kc,Nc,t),!0}catch(t){return!1}},Bc=function(t){if(!Oc(t))return!1;switch(xc(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Vc||!!Mc(Lc,Dc(t))}catch(t){return!0}};Bc.sham=!0;var jc,Fc,Hc,Wc,Gc=!Pc||Ac((function(){var t;return Uc(Uc.call)||!Uc(Object)||!Uc((function(){t=!0}))||t}))?Bc:Uc,$c=Gc,zc=xt,Yc=TypeError,Kc=sn,qc=function(t){if($c(t))return t;throw Yc(zc(t)+" is not a constructor")},Xc=q,Jc=me("species"),Zc=function(t,e){var n,i=Kc(t).constructor;return void 0===i||Xc(n=Kc(i)[Jc])?e:qc(n)},Qc=h([].slice),tl=TypeError,el=function(t,e){if(t<e)throw tl("Not enough arguments");return t},nl=/(?:ipad|iphone|ipod).*applewebkit/i.test(dt),il=m,rl=E,ol=Qe,sl=D,al=ee,cl=s,ll=ho,ul=Qc,dl=Oe,hl=el,pl=nl,fl=Gi,ml=il.setImmediate,vl=il.clearImmediate,gl=il.process,_l=il.Dispatch,yl=il.Function,El=il.MessageChannel,bl=il.String,Sl=0,Tl={},wl="onreadystatechange";cl((function(){jc=il.location}));var Cl=function(t){if(al(Tl,t)){var e=Tl[t];delete Tl[t],e()}},Il=function(t){return function(){Cl(t)}},Rl=function(t){Cl(t.data)},Al=function(t){il.postMessage(bl(t),jc.protocol+"//"+jc.host)};ml&&vl||(ml=function(t){hl(arguments.length,1);var e=sl(t)?t:yl(t),n=ul(arguments,1);return Tl[++Sl]=function(){rl(e,void 0,n)},Fc(Sl),Sl},vl=function(t){delete Tl[t]},fl?Fc=function(t){gl.nextTick(Il(t))}:_l&&_l.now?Fc=function(t){_l.now(Il(t))}:El&&!pl?(Wc=(Hc=new El).port2,Hc.port1.onmessage=Rl,Fc=ol(Wc.postMessage,Wc)):il.addEventListener&&sl(il.postMessage)&&!il.importScripts&&jc&&"file:"!==jc.protocol&&!cl(Al)?(Fc=Al,il.addEventListener("message",Rl,!1)):Fc=wl in dl("script")?function(t){ll.appendChild(dl("script"))[wl]=function(){ll.removeChild(this),Cl(t)}}:function(t){setTimeout(Il(t),0)});var Ol={set:ml,clear:vl},xl=function(){this.head=null,this.tail=null};xl.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var Dl,kl,Nl,Pl,Ll,Ml=xl,Vl=/ipad|iphone|ipod/i.test(dt)&&"undefined"!=typeof Pebble,Ul=/web0s(?!.*chrome)/i.test(dt),Bl=m,jl=Qe,Fl=k.f,Hl=Ol.set,Wl=Ml,Gl=nl,$l=Vl,zl=Ul,Yl=Gi,Kl=Bl.MutationObserver||Bl.WebKitMutationObserver,ql=Bl.document,Xl=Bl.process,Jl=Bl.Promise,Zl=Fl(Bl,"queueMicrotask"),Ql=Zl&&Zl.value;if(!Ql){var tu=new Wl,eu=function(){var t,e;for(Yl&&(t=Xl.domain)&&t.exit();e=tu.get();)try{e()}catch(t){throw tu.head&&Dl(),t}t&&t.enter()};Gl||Yl||zl||!Kl||!ql?!$l&&Jl&&Jl.resolve?((Pl=Jl.resolve(void 0)).constructor=Jl,Ll=jl(Pl.then,Pl),Dl=function(){Ll(eu)}):Yl?Dl=function(){Xl.nextTick(eu)}:(Hl=jl(Hl,Bl),Dl=function(){Hl(eu)}):(kl=!0,Nl=ql.createTextNode(""),new Kl(eu).observe(Nl,{characterData:!0}),Dl=function(){Nl.data=kl=!kl}),Ql=function(t){tu.head||Dl(),tu.add(t)}}var nu=Ql,iu=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ru=m.Promise,ou="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,su=!ou&&!Gi&&"object"==typeof window&&"object"==typeof document,au=m,cu=ru,lu=D,uu=qe,du=Ic,hu=me,pu=su,fu=ou,mu=_t,vu=cu&&cu.prototype,gu=hu("species"),_u=!1,yu=lu(au.PromiseRejectionEvent),Eu=uu("Promise",(function(){var t=du(cu),e=t!==String(cu);if(!e&&66===mu)return!0;if(!vu.catch||!vu.finally)return!0;if(!mu||mu<51||!/native code/.test(t)){var n=new cu((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};if((n.constructor={})[gu]=i,!(_u=n.then((function(){}))instanceof i))return!0}return!e&&(pu||fu)&&!yu})),bu={CONSTRUCTOR:Eu,REJECTION_EVENT:yu,SUBCLASSING:_u},Su={},Tu=Pt,wu=TypeError,Cu=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw wu("Bad Promise constructor");e=t,n=i})),this.resolve=Tu(e),this.reject=Tu(n)};Su.f=function(t){return new Cu(t)};var Iu,Ru,Au=kn,Ou=Gi,xu=m,Du=M,ku=ma,Nu=Pa,Pu=function(t){var e=vc(t);_c&&e&&!e[yc]&&gc(e,yc,{configurable:!0,get:function(){return this}})},Lu=Pt,Mu=D,Vu=rt,Uu=Sc,Bu=Zc,ju=Ol.set,Fu=nu,Hu=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}},Wu=iu,Gu=Ml,$u=aa,zu=ru,Yu=bu,Ku=Su,qu="Promise",Xu=Yu.CONSTRUCTOR,Ju=Yu.REJECTION_EVENT,Zu=$u.getterFor(qu),Qu=$u.set,td=zu&&zu.prototype,ed=zu,nd=td,id=xu.TypeError,rd=xu.document,od=xu.process,sd=Ku.f,ad=sd,cd=!!(rd&&rd.createEvent&&xu.dispatchEvent),ld="unhandledrejection",ud=function(t){var e;return!(!Vu(t)||!Mu(e=t.then))&&e},dd=function(t,e){var n,i,r,o=e.value,s=1==e.state,a=s?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{a?(s||(2===e.rejection&&vd(e),e.rejection=1),!0===a?n=o:(u&&u.enter(),n=a(o),u&&(u.exit(),r=!0)),n===t.promise?l(id("Promise-chain cycle")):(i=ud(n))?Du(i,n,c,l):c(n)):l(o)}catch(t){u&&!r&&u.exit(),l(t)}},hd=function(t,e){t.notified||(t.notified=!0,Fu((function(){for(var n,i=t.reactions;n=i.get();)dd(n,t);t.notified=!1,e&&!t.rejection&&fd(t)})))},pd=function(t,e,n){var i,r;cd?((i=rd.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),xu.dispatchEvent(i)):i={promise:e,reason:n},!Ju&&(r=xu["on"+t])?r(i):t===ld&&Hu("Unhandled promise rejection",n)},fd=function(t){Du(ju,xu,(function(){var e,n=t.facade,i=t.value;if(md(t)&&(e=Wu((function(){Ou?od.emit("unhandledRejection",i,n):pd(ld,n,i)})),t.rejection=Ou||md(t)?2:1,e.error))throw e.value}))},md=function(t){return 1!==t.rejection&&!t.parent},vd=function(t){Du(ju,xu,(function(){var e=t.facade;Ou?od.emit("rejectionHandled",e):pd("rejectionhandled",e,t.value)}))},gd=function(t,e,n){return function(i){t(e,i,n)}},_d=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,hd(t,!0))},yd=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw id("Promise can't be resolved itself");var i=ud(e);i?Fu((function(){var n={done:!1};try{Du(i,e,gd(yd,n,t),gd(_d,n,t))}catch(e){_d(n,e,t)}})):(t.value=e,t.state=1,hd(t,!1))}catch(e){_d({done:!1},e,t)}}};Xu&&(nd=(ed=function(t){Uu(this,nd),Lu(t),Du(Iu,this);var e=Zu(this);try{t(gd(yd,e),gd(_d,e))}catch(t){_d(e,t)}}).prototype,(Iu=function(t){Qu(this,{type:qu,done:!1,notified:!1,parent:!1,reactions:new Gu,rejection:!1,state:0,value:void 0})}).prototype=ku(nd,"then",(function(t,e){var n=Zu(this),i=sd(Bu(this,ed));return n.parent=!0,i.ok=!Mu(t)||t,i.fail=Mu(e)&&e,i.domain=Ou?od.domain:void 0,0==n.state?n.reactions.add(i):Fu((function(){dd(i,n)})),i.promise})),Ru=function(){var t=new Iu,e=Zu(t);this.promise=t,this.resolve=gd(yd,e),this.reject=gd(_d,e)},Ku.f=sd=function(t){return t===ed||void 0===t?new Ru(t):ad(t)}),Au({global:!0,constructor:!0,wrap:!0,forced:Xu},{Promise:ed}),Nu(ed,qu,!1,!0),Pu(qu);var Ed=me("iterator"),bd=!1;try{var Sd=0,Td={next:function(){return{done:!!Sd++}},return:function(){bd=!0}};Td[Ed]=function(){return this},Array.from(Td,(function(){throw 2}))}catch(t){}var wd=ru,Cd=function(t,e){if(!e&&!bd)return!1;var n=!1;try{var i={};i[Ed]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n},Id=bu.CONSTRUCTOR||!Cd((function(t){wd.all(t).then(void 0,(function(){}))})),Rd=M,Ad=Pt,Od=Su,xd=iu,Dd=bs;kn({target:"Promise",stat:!0,forced:Id},{all:function(t){var e=this,n=Od.f(e),i=n.resolve,r=n.reject,o=xd((function(){var n=Ad(e.resolve),o=[],s=0,a=1;Dd(t,(function(t){var c=s++,l=!1;a++,Rd(n,e,t).then((function(t){l||(l=!0,o[c]=t,--a||i(o))}),r)})),--a||i(o)}));return o.error&&r(o.value),n.promise}});var kd=kn,Nd=bu.CONSTRUCTOR;ru&&ru.prototype,kd({target:"Promise",proto:!0,forced:Nd,real:!0},{catch:function(t){return this.then(void 0,t)}});var Pd=M,Ld=Pt,Md=Su,Vd=iu,Ud=bs;kn({target:"Promise",stat:!0,forced:Id},{race:function(t){var e=this,n=Md.f(e),i=n.reject,r=Vd((function(){var r=Ld(e.resolve);Ud(t,(function(t){Pd(r,e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}});var Bd=M,jd=Su;kn({target:"Promise",stat:!0,forced:bu.CONSTRUCTOR},{reject:function(t){var e=jd.f(this);return Bd(e.reject,void 0,t),e.promise}});var Fd=sn,Hd=rt,Wd=Su,Gd=function(t,e){if(Fd(t),Hd(e)&&e.constructor===t)return e;var n=Wd.f(t);return(0,n.resolve)(e),n.promise},$d=kn,zd=ru,Yd=bu.CONSTRUCTOR,Kd=Gd,qd=ut("Promise"),Xd=!Yd;$d({target:"Promise",stat:!0,forced:!0},{resolve:function(t){return Kd(Xd&&this===qd?zd:this,t)}});var Jd=M,Zd=Pt,Qd=Su,th=iu,eh=bs;kn({target:"Promise",stat:!0,forced:Id},{allSettled:function(t){var e=this,n=Qd.f(e),i=n.resolve,r=n.reject,o=th((function(){var n=Zd(e.resolve),r=[],o=0,s=1;eh(t,(function(t){var a=o++,c=!1;s++,Jd(n,e,t).then((function(t){c||(c=!0,r[a]={status:"fulfilled",value:t},--s||i(r))}),(function(t){c||(c=!0,r[a]={status:"rejected",reason:t},--s||i(r))}))})),--s||i(r)}));return o.error&&r(o.value),n.promise}});var nh=M,ih=Pt,rh=ut,oh=Su,sh=iu,ah=bs,ch="No one promise resolved";kn({target:"Promise",stat:!0,forced:Id},{any:function(t){var e=this,n=rh("AggregateError"),i=oh.f(e),r=i.resolve,o=i.reject,s=sh((function(){var i=ih(e.resolve),s=[],a=0,c=1,l=!1;ah(t,(function(t){var u=a++,d=!1;c++,nh(i,e,t).then((function(t){d||l||(l=!0,r(t))}),(function(t){d||l||(d=!0,s[u]=t,--c||o(new n(s,ch)))}))})),--c||o(new n(s,ch))}));return s.error&&o(s.value),i.promise}});var lh=kn,uh=ru,dh=s,hh=ut,ph=D,fh=Zc,mh=Gd,vh=uh&&uh.prototype;lh({target:"Promise",proto:!0,real:!0,forced:!!uh&&dh((function(){vh.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=fh(this,hh("Promise")),n=ph(t);return this.then(n?function(n){return mh(e,t()).then((function(){return n}))}:t,n?function(n){return mh(e,t()).then((function(){throw n}))}:t)}});var gh=h,_h=Vn,yh=yi,Eh=Z,bh=gh("".charAt),Sh=gh("".charCodeAt),Th=gh("".slice),wh=function(t){return function(e,n){var i,r,o=yh(Eh(e)),s=_h(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=Sh(o,s))<55296||i>56319||s+1===a||(r=Sh(o,s+1))<56320||r>57343?t?bh(o,s):i:t?Th(o,s,s+2):r-56320+(i-55296<<10)+65536}},Ch={codeAt:wh(!1),charAt:wh(!0)},Ih=Ch.charAt,Rh=yi,Ah=aa,Oh=rc,xh=oc,Dh="String Iterator",kh=Ah.set,Nh=Ah.getterFor(Dh);Oh(String,"String",(function(t){kh(this,{type:Dh,string:Rh(t),index:0})}),(function(){var t,e=Nh(this),n=e.string,i=e.index;return i>=n.length?xh(void 0,!0):(t=Ih(n,i),e.index+=t.length,xh(t,!1))}));var Ph=ot.Promise,Lh={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Mh=m,Vh=vi,Uh=En,Bh=jo,jh=me("toStringTag");for(var Fh in Lh){var Hh=Mh[Fh],Wh=Hh&&Hh.prototype;Wh&&Vh(Wh)!==jh&&Uh(Wh,jh,Fh),Bh[Fh]=Bh.Array}var Gh=Ph,$h=o(Gh);const zh=or;function Yh(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const i=function(t){if("object"!=typeof t||t.mandatory||t.optional)return t;const e={};return Object.keys(t).forEach(n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const i="object"==typeof t[n]?t[n]:{ideal:t[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);const r=function(t,e){return t?t+e.charAt(0).toUpperCase()+e.slice(1):"deviceId"===e?"sourceId":e};if(void 0!==i.ideal){e.optional=e.optional||[];let t={};"number"==typeof i.ideal?(t[r("min",n)]=i.ideal,e.optional.push(t),t={},t[r("max",n)]=i.ideal,e.optional.push(t)):(t[r("",n)]=i.ideal,e.optional.push(t))}void 0!==i.exact&&"number"!=typeof i.exact?(e.mandatory=e.mandatory||{},e.mandatory[r("",n)]=i.exact):["min","max"].forEach(t=>{void 0!==i[t]&&(e.mandatory=e.mandatory||{},e.mandatory[r(t,n)]=i[t])})}),t.advanced&&(e.optional=(e.optional||[]).concat(t.advanced)),e},r=function(t,r){if(e.version>=61)return r(t);if((t=JSON.parse(JSON.stringify(t)))&&"object"==typeof t.audio){const e=function(t,e,n){e in t&&!(n in t)&&(t[n]=t[e],delete t[e])};e((t=JSON.parse(JSON.stringify(t))).audio,"autoGainControl","googAutoGainControl"),e(t.audio,"noiseSuppression","googNoiseSuppression"),t.audio=i(t.audio)}if(t&&"object"==typeof t.video){let o=t.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});const s=e.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||s)){let e;if(delete t.video.facingMode,"environment"===o.exact||"environment"===o.ideal?e=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(e=["front"]),e)return n.mediaDevices.enumerateDevices().then(n=>{let s=(n=n.filter(t=>"videoinput"===t.kind)).find(t=>e.some(e=>{var n;return Pi(n=t.label.toLowerCase()).call(n,e)}));return!s&&n.length&&Pi(e).call(e,"back")&&(s=n[n.length-1]),s&&(t.video.deviceId=o.exact?{exact:s.deviceId}:{ideal:s.deviceId}),t.video=i(t.video),zh("chrome: "+JSON.stringify(t)),r(t)})}t.video=i(t.video)}return zh("chrome: "+JSON.stringify(t)),r(t)},o=function(t){return e.version>=64?t:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[t.name]||t.name,message:t.message,constraint:t.constraint||t.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(t,e,i){r(t,t=>{n.webkitGetUserMedia(t,e,t=>{i&&i(o(t))})})}.bind(n),n.mediaDevices.getUserMedia){const t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return r(e,e=>t(e).then(t=>{if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(t=>{t.stop()}),new DOMException("","NotFoundError");return t},t=>$h.reject(o(t))))}}}function Kh(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function qh(t){if("object"==typeof t&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=e=>{e.stream.addEventListener("addtrack",n=>{let i;i=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(t=>t.track&&t.track.id===n.track.id):{track:n.track};const r=new Event("track");r.track=n.track,r.receiver=i,r.transceiver={receiver:i},r.streams=[e.stream],this.dispatchEvent(r)}),e.stream.getTracks().forEach(n=>{let i;i=t.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(t=>t.track&&t.track.id===n.id):{track:n};const r=new Event("track");r.track=n,r.receiver=i,r.transceiver={receiver:i},r.streams=[e.stream],this.dispatchEvent(r)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else nr(t,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function Xh(t){if("object"==typeof t&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(t,e){return{track:e,get dtmf(){return void 0===this._dtmf&&("audio"===e.kind?this._dtmf=t.createDTMFSender(e):this._dtmf=null),this._dtmf},_pc:t}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,i){let r=n.apply(this,arguments);return r||(r=e(this,t),this._senders.push(r)),r};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){i.apply(this,arguments);const e=this._senders.indexOf(t);-1!==e&&this._senders.splice(e,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){this._senders=this._senders||[],n.apply(this,[t]),t.getTracks().forEach(t=>{this._senders.push(e(this,t))})};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){this._senders=this._senders||[],i.apply(this,[t]),t.getTracks().forEach(t=>{const e=this._senders.find(e=>e.track===t);e&&this._senders.splice(this._senders.indexOf(e),1)})}}else if("object"==typeof t&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const t=e.apply(this,[]);return t.forEach(t=>t._pc=this),t},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Jh(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[t,n,i]=arguments;if(arguments.length>0&&"function"==typeof t)return e.apply(this,arguments);if(0===e.length&&(0===arguments.length||"function"!=typeof t))return e.apply(this,[]);const r=function(t){const e={};return t.result().forEach(t=>{const n={id:t.id,timestamp:t.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[t.type]||t.type};t.names().forEach(e=>{n[e]=t.stat(e)}),e[n.id]=n}),e},o=function(t){return new Map(Object.keys(t).map(e=>[e,t[e]]))};if(arguments.length>=2){const i=function(t){n(o(r(t)))};return e.apply(this,[i,t])}return new $h((t,n)=>{e.apply(this,[function(e){t(o(r(e)))},n])}).then(n,i)}}function Zh(t){if(!("object"==typeof t&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const t=e.apply(this,[]);return t.forEach(t=>t._pc=this),t});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const t=n.apply(this,arguments);return t._pc=this,t}),t.RTCRtpSender.prototype.getStats=function(){const t=this;return this._pc.getStats().then(e=>ur(e,t.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const t=e.apply(this,[]);return t.forEach(t=>t._pc=this),t}),nr(t,"track",t=>(t.receiver._pc=t.srcElement,t)),t.RTCRtpReceiver.prototype.getStats=function(){const t=this;return this._pc.getStats().then(e=>ur(e,t.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype)||!("getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const t=arguments[0];let e,n,i;return this.getSenders().forEach(n=>{n.track===t&&(e?i=!0:e=n)}),this.getReceivers().forEach(e=>(e.track===t&&(n?i=!0:n=e),e.track===t)),i||e&&n?$h.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():n?n.getStats():$h.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function Qh(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(t=>this._shimmedLocalStreams[t][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,n){if(!n)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const i=e.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(i)&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){this._shimmedLocalStreams=this._shimmedLocalStreams||{},t.getTracks().forEach(t=>{const e=this.getSenders().find(e=>e.track===t);if(e)throw new DOMException("Track already exists.","InvalidAccessError")});const e=this.getSenders();n.apply(this,arguments);const i=this.getSenders().filter(t=>-1===e.indexOf(t));this._shimmedLocalStreams[t.id]=[t].concat(i)};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[t.id],i.apply(this,arguments)};const r=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},t&&Object.keys(this._shimmedLocalStreams).forEach(e=>{const n=this._shimmedLocalStreams[e].indexOf(t);-1!==n&&this._shimmedLocalStreams[e].splice(n,1),1===this._shimmedLocalStreams[e].length&&delete this._shimmedLocalStreams[e]}),r.apply(this,arguments)}}function tp(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return Qh(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map(t=>this._reverseStreams[t.id])};const i=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(e){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},e.getTracks().forEach(t=>{const e=this.getSenders().find(e=>e.track===t);if(e)throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[e.id]){const n=new t.MediaStream(e.getTracks());this._streams[e.id]=n,this._reverseStreams[n.id]=e,e=n}i.apply(this,[e])};const r=t.RTCPeerConnection.prototype.removeStream;function o(t,e){let n=e.sdp;return Object.keys(t._reverseStreams||[]).forEach(e=>{const i=t._reverseStreams[e],r=t._streams[i.id];n=n.replace(new RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:e.type,sdp:n})}t.RTCPeerConnection.prototype.removeStream=function(t){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[t.id]||t]),delete this._reverseStreams[this._streams[t.id]?this._streams[t.id].id:t.id],delete this._streams[t.id]},t.RTCPeerConnection.prototype.addTrack=function(e,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(t=>t===e))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const r=this.getSenders().find(t=>t.track===e);if(r)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[n.id];if(o)o.addTrack(e),$h.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const i=new t.MediaStream([e]);this._streams[n.id]=i,this._reverseStreams[i.id]=n,this.addStream(i)}return this.getSenders().find(t=>t.track===e)},["createOffer","createAnswer"].forEach((function(e){const n=t.RTCPeerConnection.prototype[e],i={[e](){const t=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[e=>{const n=o(this,e);t[0].apply(null,[n])},e=>{t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then(t=>o(this,t))}};t.RTCPeerConnection.prototype[e]=i[e]}));const s=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(t,e){let n=e.sdp;return Object.keys(t._reverseStreams||[]).forEach(e=>{const i=t._reverseStreams[e],r=t._streams[i.id];n=n.replace(new RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:e.type,sdp:n})}(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const a=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const t=a.get.apply(this);return""===t.type?t:o(this,t)}}),t.RTCPeerConnection.prototype.removeTrack=function(t){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!t._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(t._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let e;this._streams=this._streams||{},Object.keys(this._streams).forEach(n=>{this._streams[n].getTracks().find(e=>t.track===e)&&(e=this._streams[n])}),e&&(1===e.getTracks().length?this.removeStream(this._reverseStreams[e.id]):e.removeTrack(t.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ep(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){const n=t.RTCPeerConnection.prototype[e],i={[e](){return arguments[0]=new("addIceCandidate"===e?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};t.RTCPeerConnection.prototype[e]=i[e]}))}function np(t,e){nr(t,"negotiationneeded",t=>{const n=t.target;if(!(e.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return t})}var ip=Object.freeze({__proto__:null,fixNegotiationNeeded:np,shimAddTrackRemoveTrack:tp,shimAddTrackRemoveTrackWithNative:Qh,shimGetDisplayMedia:function(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&("function"==typeof e?t.navigator.mediaDevices.getDisplayMedia=function(n){return e(n).then(e=>{const i=n.video&&n.video.width,r=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxFrameRate:o||3}},i&&(n.video.mandatory.maxWidth=i),r&&(n.video.mandatory.maxHeight=r),t.navigator.mediaDevices.getUserMedia(n)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))},shimGetSendersWithDtmf:Xh,shimGetStats:Jh,shimGetUserMedia:Yh,shimMediaStream:Kh,shimOnTrack:qh,shimPeerConnection:ep,shimSenderReceiverGetStats:Zh});function rp(t,e){const n=t&&t.navigator,i=t&&t.MediaStreamTrack;if(n.getUserMedia=function(t,e,i){sr("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(t).then(e,i)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const t=function(t,e,n){e in t&&!(n in t)&&(t[n]=t[e],delete t[e])},e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),t(n.audio,"autoGainControl","mozAutoGainControl"),t(n.audio,"noiseSuppression","mozNoiseSuppression")),e(n)},i&&i.prototype.getSettings){const e=i.prototype.getSettings;i.prototype.getSettings=function(){const n=e.apply(this,arguments);return t(n,"mozAutoGainControl","autoGainControl"),t(n,"mozNoiseSuppression","noiseSuppression"),n}}if(i&&i.prototype.applyConstraints){const e=i.prototype.applyConstraints;i.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),t(n,"autoGainControl","mozAutoGainControl"),t(n,"noiseSuppression","mozNoiseSuppression")),e.apply(this,[n])}}}}function op(t){"object"==typeof t&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function sp(t,e){if("object"!=typeof t||!t.RTCPeerConnection&&!t.mozRTCPeerConnection)return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){const n=t.RTCPeerConnection.prototype[e],i={[e](){return arguments[0]=new("addIceCandidate"===e?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};t.RTCPeerConnection.prototype[e]=i[e]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[t,r,o]=arguments;return i.apply(this,[t||null]).then(t=>{if(e.version<53&&!r)try{t.forEach(t=>{t.type=n[t.type]||t.type})}catch(e){if("TypeError"!==e.name)throw e;t.forEach((e,i)=>{t.set(i,Object.assign({},e,{type:n[e.type]||e.type}))})}return t}).then(r,o)}}function ap(t){if("object"!=typeof t||!t.RTCPeerConnection||!t.RTCRtpSender)return;if(t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const t=e.apply(this,[]);return t.forEach(t=>t._pc=this),t});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const t=n.apply(this,arguments);return t._pc=this,t}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):$h.resolve(new Map)}}function cp(t){if("object"!=typeof t||!t.RTCPeerConnection||!t.RTCRtpSender)return;if(t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const t=e.apply(this,[]);return t.forEach(t=>t._pc=this),t}),nr(t,"track",t=>(t.receiver._pc=t.srcElement,t)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function lp(t){t.RTCPeerConnection&&!("removeStream"in t.RTCPeerConnection.prototype)&&(t.RTCPeerConnection.prototype.removeStream=function(t){sr("removeStream","removeTrack"),this.getSenders().forEach(e=>{var n;e.track&&Pi(n=t.getTracks()).call(n,e.track)&&this.removeTrack(e)})})}function up(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function dp(t){if("object"!=typeof t||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let t=arguments[1]&&arguments[1].sendEncodings;void 0===t&&(t=[]),t=[...t];const n=t.length>0;n&&t.forEach(t=>{if("rid"in t&&!/^[a-z0-9]{0,16}$/i.test(t.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in t&&!(parseFloat(t.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in t&&!(parseFloat(t.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=e.apply(this,arguments);if(n){const{sender:e}=i,n=e.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=t,e.sendEncodings=t,this.setParametersPromises.push(e.setParameters(n).then(()=>{delete e.sendEncodings}).catch(()=>{delete e.sendEncodings})))}return i})}function hp(t){if("object"!=typeof t||!t.RTCRtpSender)return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const t=e.apply(this,arguments);return"encodings"in t||(t.encodings=[].concat(this.sendEncodings||[{}])),t})}function pp(t){if("object"!=typeof t||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?$h.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function fp(t){if("object"!=typeof t||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?$h.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}var mp=Object.freeze({__proto__:null,shimAddTransceiver:dp,shimCreateAnswer:fp,shimCreateOffer:pp,shimGetDisplayMedia:function(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const t=new DOMException("getDisplayMedia without video constraints is undefined");return t.name="NotFoundError",t.code=8,$h.reject(t)}return!0===n.video?n.video={mediaSource:e}:n.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:hp,shimGetUserMedia:rp,shimOnTrack:op,shimPeerConnection:sp,shimRTCDataChannel:up,shimReceiverGetStats:cp,shimRemoveStream:lp,shimSenderGetStats:ap});function vp(t){if("object"==typeof t&&t.RTCPeerConnection){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(t){var n;this._localStreams||(this._localStreams=[]),Pi(n=this._localStreams).call(n,t)||this._localStreams.push(t),t.getAudioTracks().forEach(n=>e.call(this,n,t)),t.getVideoTracks().forEach(n=>e.call(this,n,t))},t.RTCPeerConnection.prototype.addTrack=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i&&i.forEach(t=>{var e;this._localStreams?Pi(e=this._localStreams).call(e,t)||this._localStreams.push(t):this._localStreams=[t]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);const e=this._localStreams.indexOf(t);if(-1===e)return;this._localStreams.splice(e,1);const n=t.getTracks();this.getSenders().forEach(t=>{Pi(n).call(n,t.track)&&this.removeTrack(t)})})}}function gp(t){if("object"==typeof t&&t.RTCPeerConnection&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(t){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=t=>{t.streams.forEach(t=>{var e;if(this._remoteStreams||(this._remoteStreams=[]),Pi(e=this._remoteStreams).call(e,t))return;this._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,this.dispatchEvent(n)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const t=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(e=>{if(t._remoteStreams||(t._remoteStreams=[]),t._remoteStreams.indexOf(e)>=0)return;t._remoteStreams.push(e);const n=new Event("addstream");n.stream=e,t.dispatchEvent(n)})}),e.apply(t,arguments)}}}function _p(t){if("object"!=typeof t||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,i=e.createAnswer,r=e.setLocalDescription,o=e.setRemoteDescription,s=e.addIceCandidate;e.createOffer=function(t,e){const i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return e?(r.then(t,e),$h.resolve()):r},e.createAnswer=function(t,e){const n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return e?(r.then(t,e),$h.resolve()):r};let a=function(t,e,n){const i=r.apply(this,[t]);return n?(i.then(e,n),$h.resolve()):i};e.setLocalDescription=a,a=function(t,e,n){const i=o.apply(this,[t]);return n?(i.then(e,n),$h.resolve()):i},e.setRemoteDescription=a,a=function(t,e,n){const i=s.apply(this,[t]);return n?(i.then(e,n),$h.resolve()):i},e.addIceCandidate=a}function yp(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const t=e.mediaDevices,n=t.getUserMedia.bind(t);e.mediaDevices.getUserMedia=t=>n(Ep(t))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(t,n,i){e.mediaDevices.getUserMedia(t).then(n,i)}.bind(e))}function Ep(t){return t&&void 0!==t.video?Object.assign({},t,{video:cr(t.video)}):t}function bp(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(t,n){if(t&&t.iceServers){const e=[];for(let n=0;n<t.iceServers.length;n++){let i=t.iceServers[n];!i.hasOwnProperty("urls")&&i.hasOwnProperty("url")?(sr("RTCIceServer.url","RTCIceServer.urls"),i=JSON.parse(JSON.stringify(i)),i.urls=i.url,delete i.url,e.push(i)):e.push(t.iceServers[n])}t.iceServers=e}return new e(t,n)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:()=>e.generateCertificate})}function Sp(t){"object"==typeof t&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Tp(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(t){if(t){void 0!==t.offerToReceiveAudio&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);const e=this.getTransceivers().find(t=>"audio"===t.receiver.track.kind);!1===t.offerToReceiveAudio&&e?"sendrecv"===e.direction?e.setDirection?e.setDirection("sendonly"):e.direction="sendonly":"recvonly"===e.direction&&(e.setDirection?e.setDirection("inactive"):e.direction="inactive"):!0!==t.offerToReceiveAudio||e||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==t.offerToReceiveVideo&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);const n=this.getTransceivers().find(t=>"video"===t.receiver.track.kind);!1===t.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==t.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function wp(t){"object"!=typeof t||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var Cp=Object.freeze({__proto__:null,shimAudioContext:wp,shimCallbacksAPI:_p,shimConstraints:Ep,shimCreateOfferLegacy:Tp,shimGetUserMedia:yp,shimLocalStreamsAPI:vp,shimRTCIceServerUrls:bp,shimRemoteStreamsAPI:gp,shimTrackEventTransceiver:Sp}),Ip="\t\n\v\f\r \u2028\u2029\ufeff",Rp=Z,Ap=yi,Op=Ip,xp=h("".replace),Dp=RegExp("^["+Op+"]+"),kp=RegExp("(^|[^"+Op+"])["+Op+"]+$"),Np=function(t){return function(e){var n=Ap(Rp(e));return 1&t&&(n=xp(n,Dp,"")),2&t&&(n=xp(n,kp,"$1")),n}},Pp={start:Np(1),end:Np(2),trim:Np(3)},Lp=pa.PROPER,Mp=s,Vp=Ip,Up=Pp.trim;kn({target:"String",proto:!0,forced:function(t){return Mp((function(){return!!Vp[t]()||""!==""[t]()||Lp&&Vp[t].name!==t}))}("trim")},{trim:function(){return Up(this)}});var Bp=ti("String").trim,jp=p,Fp=Bp,Hp=String.prototype,Wp=function(t){var e=t.trim;return"string"==typeof t||t===Hp||jp(Hp,t)&&e===Hp.trim?Fp:e},Gp=o(Wp),$p={exports:{}};!function(t){const e={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};e.localCName=e.generateIdentifier(),e.splitLines=function(t){return t.trim().split("\n").map(t=>t.trim())},e.splitSections=function(t){return t.split("\nm=").map((t,e)=>(e>0?"m="+t:t).trim()+"\r\n")},e.getDescription=function(t){const n=e.splitSections(t);return n&&n[0]},e.getMediaSections=function(t){const n=e.splitSections(t);return n.shift(),n},e.matchPrefix=function(t,n){return e.splitLines(t).filter(t=>0===t.indexOf(n))},e.parseCandidate=function(t){let e;e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" ");const n={foundation:e[0],component:{1:"rtp",2:"rtcp"}[e[1]]||e[1],protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],address:e[4],port:parseInt(e[5],10),type:e[7]};for(let i=8;i<e.length;i+=2)switch(e[i]){case"raddr":n.relatedAddress=e[i+1];break;case"rport":n.relatedPort=parseInt(e[i+1],10);break;case"tcptype":n.tcpType=e[i+1];break;case"ufrag":n.ufrag=e[i+1],n.usernameFragment=e[i+1];break;default:void 0===n[e[i]]&&(n[e[i]]=e[i+1])}return n},e.writeCandidate=function(t){const e=[];e.push(t.foundation);const n=t.component;"rtp"===n?e.push(1):"rtcp"===n?e.push(2):e.push(n),e.push(t.protocol.toUpperCase()),e.push(t.priority),e.push(t.address||t.ip),e.push(t.port);const i=t.type;return e.push("typ"),e.push(i),"host"!==i&&t.relatedAddress&&t.relatedPort&&(e.push("raddr"),e.push(t.relatedAddress),e.push("rport"),e.push(t.relatedPort)),t.tcpType&&"tcp"===t.protocol.toLowerCase()&&(e.push("tcptype"),e.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(e.push("ufrag"),e.push(t.usernameFragment||t.ufrag)),"candidate:"+e.join(" ")},e.parseIceOptions=function(t){return t.substring(14).split(" ")},e.parseRtpMap=function(t){let e=t.substring(9).split(" ");const n={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),n.name=e[0],n.clockRate=parseInt(e[1],10),n.channels=3===e.length?parseInt(e[2],10):1,n.numChannels=n.channels,n},e.writeRtpMap=function(t){let e=t.payloadType;void 0!==t.preferredPayloadType&&(e=t.preferredPayloadType);const n=t.channels||t.numChannels||1;return"a=rtpmap:"+e+" "+t.name+"/"+t.clockRate+(1!==n?"/"+n:"")+"\r\n"},e.parseExtmap=function(t){const e=t.substring(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1],attributes:e.slice(2).join(" ")}},e.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&"sendrecv"!==t.direction?"/"+t.direction:"")+" "+t.uri+(t.attributes?" "+t.attributes:"")+"\r\n"},e.parseFmtp=function(t){const e={};let n;const i=t.substring(t.indexOf(" ")+1).split(";");for(let r=0;r<i.length;r++)n=i[r].trim().split("="),e[n[0].trim()]=n[1];return e},e.writeFmtp=function(t){let e="",n=t.payloadType;if(void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){const i=[];Object.keys(t.parameters).forEach(e=>{void 0!==t.parameters[e]?i.push(e+"="+t.parameters[e]):i.push(e)}),e+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return e},e.parseRtcpFb=function(t){const e=t.substring(t.indexOf(" ")+1).split(" ");return{type:e.shift(),parameter:e.join(" ")}},e.writeRtcpFb=function(t){let e="",n=t.payloadType;return void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(t=>{e+="a=rtcp-fb:"+n+" "+t.type+(t.parameter&&t.parameter.length?" "+t.parameter:"")+"\r\n"}),e},e.parseSsrcMedia=function(t){const e=t.indexOf(" "),n={ssrc:parseInt(t.substring(7,e),10)},i=t.indexOf(":",e);return i>-1?(n.attribute=t.substring(e+1,i),n.value=t.substring(i+1)):n.attribute=t.substring(e+1),n},e.parseSsrcGroup=function(t){const e=t.substring(13).split(" ");return{semantics:e.shift(),ssrcs:e.map(t=>parseInt(t,10))}},e.getMid=function(t){const n=e.matchPrefix(t,"a=mid:")[0];if(n)return n.substring(6)},e.parseFingerprint=function(t){const e=t.substring(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1].toUpperCase()}},e.getDtlsParameters=function(t,n){return{role:"auto",fingerprints:e.matchPrefix(t+n,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(t,e){let n="a=setup:"+e+"\r\n";return t.fingerprints.forEach(t=>{n+="a=fingerprint:"+t.algorithm+" "+t.value+"\r\n"}),n},e.parseCryptoLine=function(t){const e=t.substring(9).split(" ");return{tag:parseInt(e[0],10),cryptoSuite:e[1],keyParams:e[2],sessionParams:e.slice(3)}},e.writeCryptoLine=function(t){return"a=crypto:"+t.tag+" "+t.cryptoSuite+" "+("object"==typeof t.keyParams?e.writeCryptoKeyParams(t.keyParams):t.keyParams)+(t.sessionParams?" "+t.sessionParams.join(" "):"")+"\r\n"},e.parseCryptoKeyParams=function(t){if(0!==t.indexOf("inline:"))return null;const e=t.substring(7).split("|");return{keyMethod:"inline",keySalt:e[0],lifeTime:e[1],mkiValue:e[2]?e[2].split(":")[0]:void 0,mkiLength:e[2]?e[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(t){return t.keyMethod+":"+t.keySalt+(t.lifeTime?"|"+t.lifeTime:"")+(t.mkiValue&&t.mkiLength?"|"+t.mkiValue+":"+t.mkiLength:"")},e.getCryptoParameters=function(t,n){return e.matchPrefix(t+n,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(t,n){const i=e.matchPrefix(t+n,"a=ice-ufrag:")[0],r=e.matchPrefix(t+n,"a=ice-pwd:")[0];return i&&r?{usernameFragment:i.substring(12),password:r.substring(10)}:null},e.writeIceParameters=function(t){let e="a=ice-ufrag:"+t.usernameFragment+"\r\na=ice-pwd:"+t.password+"\r\n";return t.iceLite&&(e+="a=ice-lite\r\n"),e},e.parseRtpParameters=function(t){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=e.splitLines(t)[0].split(" ");n.profile=i[2];for(let o=3;o<i.length;o++){const r=i[o],s=e.matchPrefix(t,"a=rtpmap:"+r+" ")[0];if(s){const i=e.parseRtpMap(s),o=e.matchPrefix(t,"a=fmtp:"+r+" ");switch(i.parameters=o.length?e.parseFmtp(o[0]):{},i.rtcpFeedback=e.matchPrefix(t,"a=rtcp-fb:"+r+" ").map(e.parseRtcpFb),n.codecs.push(i),i.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(i.name.toUpperCase())}}}e.matchPrefix(t,"a=extmap:").forEach(t=>{n.headerExtensions.push(e.parseExtmap(t))});const r=e.matchPrefix(t,"a=rtcp-fb:* ").map(e.parseRtcpFb);return n.codecs.forEach(t=>{r.forEach(e=>{t.rtcpFeedback.find(t=>t.type===e.type&&t.parameter===e.parameter)||t.rtcpFeedback.push(e)})}),n},e.writeRtpDescription=function(t,n){let i="";i+="m="+t+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(t=>void 0!==t.preferredPayloadType?t.preferredPayloadType:t.payloadType).join(" ")+"\r\n",i+="c=IN IP4 0.0.0.0\r\n",i+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach(t=>{i+=e.writeRtpMap(t),i+=e.writeFmtp(t),i+=e.writeRtcpFb(t)});let r=0;return n.codecs.forEach(t=>{t.maxptime>r&&(r=t.maxptime)}),r>0&&(i+="a=maxptime:"+r+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach(t=>{i+=e.writeExtmap(t)}),i},e.parseRtpEncodingParameters=function(t){const n=[],i=e.parseRtpParameters(t),r=-1!==i.fecMechanisms.indexOf("RED"),o=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=e.matchPrefix(t,"a=ssrc:").map(t=>e.parseSsrcMedia(t)).filter(t=>"cname"===t.attribute),a=s.length>0&&s[0].ssrc;let c;const l=e.matchPrefix(t,"a=ssrc-group:FID").map(t=>t.substring(17).split(" ").map(t=>parseInt(t,10)));l.length>0&&l[0].length>1&&l[0][0]===a&&(c=l[0][1]),i.codecs.forEach(t=>{if("RTX"===t.name.toUpperCase()&&t.parameters.apt){let e={ssrc:a,codecPayloadType:parseInt(t.parameters.apt,10)};a&&c&&(e.rtx={ssrc:c}),n.push(e),r&&(e=JSON.parse(JSON.stringify(e)),e.fec={ssrc:a,mechanism:o?"red+ulpfec":"red"},n.push(e))}}),0===n.length&&a&&n.push({ssrc:a});let u=e.matchPrefix(t,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substring(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substring(5),10)*.95-16e3:void 0,n.forEach(t=>{t.maxBitrate=u})),n},e.parseRtcpParameters=function(t){const n={},i=e.matchPrefix(t,"a=ssrc:").map(t=>e.parseSsrcMedia(t)).filter(t=>"cname"===t.attribute)[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const r=e.matchPrefix(t,"a=rtcp-rsize");n.reducedSize=r.length>0,n.compound=0===r.length;const o=e.matchPrefix(t,"a=rtcp-mux");return n.mux=o.length>0,n},e.writeRtcpParameters=function(t){let e="";return t.reducedSize&&(e+="a=rtcp-rsize\r\n"),t.mux&&(e+="a=rtcp-mux\r\n"),void 0!==t.ssrc&&t.cname&&(e+="a=ssrc:"+t.ssrc+" cname:"+t.cname+"\r\n"),e},e.parseMsid=function(t){let n;const i=e.matchPrefix(t,"a=msid:");if(1===i.length)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const r=e.matchPrefix(t,"a=ssrc:").map(t=>e.parseSsrcMedia(t)).filter(t=>"msid"===t.attribute);return r.length>0?(n=r[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},e.parseSctpDescription=function(t){const n=e.parseMLine(t),i=e.matchPrefix(t,"a=max-message-size:");let r;i.length>0&&(r=parseInt(i[0].substring(19),10)),isNaN(r)&&(r=65536);const o=e.matchPrefix(t,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:r};const s=e.matchPrefix(t,"a=sctpmap:");if(s.length>0){const t=s[0].substring(10).split(" ");return{port:parseInt(t[0],10),protocol:t[1],maxMessageSize:r}}},e.writeSctpDescription=function(t,e){let n=[];return n="DTLS/SCTP"!==t.protocol?["m="+t.kind+" 9 "+t.protocol+" "+e.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+e.port+"\r\n"]:["m="+t.kind+" 9 "+t.protocol+" "+e.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+e.port+" "+e.protocol+" 65535\r\n"],void 0!==e.maxMessageSize&&n.push("a=max-message-size:"+e.maxMessageSize+"\r\n"),n.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(t,n,i){let r;const o=void 0!==n?n:2;return r=t||e.generateSessionId(),"v=0\r\no="+(i||"thisisadapterortc")+" "+r+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},e.getDirection=function(t,n){const i=e.splitLines(t);for(let e=0;e<i.length;e++)switch(i[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[e].substring(2)}return n?e.getDirection(n):"sendrecv"},e.getKind=function(t){return e.splitLines(t)[0].split(" ")[0].substring(2)},e.isRejected=function(t){return"0"===t.split(" ",2)[1]},e.parseMLine=function(t){const n=e.splitLines(t)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},e.parseOLine=function(t){const n=e.matchPrefix(t,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},e.isValidSDP=function(t){if("string"!=typeof t||0===t.length)return!1;const n=e.splitLines(t);for(let e=0;e<n.length;e++)if(n[e].length<2||"="!==n[e].charAt(1))return!1;return!0},t.exports=e}($p);var zp=$p.exports,Yp=o(zp),Kp=t({__proto__:null,default:Yp},[zp]);function qp(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(t){if("object"==typeof t&&t.candidate&&0===t.candidate.indexOf("a=")&&((t=JSON.parse(JSON.stringify(t))).candidate=t.candidate.substr(2)),t.candidate&&t.candidate.length){const n=new e(t),i=Yp.parseCandidate(t.candidate),r=Object.assign(n,i);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new e(t)},t.RTCIceCandidate.prototype=e.prototype,nr(t,"icecandidate",e=>(e.candidate&&Object.defineProperty(e,"candidate",{value:new t.RTCIceCandidate(e.candidate),writable:"false"}),e))}function Xp(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||nr(t,"icecandidate",t=>{if(t.candidate){const e=Yp.parseCandidate(t.candidate.candidate);"relay"===e.type&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[e.priority>>24])}return t})}function Jp(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(t){if(!t||!t.sdp)return!1;const e=Yp.splitSections(t.sdp);return e.shift(),e.some(t=>{const e=Yp.parseMLine(t);return e&&"application"===e.kind&&-1!==e.protocol.indexOf("SCTP")})},i=function(t){const e=t.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===e||e.length<2)return-1;const n=parseInt(e[1],10);return n!=n?-1:n},r=function(t){let n=65536;return"firefox"===e.browser&&(n=e.version<57?-1===t?16384:2147483637:e.version<60?57===e.version?65535:65536:2147483637),n},o=function(t,n){let i=65536;"firefox"===e.browser&&57===e.version&&(i=65535);const r=Yp.matchPrefix(t.sdp,"a=max-message-size:");return r.length>0?i=parseInt(r[0].substr(19),10):"firefox"===e.browser&&-1!==n&&(i=2147483637),i},s=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===e.browser&&e.version>=76){const{sdpSemantics:t}=this.getConfiguration();"plan-b"===t&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const t=i(arguments[0]),e=r(t),n=o(arguments[0],t);let s;s=0===e&&0===n?Number.POSITIVE_INFINITY:0===e||0===n?Math.max(e,n):Math.min(e,n);const a={};Object.defineProperty(a,"maxMessageSize",{get:()=>s}),this._sctp=a}return s.apply(this,arguments)}}function Zp(t){if(!t.RTCPeerConnection||!("createDataChannel"in t.RTCPeerConnection.prototype))return;function e(t,e){const n=t.send;t.send=function(){const i=arguments[0],r=i.length||i.size||i.byteLength;if("open"===t.readyState&&e.sctp&&r>e.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+e.sctp.maxMessageSize+" bytes)");return n.apply(t,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const t=n.apply(this,arguments);return e(t,this),t},nr(t,"datachannel",t=>(e(t.channel,t.target),t))}function Qp(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(t=>{const n=e[t];e[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=t=>{const e=t.target;if(e._lastConnectionState!==e.connectionState){e._lastConnectionState=e.connectionState;const n=new Event("connectionstatechange",t);e.dispatchEvent(n)}return t},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function tf(t,e){if(!t.RTCPeerConnection)return;if("chrome"===e.browser&&e.version>=71)return;if("safari"===e.browser&&e.version>=605)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(e){if(e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")){const n=e.sdp.split("\n").filter(t=>"a=extmap-allow-mixed"!==Gp(t).call(t)).join("\n");t.RTCSessionDescription&&e instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:e.type,sdp:n}):e.sdp=n}return n.apply(this,arguments)}}function ef(t,e){if(!t.RTCPeerConnection||!t.RTCPeerConnection.prototype)return;const n=t.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===e.browser&&e.version<78||"firefox"===e.browser&&e.version<68||"safari"===e.browser)&&arguments[0]&&""===arguments[0].candidate?$h.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),$h.resolve())})}function nf(t,e){if(!t.RTCPeerConnection||!t.RTCPeerConnection.prototype)return;const n=t.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(t.RTCPeerConnection.prototype.setLocalDescription=function(){let t=arguments[0]||{};if("object"!=typeof t||t.type&&t.sdp)return n.apply(this,arguments);if(t={type:t.type,sdp:t.sdp},!t.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":t.type="offer";break;default:t.type="answer"}return t.sdp||"offer"!==t.type&&"answer"!==t.type?n.apply(this,[t]):("offer"===t.type?this.createOffer:this.createAnswer).apply(this).then(t=>n.apply(this,[t]))})}var rf=Object.freeze({__proto__:null,removeExtmapAllowMixed:tf,shimAddIceCandidateNullOrEmpty:ef,shimConnectionState:Qp,shimMaxMessageSize:Jp,shimParameterlessSetLocalDescription:nf,shimRTCIceCandidate:qp,shimRTCIceCandidateRelayProtocol:Xp,shimSendThrowTypeError:Zp});!function(){let{window:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=or,i=function(t){const e={browser:null,version:null};if(void 0===t||!t.navigator)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.mozGetUserMedia)e.browser="firefox",e.version=er(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===t.isSecureContext&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=er(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!t.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return e.browser="Not a supported browser.",e;e.browser="safari",e.version=er(n.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype}return e}(t),r={browserDetails:i,commonShim:rf,extractVersion:er,disableLog:ir,disableWarnings:rr,sdp:Kp};switch(i.browser){case"chrome":if(!ip||!ep||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),r;if(null===i.version)return n("Chrome shim can not determine version, not shimming."),r;n("adapter.js shimming chrome."),r.browserShim=ip,ef(t,i),nf(t),Yh(t,i),Kh(t),ep(t,i),qh(t),tp(t,i),Xh(t),Jh(t),Zh(t),np(t,i),qp(t),Xp(t),Qp(t),Jp(t,i),Zp(t),tf(t,i);break;case"firefox":if(!mp||!sp||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),r;n("adapter.js shimming firefox."),r.browserShim=mp,ef(t,i),nf(t),rp(t,i),sp(t,i),op(t),lp(t),ap(t),cp(t),up(t),dp(t),hp(t),pp(t),fp(t),qp(t),Qp(t),Jp(t,i),Zp(t);break;case"safari":if(!Cp||!e.shimSafari)return n("Safari shim is not included in this adapter release."),r;n("adapter.js shimming safari."),r.browserShim=Cp,ef(t,i),nf(t),bp(t),Tp(t),_p(t),vp(t),gp(t),Sp(t),yp(t),wp(t),qp(t),Xp(t),Jp(t,i),Zp(t),tf(t,i);break;default:n("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});var of=ti("Array").keys,sf=vi,af=ee,cf=p,lf=of,uf=Array.prototype,df={DOMTokenList:!0,NodeList:!0},hf=function(t){var e=t.keys;return t===uf||cf(uf,t)&&e===uf.keys||af(df,sf(t))?lf:e},pf=o(hf),ff=xt,mf=TypeError,vf=Ce,gf=tn,_f=W,yf=function(t,e,n){var i=vf(e);i in t?gf.f(t,i,_f(0,n)):t[i]=n},Ef=Fn,bf=zn,Sf=yf,Tf=Array,wf=Math.max,Cf=function(t,e,n){for(var i=bf(t),r=Ef(e,i),o=Ef(void 0===n?i:n,i),s=Tf(wf(o-r,0)),a=0;r<o;r++,a++)Sf(s,a,t[r]);return s.length=a,s},If=Cf,Rf=Math.floor,Af=function(t,e){var n=t.length,i=Rf(n/2);return n<8?Of(t,e):xf(t,Af(If(t,0,i),e),Af(If(t,i),e),e)},Of=function(t,e){for(var n,i,r=t.length,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},xf=function(t,e,n,i){for(var r=e.length,o=n.length,s=0,a=0;s<r||a<o;)t[s+a]=s<r&&a<o?i(e[s],n[a])<=0?e[s++]:n[a++]:s<r?e[s++]:n[a++];return t},Df=Af,kf=dt.match(/firefox\/(\d+)/i),Nf=!!kf&&+kf[1],Pf=/MSIE|Trident/.test(dt),Lf=dt.match(/AppleWebKit\/(\d+)\./),Mf=!!Lf&&+Lf[1],Vf=kn,Uf=h,Bf=Pt,jf=Zt,Ff=zn,Hf=function(t,e){if(!delete t[e])throw mf("Cannot delete property "+ff(e)+" of "+ff(t))},Wf=yi,Gf=s,$f=Df,zf=Wi,Yf=Nf,Kf=Pf,qf=_t,Xf=Mf,Jf=[],Zf=Uf(Jf.sort),Qf=Uf(Jf.push),tm=Gf((function(){Jf.sort(void 0)})),em=Gf((function(){Jf.sort(null)})),nm=zf("sort"),im=!Gf((function(){if(qf)return qf<70;if(!(Yf&&Yf>3)){if(Kf)return!0;if(Xf)return Xf<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Jf.push({k:e+i,v:n})}for(Jf.sort((function(t,e){return e.v-t.v})),i=0;i<Jf.length;i++)e=Jf[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));Vf({target:"Array",proto:!0,forced:tm||!em||!nm||!im},{sort:function(t){void 0!==t&&Bf(t);var e=jf(this);if(im)return void 0===t?Zf(e):Zf(e,t);var n,i,r=[],o=Ff(e);for(i=0;i<o;i++)i in e&&Qf(r,e[i]);for($f(r,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:Wf(e)>Wf(n)?1:-1}}(t)),n=Ff(r),i=0;i<n;)e[i]=r[i++];for(;i<o;)Hf(e,i++);return e}});var rm=ti("Array").sort,om=p,sm=rm,am=Array.prototype,cm=function(t){var e=t.sort;return t===am||om(am,t)&&e===am.sort?sm:e},lm=o(cm),um={exports:{}};!function(t,e){!function(n,i){var r="function",o="undefined",s="object",a="string",c="major",l="model",u="name",d="type",h="vendor",p="version",f="architecture",m="console",v="mobile",g="tablet",_="smarttv",y="wearable",E="embedded",b="Amazon",S="Apple",T="ASUS",w="BlackBerry",C="Browser",I="Chrome",R="Firefox",A="Google",O="Huawei",x="LG",D="Microsoft",k="Motorola",N="Opera",P="Samsung",L="Sharp",M="Sony",V="Xiaomi",U="Zebra",B="Facebook",j="Chromium OS",F="Mac OS",H=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},W=function(t,e){return typeof t===a&&-1!==G(e).indexOf(G(t))},G=function(t){return t.toLowerCase()},$=function(t,e){if(typeof t===a)return t=t.replace(/^\s\s*/,""),typeof e===o?t:t.substring(0,350)},z=function(t,e){for(var n,o,a,c,l,u,d=0;d<e.length&&!l;){var h=e[d],p=e[d+1];for(n=o=0;n<h.length&&!l&&h[n];)if(l=h[n++].exec(t))for(a=0;a<p.length;a++)u=l[++o],typeof(c=p[a])===s&&c.length>0?2===c.length?typeof c[1]==r?this[c[0]]=c[1].call(this,u):this[c[0]]=c[1]:3===c.length?typeof c[1]!==r||c[1].exec&&c[1].test?this[c[0]]=u?u.replace(c[1],c[2]):i:this[c[0]]=u?c[1].call(this,u,c[2]):i:4===c.length&&(this[c[0]]=u?c[3].call(this,u.replace(c[1],c[2])):i):this[c]=u||i;d+=2}},Y=function(t,e){for(var n in e)if(typeof e[n]===s&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(W(e[n][r],t))return"?"===n?i:n}else if(W(e[n],t))return"?"===n?i:n;return t},K={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,p],[/opios[\/ ]+([\w\.]+)/i],[p,[u,N+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[u,N]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[u,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+C],p],[/\bfocus\/([\w\.]+)/i],[p,[u,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[u,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[u,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[u,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[p,[u,R]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+C]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+C],p],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,B],p],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[u,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,I+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[u,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[p,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[u,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,p],[/(cobalt)\/([\w\.]+)/i],[u,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,G]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,P],[d,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,P],[d,v]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,S],[d,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,S],[d,g]],[/(macintosh);/i],[l,[h,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,L],[d,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,O],[d,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,O],[d,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,V],[d,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,V],[d,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[d,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[d,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[d,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,k],[d,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,k],[d,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,x],[d,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,x],[d,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[d,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[d,v]],[/(pixel c)\b/i],[l,[h,A],[d,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,A],[d,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,M],[d,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,M],[d,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[d,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,b],[d,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,b],[d,v]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[d,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,w],[d,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,T],[d,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,T],[d,v]],[/(nexus 9)/i],[l,[h,"HTC"],[d,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[d,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[d,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[d,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[d,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[d,g]],[/(surface duo)/i],[l,[h,D],[d,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[d,v]],[/(u304aa)/i],[l,[h,"AT&T"],[d,v]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[d,v]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[d,g]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[d,g]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[d,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[d,g]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[d,g]],[/\b(k88) b/i],[l,[h,"ZTE"],[d,g]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[d,v]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[d,v]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[d,g]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[d,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[d,g]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[d,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[d,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[d,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[d,v]],[/\b(ph-1) /i],[l,[h,"Essential"],[d,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[d,g]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[d,g]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[d,g]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[d,g]],[/(sprint) (\w+)/i],[h,l,[d,v]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,D],[d,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,U],[d,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,U],[d,v]],[/smart-tv.+(samsung)/i],[h,[d,_]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,P],[d,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,x],[d,_]],[/(apple) ?tv/i],[h,[l,S+" TV"],[d,_]],[/crkey/i],[[l,I+"cast"],[h,A],[d,_]],[/droid.+aft(\w)( bui|\))/i],[l,[h,b],[d,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,L],[d,_]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,M],[d,_]],[/(mitv-\w{5}) bui/i],[l,[h,V],[d,_]],[/Hbbtv.*(technisat) (.*);/i],[h,l,[d,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,$],[l,$],[d,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[d,m]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[d,m]],[/(playstation [345portablevi]+)/i],[l,[h,M],[d,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,D],[d,m]],[/((pebble))app/i],[h,l,[d,y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[h,S],[d,y]],[/droid.+; (glass) \d/i],[l,[h,A],[d,y]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,U],[d,y]],[/(quest( 2| pro)?)/i],[l,[h,B],[d,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[d,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,g]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,v]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[p,Y,K]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[p,Y,K]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,F],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,p],[/\(bb(10);/i],[p,[u,w]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[u,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[u,I+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,j],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,p],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,p]]},X=function(t,e){if(typeof t===s&&(e=t,t=i),!(this instanceof X))return new X(t,e).getResult();var m=typeof n!==o&&n.navigator?n.navigator:i,_=t||(m&&m.userAgent?m.userAgent:""),y=m&&m.userAgentData?m.userAgentData:i,E=e?function(t,e){var n={};for(var i in t)e[i]&&e[i].length%2==0?n[i]=e[i].concat(t[i]):n[i]=t[i];return n}(q,e):q;return this.getBrowser=function(){var t={};return t[u]=i,t[p]=i,z.call(t,_,E.browser),t[c]=function(t){return typeof t===a?t.replace(/[^\d\.]/g,"").split(".")[0]:i}(t[p]),m&&m.brave&&typeof m.brave.isBrave==r&&(t[u]="Brave"),t},this.getCPU=function(){var t={};return t[f]=i,z.call(t,_,E.cpu),t},this.getDevice=function(){var t={};return t[h]=i,t[l]=i,t[d]=i,z.call(t,_,E.device),!t[d]&&y&&y.mobile&&(t[d]=v),"Macintosh"==t[l]&&m&&typeof m.standalone!==o&&m.maxTouchPoints&&m.maxTouchPoints>2&&(t[l]="iPad",t[d]=g),t},this.getEngine=function(){var t={};return t[u]=i,t[p]=i,z.call(t,_,E.engine),t},this.getOS=function(){var t={};return t[u]=i,t[p]=i,z.call(t,_,E.os),!t[u]&&y&&"Unknown"!=y.platform&&(t[u]=y.platform.replace(/chrome os/i,j).replace(/macos/i,F)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return _},this.setUA=function(t){return _=typeof t===a&&t.length>350?$(t,350):t,this},this.setUA(_),this};X.VERSION="0.7.34",X.BROWSER=H([u,p,c]),X.CPU=H([f]),X.DEVICE=H([l,h,d,m,v,_,g,y,E]),X.ENGINE=X.OS=H([u,p]),t.exports&&(e=t.exports=X),e.UAParser=X;var J=typeof n!==o&&(n.jQuery||n.Zepto);if(J&&!J.ua){var Z=new X;J.ua=Z.getResult(),J.ua.get=function(){return Z.getUA()},J.ua.set=function(t){Z.setUA(t);var e=Z.getResult();for(var n in e)J.ua[n]=e[n]}}}("object"==typeof window?window:r)}(um,um.exports);var dm=o(um.exports),hm=vi,pm=ee,fm=q,mm=jo,vm=me("iterator"),gm=Object,_m=function(t){if(fm(t))return!1;var e=gm(t);return void 0!==e[vm]||"@@iterator"in e||pm(mm,hm(e))},ym=o(_m),Em=m;kn({global:!0,forced:Em.globalThis!==Em},{globalThis:Em});var bm=o(m),Sm=Ol.clear;kn({global:!0,bind:!0,enumerable:!0,forced:m.clearImmediate!==Sm},{clearImmediate:Sm});var Tm="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,wm=m,Cm=E,Im=D,Rm=Tm,Am=dt,Om=Qc,xm=el,Dm=wm.Function,km=/MSIE .\./.test(Am)||Rm&&function(){var t=wm.Bun.version.split(".");return t.length<3||0==t[0]&&(t[1]<3||3==t[1]&&0==t[2])}(),Nm=kn,Pm=m,Lm=Ol.set,Mm=function(t,e){var n=e?2:1;return km?function(i,r){var o=xm(arguments.length,1)>n,s=Im(i)?i:Dm(i),a=o?Om(arguments,n):[],c=o?function(){Cm(s,this,a)}:s;return e?t(c,r):t(c)}:t},Vm=Pm.setImmediate?Mm(Lm,!1):Lm;Nm({global:!0,bind:!0,enumerable:!0,forced:Pm.setImmediate!==Vm},{setImmediate:Vm});var Um=o(ot.setImmediate),Bm=kn,jm=nu,Fm=Pt,Hm=el,Wm=Gi,Gm=m.process;Bm({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(t){Hm(arguments.length,1),Fm(t);var e=Wm&&Gm.domain;jm(e?e.bind(t):t)}});var $m=o(ot.queueMicrotask);function zm(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ym}=Object.prototype,{getPrototypeOf:Km}=Object,qm=(Xm=Object.create(null),t=>{const e=Ym.call(t);return Xm[e]||(Xm[e]=e.slice(8,-1).toLowerCase())});var Xm;const Jm=t=>(t=t.toLowerCase(),e=>qm(e)===t),Zm=t=>e=>typeof e===t,{isArray:Qm}=Array,tv=Zm("undefined"),ev=Jm("ArrayBuffer"),nv=Zm("string"),iv=Zm("function"),rv=Zm("number"),ov=t=>null!==t&&"object"==typeof t,sv=t=>{if("object"!==qm(t))return!1;const e=Km(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||ym(t))},av=Jm("Date"),cv=Jm("File"),lv=Jm("Blob"),uv=Jm("FileList"),dv=Jm("URLSearchParams"),[hv,pv,fv,mv]=["ReadableStream","Request","Response","Headers"].map(Jm);function vv(t,e){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=t)if("object"!=typeof t&&(t=[t]),Qm(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let s;for(n=0;n<o;n++)s=i[n],e.call(null,t[s],s,t)}}function gv(t,e){e=e.toLowerCase();const n=Object.keys(t);let i,r=n.length;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const _v=void 0!==bm?bm:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e,yv=t=>!tv(t)&&t!==_v,Ev=(bv="undefined"!=typeof Uint8Array&&Km(Uint8Array),t=>bv&&t instanceof bv);var bv;const Sv=Jm("HTMLFormElement"),Tv=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),wv=Jm("RegExp"),Cv=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};vv(n,(n,r)=>{let o;!1!==(o=e(n,r,t))&&(i[r]=o||n)}),Object.defineProperties(t,i)},Iv="abcdefghijklmnopqrstuvwxyz",Rv="0123456789",Av={DIGIT:Rv,ALPHA:Iv,ALPHA_DIGIT:Iv+Iv.toUpperCase()+Rv},Ov=Jm("AsyncFunction"),xv=(Dv="function"==typeof Um,kv=iv(_v.postMessage),Dv?Um:kv?(Nv="axios@".concat(Math.random()),Pv=[],_v.addEventListener("message",t=>{let{source:e,data:n}=t;e===_v&&n===Nv&&Pv.length&&Pv.shift()()},!1),t=>{Pv.push(t),_v.postMessage(Nv,"*")}):t=>setTimeout(t));var Dv,kv,Nv,Pv;const Lv=void 0!==$m?$m.bind(_v):"undefined"!=typeof n&&n.nextTick||xv;var Mv={isArray:Qm,isArrayBuffer:ev,isBuffer:function(t){return null!==t&&!tv(t)&&null!==t.constructor&&!tv(t.constructor)&&iv(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||iv(t.append)&&("formdata"===(e=qm(t))||"object"===e&&iv(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&ev(t.buffer),e},isString:nv,isNumber:rv,isBoolean:t=>!0===t||!1===t,isObject:ov,isPlainObject:sv,isReadableStream:hv,isRequest:pv,isResponse:fv,isHeaders:mv,isUndefined:tv,isDate:av,isFile:cv,isBlob:lv,isRegExp:wv,isFunction:iv,isStream:t=>ov(t)&&iv(t.pipe),isURLSearchParams:dv,isTypedArray:Ev,isFileList:uv,forEach:vv,merge:function t(){const{caseless:e}=yv(this)&&this||{},n={},i=(i,r)=>{const o=e&&gv(n,r)||r;sv(n[o])&&sv(i)?n[o]=t(n[o],i):sv(i)?n[o]=t({},i):Qm(i)?n[o]=i.slice():n[o]=i};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&vv(arguments[r],i);return n},extend:function(t,e,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return vv(e,(e,i)=>{n&&iv(e)?t[i]=zm(e,n):t[i]=e},{allOwnKeys:i}),t},trim:t=>Gp(t)?Gp(t).call(t):t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,i)=>{let r,o,s;const a={};if(e=e||{},null==t)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)s=r[o],i&&!i(s,t,e)||a[s]||(e[s]=t[s],a[s]=!0);t=!1!==n&&Km(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:qm,kindOfTest:Jm,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return-1!==i&&i===n},toArray:t=>{if(!t)return null;if(Qm(t))return t;let e=t.length;if(!rv(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const n=i.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const i=[];for(;null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:Sv,hasOwnProperty:Tv,hasOwnProp:Tv,reduceDescriptors:Cv,freezeMethods:t=>{Cv(t,(e,n)=>{if(iv(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=t[n];iv(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(t,e)=>{const n={},i=t=>{t.forEach(t=>{n[t]=!0})};return Qm(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:gv,global:_v,isContextDefined:yv,ALPHABET:Av,generateString:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Av.ALPHA_DIGIT,n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return!!(t&&iv(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,i)=>{if(ov(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[i]=t;const r=Qm(t)?[]:{};return vv(t,(t,e)=>{const o=n(t,i+1);!tv(o)&&(r[e]=o)}),e[i]=void 0,r}}return t};return n(t,0)},isAsyncFn:Ov,isThenable:t=>t&&(ov(t)||iv(t))&&iv(t.then)&&iv(t.catch),setImmediate:xv,asap:Lv};function Vv(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Mv.inherits(Vv,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Mv.toJSONObject(this.config),code:this.code,status:this.status}}});const Uv=Vv.prototype,Bv={};function jv(t){return Mv.isPlainObject(t)||Mv.isArray(t)}function Fv(t){return Mv.endsWith(t,"[]")?t.slice(0,-2):t}function Hv(t,e,n){return t?t.concat(e).map((function(t,e){return t=Fv(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Bv[t]={value:t}}),Object.defineProperties(Vv,Bv),Object.defineProperty(Uv,"isAxiosError",{value:!0}),Vv.from=(t,e,n,i,r,o)=>{const s=Object.create(Uv);return Mv.toFlatObject(t,s,(function(t){return t!==Error.prototype}),t=>"isAxiosError"!==t),Vv.call(s,t.message,e,n,i,r),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const Wv=Mv.toFlatObject(Mv,{},null,(function(t){return/^is[A-Z]/.test(t)}));function Gv(t,e,n){if(!Mv.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(n=Mv.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!Mv.isUndefined(e[t])}))).metaTokens,o=n.visitor||u,s=n.dots,a=n.indexes,c=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Mv.isSpecCompliantForm(e);if(!Mv.isFunction(o))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(Mv.isDate(t))return t.toISOString();if(!c&&Mv.isBlob(t))throw new Vv("Blob is not supported. Use a Buffer instead.");return Mv.isArrayBuffer(t)||Mv.isTypedArray(t)?c&&"function"==typeof Blob?new Blob([t]):i.from(t):t}function u(t,n,i){let o=t;if(t&&!i&&"object"==typeof t)if(Mv.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(Mv.isArray(t)&&function(t){return Mv.isArray(t)&&!t.some(jv)}(t)||(Mv.isFileList(t)||Mv.endsWith(n,"[]"))&&(o=Mv.toArray(t)))return n=Fv(n),o.forEach((function(t,i){!Mv.isUndefined(t)&&null!==t&&e.append(!0===a?Hv([n],i,s):null===a?n:n+"[]",l(t))})),!1;return!!jv(t)||(e.append(Hv(i,n,s),l(t)),!1)}const d=[],h=Object.assign(Wv,{defaultVisitor:u,convertValue:l,isVisitable:jv});if(!Mv.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!Mv.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+i.join("."));d.push(n),Mv.forEach(n,(function(n,r){!0===(!(Mv.isUndefined(n)||null===n)&&o.call(e,n,Mv.isString(r)?Gp(r).call(r):r,i,h))&&t(n,i?i.concat(r):[r])})),d.pop()}}(t),e}function $v(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function zv(t,e){this._pairs=[],t&&Gv(t,this,e)}const Yv=zv.prototype;function Kv(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qv(t,e,n){if(!e)return t;const i=n&&n.encode||Kv,r=n&&n.serialize;let o;if(o=r?r(e,n):Mv.isURLSearchParams(e)?e.toString():new zv(e,n).toString(i),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}Yv.append=function(t,e){this._pairs.push([t,e])},Yv.toString=function(t){const e=t?function(e){return t.call(this,e,$v)}:$v;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var Xv=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Mv.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},Jv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zv={exports:{}},Qv=kn,tg=N,eg=tn.f;Qv({target:"Object",stat:!0,forced:Object.defineProperty!==eg,sham:!tg},{defineProperty:eg});var ng=ot.Object,ig=Zv.exports=function(t,e,n){return ng.defineProperty(t,e,n)};ng.defineProperty.sham&&(ig.sham=!0);var rg=o(Zv.exports),og=w,sg=Array.isArray||function(t){return"Array"==og(t)},ag=TypeError,cg=sg,lg=Gc,ug=rt,dg=me("species"),hg=Array,pg=function(t){var e;return cg(t)&&(e=t.constructor,(lg(e)&&(e===hg||cg(e.prototype))||ug(e)&&null===(e=e[dg]))&&(e=void 0)),void 0===e?hg:e},fg=function(t,e){return new(pg(t))(0===e?0:e)},mg=s,vg=_t,gg=me("species"),_g=function(t){return vg>=51||!mg((function(){var e=[];return(e.constructor={})[gg]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},yg=kn,Eg=s,bg=sg,Sg=rt,Tg=Zt,wg=zn,Cg=function(t){if(t>9007199254740991)throw ag("Maximum allowed index exceeded");return t},Ig=yf,Rg=fg,Ag=_g,Og=_t,xg=me("isConcatSpreadable"),Dg=Og>=51||!Eg((function(){var t=[];return t[xg]=!1,t.concat()[0]!==t})),kg=function(t){if(!Sg(t))return!1;var e=t[xg];return void 0!==e?!!e:bg(t)};yg({target:"Array",proto:!0,arity:1,forced:!Dg||!Ag("concat")},{concat:function(t){var e,n,i,r,o,s=Tg(this),a=Rg(s,0),c=0;for(e=-1,i=arguments.length;e<i;e++)if(kg(o=-1===e?s:arguments[e]))for(r=wg(o),Cg(c+r),n=0;n<r;n++,c++)n in o&&Ig(a,c,o[n]);else Cg(c+1),Ig(a,c++,o);return a.length=c,a}});var Ng={},Pg=w,Lg=et,Mg=kr.f,Vg=Cf,Ug="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Ng.f=function(t){return Ug&&"Window"==Pg(t)?function(t){try{return Mg(t)}catch(t){return Vg(Ug)}}(t):Mg(Lg(t))};var Bg={},jg=me;Bg.f=jg;var Fg=ot,Hg=ee,Wg=Bg,Gg=tn.f,$g=function(t){var e=Fg.Symbol||(Fg.Symbol={});Hg(e,t)||Gg(e,t,{value:Wg.f(t)})},zg=M,Yg=ut,Kg=me,qg=ma,Xg=function(){var t=Yg("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,i=Kg("toPrimitive");e&&!e[i]&&qg(e,i,(function(t){return zg(n,this)}),{arity:1})},Jg=Qe,Zg=K,Qg=Zt,t_=zn,e_=fg,n_=h([].push),i_=function(t){var e=1==t,n=2==t,i=3==t,r=4==t,o=6==t,s=7==t,a=5==t||o;return function(c,l,u,d){for(var h,p,f=Qg(c),m=Zg(f),v=Jg(l,u),g=t_(m),_=0,y=d||e_,E=e?y(c,g):n||s?y(c,0):void 0;g>_;_++)if((a||_ in m)&&(p=v(h=m[_],_,f),t))if(e)E[_]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return _;case 2:n_(E,h)}else switch(t){case 4:return!1;case 7:n_(E,h)}return o?-1:i||r?r:E}},r_={forEach:i_(0),map:i_(1),filter:i_(2),some:i_(3),every:i_(4),find:i_(5),findIndex:i_(6),filterReject:i_(7)},o_=kn,s_=m,a_=M,c_=h,l_=N,u_=St,d_=s,h_=ee,p_=p,f_=sn,m_=et,v_=Ce,g_=yi,__=W,y_=Io,E_=io,b_=kr,S_=Ng,T_=Wr,w_=k,C_=tn,I_=to,R_=V,A_=ma,O_=mc,x_=qt,D_=Nr,k_=se,N_=me,P_=Bg,L_=$g,M_=Xg,V_=Pa,U_=aa,B_=r_.forEach,j_=pr("hidden"),F_="Symbol",H_="prototype",W_=U_.set,G_=U_.getterFor(F_),$_=Object[H_],z_=s_.Symbol,Y_=z_&&z_[H_],K_=s_.TypeError,q_=s_.QObject,X_=w_.f,J_=C_.f,Z_=S_.f,Q_=R_.f,ty=c_([].push),ey=x_("symbols"),ny=x_("op-symbols"),iy=x_("wks"),ry=!q_||!q_[H_]||!q_[H_].findChild,oy=l_&&d_((function(){return 7!=y_(J_({},"a",{get:function(){return J_(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=X_($_,e);i&&delete $_[e],J_(t,e,n),i&&t!==$_&&J_($_,e,i)}:J_,sy=function(t,e){var n=ey[t]=y_(Y_);return W_(n,{type:F_,tag:t,description:e}),l_||(n.description=e),n},ay=function(t,e,n){t===$_&&ay(ny,e,n),f_(t);var i=v_(e);return f_(n),h_(ey,i)?(n.enumerable?(h_(t,j_)&&t[j_][i]&&(t[j_][i]=!1),n=y_(n,{enumerable:__(0,!1)})):(h_(t,j_)||J_(t,j_,__(1,{})),t[j_][i]=!0),oy(t,i,n)):J_(t,i,n)},cy=function(t,e){f_(t);var n=m_(e),i=E_(n).concat(hy(n));return B_(i,(function(e){l_&&!a_(ly,n,e)||ay(t,e,n[e])})),t},ly=function(t){var e=v_(t),n=a_(Q_,this,e);return!(this===$_&&h_(ey,e)&&!h_(ny,e))&&(!(n||!h_(this,e)||!h_(ey,e)||h_(this,j_)&&this[j_][e])||n)},uy=function(t,e){var n=m_(t),i=v_(e);if(n!==$_||!h_(ey,i)||h_(ny,i)){var r=X_(n,i);return!r||!h_(ey,i)||h_(n,j_)&&n[j_][i]||(r.enumerable=!0),r}},dy=function(t){var e=Z_(m_(t)),n=[];return B_(e,(function(t){h_(ey,t)||h_(D_,t)||ty(n,t)})),n},hy=function(t){var e=t===$_,n=Z_(e?ny:m_(t)),i=[];return B_(n,(function(t){!h_(ey,t)||e&&!h_($_,t)||ty(i,ey[t])})),i};u_||(z_=function(){if(p_(Y_,this))throw K_("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g_(arguments[0]):void 0,e=k_(t),n=function(t){this===$_&&a_(n,ny,t),h_(this,j_)&&h_(this[j_],e)&&(this[j_][e]=!1),oy(this,e,__(1,t))};return l_&&ry&&oy($_,e,{configurable:!0,set:n}),sy(e,t)},A_(Y_=z_[H_],"toString",(function(){return G_(this).tag})),A_(z_,"withoutSetter",(function(t){return sy(k_(t),t)})),R_.f=ly,C_.f=ay,I_.f=cy,w_.f=uy,b_.f=S_.f=dy,T_.f=hy,P_.f=function(t){return sy(N_(t),t)},l_&&O_(Y_,"description",{configurable:!0,get:function(){return G_(this).description}})),o_({global:!0,constructor:!0,wrap:!0,forced:!u_,sham:!u_},{Symbol:z_}),B_(E_(iy),(function(t){L_(t)})),o_({target:F_,stat:!0,forced:!u_},{useSetter:function(){ry=!0},useSimple:function(){ry=!1}}),o_({target:"Object",stat:!0,forced:!u_,sham:!l_},{create:function(t,e){return void 0===e?y_(t):cy(y_(t),e)},defineProperty:ay,defineProperties:cy,getOwnPropertyDescriptor:uy}),o_({target:"Object",stat:!0,forced:!u_},{getOwnPropertyNames:dy}),M_(),V_(z_,F_),D_[j_]=!0;var py=St&&!!Symbol.for&&!!Symbol.keyFor,fy=kn,my=ut,vy=ee,gy=yi,_y=qt,yy=py,Ey=_y("string-to-symbol-registry"),by=_y("symbol-to-string-registry");fy({target:"Symbol",stat:!0,forced:!yy},{for:function(t){var e=gy(t);if(vy(Ey,e))return Ey[e];var n=my("Symbol")(e);return Ey[e]=n,by[n]=e,n}});var Sy=kn,Ty=ee,wy=At,Cy=xt,Iy=py,Ry=qt("symbol-to-string-registry");Sy({target:"Symbol",stat:!0,forced:!Iy},{keyFor:function(t){if(!wy(t))throw TypeError(Cy(t)+" is not a symbol");if(Ty(Ry,t))return Ry[t]}});var Ay=sg,Oy=D,xy=w,Dy=yi,ky=h([].push),Ny=kn,Py=ut,Ly=E,My=M,Vy=h,Uy=s,By=D,jy=At,Fy=Qc,Hy=function(t){if(Oy(t))return t;if(Ay(t)){for(var e=t.length,n=[],i=0;i<e;i++){var r=t[i];"string"==typeof r?ky(n,r):"number"!=typeof r&&"Number"!=xy(r)&&"String"!=xy(r)||ky(n,Dy(r))}var o=n.length,s=!0;return function(t,e){if(s)return s=!1,e;if(Ay(this))return e;for(var i=0;i<o;i++)if(n[i]===t)return e}}},Wy=St,Gy=String,$y=Py("JSON","stringify"),zy=Vy(/./.exec),Yy=Vy("".charAt),Ky=Vy("".charCodeAt),qy=Vy("".replace),Xy=Vy(1..toString),Jy=/[\uD800-\uDFFF]/g,Zy=/^[\uD800-\uDBFF]$/,Qy=/^[\uDC00-\uDFFF]$/,tE=!Wy||Uy((function(){var t=Py("Symbol")();return"[null]"!=$y([t])||"{}"!=$y({a:t})||"{}"!=$y(Object(t))})),eE=Uy((function(){return'"\\udf06\\ud834"'!==$y("\udf06\ud834")||'"\\udead"'!==$y("\udead")})),nE=function(t,e){var n=Fy(arguments),i=Hy(e);if(By(i)||void 0!==t&&!jy(t))return n[1]=function(t,e){if(By(i)&&(e=My(i,this,Gy(t),e)),!jy(e))return e},Ly($y,null,n)},iE=function(t,e,n){var i=Yy(n,e-1),r=Yy(n,e+1);return zy(Zy,t)&&!zy(Qy,r)||zy(Qy,t)&&!zy(Zy,i)?"\\u"+Xy(Ky(t,0),16):t};$y&&Ny({target:"JSON",stat:!0,arity:3,forced:tE||eE},{stringify:function(t,e,n){var i=Fy(arguments),r=Ly(tE?nE:$y,null,i);return eE&&"string"==typeof r?qy(r,Jy,iE):r}});var rE=Wr,oE=Zt;kn({target:"Object",stat:!0,forced:!St||s((function(){rE.f(1)}))},{getOwnPropertySymbols:function(t){var e=rE.f;return e?e(oE(t)):[]}}),$g("asyncIterator"),$g("hasInstance"),$g("isConcatSpreadable"),$g("iterator"),$g("match"),$g("matchAll"),$g("replace"),$g("search"),$g("species"),$g("split");var sE=Xg;$g("toPrimitive"),sE();var aE=ut,cE=Pa;$g("toStringTag"),cE(aE("Symbol"),"Symbol"),$g("unscopables"),Pa(m.JSON,"JSON",!0);var lE=ot.Symbol,uE=me,dE=tn.f,hE=uE("metadata"),pE=Function.prototype;void 0===pE[hE]&&dE(pE,hE,{value:null}),$g("dispose"),$g("metadata");var fE=lE;$g("asyncDispose");var mE=h,vE=ut("Symbol"),gE=vE.keyFor,_E=mE(vE.prototype.valueOf),yE=vE.isRegisteredSymbol||function(t){try{return void 0!==gE(_E(t))}catch(t){return!1}};kn({target:"Symbol",stat:!0},{isRegisteredSymbol:yE});for(var EE=qt,bE=ut,SE=h,TE=At,wE=me,CE=bE("Symbol"),IE=CE.isWellKnownSymbol,RE=bE("Object","getOwnPropertyNames"),AE=SE(CE.prototype.valueOf),OE=EE("wks"),xE=0,DE=RE(CE),kE=DE.length;xE<kE;xE++)try{var NE=DE[xE];TE(CE[NE])&&wE(NE)}catch(t){}var PE=function(t){if(IE&&IE(t))return!0;try{for(var e=AE(t),n=0,i=RE(OE),r=i.length;n<r;n++)if(OE[i[n]]==e)return!0}catch(t){}return!1};kn({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:PE}),$g("matcher"),$g("observable"),kn({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:yE}),kn({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:PE}),$g("metadataKey"),$g("patternMatch"),$g("replaceAll");var LE=o(fE),ME=o(Bg.f("iterator"));function VE(t){return VE="function"==typeof LE&&"symbol"==typeof ME?function(t){return typeof t}:function(t){return t&&"function"==typeof LE&&t.constructor===LE&&t!==LE.prototype?"symbol":typeof t},VE(t)}var UE=o(Bg.f("toPrimitive"));function BE(t){var e=function(t,e){if("object"!==VE(t)||null===t)return t;var n=t[UE];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==VE(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===VE(e)?e:String(e)}function jE(t,e,n){return(e=BE(e))in t?rg(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var FE=s,HE=me("iterator"),WE=!FE((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n=new URLSearchParams("a=1&a=2"),i="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),i+=n+t})),n.delete("a",2),!t.toJSON||!n.has("a",1)||n.has("a",2)||!e.size&&!0||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[HE]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host})),GE=ma,$E=kn,zE=m,YE=M,KE=h,qE=N,XE=WE,JE=ma,ZE=mc,QE=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:GE(t,i,e[i],n);return t},tb=Pa,eb=Fa,nb=aa,ib=Sc,rb=D,ob=ee,sb=Qe,ab=vi,cb=sn,lb=rt,ub=yi,db=Io,hb=W,pb=is,fb=Xo,mb=el,vb=Df,gb=me("iterator"),_b="URLSearchParams",yb=_b+"Iterator",Eb=nb.set,bb=nb.getterFor(_b),Sb=nb.getterFor(yb),Tb=Object.getOwnPropertyDescriptor,wb=function(t){if(!qE)return zE[t];var e=Tb(zE,t);return e&&e.value},Cb=wb("fetch"),Ib=wb("Request"),Rb=wb("Headers"),Ab=Ib&&Ib.prototype,Ob=Rb&&Rb.prototype,xb=zE.RegExp,Db=zE.TypeError,kb=zE.decodeURIComponent,Nb=zE.encodeURIComponent,Pb=KE("".charAt),Lb=KE([].join),Mb=KE([].push),Vb=KE("".replace),Ub=KE([].shift),Bb=KE([].splice),jb=KE("".split),Fb=KE("".slice),Hb=/\+/g,Wb=Array(4),Gb=function(t){return Wb[t-1]||(Wb[t-1]=xb("((?:%[\\da-f]{2}){"+t+"})","gi"))},$b=function(t){try{return kb(t)}catch(r){return t}},zb=function(t){var e=Vb(t,Hb," "),n=4;try{return kb(e)}catch(t){for(;n;)e=Vb(e,Gb(n--),$b);return e}},Yb=/[!'()~]|%20/g,Kb={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},qb=function(t){return Kb[t]},Xb=function(t){return Vb(Nb(t),Yb,qb)},Jb=eb((function(t,e){Eb(this,{type:yb,iterator:pb(bb(t).entries),kind:e})}),"Iterator",(function(){var t=Sb(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),n}),!0),Zb=function(t){this.entries=[],this.url=null,void 0!==t&&(lb(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===Pb(t,0)?Fb(t,1):t:ub(t)))};Zb.prototype={type:_b,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,i,r,o,s,a,c=fb(t);if(c)for(n=(e=pb(t,c)).next;!(i=YE(n,e)).done;){if(o=(r=pb(cb(i.value))).next,(s=YE(o,r)).done||(a=YE(o,r)).done||!YE(o,r).done)throw Db("Expected sequence with length 2");Mb(this.entries,{key:ub(s.value),value:ub(a.value)})}else for(var l in t)ob(t,l)&&Mb(this.entries,{key:l,value:ub(t[l])})},parseQuery:function(t){if(t)for(var e,n,i=jb(t,"&"),r=0;r<i.length;)(e=i[r++]).length&&(n=jb(e,"="),Mb(this.entries,{key:zb(Ub(n)),value:zb(Lb(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],i=0;i<e.length;)t=e[i++],Mb(n,Xb(t.key)+"="+Xb(t.value));return Lb(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Qb=function(){ib(this,tS);var t=Eb(this,new Zb(arguments.length>0?arguments[0]:void 0));qE||(this.size=t.entries.length)},tS=Qb.prototype;if(QE(tS,{append:function(t,e){var n=bb(this);mb(arguments.length,2),Mb(n.entries,{key:ub(t),value:ub(e)}),qE||this.length++,n.updateURL()},delete:function(t){for(var e=bb(this),n=mb(arguments.length,1),i=e.entries,r=ub(t),o=n<2?void 0:arguments[1],s=void 0===o?o:ub(o),a=0;a<i.length;){var c=i[a];if(c.key!==r||void 0!==s&&c.value!==s)a++;else if(Bb(i,a,1),void 0!==s)break}qE||(this.size=i.length),e.updateURL()},get:function(t){var e=bb(this).entries;mb(arguments.length,1);for(var n=ub(t),i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){var e=bb(this).entries;mb(arguments.length,1);for(var n=ub(t),i=[],r=0;r<e.length;r++)e[r].key===n&&Mb(i,e[r].value);return i},has:function(t){for(var e=bb(this).entries,n=mb(arguments.length,1),i=ub(t),r=n<2?void 0:arguments[1],o=void 0===r?r:ub(r),s=0;s<e.length;){var a=e[s++];if(a.key===i&&(void 0===o||a.value===o))return!0}return!1},set:function(t,e){var n=bb(this);mb(arguments.length,1);for(var i,r=n.entries,o=!1,s=ub(t),a=ub(e),c=0;c<r.length;c++)(i=r[c]).key===s&&(o?Bb(r,c--,1):(o=!0,i.value=a));o||Mb(r,{key:s,value:a}),qE||(this.size=r.length),n.updateURL()},sort:function(){var t=bb(this);vb(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=bb(this).entries,i=sb(t,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((e=n[r++]).value,e.key,this)},keys:function(){return new Jb(this,"keys")},values:function(){return new Jb(this,"values")},entries:function(){return new Jb(this,"entries")}},{enumerable:!0}),JE(tS,gb,tS.entries,{name:"entries"}),JE(tS,"toString",(function(){return bb(this).serialize()}),{enumerable:!0}),qE&&ZE(tS,"size",{get:function(){return bb(this).entries.length},configurable:!0,enumerable:!0}),tb(Qb,_b),$E({global:!0,constructor:!0,forced:!XE},{URLSearchParams:Qb}),!XE&&rb(Rb)){var eS=KE(Ob.has),nS=KE(Ob.set),iS=function(t){if(lb(t)){var e,n=t.body;if(ab(n)===_b)return e=t.headers?new Rb(t.headers):new Rb,eS(e,"content-type")||nS(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),db(t,{body:hb(0,ub(n)),headers:hb(0,e)})}return t};if(rb(Cb)&&$E({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return Cb(t,arguments.length>1?iS(arguments[1]):{})}}),rb(Ib)){var rS=function(t){return ib(this,Ab),new Ib(t,arguments.length>1?iS(arguments[1]):{})};Ab.constructor=rS,rS.prototype=Ab,$E({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:rS})}}var oS={URLSearchParams:Qb,getState:bb},sS=o(ot.URLSearchParams),aS={isBrowser:!0,classes:{URLSearchParams:void 0!==sS?sS:zv,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const cS="undefined"!=typeof window&&"undefined"!=typeof document,lS="object"==typeof navigator&&navigator||void 0,uS=cS&&(!lS||["ReactNative","NativeScript","NS"].indexOf(lS.product)<0),dS="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,hS=cS&&window.location.href||"http://localhost";function pS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function fS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pS(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var mS=fS(fS({},Object.freeze({__proto__:null,hasBrowserEnv:cS,hasStandardBrowserEnv:uS,hasStandardBrowserWebWorkerEnv:dS,navigator:lS,origin:hS})),aS),vS=sn,gS=M,_S=ee,yS=p,ES=function(){var t=vS(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},bS=RegExp.prototype,SS=function(t){var e=t.flags;return void 0!==e||"flags"in bS||_S(t,"flags")||!yS(bS,t)?e:gS(ES,t)},TS=Ch.charAt,wS=M,CS=sn,IS=D,RS=w,AS=/./.exec,OS=TypeError,xS=kn,DS=M,kS=R,NS=Fa,PS=oc,LS=Z,MS=Gn,VS=yi,US=sn,BS=q,jS=w,FS=oi,HS=SS,WS=Vt,GS=s,$S=Zc,zS=function(t,e,n){return e+(n?TS(t,e).length:1)},YS=function(t,e){var n=t.exec;if(IS(n)){var i=wS(n,t,e);return null!==i&&CS(i),i}if("RegExp"===RS(t))return wS(AS,t,e);throw OS("RegExp#exec called on incompatible receiver")},KS=aa,qS=me("matchAll"),XS="RegExp String",JS=XS+" Iterator",ZS=KS.set,QS=KS.getterFor(JS),tT=TypeError,eT=kS("".indexOf),nT=kS("".matchAll),iT=!!nT&&!GS((function(){nT("a",/./)})),rT=NS((function(t,e,n,i){ZS(this,{type:JS,regexp:t,string:e,global:n,unicode:i,done:!1})}),XS,(function(){var t=QS(this);if(t.done)return PS(void 0,!0);var e=t.regexp,n=t.string,i=YS(e,n);return null===i?(t.done=!0,PS(void 0,!0)):t.global?(""===VS(i[0])&&(e.lastIndex=zS(n,MS(e.lastIndex),t.unicode)),PS(i,!1)):(t.done=!0,PS(i,!1))})),oT=function(t){var e,n,i,r=US(this),o=VS(t),s=$S(r,RegExp),a=VS(HS(r));return e=new s(s===RegExp?r.source:r,a),n=!!~eT(a,"g"),i=!!~eT(a,"u"),e.lastIndex=MS(r.lastIndex),new rT(e,o,n,i)};xS({target:"String",proto:!0,forced:iT},{matchAll:function(t){var e,n,i,r,o=LS(this);if(BS(t)){if(iT)return nT(o,t)}else{if(FS(t)&&(e=VS(LS(HS(t))),!~eT(e,"g")))throw tT("`.matchAll` does not allow non-global regexes");if(iT)return nT(o,t);if(void 0===(i=WS(t,qS))&&"RegExp"==jS(t)&&(i=oT),i)return DS(i,t,o)}return n=VS(o),r=new RegExp(t,"g"),DS(oT,r,n)}});var sT=ti("String").matchAll,aT=p,cT=sT,lT=String.prototype,uT=function(t){var e=t.matchAll;return"string"==typeof t||t===lT||aT(lT,t)&&e===lT.matchAll?cT:e},dT=o(uT);function hT(t){function e(t,n,i,r){let o=t[r++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=r>=t.length;return o=!o&&Mv.isArray(i)?i.length:o,a?(Mv.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):(i[o]&&Mv.isObject(i[o])||(i[o]=[]),e(t,n,i[o],r)&&Mv.isArray(i[o])&&(i[o]=function(t){const e={},n=Object.keys(t);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],e[o]=t[o];return e}(i[o])),!s)}if(Mv.isFormData(t)&&Mv.isFunction(t.entries)){const n={};return Mv.forEachEntry(t,(t,i)=>{e(function(t){return dT(Mv).call(Mv,/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0])}(t),i,n,0)}),n}return null}const pT={transitional:Jv,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,r=Mv.isObject(t);if(r&&Mv.isHTMLForm(t)&&(t=new FormData(t)),Mv.isFormData(t))return i?JSON.stringify(hT(t)):t;if(Mv.isArrayBuffer(t)||Mv.isBuffer(t)||Mv.isStream(t)||Mv.isFile(t)||Mv.isBlob(t)||Mv.isReadableStream(t))return t;if(Mv.isArrayBufferView(t))return t.buffer;if(Mv.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Gv(t,new mS.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,i){return mS.isNode&&Mv.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=Mv.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Gv(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return r||i?(e.setContentType("application/json",!1),function(t,e,n){if(Mv.isString(t))try{return(e||JSON.parse)(t),Gp(Mv).call(Mv,t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||pT.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(Mv.isResponse(t)||Mv.isReadableStream(t))return t;if(t&&Mv.isString(t)&&(n&&!this.responseType||i)){const n=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw Vv.from(t,Vv.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mS.classes.FormData,Blob:mS.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Mv.forEach(["delete","get","head","post","put","patch"],t=>{pT.headers[t]={}});var fT=pT;const mT=Mv.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vT=Symbol("internals");function gT(t){var e;return t&&Gp(e=String(t)).call(e).toLowerCase()}function _T(t){return!1===t||null==t?t:Mv.isArray(t)?t.map(_T):String(t)}function yT(t,e,n,i,r){return Mv.isFunction(i)?i.call(this,e,n):(r&&(e=n),Mv.isString(e)?Mv.isString(i)?-1!==e.indexOf(i):Mv.isRegExp(i)?i.test(e):void 0:void 0)}class ET{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function r(t,e,n){const r=gT(e);if(!r)throw new Error("header name must be a non-empty string");const o=Mv.findKey(i,r);(!o||void 0===i[o]||!0===n||void 0===n&&!1!==i[o])&&(i[o||e]=_T(t))}const o=(t,e)=>Mv.forEach(t,(t,n)=>r(t,n,e));if(Mv.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(Mv.isString(t)&&(t=Gp(t).call(t))&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Gp(s=t).call(s)))o((t=>{const e={};let n,i,r;return t&&t.split("\n").forEach((function(t){var o,s;r=t.indexOf(":"),n=Gp(o=t.substring(0,r)).call(o).toLowerCase(),i=Gp(s=t.substring(r+1)).call(s),!n||e[n]&&mT[n]||("set-cookie"===n?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)})),e})(t),e);else if(Mv.isHeaders(t))for(const[a,c]of t.entries())r(c,a,n);else null!=t&&r(e,t,n);var s;return this}get(t,e){if(t=gT(t)){const n=Mv.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}(t);if(Mv.isFunction(e))return e.call(this,t,n);if(Mv.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=gT(t)){const n=Mv.findKey(this,t);return!(!n||void 0===this[n]||e&&!yT(0,this[n],n,e))}return!1}delete(t,e){const n=this;let i=!1;function r(t){if(t=gT(t)){const r=Mv.findKey(n,t);!r||e&&!yT(0,n[r],r,e)||(delete n[r],i=!0)}}return Mv.isArray(t)?t.forEach(r):r(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const r=e[n];t&&!yT(0,this[r],r,t,!0)||(delete this[r],i=!0)}return i}normalize(t){const e=this,n={};return Mv.forEach(this,(i,r)=>{var o;const s=Mv.findKey(n,r);if(s)return e[s]=_T(i),void delete e[r];const a=t?function(t){return Gp(t).call(t).toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}(r):Gp(o=String(r)).call(o);a!==r&&delete e[r],e[a]=_T(i),n[a]=!0}),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return Mv.forEach(this,(n,i)=>{null!=n&&!1!==n&&(e[i]=t&&Mv.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(t=>{let[e,n]=t;return e+": "+n}).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach(t=>e.set(t)),e}static accessor(t){const e=(this[vT]=this[vT]={accessors:{}}).accessors,n=this.prototype;function i(t){const i=gT(t);e[i]||(function(t,e){const n=Mv.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(t,n,r){return this[i].call(this,e,t,n,r)},configurable:!0})})}(n,t),e[i]=!0)}return Mv.isArray(t)?t.forEach(i):i(t),this}}ET.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Mv.reduceDescriptors(ET.prototype,(t,e)=>{let{value:n}=t,i=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[i]=t}}}),Mv.freezeMethods(ET);var bT=ET;function ST(t,e){const n=this||fT,i=e||n,r=bT.from(i.headers);let o=i.data;return Mv.forEach(t,(function(t){o=t.call(n,o,r.normalize(),e?e.status:void 0)})),r.normalize(),o}function TT(t){return!(!t||!t.__CANCEL__)}function wT(t,e,n){Vv.call(this,null==t?"canceled":t,Vv.ERR_CANCELED,e,n),this.name="CanceledError"}function CT(t,e,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new Vv("Request failed with status code "+n.status,[Vv.ERR_BAD_REQUEST,Vv.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}Mv.inherits(wT,Vv,{__CANCEL__:!0});const IT=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const r=function(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r,o=0,s=0;return e=void 0!==e?e:1e3,function(a){const c=Date.now(),l=i[s];r||(r=c),n[o]=a,i[o]=c;let u=s,d=0;for(;u!==o;)d+=n[u++],u%=t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),c-r<e)return;const h=l&&c-l;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(t,e){let n,i,r=0,o=1e3/e;const s=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=o,n=null,i&&(clearTimeout(i),i=null),t.apply(null,e)};return[function(){const t=Date.now(),e=t-r;for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];e>=o?s(c,t):(n=c,i||(i=setTimeout(()=>{i=null,s(n)},o-e)))},()=>n&&s(n)]}(n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-i,c=r(a);i=o,t({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:n,lengthComputable:null!=s,[e?"download":"upload"]:!0})},n)},RT=(t,e)=>{const n=null!=t;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},AT=t=>function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Mv.asap(()=>t(...n))};var OT=mS.hasStandardBrowserEnv?function(){const t=mS.navigator&&/(msie|trident)/i.test(mS.navigator.userAgent),e=document.createElement("a");let n;function i(n){let i=n;return t&&(e.setAttribute("href",i),i=e.href),e.setAttribute("href",i),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=i(window.location.href),function(t){const e=Mv.isString(t)?i(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0},xT=mS.hasStandardBrowserEnv?{write(t,e,n,i,r,o){const s=[t+"="+encodeURIComponent(e)];Mv.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Mv.isString(i)&&s.push("path="+i),Mv.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function DT(t,e){return t&&!function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}const NT=t=>t instanceof bT?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kT(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t):t;function PT(t,e){e=e||{};const n={};function i(t,e,n){return Mv.isPlainObject(t)&&Mv.isPlainObject(e)?Mv.merge.call({caseless:n},t,e):Mv.isPlainObject(e)?Mv.merge({},e):Mv.isArray(e)?e.slice():e}function r(t,e,n){return Mv.isUndefined(e)?Mv.isUndefined(t)?void 0:i(void 0,t,n):i(t,e,n)}function o(t,e){if(!Mv.isUndefined(e))return i(void 0,e)}function s(t,e){return Mv.isUndefined(e)?Mv.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function a(n,r,o){return o in e?i(n,r):o in t?i(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>r(NT(t),NT(e),!0)};return Mv.forEach(Object.keys(Object.assign({},t,e)),(function(i){const o=c[i]||r,s=o(t[i],e[i],i);Mv.isUndefined(s)&&o!==a||(n[i]=s)})),n}var LT=t=>{const e=PT({},t);let n,{data:i,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:c}=e;if(e.headers=a=bT.from(a),e.url=qv(DT(e.baseURL,e.url),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Mv.isFormData(i))if(mS.hasStandardBrowserEnv||mS.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[t,...e]=n?n.split(";").map(t=>Gp(t).call(t)).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(mS.hasStandardBrowserEnv&&(r&&Mv.isFunction(r)&&(r=r(e)),r||!1!==r&&OT(e.url))){const t=o&&s&&xT.read(s);t&&a.set(o,t)}return e},MT="undefined"!=typeof XMLHttpRequest&&function(t){return new $h((function(e,n){const i=LT(t);let r=i.data;const o=bT.from(i.headers).normalize();let s,a,c,l,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=i;function f(){l&&l(),u&&u(),i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function v(){if(!m)return;const i=bT.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());CT((function(t){e(t),f()}),(function(t){n(t),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:i,config:t,request:m}),m=null}m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout,"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(v)},m.onabort=function(){m&&(n(new Vv("Request aborted",Vv.ECONNABORTED,t,m)),m=null)},m.onerror=function(){n(new Vv("Network Error",Vv.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let e=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||Jv;i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),n(new Vv(e,r.clarifyTimeoutError?Vv.ETIMEDOUT:Vv.ECONNABORTED,t,m)),m=null},void 0===r&&o.setContentType(null),"setRequestHeader"in m&&Mv.forEach(o.toJSON(),(function(t,e){m.setRequestHeader(e,t)})),Mv.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),d&&"json"!==d&&(m.responseType=i.responseType),p&&([c,u]=IT(p,!0),m.addEventListener("progress",c)),h&&m.upload&&([a,l]=IT(h),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",l)),(i.cancelToken||i.signal)&&(s=e=>{m&&(n(!e||e.type?new wT(null,t,m):e),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const g=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(i.url);g&&-1===mS.protocols.indexOf(g)?n(new Vv("Unsupported protocol "+g+":",Vv.ERR_BAD_REQUEST,t)):m.send(r||null)}))},VT=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let n,i=new AbortController;const r=function(t){if(!n){n=!0,s();const e=t instanceof Error?t:this.reason;i.abort(e instanceof Vv?e:new wT(e instanceof Error?e.message:e))}};let o=e&&setTimeout(()=>{o=null,r(new Vv("timeout ".concat(e," of ms exceeded"),Vv.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(t=>{t.unsubscribe?t.unsubscribe(r):t.removeEventListener("abort",r)}),t=null)};t.forEach(t=>t.addEventListener("abort",r));const{signal:a}=i;return a.unsubscribe=()=>Mv.asap(s),a}},UT=Gh,BT=Su;kn({target:"Promise",stat:!0,forced:!0},{withResolvers:function(){var t=BT.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var jT=Su,FT=iu;kn({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=jT.f(this),n=FT(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}});var HT=o(UT),WT=Bg.f("asyncIterator"),GT=o(WT);function $T(t,e){this.v=t,this.k=e}function zT(t){var e,n;function i(e,n){try{var o=t[e](n),s=o.value,a=s instanceof $T;HT.resolve(a?s.v:s).then((function(n){if(a){var c="return"===e?"return":"next";if(!s.k||n.done)return i(c,n);n=t[c](n).value}r(o.done?"return":"normal",n)}),(function(t){i("throw",t)}))}catch(t){r("throw",t)}}function r(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=function(t,r){return new HT((function(o,s){var a={key:t,arg:r,resolve:o,reject:s,next:null};n?n=n.next=a:(e=n=a,i(t,r))}))},"function"!=typeof t.return&&(this.return=void 0)}function YT(t){return function(){return new zT(t.apply(this,arguments))}}function KT(t){return new $T(t,0)}function qT(t){var e={},n=!1;function i(e,i){return n=!0,{done:!1,value:new $T(i=new HT((function(n){n(t[e](i))})),1)}}return e[void 0!==LE&&ME||"@@iterator"]=function(){return this},e.next=function(t){return n?(n=!1,t):i("next",t)},"function"==typeof t.throw&&(e.throw=function(t){if(n)throw n=!1,t;return i("throw",t)}),"function"==typeof t.return&&(e.return=function(t){return n?(n=!1,t):i("return",t)}),e}zT.prototype["function"==typeof LE&&GT||"@@asyncIterator"]=function(){return this},zT.prototype.next=function(t){return this._invoke("next",t)},zT.prototype.throw=function(t){return this._invoke("throw",t)},zT.prototype.return=function(t){return this._invoke("return",t)};var XT=o(WT);function JT(t){var e,n,i,r=2;for("undefined"!=typeof Symbol&&(n=XT,i=Symbol.iterator);r--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new ZT(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function ZT(t){function e(t){if(Object(t)!==t)return $h.reject(new TypeError(t+" is not an object."));var e=t.done;return $h.resolve(t.value).then((function(t){return{value:t,done:e}}))}return ZT=function(t){this.s=t,this.n=t.next},ZT.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?$h.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?$h.reject(t):e(n.apply(this.s,arguments))}},new ZT(t)}const QT=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let i,r=0;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},tw=function(){var t=YT((function*(t,e){var n,i=!1,r=!1;try{for(var o,s=JT(ew(t));i=!(o=yield KT(s.next())).done;i=!1){const t=o.value;yield*qT(JT(QT(t,e)))}}catch(t){r=!0,n=t}finally{try{i&&null!=s.return&&(yield KT(s.return()))}finally{if(r)throw n}}}));return function(e,n){return t.apply(this,arguments)}}(),ew=function(){var t=YT((function*(t){if(t[XT])return void(yield*qT(JT(t)));const e=t.getReader();try{for(;;){const{done:t,value:n}=yield KT(e.read());if(t)break;yield n}}finally{yield KT(e.cancel())}}));return function(e){return t.apply(this,arguments)}}(),nw=(t,e,n,i)=>{const r=tw(t,e);let o,s=0,a=t=>{o||(o=!0,i&&i(t))};return new ReadableStream({async pull(t){try{const{done:e,value:i}=await r.next();if(e)return a(),void t.close();let o=i.byteLength;if(n){let t=s+=o;n(t)}t.enqueue(new Uint8Array(i))}catch(t){throw a(t),t}},cancel:t=>(a(t),r.return())},{highWaterMark:2})};function iw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function rw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iw(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const ow="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,sw=ow&&"function"==typeof ReadableStream,aw=ow&&("function"==typeof TextEncoder?(cw=new TextEncoder,t=>cw.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var cw;const lw=function(t){try{for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return!!t(...n)}catch(t){return!1}},uw=sw&&lw(()=>{let t=!1;const e=new Request(mS.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),dw=sw&&lw(()=>Mv.isReadableStream(new Response("").body)),hw={stream:dw&&(t=>t.body)};var pw;ow&&(pw=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!hw[t]&&(hw[t]=Mv.isFunction(pw[t])?e=>e[t]():(e,n)=>{throw new Vv("Response type '".concat(t,"' is not supported"),Vv.ERR_NOT_SUPPORT,n)})}));const fw=async(t,e)=>{const n=Mv.toFiniteNumber(t.getContentLength());return null==n?(async t=>{if(null==t)return 0;if(Mv.isBlob(t))return t.size;if(Mv.isSpecCompliantForm(t)){const e=new Request(mS.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return Mv.isArrayBufferView(t)||Mv.isArrayBuffer(t)?t.byteLength:(Mv.isURLSearchParams(t)&&(t+=""),Mv.isString(t)?(await aw(t)).byteLength:void 0)})(e):n};var mw=ow&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:h}=LT(t);l=l?(l+"").toLowerCase():"text";let p,f=VT([r,o&&o.toAbortSignal()],s);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(c&&uw&&"get"!==n&&"head"!==n&&0!==(v=await fw(u,i))){let t,n=new Request(e,{method:"POST",body:i,duplex:"half"});if(Mv.isFormData(i)&&(t=n.headers.get("content-type"))&&u.setContentType(t),n.body){const[t,e]=RT(v,IT(AT(c)));i=nw(n.body,65536,t,e)}}Mv.isString(d)||(d=d?"include":"omit");const r="credentials"in Request.prototype;p=new Request(e,rw(rw({},h),{},{signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:r?d:void 0}));let o=await fetch(p);const s=dw&&("stream"===l||"response"===l);if(dw&&(a||s&&m)){const t={};["status","statusText","headers"].forEach(e=>{t[e]=o[e]});const e=Mv.toFiniteNumber(o.headers.get("content-length")),[n,i]=a&&RT(e,IT(AT(a),!0))||[];o=new Response(nw(o.body,65536,n,()=>{i&&i(),m&&m()}),t)}l=l||"text";let g=await hw[Mv.findKey(hw,l)||"text"](o,t);return!s&&m&&m(),await new $h((e,n)=>{CT(e,n,{data:g,headers:bT.from(o.headers),status:o.status,statusText:o.statusText,config:t,request:p})})}catch(e){if(m&&m(),e&&"TypeError"===e.name&&/fetch/i.test(e.message))throw Object.assign(new Vv("Network Error",Vv.ERR_NETWORK,t,p),{cause:e.cause||e});throw Vv.from(e,e&&e.code,t,p)}});const vw={http:null,xhr:MT,fetch:mw};Mv.forEach(vw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}});const gw=t=>"- ".concat(t),_w=t=>Mv.isFunction(t)||null===t||!1===t;var yw={getAdapter:t=>{t=Mv.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let o=0;o<e;o++){let e;if(n=t[o],i=n,!_w(n)&&(i=vw[(e=String(n)).toLowerCase()],void 0===i))throw new Vv("Unknown adapter '".concat(e,"'"));if(i)break;r[e||"#"+o]=i}if(!i){const t=Object.entries(r).map(t=>{let[e,n]=t;return"adapter ".concat(e," ")+(!1===n?"is not supported by the environment":"is not available in the build")});throw new Vv("There is no suitable adapter to dispatch the request "+(e?t.length>1?"since :\n"+t.map(gw).join("\n"):" "+gw(t[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i},adapters:vw};function Ew(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new wT(null,t)}function bw(t){return Ew(t),t.headers=bT.from(t.headers),t.data=ST.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yw.getAdapter(t.adapter||fT.adapter)(t).then((function(e){return Ew(t),e.data=ST.call(t,t.transformResponse,e),e.headers=bT.from(e.headers),e}),(function(e){return TT(e)||(Ew(t),e&&e.response&&(e.response.data=ST.call(t,t.transformResponse,e.response),e.response.headers=bT.from(e.response.headers))),$h.reject(e)}))}const Sw="1.7.7",Tw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Tw[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const ww={};Tw.transitional=function(t,e,n){function i(t,e){return"[Axios v"+Sw+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,r,o)=>{if(!1===t)throw new Vv(i(r," has been removed"+(e?" in "+e:"")),Vv.ERR_DEPRECATED);return e&&!ww[r]&&(ww[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,o)}};var Cw={assertOptions:function(t,e,n){if("object"!=typeof t)throw new Vv("options must be an object",Vv.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const o=i[r],s=e[o];if(s){const e=t[o],n=void 0===e||s(e,o,t);if(!0!==n)throw new Vv("option "+o+" must be "+n,Vv.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Vv("Unknown option "+o,Vv.ERR_BAD_OPTION)}},validators:Tw};const Iw=Cw.validators;let Rw=class{constructor(t){this.defaults=t,this.interceptors={request:new Xv,response:new Xv}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const n=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?n&&!String(t.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+n):t.stack=n}catch(t){}}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=PT(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:r}=e;void 0!==n&&Cw.assertOptions(n,{silentJSONParsing:Iw.transitional(Iw.boolean),forcedJSONParsing:Iw.transitional(Iw.boolean),clarifyTimeoutError:Iw.transitional(Iw.boolean)},!1),null!=i&&(Mv.isFunction(i)?e.paramsSerializer={serialize:i}:Cw.assertOptions(i,{encode:Iw.function,serialize:Iw.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=r&&Mv.merge(r.common,r[e.method]);r&&Mv.forEach(["delete","get","head","post","put","patch","common"],t=>{delete r[t]}),e.headers=bT.concat(o,r);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));let u,d=0;if(!a){const t=[bw.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,c),u=t.length,l=$h.resolve(e);d<u;)l=l.then(t[d++],t[d++]);return l}u=s.length;let h=e;for(d=0;d<u;){const e=s[d++],n=s[d++];try{h=e(h)}catch(t){n.call(this,t);break}}try{l=bw.call(this,h)}catch(t){return $h.reject(t)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(t){return qv(DT((t=PT(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}};Mv.forEach(["delete","get","head","options"],(function(t){Rw.prototype[t]=function(e,n){return this.request(PT(n||{},{method:t,url:e,data:(n||{}).data}))}})),Mv.forEach(["post","put","patch"],(function(t){function e(e){return function(n,i,r){return this.request(PT(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Rw.prototype[t]=e(),Rw.prototype[t+"Form"]=e(!0)}));var Aw=Rw;class Ow{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new $h((function(t){e=t}));const n=this;this.promise.then(t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null}),this.promise.then=t=>{let e;const i=new $h(t=>{n.subscribe(t),e=t}).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t((function(t,i,r){n.reason||(n.reason=new wT(t,i,r),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new Ow((function(e){t=e})),cancel:t}}}var xw=Ow;const Dw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dw).forEach(t=>{let[e,n]=t;Dw[n]=e});var kw=Dw;const Nw=function t(e){const n=new Aw(e),i=zm(Aw.prototype.request,n);return Mv.extend(i,Aw.prototype,n,{allOwnKeys:!0}),Mv.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return t(PT(e,n))},i}(fT);Nw.Axios=Aw,Nw.CanceledError=wT,Nw.CancelToken=xw,Nw.isCancel=TT,Nw.VERSION=Sw,Nw.toFormData=Gv,Nw.AxiosError=Vv,Nw.Cancel=Nw.CanceledError,Nw.all=function(t){return $h.all(t)},Nw.spread=function(t){return function(e){return t.apply(null,e)}},Nw.isAxiosError=function(t){return Mv.isObject(t)&&!0===t.isAxiosError},Nw.mergeConfig=PT,Nw.AxiosHeaders=bT,Nw.formToJSON=t=>hT(Mv.isHTMLForm(t)?new FormData(t):t),Nw.getAdapter=yw.getAdapter,Nw.HttpStatusCode=kw,Nw.default=Nw;var Pw=Nw;const Lw=()=>{};function Mw(){const t={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:Lw};return t.promise=new $h((e,n)=>{t.resolve=n=>{t.isFinished||(t.isResolved=!0,t.isFinished=!0,e(n),t.value=n)},t.reject=e=>{t.isFinished||(t.isRejected=!0,t.isFinished=!0,n(e))}}),t}const Vw=new Map,Uw=new Map,Bw=new Map;let jw=function(t){return t.WIN_10="Windows 10",t.WIN_81="Windows 8.1",t.WIN_8="Windows 8",t.WIN_7="Windows 7",t.WIN_VISTA="Windows Vista",t.WIN_SERVER_2003="Windows Server 2003",t.WIN_XP="Windows XP",t.WIN_2000="Windows 2000",t.ANDROID="Android",t.HARMONY_OS="HarmonyOS",t.OPEN_BSD="Open BSD",t.SUN_OS="Sun OS",t.LINUX="Linux",t.IOS="iOS",t.MAC_OS="Mac OS",t.CHROMIUM_OS="Chromium OS",t.QNX="QNX",t.UNIX="UNIX",t.BEOS="BeOS",t.OS_2="OS/2",t.SEARCH_BOT="Search Bot",t}({}),Fw=function(t){return t.CHROME="Chrome",t.SAFARI="Safari",t.EDGE="Edge",t.FIREFOX="Firefox",t.OPERA="OPR",t.QQ="QQBrowser",t.WECHAT="MicroMessenger",t}({});const Hw=new dm;let Ww=Hw.getResult(),Gw=null;function $w(t){if(!Gw){t&&Hw.setUA(t),Ww=Hw.getResult();const e=function(t){if("Blink"===t.engine.name&&"WeChat"!==t.browser.name)return Fw.CHROME;switch(t.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return Fw.CHROME;case"Safari":case"Mobile Safari":return Fw.SAFARI;case"Edge":return Fw.EDGE;case"Firefox":return Fw.FIREFOX;case"QQ":case"QQBrowser":return Fw.QQ;case"Opera":return Fw.OPERA;case"WeChat":return Fw.WECHAT;default:return t.browser.name||""}}(Ww),n=zw(Ww),i=function(t){return"Windows"===t.os.name?t.os.version?t.os.name+" "+t.os.version:t.os.name:t.os.name||""}(Ww),r=Ww.os.version,o=zw(Ww,!1),s=Ww.device.type;if(!(e&&n&&i&&r))return{name:e,version:n,os:i,osVersion:r,browserVersion:o,deviceType:s};Gw={name:e,version:n,os:i,osVersion:r,browserVersion:o,deviceType:s}}return Gw}function zw(t){let e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e="Blink"===t.engine.name?t.engine.version||"":t.browser.version||"",n?e.split(".")[0]:e}function Yw(){return $w().os}function Kw(){const t=$w();return"".concat(t.os," ").concat(t.osVersion)}function qw(){const t=$w();return!!("WebKit"===Ww.engine.name&&t.os===jw.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&t.name!==Fw.SAFARI||tC()&&t.name!==Fw.SAFARI)}function Xw(){return $w().name===Fw.CHROME}function Jw(){return $w().name===Fw.SAFARI}function Zw(){return $w().name===Fw.EDGE}function Qw(){return $w().name===Fw.FIREFOX}function tC(){return $w().os===jw.IOS}function eC(t){const e=$w();return!(e.name!==Fw.CHROME||!e.osVersion)&&Number(e.version)>=t}function nC(t){const e=$w();return!(e.name!==Fw.CHROME||!e.osVersion)&&Number(e.version)<t}function iC(t){const e=$w();return!(e.name!==Fw.EDGE||!e.osVersion)&&Number(e.version)>=t}function rC(t){const e=$w();return!(e.name!==Fw.SAFARI||!e.osVersion)&&Number(e.version)>=t}function oC(t,e,n){const i=$w();if(i.os!==jw.IOS||!i.osVersion)return!1;const r=i.osVersion.split(".");return n?e&&Number(r[0])===t&&Number(r[1])<e||Number(r[0])<t:e?Number(r[0])===t&&Number(r[1])<=e||Number(r[0])<t:Number(r[0])<=t}function sC(t,e,n){const i=$w();if(i.name!==Fw.SAFARI||!i.osVersion||!i.browserVersion)return!1;const r=i.browserVersion.split(".");return n?e&&Number(r[0])===t&&Number(r[1])<e||Number(r[0])<t:e?Number(r[0])===t&&Number(r[1])<=e||Number(r[0])<t:Number(r[0])<=t}function aC(t){const e=$w();return!(e.name!==Fw.OPERA||!e.osVersion)&&Number(e.version)>=t}function cC(){const t=$w();if(t.os!==jw.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return Number(e[0])<14||14===Number(e[0])&&Number(e[1])<=6}function lC(){const t=$w();if(t.os!==jw.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return 15===Number(e[0])}function uC(){const t=$w();if(t.os!==jw.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return 16===Number(e[0])}function dC(){const t=$w();if(t.os!==jw.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return 15===Number(e[0])&&Number(e[1])>=1}function hC(){return Jw()&&navigator.maxTouchPoints>0}function pC(){return $w().name===Fw.WECHAT}function fC(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function mC(){const t=Yw();return function(){const{deviceType:t}=$w();return"mobile"===t||"tablet"===t}()||t===jw.ANDROID||t===jw.IOS||t===jw.HARMONY_OS}function vC(){const t=$w();return t.name!==Fw.EDGE&&t.name!==Fw.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function gC(){return Yw()===jw.ANDROID}function _C(){const t=$w();return gC()&&(t.name===Fw.CHROME||t.name===Fw.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function yC(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function bC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?EC(Object(n),!0).forEach((function(e){yC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}let SC=function(t){return t.UNEXPECTED_ERROR="UNEXPECTED_ERROR",t.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",t.TIMEOUT="TIMEOUT",t.INVALID_PARAMS="INVALID_PARAMS",t.NOT_READABLE="NOT_READABLE",t.NOT_SUPPORTED="NOT_SUPPORTED",t.INVALID_OPERATION="INVALID_OPERATION",t.OPERATION_ABORTED="OPERATION_ABORTED",t.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",t.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",t.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",t.DATACHANNEL_FAILED="DATACHANNEL_FAILED",t.NETWORK_ERROR="NETWORK_ERROR",t.NETWORK_TIMEOUT="NETWORK_TIMEOUT",t.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",t.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",t.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",t.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",t.ELECTRON_IS_NULL="ELECTRON_IS_NULL",t.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",t.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",t.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",t.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",t.PERMISSION_DENIED="PERMISSION_DENIED",t.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",t.TRACK_IS_DISABLED="TRACK_IS_DISABLED",t.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",t.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",t.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",t.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",t.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",t.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",t.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",t.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",t.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",t.UID_CONFLICT="UID_CONFLICT",t.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",t.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",t.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",t.INVALID_TRACK="INVALID_TRACK",t.SENDER_NOT_FOUND="SENDER_NOT_FOUND",t.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",t.SET_ANSWER_FAILED="SET_ANSWER_FAILED",t.ICE_FAILED="ICE_FAILED",t.PC_CLOSED="PC_CLOSED",t.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",t.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",t.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",t.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",t.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",t.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",t.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",t.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",t.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",t.INVALID_REMOTE_USER="INVALID_REMOTE_USER",t.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",t.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",t.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",t.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",t.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",t.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",t.WS_ABORT="WS_ABORT",t.WS_DISCONNECT="WS_DISCONNECT",t.WS_ERR="WS_ERR",t.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",t.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",t.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",t.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",t.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",t.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",t.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",t.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",t.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",t.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",t.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",t.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",t.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",t.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",t.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",t.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",t.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",t.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",t.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",t.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",t.INVALID_PLUGIN="INVALID_PLUGIN",t.DISCONNECT_P2P="DISCONNECT_P2P",t.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",t.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",t.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",t.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",t.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",t.PROHIBITED_OPERATION="PROHIBITED_OPERATION",t.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",t.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",t}({}),TC=class extends Error{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;super(e),yC(this,"code",void 0),yC(this,"message",void 0),yC(this,"data",void 0),yC(this,"name","AgoraRTCException"),this.code=t,this.message="AgoraRTCError ".concat(this.code,": ").concat(e),this.data=n}toString(){return this.data?"data: ".concat(JSON.stringify(this.data),"\n").concat(this.stack):"".concat(this.stack)}print(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",e=arguments.length>1?arguments[1]:void 0;return"error"===t&&(e||console).error(this.toString()),"warning"===t&&(e||console).warn(this.toString()),this}throw(t){throw this.print("error",t),this}};function wC(t,e){if("boolean"!=typeof t)throw new TC(SC.INVALID_PARAMS,"Invalid ".concat(e,": The value is of the boolean type."))}function CC(t,e,n){if(!Pi(n).call(n,t))throw new TC(SC.INVALID_PARAMS,"".concat(e," can only be set as ").concat(JSON.stringify(n)))}function IC(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(t<n||t>i||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(t){return"number"==typeof t&&t%1==0}(t))throw new TC(SC.INVALID_PARAMS,"invalid ".concat(e,": the value range is [").concat(n,", ").concat(i,"]. integer only"))}function RC(t,e){if("number"!=typeof t){if(!(t.min||t.max||t.ideal||t.exact))throw new TC(SC.INVALID_PARAMS,"".concat(e," is not a valid ConstrainLong"));void 0!==t.min&&IC(t.min,"".concat(e,".min"),0,1/0),void 0!==t.max&&IC(t.max,"".concat(e,".max"),1,1/0),void 0!==t.exact&&IC(t.exact,"".concat(e,".exact"),1,1/0),void 0!==t.ideal&&IC(t.ideal,"".concat(e,".ideal"),1,1/0)}else IC(t,e,1,1/0)}function AC(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==t)throw new TC(SC.INVALID_PARAMS,"".concat(e||"param"," cannot be empty"));if(!DC(t,n,i,r))throw new TC(SC.INVALID_PARAMS,"Invalid ".concat(e||"string param",": Length of the string: [").concat(n,",").concat(i,"].").concat(r?" ASCII characters only.":""))}function OC(t,e){if(!Array.isArray(t))throw new TC(SC.INVALID_PARAMS,"".concat(e," should be an array"))}function xC(t){return null==t}function DC(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof t&&t.length<=n&&t.length>=e&&(!i||function(t){if("string"!=typeof t)return!1;for(let e=0;e<t.length;e+=1){const n=t.charCodeAt(e);if(n<0||n>255)return!1}return!0}(t))}var kC=function(t){return t.COVERED="COVERED",t.POSITION="POSITION",t.SIZE="SIZE",t.STYLE="STYLE",t}(kC||{}),NC=function(t){return t.UNMOUNTED="UNMOUNTED",t.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT",t}(NC||{});const PC=new class{constructor(){yC(this,"_clientSize",null),yC(this,"getClientWidth",()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth),yC(this,"getClientHeight",()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight),yC(this,"getStyle",t=>window.getComputedStyle(t,null)),yC(this,"checkCssVisibleProperty",t=>{var e;let n=!0;const i=this.getStyle(t),{display:r,visibility:o,opacity:s,filter:a}=i;return("none"===r||Pi(e=["hidden","collapse"]).call(e,o)||Number(s)<.1)&&(n=!1),!!n&&(a&&a.split(" ").filter(t=>{var e;const n=t.split("(")[0];return Pi(e=["brightness","blur","opacity"]).call(e,n)}).map(t=>{const[e,n]=t.split(/\(|\)/);return[e,Number(n.match(/^[0-9\.]+/))]}).forEach(t=>{const[e,i]=t;switch(e){case"brightness":(i<.1||i>3)&&(n=!1);break;case"blur":i>3&&(n=!1);break;case"opacity":i<.1&&(n=!1)}}),n)}),yC(this,"checkPropertyUpToAllParentNodes",(t,e)=>{let n=!0,i=!0;const r=t=>e(t);let o=t;for(;o&&i;)r(o)||(n=!1,i=!1),o=o.parentElement,o||(i=!1);return n}),yC(this,"checkActualCssVisibleIncludeInherit",t=>this.checkPropertyUpToAllParentNodes(t,this.checkCssVisibleProperty)),yC(this,"getSizeAboutClient",t=>{const{width:e,height:n,left:i,right:r,top:o,bottom:s}=t.getBoundingClientRect(),a=this.getClientWidth(),c=this.getClientHeight();return{width:e,height:n,left:i,right:r,top:o,bottom:s,clientWidth:a,clientHeight:c,clientMin:Math.min(a,c)}}),yC(this,"checkActualSize",()=>{const{width:t,height:e,clientMin:n}=this._clientSize;return this.checkSizeIsVisible(t,e,n)}),yC(this,"elementFromPoint",(t,e)=>document.elementFromPoint?document.elementFromPoint(t,e):null),yC(this,"checkCoverForAPoint",(t,e,n)=>{const i=this.elementFromPoint(t,e);return null!==i&&i!==n}),yC(this,"getPointPositionList",()=>{const{width:t,height:e,left:n,top:i}=this._clientSize,r=t/6,o=e/6,s=[],a=10**6;for(let c=0;c<5;c++)for(let t=0;t<5;t++){const e=(n*a+(0===c?.1:4===c?(r*c*a-1e5)/a:r*c)*a)/a,l=(i*a+(0===t?.1:4===t?(o*t*a-1e5)/a:o*t)*a)/a;s.push({x:e,y:l})}return[...s]}),yC(this,"checkElementCover",t=>this.getPointPositionList().map(e=>this.checkCoverForAPoint(e.x,e.y,t)).filter(t=>!!t).length>6),yC(this,"checkSizeIsVisible",(t,e,n)=>(t>50||n/t<=10)&&(e>50||n/e<=10)),yC(this,"checkSizeOfPartInClient",()=>{const{left:t,right:e,top:n,bottom:i,clientHeight:r,clientWidth:o,clientMin:s}=this._clientSize;let a,c,l,u;if(t<0)a=0;else{if(!(t<o))return!1;a=t}if(e<0)return!1;if(c=e<o?e:o,n<0)l=0;else{if(!(n<r))return!1;l=n}if(i<0)return!1;u=i<r?i:r;const d=c-a,h=u-l;return this.checkSizeIsVisible(d,h,s)}),yC(this,"returnHiddenResult",t=>(this._clientSize=null,{visible:!1,reason:t})),yC(this,"checkOneElementVisible",t=>{if(t instanceof HTMLElement){if(this.checkElementIsMountedOnDom(t)){if(this.checkActualCssVisibleIncludeInherit(t)){if(this._clientSize=this.getSizeAboutClient(t),this.checkElementCover(t))return this.returnHiddenResult(kC.COVERED);{const t=this.checkActualSize(),e=this.checkSizeOfPartInClient();return t&&!e?this.returnHiddenResult(kC.POSITION):t?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(kC.SIZE)}}return this.returnHiddenResult(kC.STYLE)}return this.returnHiddenResult(NC.UNMOUNTED)}return this.returnHiddenResult(NC.INVALID_HTML_ELEMENT)}),yC(this,"checkElementIsMountedOnDom",t=>this.checkPropertyUpToAllParentNodes(t,t=>"HTML"!==t.nodeName.toUpperCase()?null!==t.parentElement:!!document.documentElement))}};function LC(t){return(new TextEncoder).encode(t)}const MC=function(t,e){const n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t),0),n.set(new Uint8Array(e),t.byteLength),n},VC=async t=>function(t,e){let n="";return new Uint8Array(t).forEach(t=>{n+=t.toString(e).padStart(2,"0")}),n}(await crypto.subtle.digest("SHA-256",LC(t)),16);class UC{constructor(){yC(this,"_events",{}),yC(this,"addListener",this.on)}getListeners(t){return this._events[t]?this._events[t].map(t=>t.listener):[]}on(t,e){this._events[t]||(this._events[t]=[]);const n=this._events[t];-1===this._indexOfListener(n,e)&&n.push({listener:e,once:!1})}once(t,e){this._events[t]||(this._events[t]=[]);const n=this._events[t];-1===this._indexOfListener(n,e)&&n.push({listener:e,once:!0})}off(t,e){if(!this._events[t])return;const n=this._events[t],i=this._indexOfListener(n,e);-1!==i&&n.splice(i,1),0===this._events[t].length&&delete this._events[t]}removeAllListeners(t){t?delete this._events[t]:this._events={}}emit(t){this._events[t]||(this._events[t]=[]);const e=this._events[t].map(t=>t);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(let o=0;o<e.length;o+=1){const n=e[o];n.once&&this.off(t,n.listener),n.listener.apply(this,i||[])}}safeEmit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];[...this._events[t]||[]].forEach(e=>{e.once&&this.off(t,e.listener);try{e.listener.apply(this,n)}catch(e){console.error("safeEmit event:".concat(t," error ").concat(null==e?void 0:e.toString()))}})}_indexOfListener(t,e){let n=t.length;for(;n--;)if(t[n].listener===e)return n;return-1}}let BC=null;function jC(){if(BC)return BC;if(window.electron)return BC=window.electron;if(!window.require)return null;try{return BC=window.require("electron"),BC}catch(t){return null}}let FC=function(t){return t.CREATE_CLIENT="createClient",t.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",t.SET_AREA="setArea",t.PRELOAD="PRELOAD",t.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",t.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",t.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",t.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",t.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",t.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",t.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",t.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",t.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",t.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",t.START_PROXY_SERVER="Client.startProxyServer",t.STOP_PROXY_SERVER="Client.stopProxyServer",t.SET_PROXY_SERVER="Client.setProxyServer",t.SET_TURN_SERVER="Client.setTurnServer",t.SET_CLIENT_ROLE="Client.setClientRole",t.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",t.ENABLE_DUAL_STREAM="Client.enableDualStream",t.DISABLE_DUAL_STREAM="Client.disableDualStream",t.JOIN="Client.join",t.LEAVE="Client.leave",t.PUBLISH="Client.publish",t.UNPUBLISH="Client.unpublish",t.SUBSCRIBE="Client.subscribe",t.MASS_SUBSCRIBE="Client.massSubscribe",t.MASS_UNSUBSCRIBE="Client.massUnsubscribe",t.UNSUBSCRIBE="Client.unsubscribe",t.RENEW_TOKEN="Client.renewToken",t.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",t.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",t.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",t.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",t.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",t.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",t.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",t.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",t.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",t.START_LIVE_STREAMING="Client.startLiveStreaming",t.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",t.STOP_LIVE_STREAMING="Client.stopLiveStreaming",t.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",t.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",t.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",t.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",t.SET_CONFIG_DISTRIBUTE="_configDistribute",t.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",t.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",t.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",t.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",t.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",t.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",t.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",t.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",t.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",t.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",t.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",t.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",t.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",t.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",t.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",t.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",t.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",t.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",t.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",t.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",t.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",t.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",t.STREAM_TYPE_CHANGE="streamTypeChange",t.CONNECTION_STATE_CHANGE="connectionStateChange",t.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",t.IMAGE_MODERATION_UPLOAD="imageModerationUpload",t}({}),HC=function(t){return t.TRACER="tracer",t}({});function WC(t){return IC(t.timeout,"config.timeout",0,1e5),IC(t.timeoutFactor,"config.timeoutFactor",0,100,!1),IC(t.maxRetryCount,"config.maxRetryConfig",0,1/0),IC(t.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}let GC=function(t){return t[t.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",t[t.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",t[t.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY",t}({}),$C=function(t){return t.LEAVE="LEAVE",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.UID_BANNED="UID_BANNED",t.FALLBACK="FALLBACK",t.IP_BANNED="IP_BANNED",t.CHANNEL_BANNED="CHANNEL_BANNED",t.LICENSE_MISSING="LICENSE_MISSING",t.LICENSE_EXPIRED="LICENSE_EXPIRED",t.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",t.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",t.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",t.LICENSE_ILLEGAL="LICENSE_ILLEGAL",t.TOKEN_EXPIRE="TOKEN_EXPIRE",t}({});function zC(t){if(!Array.isArray(t)||t.length<1)return!1;try{t.forEach(t=>{if(!t.urls)throw Error()})}catch(t){return!1}return!0}function YC(t){return AC(t.turnServerURL,"turnServerURL"),AC(t.username,"username"),AC(t.password,"password"),t.udpport&&IC(t.udpport,"udpport",1,99999,!0),t.forceturn&&wC(t.forceturn,"forceturn"),t.security&&wC(t.security,"security"),t.tcpport&&IC(t.tcpport,"tcpport",1,99999,!0),!0}function KC(t){return void 0!==t.level&&CC(t.level,"level",[1,2,3]),void 0!==t.delay&&IC(t.delay,"delay",0,3e3,!0),!0}let qC=function(t){return t.CONNECTION_STATE_CHANGE="connection-state-change",t.MEDIA_RECONNECT_START="media-reconnect-start",t.MEDIA_RECONNECT_END="media-reconnect-end",t.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",t.USER_JOINED="user-joined",t.USER_LEAVED="user-left",t.USER_PUBLISHED="user-published",t.USER_UNPUBLISHED="user-unpublished",t.USER_INFO_UPDATED="user-info-updated",t.CLIENT_BANNED="client-banned",t.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",t.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",t.VOLUME_INDICATOR="volume-indicator",t.CRYPT_ERROR="crypt-error",t.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",t.NETWORK_QUALITY="network-quality",t.STREAM_TYPE_CHANGED="stream-type-changed",t.STREAM_FALLBACK="stream-fallback",t.RECEIVE_METADATA="receive-metadata",t.STREAM_MESSAGE="stream-message",t.LIVE_STREAMING_ERROR="live-streaming-error",t.LIVE_STREAMING_WARNING="live-streaming-warning",t.EXCEPTION="exception",t.ERROR="error",t.P2P_LOST="p2p_lost",t.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",t.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",t.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",t.PUBLISHED_USER_LIST="published-user-list",t.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",t.CONTENT_INSPECT_ERROR="content-inspect-error",t.CONTENT_INSPECT_RESULT="content-inspect-result",t.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change",t}({}),XC=function(t){return t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.MULTI_IP="MULTI_IP",t.TIMEOUT="TIMEOUT",t.OFFLINE="OFFLINE",t.LEAVE="LEAVE",t.P2P_FAILED="P2P_FAILED",t.FALLBACK="FALLBACK",t}({}),JC=function(t){return t.ONLINE="ONLINE",t.OFFLINE="OFFLINE",t}({}),ZC=function(t){return t.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",t.ONLINE="ONLINE",t.OFFLINE="OFFLINE",t}({});function QC(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return 0===t.getListeners(e).length?$h.reject(new TC(SC.UNEXPECTED_ERROR,"can not emit promise")):new $h((n,r)=>{t.emit(e,...i,n,r)})}function tI(t,e){if(0===t.getListeners(e).length)return $h.resolve();for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return QC(t,e,...i)}function eI(t,e){if(0===t.getListeners(e).length)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return nI(t,e,...i)}function nI(t,e){let n=null,i=null;for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];if(t.emit(e,...o,t=>{n=t},t=>{i=t}),null!==i)throw i;if(null===n)throw new TC(SC.UNEXPECTED_ERROR,"handler is not sync");return n}const iI=new class extends UC{set networkState(t){this.emit(ZC.NETWORK_STATE_CHANGE,t,this._networkState),t===JC.ONLINE?this.emit(ZC.ONLINE):t===JC.OFFLINE&&(this.onlineWaiter=new $h(t=>{this.once(ZC.ONLINE,()=>{this.onlineWaiter=void 0,t(JC.ONLINE)})}),this.emit(ZC.OFFLINE)),this._networkState=t}get networkState(){return this._networkState}get isOnline(){return this._networkState===JC.ONLINE}constructor(){super(),yC(this,"_moduleName","network-indicator"),yC(this,"_networkState",JC.ONLINE),yC(this,"onlineWaiter",void 0),window.addEventListener("online",()=>{this.networkState=JC.ONLINE}),window.addEventListener("offline",()=>{this.networkState=JC.OFFLINE})}};function rI(t,e){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}function oI(t){const e=[];return t.forEach(t=>{-1===e.indexOf(t)&&e.push(t)}),e}function sI(t){void 0!==$h?$h.resolve().then(t):setTimeout(t,0)}function aI(t){return JSON.parse(JSON.stringify(t))}function cI(t){try{return aI(t)}catch(r){return t}}const lI={};function uI(t,e){lI[e]||(lI[e]=!0,t())}function dI(t){const e=window.atob(t),n=new Uint8Array(new ArrayBuffer(e.length));for(let i=0;i<e.length;i+=1)n[i]=e.charCodeAt(i);return n}function hI(t){let e="";for(let n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return window.btoa(e)}function pI(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=(new TextEncoder).encode(t);if(n.length>e)n=n.slice(0,e);else if(n.length<e){const t=new Uint8Array(e);t.set(n),n=t}return n}function fI(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=Zi(e).call(e,(t,e)=>t+e.length,0),r=new Uint8Array(new ArrayBuffer(i));let o=0;return e.forEach(t=>{r.set(t,o),o+=t.length}),r}function mI(t){return window.TextEncoder?(new TextEncoder).encode(t).length:t.length}function vI(t){let e=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&t.realFormData&&(t=t.realFormData),t.forEach(t=>{e+="string"==typeof t?mI(t):t.size}),e+138}function gI(t){const e=new TC(SC.TIMEOUT,"timeout");return new $h((n,i)=>{window.setTimeout(()=>i(e),t)})}function _I(t){return new $h(e=>{window.setTimeout(e,t)})}function yI(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1?arguments[1]:void 0;const n=Math.random().toString(16).substr(2,t).toLowerCase();return n.length===t?"".concat(e).concat(n):"".concat(e).concat(n)+yI(t-n.length,"")}function EI(){return yI(32,"").toUpperCase()}const bI=()=>{},SI=new class{constructor(){yC(this,"fnMap",new Map)}throttleByKey(t,e,n,i){for(var r=arguments.length,o=new Array(r>4?r-4:0),s=4;s<r;s++)o[s-4]=arguments[s];if(this.fnMap.has(e)){const r=this.fnMap.get(e);if(r.threshold!==n){r.fn(...r.args),clearTimeout(r.timer);const s=window.setTimeout(()=>{const t=this.fnMap.get(e);t&&t.fn(...t.args),this.fnMap.delete(e)},n);this.fnMap.set(e,{fn:t,threshold:n,timer:s,args:o,skipFn:i})}else r.skipFn&&r.skipFn(...r.args),this.fnMap.set(e,bC(bC({},r),{},{fn:t,args:o,skipFn:i}))}else{const r=window.setTimeout(()=>{const t=this.fnMap.get(e);t&&t.fn(...t.args),this.fnMap.delete(e)},n);this.fnMap.set(e,{fn:t,threshold:n,timer:r,args:o,skipFn:i})}}},TI=SI.throttleByKey.bind(SI);function wI(t){return"object"==typeof t&&null!==t&&!(t instanceof RegExp)}function CI(t,e){if(!wI(t)||!wI(e))return e;if(Array.isArray(t)&&!Array.isArray(e)||!Array.isArray(t)&&Array.isArray(e))return e;if(Array.isArray(e)&&Array.isArray(t)){const n=[...t];for(let i=0;i<e.length;i++)n[i]=CI(t[i],e[i]);return n}{const n=bC({},t);for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)?n[i]=CI(t[i],e[i]):n[i]=e[i]);return n}}function II(t,e){let n=[0];if(e&&(n=new Array(e).fill(0)),0===t)return n;let i=0;for(;t>0&&(n[i]=255&t,t>>=8,i++,!e||i!==e););return n}function RI(t){return"number"==typeof t?t:t.exact||t.ideal||t.max||t.min||0}function AI(t){const e="0123456789abcdef";function n(t){let n,i="";for(n=0;n<=3;n++)i+=e.charAt(t>>8*n+4&15)+e.charAt(t>>8*n&15);return i}function i(t,e){const n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function r(t,e,n,r,o,s){return i(function(t,e){return t<<e|t>>>32-e}(i(i(e,t),i(r,s)),o),n)}function o(t,e,n,i,o,s,a){return r(e&n|~e&i,t,e,o,s,a)}function s(t,e,n,i,o,s,a){return r(e&i|n&~i,t,e,o,s,a)}function a(t,e,n,i,o,s,a){return r(e^n^i,t,e,o,s,a)}function c(t,e,n,i,o,s,a){return r(n^(e|~i),t,e,o,s,a)}const l=function(t){let e;const n=1+(t.length+8>>6),i=new Array(16*n);for(e=0;e<16*n;e++)i[e]=0;for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<e%4*8;return i[e>>2]|=128<<e%4*8,i[16*n-2]=8*t.length,i}(t);let u,d,h,p,f,m=1732584193,v=-271733879,g=-1732584194,_=271733878;for(u=0;u<l.length;u+=16)d=m,h=v,p=g,f=_,m=o(m,v,g,_,l[u+0],7,-680876936),_=o(_,m,v,g,l[u+1],12,-389564586),g=o(g,_,m,v,l[u+2],17,606105819),v=o(v,g,_,m,l[u+3],22,-1044525330),m=o(m,v,g,_,l[u+4],7,-176418897),_=o(_,m,v,g,l[u+5],12,1200080426),g=o(g,_,m,v,l[u+6],17,-1473231341),v=o(v,g,_,m,l[u+7],22,-45705983),m=o(m,v,g,_,l[u+8],7,1770035416),_=o(_,m,v,g,l[u+9],12,-1958414417),g=o(g,_,m,v,l[u+10],17,-42063),v=o(v,g,_,m,l[u+11],22,-1990404162),m=o(m,v,g,_,l[u+12],7,1804603682),_=o(_,m,v,g,l[u+13],12,-40341101),g=o(g,_,m,v,l[u+14],17,-1502002290),v=o(v,g,_,m,l[u+15],22,1236535329),m=s(m,v,g,_,l[u+1],5,-165796510),_=s(_,m,v,g,l[u+6],9,-1069501632),g=s(g,_,m,v,l[u+11],14,643717713),v=s(v,g,_,m,l[u+0],20,-373897302),m=s(m,v,g,_,l[u+5],5,-701558691),_=s(_,m,v,g,l[u+10],9,38016083),g=s(g,_,m,v,l[u+15],14,-660478335),v=s(v,g,_,m,l[u+4],20,-405537848),m=s(m,v,g,_,l[u+9],5,568446438),_=s(_,m,v,g,l[u+14],9,-1019803690),g=s(g,_,m,v,l[u+3],14,-187363961),v=s(v,g,_,m,l[u+8],20,1163531501),m=s(m,v,g,_,l[u+13],5,-1444681467),_=s(_,m,v,g,l[u+2],9,-51403784),g=s(g,_,m,v,l[u+7],14,1735328473),v=s(v,g,_,m,l[u+12],20,-1926607734),m=a(m,v,g,_,l[u+5],4,-378558),_=a(_,m,v,g,l[u+8],11,-2022574463),g=a(g,_,m,v,l[u+11],16,1839030562),v=a(v,g,_,m,l[u+14],23,-35309556),m=a(m,v,g,_,l[u+1],4,-1530992060),_=a(_,m,v,g,l[u+4],11,1272893353),g=a(g,_,m,v,l[u+7],16,-155497632),v=a(v,g,_,m,l[u+10],23,-1094730640),m=a(m,v,g,_,l[u+13],4,681279174),_=a(_,m,v,g,l[u+0],11,-358537222),g=a(g,_,m,v,l[u+3],16,-722521979),v=a(v,g,_,m,l[u+6],23,76029189),m=a(m,v,g,_,l[u+9],4,-640364487),_=a(_,m,v,g,l[u+12],11,-421815835),g=a(g,_,m,v,l[u+15],16,530742520),v=a(v,g,_,m,l[u+2],23,-995338651),m=c(m,v,g,_,l[u+0],6,-198630844),_=c(_,m,v,g,l[u+7],10,1126891415),g=c(g,_,m,v,l[u+14],15,-1416354905),v=c(v,g,_,m,l[u+5],21,-57434055),m=c(m,v,g,_,l[u+12],6,1700485571),_=c(_,m,v,g,l[u+3],10,-1894986606),g=c(g,_,m,v,l[u+10],15,-1051523),v=c(v,g,_,m,l[u+1],21,-2054922799),m=c(m,v,g,_,l[u+8],6,1873313359),_=c(_,m,v,g,l[u+15],10,-30611744),g=c(g,_,m,v,l[u+6],15,-1560198380),v=c(v,g,_,m,l[u+13],21,1309151649),m=c(m,v,g,_,l[u+4],6,-145523070),_=c(_,m,v,g,l[u+11],10,-1120210379),g=c(g,_,m,v,l[u+2],15,718787259),v=c(v,g,_,m,l[u+9],21,-343485551),m=i(m,d),v=i(v,h),g=i(g,p),_=i(_,f);return n(m)+n(v)+n(g)+n(_)}let OI=1,xI=console,DI=class{static setLogger(t){xI=t}constructor(t){yC(this,"lockingPromise",$h.resolve()),yC(this,"locks",0),yC(this,"name",""),yC(this,"lockId",void 0),this.lockId=OI++,t&&(this.name=t),xI.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}get isLocked(){return this.locks>0}lock(t){let e;this.locks+=1,xI.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is locked, current queue ").concat(this.locks,". ").concat("string"==typeof t?t:""));const n=new $h(n=>{e=()=>{this.locks-=1,xI.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is not locked, current queue ").concat(this.locks,". ").concat("string"==typeof t?t:"")),n()}}),i=this.lockingPromise.then(()=>e);return this.lockingPromise=this.lockingPromise.then(()=>n),i}};function kI(t,e){return function(n,i,r){const o=r.value;if("function"!=typeof o)throw new Error("Cannot use mutex on object property.");return r.value=async function(){const n=this[e];if(!n)throw new Error("mutex property key ".concat(e," doesn't exist on ").concat(t));const r=await n.lock("From ".concat(t,".").concat(i));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await o.apply(this,a)}finally{r()}},r}}const NI={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function PI(t,e){const n=Math.floor(e.timeout*Math.pow(e.timeoutFactor,t));return Math.min(e.maxRetryTimeout,n)}function LI(t,e,n,i){const r=Object.assign({},NI,i);let o=r.timeout;const s=async()=>{await function(t){return new $h(e=>{window.setTimeout(e,t)})}(o),o*=r.timeoutFactor,o=Math.min(r.maxRetryTimeout,o)};let a=!1;const c=new $h(async(i,o)=>{e=e||(()=>!1),n=n||(()=>!0);for(let c=0;c<r.maxRetryCount;c+=1){if(a)return o(new TC(SC.OPERATION_ABORTED));try{const n=await t();if(!e(n,c))return i(n);if(c+1===r.maxRetryCount)return i(n);await s()}catch(t){if(!n(t,c))return o(t);if(c+1===r.maxRetryCount)return o(t);await s()}}});return c.cancel=()=>a=!0,c}class MI{constructor(t){yC(this,"input",[]),yC(this,"size",void 0),this.size=t}add(t){this.input.push(t),this.input.length>this.size&&this.input.splice(0,1)}mean(){var t;return 0===this.input.length?0:Zi(t=this.input).call(t,(t,e)=>t+e)/this.input.length}}let VI,UI=0,BI=0;function jI(t,e,n,i){return new $h((r,o)=>{e.responseType=e.responseType||"json",e.data&&!n?(e.data=JSON.stringify(e.data),UI+=mI(e.data)):n&&(e.data.size?UI+=e.data.size:e.data instanceof FormData?UI+=vI(e.data):UI+=mI(JSON.stringify(e.data))),e.headers=e.headers||{},e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.method="POST",e.url=t,Pw.request(e).then(t=>{"string"==typeof t.data?BI+=mI(t.data):t.data instanceof ArrayBuffer||t.data instanceof Uint8Array?BI+=t.data.byteLength:BI+=mI(JSON.stringify(t.data)),i&&r({data:t.data,headers:t.headers}),r(t.data)}).catch(t=>{Pw.isCancel(t)?o(new TC(SC.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===t.code?o(new TC(SC.NETWORK_TIMEOUT,t.message)):t.response?o(new TC(SC.NETWORK_RESPONSE_ERROR,t.response.status)):o(new TC(SC.NETWORK_ERROR,t.message))})})}async function FI(t,e){const n=new Blob([e.data],{type:"buffer"});return await jI(t,bC(bC({},e),{},{data:n,headers:{"Content-Type":"application/octet-stream"}}),!0)}const HI=()=>void 0!==window.isSecureContext,WI=function(t){if(t.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return t;const e=t.match(/([0-9]+\.[0-9]+\.[0-9]+)\-([0-9]+)/);if(e&&e[1]&&e[2]){const t=e[1],n=e[2];return"".concat(t,".").concat(n)}return"4.0.0.999"}("4.22.1"),GI=function(){try{return!0===JSON.parse("true")}catch(t){return!0}}();let $I=function(t){return t.Default="default",t.Auto="auto",t.Relay="relay",t.SdRtn="sd-rtn",t}({});const zI=function(){const t="us".concat("erna","me"),e="pa".concat("sswo","rd"),n=["t","s","t"];n.splice(1,0,"e");const i=n.join(""),r=[];for(let a=0;a<6;a++)r.push("1");const o=r.join(""),s={};return s[t]=i,s[e]=o,Object.assign(s,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=zI;const YI={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},KI="v4.22.1-0-g1c8e27e9(9/19/2024, 2:23:30 PM)",qI=bC(bC({PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:YI,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,CUSTOM_ADAPTATION_DEFAULT_MODE:"",ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,ENABLE_PRELOAD:!0,DISABLE_SCREEN_SHARE_REMB:!1},{ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,USE_PUB_RTX:!0,USE_SUB_RTX:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_DATASTREAM_2:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,USE_XR:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,ENABLE_PREALLOC_PC:!1,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC:!1,ENABLE_SVC_DEFAULT_CODECS:["H264","VP8","VP9","AV1"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:2,ENABLE_PRE_SUB:!1,ENABLE_AUT_FEEDBACK:!1}),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1,AP_REQUEST_DETAIL:void 0});function XI(t,e,n){var i,r,o;Pi(i=Object.keys(qI)).call(i,t)&&(!n&&Pi(r=Object.keys(ZI)).call(r,t)||(qI[t]=e,"ENABLE_VIDEO_SEI"===t&&!0===e&&(qI.ENABLE_ENCODED_TRANSFORM=!0),"USE_NEW_NETWORK_CONFIG"===t&&e&&(o=!!e,qI.USE_NEW_NETWORK_CONFIG=o,o&&(qI.WEBCS_DOMAIN=["webrtc2-2.ap.sd-rtn.com"],qI.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-4.ap.sd-rtn.com"],qI.CDS_AP=["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],qI.ACCOUNT_REGISTER=["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],qI.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",qI.EVENT_REPORT_BACKUP_DOMAIN="statscollector-1.agora.io",qI.GATEWAY_DOMAINS=["edge.sd-rtn.com"])),"ENABLE_PRE_SUB"===t&&e&&(qI.ENABLE_INSTANT_VIDEO=!0,qI.ENABLE_PREALLOC_PC=!0),"ENABLE_SVC"===t&&e&&(qI.ENABLE_AUT_CC=!0)))}function JI(t){return qI[t]}GI||(qI.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],qI.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],qI.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],qI.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],qI.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],qI.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],qI.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",qI.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",qI.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",qI.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",qI.AREAS=["NORTH_AMERICA","OVERSEA"]);const ZI={};var QI=function(t){return t.SET_SESSION_ID="SET_SESSION_ID",t.SET_P2P_ID="SET_P2P_id",t.SET_DC_ID="SET_DC_id",t.SET_UID="SET_UID",t.SET_INT_UID="SET_INT_UID",t.SET_PUB_ID="SET_PUB_ID",t.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",t.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",t.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",t.AVOID_JOIN_START="AVOID_JOIN_START",t.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",t.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",t.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",t.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",t.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",t.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",t.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",t.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",t.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",t.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",t.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",t.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",t.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",t.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",t.RESET_KEY_METRICS="RESET_KEY_METRICS",t.SET_USE_P2P="SET_USE_P2P",t.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE",t}(QI||{});class tR{constructor(t,e,n,i){yC(this,"state",void 0),this.state={codec:t,audioCodec:e,mode:n,clientId:i,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useP2P:!1,p2pTransport:$I.Default}}dispatch(t){this.state=function(t,e){switch(e.type){case QI.SET_SESSION_ID:return bC(bC({},t),{},{sessionId:e.sessionId});case QI.SET_P2P_ID:return bC(bC({},t),{},{p2pId:e.p2pId});case QI.SET_UID:return bC(bC({},t),{},{uid:e.uid});case QI.SET_INT_UID:return bC(bC({},t),{},{intUid:e.intUid});case QI.SET_PUB_ID:return bC(bC({},t),{},{pubId:e.pubId});case QI.KEY_METRIC_CLIENT_CREATED:return bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{clientCreated:e.metric})});case QI.KEY_METRIC_JOIN_START:return bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{joinStart:e.metric})});case QI.AVOID_JOIN_START:return bC(bC({},t),{},{avoidJoinStart:e.avoidJoinStart});case QI.KEY_METRIC_JOIN_END:return bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{joinEnd:e.metric})});case QI.KEY_METRIC_REQUEST_AP_START:return bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{requestAPStart:e.metric})});case QI.KEY_METRIC_REQUEST_AP_END:return bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{requestAPEnd:e.metric})});case QI.KEY_METRIC_JOIN_GATEWAY_START:return bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{joinGatewayStart:e.metric})});case QI.KEY_METRIC_JOIN_GATEWAY_END:return bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{joinGatewayEnd:e.metric})});case QI.KEY_METRIC_PEER_CONNECTION_START:return bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{peerConnectionStart:e.metric})});case QI.KEY_METRIC_PEER_CONNECTION_END:return bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{peerConnectionEnd:e.metric})});case QI.KEY_METRIC_DESCRIPTION_START:return bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{descriptionStart:e.metric})});case QI.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{signalChannelOpen:e.metric})});case QI.KEY_METRIC_ICE_CONNECTION_END:return bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{iceConnectionEnd:e.metric})});case QI.KEY_METRIC_PUBLISH:{const n=t.keyMetrics.publish,i=n.findIndex(t=>t.trackId===e.metric.trackId);return-1!==i?(n[i]=bC(bC({},n[i]),e.metric),bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{publish:[...n]})})):bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{publish:[...t.keyMetrics.publish,e.metric]})})}case QI.KEY_METRIC_SUBSCRIBE:{const n=t.keyMetrics.subscribe,i=n.findIndex(t=>t.userId===e.metric.userId&&t.type===e.metric.type);return-1!==i?(n[i]=bC(bC({},n[i]),e.metric),bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{subscribe:[...n]})})):bC(bC({},t),{},{keyMetrics:bC(bC({},t.keyMetrics),{},{subscribe:[...t.keyMetrics.subscribe,e.metric]})})}case QI.SET_CLOUD_PROXY_SERVER_MODE:return t.cloudProxyServerMode=e.mode,t;case QI.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof e.index?t.joinChannelServiceRecords=[...t.joinChannelServiceRecords,e.record]:(t.joinChannelServiceRecords[e.index]=bC(bC({},t.joinChannelServiceRecords[e.index]),e.record),t.joinChannelServiceRecords=[...t.joinChannelServiceRecords]),t;case QI.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return t.joinChannelServiceRecords=[],t;case QI.RESET_KEY_METRICS:return t.keyMetrics={publish:[],subscribe:[]},t;case QI.SET_USE_P2P:return bC(bC({},t),{},{useP2P:e.val});case QI.SET_TRANSPORT_TYPE:return bC(bC({},t),{},{p2pTransport:e.val});default:return t}}(this.state,t)}set sessionId(t){this.dispatch({type:QI.SET_SESSION_ID,sessionId:t})}get sessionId(){return this.state.sessionId}set codec(t){this.state.codec=t}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(t){this.dispatch({type:QI.SET_P2P_ID,p2pId:t})}get p2pId(){return this.state.p2pId}set dcId(t){this.dispatch({type:QI.SET_DC_ID,dcId:t})}get dcId(){return this.state.dcId}set uid(t){this.dispatch({type:QI.SET_UID,uid:t})}get uid(){return this.state.uid}set intUid(t){this.dispatch({type:QI.SET_INT_UID,intUid:t})}get intUid(){return this.state.intUid}set pubId(t){this.dispatch({type:QI.SET_PUB_ID,pubId:t})}get pubId(){return this.state.pubId}set cloudProxyServerMode(t){this.dispatch({type:QI.SET_CLOUD_PROXY_SERVER_MODE,mode:t})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(t){this.dispatch({type:QI.SET_USE_P2P,val:t})}get useP2P(){return this.state.useP2P}set p2pTransport(t){this.dispatch({type:QI.SET_TRANSPORT_TYPE,val:t})}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:QI.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:QI.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:QI.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:QI.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:QI.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:QI.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:QI.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:QI.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:QI.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:QI.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:QI.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:QI.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(t,e,n,i){this.dispatch({type:QI.KEY_METRIC_PUBLISH,metric:bC(bC({trackId:t,type:e},n&&{publishStart:n}),i&&{publishEnd:i})})}subscribe(t,e,n,i,r,o,s){this.dispatch({type:QI.KEY_METRIC_SUBSCRIBE,metric:bC(bC(bC(bC(bC({userId:t,type:e},n&&{subscribeStart:n}),i&&{subscribeEnd:i}),r&&{firstFrame:r}),o&&{streamAdded:o}),s&&{firstDecoded:s})})}massSubscribe(t,e,n,i){t.forEach(t=>{this.dispatch({type:QI.KEY_METRIC_SUBSCRIBE,metric:bC(bC(bC({userId:t.userId,type:t.type},e&&{subscribeStart:e}),n&&{subscribeEnd:n}),i&&{firstFrame:i})})})}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(t,e){"gateway"===t.service&&Array.isArray(t.urls)&&(t.urls=t.urls.map(t=>t.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2")));try{return"number"!=typeof e?(this.dispatch({type:QI.RECORD_JOIN_CHANNEL_SERVICE,record:bC(bC({},t),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(e<0||e>=this.state.joinChannelServiceRecords.length||this.dispatch({type:QI.RECORD_JOIN_CHANNEL_SERVICE,record:t,index:e}),e)}catch(t){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:QI.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:QI.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(t){return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(t){this.dispatch({type:QI.AVOID_JOIN_START,avoidJoinStart:t})}}let eR=function(t){return t.h264="h264",t.h265="h265",t.vp8="vp8",t.vp9="vp9",t.av1="av1",t}({});!function(t){t.opus="opus",t.pcma="pcma",t.pcmu="pcmu",t.g722="g722"}({});const nR=128,iR=96,rR=1e3,oR=10;let sR=0;function aR(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function lR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cR(Object(n),!0).forEach((function(e){aR(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const uR=new class extends UC{constructor(){super(...arguments),aR(this,"currentUploadLogID",0)}reportLogUploadError(t){const{errorRange:e}=t;e[e.length-1]&&e[e.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=e[e.length-1],this.emit("REPORT_LOG_UPLOAD",t))}};class dR{constructor(t){aR(this,"logger",void 0),aR(this,"prefixLists",[]),this.logger=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.logger.debug(...this.prefixLists,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.logger.info(...this.prefixLists,...e)}warning(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.logger.warning(...this.prefixLists,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.logger.error(...this.prefixLists,...e)}prefix(t){return this.prefixLists.push(t),this}popPrefix(){return this.prefixLists.pop(),this}}function hR(){const t=new Date;return t.toTimeString().split(" ")[0]+":"+t.getMilliseconds()}function pR(){const t=new Date,e=/((\d+:){2}\d+)/.exec((new Date).toUTCString());return e?(null==e?void 0:e[0])+":"+t.getUTCMilliseconds():t.toTimeString().split(" ")[0]+":"+t.getMilliseconds()}const fR={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},mR=Date.now(),vR=t=>{for(const e in fR)if(Object.prototype.hasOwnProperty.call(fR,e)&&fR[e]===t)return e;return"DEFAULT"},gR=new class{constructor(){aR(this,"proxyServerURL",void 0),aR(this,"logLevel",fR.DEBUG),aR(this,"uploadState","collecting"),aR(this,"uploadLogWaitingList",[]),aR(this,"uploadLogUploadingList",[]),aR(this,"uploadErrorCount",0),aR(this,"currentLogID",0),aR(this,"url",void 0),aR(this,"extLog",(t,e)=>{this.appendLogToWaitingList(t,...e)})}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=[fR.DEBUG].concat(e);this.log.apply(this,i)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=[fR.INFO].concat(e);this.log.apply(this,i)}warning(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=[fR.WARNING].concat(e);this.log.apply(this,i)}warn(){this.warning(...arguments)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=[fR.ERROR].concat(e);this.log.apply(this,i)}upload(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=[fR.DEBUG].concat(e);this.uploadLog.apply(this,i)}setLogLevel(t){t=Math.min(Math.max(0,t),4),this.logLevel=t}enableLogUpload(){XI("UPLOAD_LOG",!0)}disableLogUpload(){XI("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(t){this.proxyServerURL=t}prefix(t){return new dR(this).prefix(t)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Date.now()-mR<100)return void setTimeout(()=>{this.log(...e)},Date.now()-mR);const i=Math.max(0,Math.min(4,e[0]));if(e[0]=hR()+" Agora-SDK [".concat(vR(i),"]:"),this.appendLogToWaitingList(i,...e),i<this.logLevel)return;const r=hR()+" %cAgora-SDK [".concat(vR(i),"]:");let o=[];if(!JI("USE_NEW_LOG"))switch(i){case fR.DEBUG:o=[r,"color: #64B5F6;"].concat(e.slice(1)),console.log.apply(console,o);break;case fR.INFO:o=[r,"color: #1E88E5; font-weight: bold;"].concat(e.slice(1)),console.log.apply(console,o);break;case fR.WARNING:o=[r,"color: #FB8C00; font-weight: bold;"].concat(e.slice(1)),console.warn.apply(console,o);break;case fR.ERROR:o=[r,"color: #B00020; font-weight: bold;"].concat(e.slice(1)),console.error.apply(console,o)}}uploadLog(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Date.now()-mR<100)return void setTimeout(()=>{this.uploadLog(...e)},Date.now()-mR);const i=Math.max(0,Math.min(4,e[0]));e[0]=hR()+" Agora-SDK [".concat(vR(i),"]:"),this.appendLogToWaitingList(i,...e)}appendLogToWaitingList(t){if(!JI("UPLOAD_LOG"))return;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];Array.isArray(n[0])?n[0][0]=pR()+" Agora-SDK [".concat(vR(t),"]:"):n[0]=pR()+" Agora-SDK [".concat(vR(t),"]:");let r="";n.forEach(t=>{"object"==typeof t&&(t=JSON.stringify(t)),r+="".concat(t," ")}),this.uploadLogWaitingList.push({payload_str:r,log_level:t,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const t=this.uploadLogUploadingList,e={sdk_version:WI,process_id:JI("PROCESS_ID"),payload:JSON.stringify(t)};return LI(async()=>{const t=await Pw.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(JI("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(JI("LOG_UPLOAD_SERVER"),"/upload/v1")),e,{responseType:"text"});if("OK"!==t.data){const e=new Error("unexpected upload log response");throw e.response=t,e}},()=>(this.uploadLogUploadingList=[],!1),e=>{const n={status:-1,message:e.message,errorRange:t.map(t=>t.log_item_id)};return e.response?(n.status=e.response.status,n.data=e.response.data,n.headers=e.response.headers):e.request&&(n.status=e.request.status),uR.reportLogUploadError(n),!0},{timeout:JI("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:JI("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,JI("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then(()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout(()=>this.uploadLogInterval(),JI("UPLOAD_LOG_INTERVAL"))}).catch(t=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout(()=>this.uploadLogInterval(),JI("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout(()=>this.uploadLogInterval(),JI("UPLOAD_LOG_RETRY_INTERVAL_V1"))}))}};var _R;function yR(t){return AC(t.reportId,"params.reportId",0,100,!1),AC(t.category,"params.category",0,100,!1),AC(t.event,"params.event",0,100,!1),AC(t.label,"params.label",0,100,!1),IC(t.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}(_R={}).FREE="free",_R.UPLOADING="uploading",function(t){t[t.MISC=0]="MISC",t[t.INTERNAL_EVENT=1]="INTERNAL_EVENT",t[t.PUBLIC_EVENT=2]="PUBLIC_EVENT",t[t.WEB_EVENT=3]="WEB_EVENT",t[t.INTERNAL_API=4]="INTERNAL_API",t[t.WEB_API=5]="WEB_API",t[t.PUBLIC_API=6]="PUBLIC_API"}({});const ER={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let bR=function(t){return t.PUBLISH="publish",t.SUBSCRIBE="subscribe",t.WS_COMPRESSOR_INIT="ws_compressor_init",t.SESSION_INIT="session_init",t.JOIN_CHOOSE_SERVER="join_choose_server",t.REQ_USER_ACCOUNT="req_user_account",t.JOIN_GATEWAY="join_gateway",t.REJOIN_GATEWAY="rejoin_gateway",t.STREAM_SWITCH="stream_switch",t.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",t.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",t.FIRST_VIDEO_RECEIVED="first_video_received",t.FIRST_AUDIO_RECEIVED="first_audio_received",t.FIRST_VIDEO_DECODE="first_video_decode",t.FIRST_AUDIO_DECODE="first_audio_decode",t.ON_ADD_AUDIO_STREAM="on_add_audio_stream",t.ON_ADD_VIDEO_STREAM="on_add_video_stream",t.ON_UPDATE_STREAM="on_update_stream",t.ON_REMOVE_STREAM="on_remove_stream",t.USER_ANALYTICS="req_user_analytics",t.PC_STATS="pc_stats",t.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities",t}({}),SR=function(t){return t.SESSION="io.agora.pb.Wrtc.Session",t.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",t.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",t.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",t.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",t.PUBLISH="io.agora.pb.Wrtc.Publish",t.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",t.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",t.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",t.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",t.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",t.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",t.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",t.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",t.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",t.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",t.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",t.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",t.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",t.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",t.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",t.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",t.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",t.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",t.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",t.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",t.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",t.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",t.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",t.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",t.PC_STATS="io.agora.pb.Wrtc.PCStats",t.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities",t}({});!function(t){t[t.WORKER_EVENT=156]="WORKER_EVENT",t[t.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"}({});let TR=function(t){return t[t.SESSION=26]="SESSION",t[t.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",t[t.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",t[t.JOIN_GATEWAY=28]="JOIN_GATEWAY",t[t.PUBLISH=30]="PUBLISH",t[t.SUBSCRIBE=29]="SUBSCRIBE",t[t.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",t[t.STREAM_SWITCH=32]="STREAM_SWITCH",t[t.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",t[t.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",t[t.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",t[t.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",t[t.API_INVOKE=41]="API_INVOKE",t[t.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",t[t.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",t[t.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",t[t.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",t[t.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",t[t.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",t[t.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",t[t.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",t[t.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",t[t.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",t[t.WORKER_EVENT=156]="WORKER_EVENT",t[t.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",t[t.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",t[t.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",t[t.USER_ANALYTICS=1e4]="USER_ANALYTICS",t[t.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED",t}({});function wR(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,n,i){const r=i.value;if("function"==typeof r){const o=t.className||e.__className__||("AgoraRTCClient"===e.constructor.name?"Client":e.constructor.name);i.value=function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];let a=i;if(t.argsMap)try{a=t.argsMap(this,...i)}catch(t){gR.warning(t),a=[]}try{JSON.stringify(a)}catch(t){gR.warning("arguments for method ".concat(o,".").concat(String(n)," not serializable for apiInvoke.")),a=[]}const c=(t.report||CR).reportApiInvoke(this._sessionId||null,{name:"".concat(o,".").concat(String(n)),options:a,tag:HC.TRACER,reportResult:t.reportResult},t.throttleTime);try{const e=r.apply(this,i);return e instanceof $h?e.then(e=>(c.onSuccess(t.reportResult&&e),e)).catch(t=>{throw c.onError(t),t}):(c.onSuccess(t.reportResult&&e),e)}catch(t){throw c.onError(t),t}}}return i}}const CR=new class{constructor(){aR(this,"baseInfoMap",new Map),aR(this,"proxyServer",void 0),aR(this,"eventUploadTimer",void 0),aR(this,"setSessionIdTimer",void 0),aR(this,"url",void 0),aR(this,"sids",new Set),aR(this,"backupUrl",void 0),aR(this,"_appId",void 0),aR(this,"keyEventUploadPendingItems",[]),aR(this,"normalEventUploadPendingItems",[]),aR(this,"apiInvokeUploadPendingItems",[]),aR(this,"apiInvokeCount",0),aR(this,"ltsList",[]),aR(this,"lastSendNormalEventTime",Date.now()),aR(this,"customReportCounterTimer",void 0),aR(this,"customReportCount",0),aR(this,"extApiInvoke",async t=>{for(const e of t){const t=lR(lR({},e),{},{sid:null,invokeId:++this.apiInvokeCount,tag:HC.TRACER});this.sendApiInvoke(t)}}),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),JI("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),JI("EVENT_REPORT_SEND_INTERVAL"))}getBaseInfoBySessionId(t){return this.baseInfoMap.get(t)}adjustSessionStartTime(t){if(!this.baseInfoMap.has(t)&&!this.baseInfoMap.get(t))return void gR.error("adjust session ".concat(t," start time, sid is not exist or info is undefined"));const e=this.baseInfoMap.get(t),n=Date.now(),i=e.startTime;e.startTime=n,gR.debug("rewrite session ".concat(t," startTime: ").concat(n," , ").concat(n-i,"ms")),this.baseInfoMap.set(t,e)}setAppId(t){this._appId=t}reportApiInvoke(t,e,n){e.timeout=e.timeout||6e4,e.reportResult=void 0===e.reportResult||e.reportResult;const i=Date.now();this.apiInvokeCount+=1;const r=this.apiInvokeCount,o=()=>({tag:e.tag,invokeId:r,sid:t,name:e.name,apiInvokeTime:i,options:e.options,states:e.states||null}),s=!!JI("SHOW_REPORT_INVOKER_LOG");s&&gR.info("".concat(e.name," start"),e.options);let a=!1;_I(e.timeout).then(()=>{a||(this.sendApiInvoke(lR(lR({},o()),{},{error:SC.API_INVOKE_TIMEOUT,success:!1})),gR.debug("".concat(e.name," timeout")))});const c=new TC(SC.UNEXPECTED_ERROR,"".concat(e.name,": this api invoke is end"));return{onSuccess:t=>{const i=()=>{if(a)throw c;return a=!0,this.sendApiInvoke(lR(lR({},o()),{},{success:!0},e.reportResult&&{result:t})),s&&gR.info("".concat(e.name," onSuccess")),t};return n?TI(i,e.name+"Success",n,()=>a=!0):i()},onError:t=>{const i=()=>{if(a)throw t;a=!0,this.sendApiInvoke(lR(lR({},o()),{},{success:!1,error:t})),s&&gR.info("".concat(e.name," onFailure"),t.toString())};return n?TI(i,e.name+"Error",n,()=>a=!0):i()}}}sessionInit(t,e){if(this.baseInfoMap.has(t))return;const n=Date.now(),i=this.createBaseInfo(t,n);i.cname=e.cname;const r=Object.assign({},{willUploadConsoleLog:JI("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:GI?"global":"oversea",areas:JI("AREAS")&&JI("AREAS").join(",")},e.extend),{stringUid:o,channelProfile:s,channelMode:a,isABTestSuccess:c,lsid:l,clientRole:u}=e,d=Date.now(),h=lR(lR({},i),{},{eventType:bR.SESSION_INIT,appid:e.appid,browser:navigator.userAgent,buildFormat:e.buildFormat,build:KI,lts:d,elapse:d-n,extend:JSON.stringify(r),mode:e.mode,process:JI("PROCESS_ID"),appType:JI("APP_TYPE"),success:!0,version:WI,stringUid:o,channelProfile:s,channelMode:a,isABTestSuccess:c,lsid:l,clientType:Pi(p=window.navigator.userAgent).call(p,"AgoraWebView")?42:20,clientRole:u,serviceId:JI("PROCESS_ID"),extensionID:JI("PLUGIN_INFO").join(",")||""});var p;this.send({type:SR.SESSION,data:h},!0)}joinChooseServer(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now(),o=lR(lR({},i),{},{eventType:bR.JOIN_CHOOSE_SERVER,lts:r,eventElapse:e.elapse||r-e.lts,chooseServerAddr:e.csAddr,errorCode:e.ec,elapse:r-n.startTime,success:e.succ,chooseServerAddrList:JSON.stringify(e.serverList),uid:e.uid?parseInt(e.uid):null,cid:e.cid?parseInt(e.cid):null,chooseServerIp:e.csIp||"",opid:e.opid,unilbsServerIds:e.unilbsServerIds,extend:e.extend||void 0,isHttp3:e.isHttp3,corssRegionTagReq:e.corssRegionTagReq||void 0,corssRegionTagRes:e.corssRegionTagRes||void 0});this.send({type:SR.JOIN_CHOOSE_SERVER,data:o},!0)}reqUserAccount(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now(),o=lR(lR({},i),{},{eventType:bR.REQ_USER_ACCOUNT,lts:r,success:e.success,serverAddress:e.serverAddr,stringUid:e.stringUid,uid:e.uid,errorCode:e.errorCode,elapse:e.elapse||r-n.startTime,eventElapse:r-e.lts,extend:JSON.stringify(e.extend)});this.send({type:SR.REQ_USER_ACCOUNT,data:o},!0)}joinGateway(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info;e.vid&&(i.vid=e.vid),i.uid=e.uid,i.cid=e.cid;const r=Date.now(),{firstSuccess:o,avoidJoinStartTime:s}=e,a=r-(o&&s?s:n.startTime),c=lR(lR({},i),{},{eventType:bR.JOIN_GATEWAY,lts:r,gatewayAddr:e.addr,success:e.succ,errorCode:e.ec,errorMsg:e.errorMsg||"",elapse:a,eventElapse:r-e.lts,firstSuccess:o,signalChannel:e.signalChannel,preload:e.preload?1:0});e.succ&&(n.lastJoinSuccessTime=r),this.send({type:SR.JOIN_GATEWAY,data:c},!0)}joinChannelTimeout(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=Date.now(),r=lR(lR({},n.info),{},{lts:i,timeout:e,elapse:i-n.startTime});this.send({type:SR.JOIN_CHANNEL_TIMEOUT,data:r},!0)}publish(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now(),o=lR(lR({},i),{},{eventType:bR.PUBLISH,lts:r,eventElapse:e.eventElapse,elapse:r-n.startTime,success:e.succ,errorCode:e.ec,videoName:e.videoName,audioName:e.audioName,screenName:e.screenName,screenshare:e.screenshare,audio:e.audio,video:e.video,p2pid:e.p2pid,publishRequestid:e.publishRequestid});this.send({type:SR.PUBLISH,data:o},!0)}subscribe(t,e,n){const i=this.baseInfoMap.get(t);if(!i)return;const r=i.info,o=Date.now(),s=lR(lR({},r),{},{eventType:bR.SUBSCRIBE,lts:o,eventElapse:e.eventElapse,elapse:o-i.startTime,success:e.succ,errorCode:e.ec,video:e.video,audio:e.audio,subscribeRequestid:e.subscribeRequestid,p2pid:e.p2pid,preSsrc:e.preSsrc?1:0},n&&{extend:JSON.stringify({isMassSubscribe:!0})});"string"==typeof e.peerid?s.peerSuid=e.peerid:s.peer=e.peerid,this.send({type:SR.SUBSCRIBE,data:s},!0)}wsCompressorInit(t){var e;const n=[...pf(e=this.baseInfoMap).call(e)],i=n.length?n[0]:"UnableToGetSid",r=this.baseInfoMap.get(i);if(!r)return;const o=r.info,s=Date.now(),a=lR(lR({},o),{},{eventType:bR.WS_COMPRESSOR_INIT,lts:s,eventElapse:t.eventElapse,elapse:s-r.startTime,status:t.status?1:2});this.send({type:SR.WS_COMPRESSOR_INIT,data:a},!0)}firstRemoteVideoDecode(t,e,n,i){const r=this.baseInfoMap.get(t);if(!r)return;const o=r.info,s=Date.now(),a=lR(lR(lR({},o),i),{},{elapse:s-r.startTime,eventType:e,lts:s,firstDecodeFrame:Math.max((i.firstFrame||s)-r.startTime,0),apEnd:Math.max(i.apEnd-r.startTime,0),apStart:Math.max(i.apStart-r.startTime,0),joinGwEnd:Math.max(i.joinGwEnd-r.startTime,0),joinGwStart:Math.max(i.joinGwStart-r.startTime,0),pcEnd:Math.max(i.pcEnd-r.startTime,0),pcStart:Math.max(i.pcStart-r.startTime,0),subscriberEnd:Math.max(i.subscriberEnd-r.startTime,0),subscriberStart:Math.max(i.subscriberStart-r.startTime,0),videoAddNotify:Math.max(i.videoAddNotify-r.startTime,0)});this.send({type:n,data:a},!0)}firstRemoteFrame(t,e,n,i){const r=this.baseInfoMap.get(t);if(!r)return;const o=r.info,s=Date.now(),a=lR(lR(lR({},o),i),{},{elapse:s-r.startTime,eventType:e,lts:s});this.send({type:n,data:a},!0)}pcStats(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now(),o=lR(lR(lR({},i),e),{},{vid:void 0===i.vid?0:Number(i.vid),elapse:r-n.startTime,eventType:bR.PC_STATS,lts:r,preallocation:e.preallocation?1:0});this.send({type:SR.PC_STATS,data:o},!0)}updateRemoteRTPCapabilities(t,e){if(t){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now(),o=lR(lR(lR({},i),e),{},{vid:void 0===i.vid?0:Number(i.vid),eventType:bR.UPDATE_REMOTE_RTPCAPABILITIES,lts:r});this.send({type:SR.UPDATE_REMOTE_RTPCAPABILITIES,data:o},!0)}}onGatewayStream(t,e,n,i){const r=this.baseInfoMap.get(t);if(!r)return;const o=r.info,s=Date.now(),a=lR(lR(lR({},o),i),{},{eventType:e,lts:s});this.send({type:n,data:a},!0)}streamSwitch(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now(),o=lR(lR({},i),{},{eventType:bR.STREAM_SWITCH,lts:r,isDual:e.isdual,elapse:r-n.startTime,success:e.succ});this.send({type:SR.STREAM_SWITCH,data:o},!0)}requestProxyAppCenter(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now(),o=lR(lR({},i),{},{eventType:bR.REQUEST_PROXY_APPCENTER,lts:r,eventElapse:r-e.lts,elapse:r-n.startTime,APAddr:e.APAddr,workerManagerList:e.workerManagerList,response:e.response,errorCode:e.ec,success:e.succ});this.send({type:SR.REQUEST_PROXY_APPCENTER,data:o},!0)}requestProxyWorkerManager(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now(),o=lR(lR({},i),{},{eventType:bR.REQUEST_PROXY_WORKER_MANAGER,lts:r,eventElapse:r-e.lts,elapse:r-n.startTime,workerManagerAddr:e.workerManagerAddr,response:e.response,errorCode:e.ec,success:e.succ});this.send({type:SR.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}setProxyServer(t){this.proxyServer=t,t?gR.debug("reportProxyServerurl: ".concat(t)):gR.debug("disable reportProxyServerurl: ".concat(t))}peerPublishStatus(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now(),o=lR(lR({},i),{},{subscribeElapse:e.subscribeElapse,peer:e.peer,peerPublishDuration:Math.max(e.audioPublishDuration,e.videoPublishDuration),audiotag:e.audioPublishDuration>0?1:-1,videotag:e.videoPublishDuration>0?1:-1,lts:r,elapse:r-n.startTime,joinChannelSuccessElapse:r-(n.lastJoinSuccessTime||r),peerPublishDurationVideo:e.videoPublishDuration,peerPublishDurationAudio:e.audioPublishDuration});this.send({type:SR.PEER_PUBLISH_STATUS,data:o},!0)}workerEvent(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now();(function(t,e,n){const i=t[e];if(!i||"string"!=typeof i)return[t];t[e]="";const r=mI(JSON.stringify(t));let o=0;const s=[];let a=0;for(let c=0;c<i.length;c++)a+=i.charCodeAt(c)<=127?1:3,a<=n-r||(s[s.length]=bC(bC({},t),{},{[e]:i.substring(o,c)}),o=c,a=i.charCodeAt(c)<=127?1:3);return o!==i.length-1&&(s[s.length]=bC(bC({},t),{},{[e]:i.substring(o)})),s})(lR(lR(lR({},i),e),{},{elapse:r-n.startTime,lts:r,productType:"WebRTC"}),"payload",1300).forEach(t=>this.send({type:SR.WORKER_EVENT,data:t},!0))}apworkerEvent(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now(),o=lR(lR(lR({},i),e),{},{elapse:r-n.startTime,lts:r});this.send({type:SR.AP_WORKER_EVENT,data:o},!0)}joinWebProxyAP(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now(),o=lR(lR(lR({},i),e),{},{elapse:r-n.startTime,lts:r,extend:e.extend||void 0});this.send({type:SR.JOIN_WEB_PROXY_AP,data:o},!0)}WebSocketQuit(t,e){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,r=Date.now(),o=lR(lR(lR({},i),e),{},{elapse:r-n.startTime,lts:r});this.send({type:SR.WEBSOCKET_QUIT,data:o},!0)}async sendCustomReportMessage(t,e){if(this.customReportCount+=e.length,this.customReportCount>JI("CUSTOM_REPORT_LIMIT"))throw new TC(SC.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval(()=>{this.customReportCount=0},5e3));const n=Date.now(),i=e.map(e=>({type:SR.USER_ANALYTICS,data:lR(lR({sid:t},e),{},{lts:n})}));try{JI("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(i):await this.postDataToStatsCollector(i)}catch(t){throw gR.error("send custom report message failed",t.toString()),new TC(SC.CUSTOM_REPORT_SEND_FAILED,t.message)}}sendApiInvoke(t){const e=JI("NOT_REPORT_EVENT");if(t.tag&&Pi(e)&&Pi(e).call(e,t.tag))return!1;if(null===t.sid)return this.apiInvokeUploadPendingItems.push(t),!1;const n=this.baseInfoMap.get(t.sid);if(!n)return this.apiInvokeUploadPendingItems.push(t),!1;const{cname:i,uid:r,cid:o}=n.info;let s;if(t.lts=t.lts||Date.now(),t.error)if(t.error instanceof TC){const{code:e,message:n}=t.error;s=e||n||t.error.toString()}else s=t.error.toString();const a={invokeId:t.invokeId,sid:t.sid,cname:i,cid:o,uid:r,lts:t.lts,success:t.success,elapse:t.lts-n.startTime,execElapse:t.lts-t.apiInvokeTime,apiName:t.name,options:t.options?JSON.stringify(t.options):void 0,execStates:t.states?JSON.stringify(t.states):void 0,execResult:t.result?JSON.stringify(t.result):void 0,errorCode:t.error?s:void 0,errorMsg:t.error?JSON.stringify(t.error):void 0};return this.send({type:SR.API_INVOKE,data:a},!1),!0}addSid(t){this.sids.add(t)}removeSid(t){this.sids.delete(t)}appendSessionId(){const t=this.apiInvokeUploadPendingItems;if(0===t.length)return;const e=Array.from(this.sids).find(t=>null!==t);e&&t.forEach(t=>{t&&(t.sid=e,this.sendApiInvoke(Object.assign({},t)))}),t.length=0}send(t,e){if(e)return this.keyEventUploadPendingItems.push(t),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(t),this.normalEventUploadPendingItems.length>JI("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(t,e){const n=[],i=[];for(;t.length;){const e=t.shift();n.length<20?n.push(e):i.push(e)}t.push(...i);for(const o of[...n]){var r;-1!==this.ltsList.indexOf(o.data.lts)?(o.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(o.data.lts)):(this.ltsList.push(o.data.lts),lm(r=this.ltsList).call(r,(t,e)=>t-e))}return e||(this.lastSendNormalEventTime=Date.now()),JI("ENABLE_EVENT_REPORT")?(n.length&&(JI("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(n):this.postDataToStatsCollector(n)).catch((t=>n=>{JI("EVENT_REPORT_RETRY")&&(e?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(t):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(t),this.normalEventUploadPendingItems.length>JI("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-JI("NORMAL_EVENT_QUEUE_CAPACITY")),gR.warning("report: drop normal events"))))})(n)),t):t}async postDataToStatsCollector2(t){iI.networkState===JC.OFFLINE&&await $h.race([iI.onlineWaiter,_I(2*NI.maxRetryTimeout)]);const e=t=>{let e=new Uint8Array;return t.forEach(t=>{const n=LC(JSON.stringify(t.data)),i=new ArrayBuffer(5),r=(t=>{let e=0;return Object.entries(SR).forEach(n=>{let[i,r]=n;r===t.type&&(e=TR[i])}),e})(t),o=new DataView(i);o.setUint16(0,n.byteLength,!0),o.setUint8(2,255&r),o.setUint8(3,r>>>8&255),o.setUint8(4,r>>>16&255),e=MC(e,new Uint8Array(i)),e=MC(e,n)}),e},n="event";let i=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(JI("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(n):"https://".concat(JI("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(n);for(let r=0;r<2;r+=1){1===r&&(i=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(JI("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(n):"https://".concat(JI("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(n));try{await jI(i,{timeout:1e4,data:e(t),headers:lR(lR({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(t){if(1===r)throw t;continue}return}}async postDataToStatsCollector(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:t.map(t=>JSON.stringify(t)),vid:(t=>{const e=t&&t.data.sid&&this.baseInfoMap.get(t.data.sid);return e&&e.info.vid&&+e.info.vid||0})(t[0])};iI.networkState===JC.OFFLINE&&await $h.race([iI.onlineWaiter,_I(2*NI.maxRetryTimeout)]);const i=e?"/events/proto-raws":"/events/messages";let r=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(JI("EVENT_REPORT_DOMAIN"),"&p=").concat(JI("STATS_COLLECTOR_PORT"),"&d=").concat(i):"https://".concat(JI("EVENT_REPORT_DOMAIN"),":").concat(JI("STATS_COLLECTOR_PORT")).concat(i));for(let o=0;o<2;o+=1){1===o&&(r=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(JI("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(JI("STATS_COLLECTOR_PORT"),"&d=").concat(i):"https://".concat(JI("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(JI("STATS_COLLECTOR_PORT")).concat(i)));try{e?await FI(r,{timeout:1e4,data:n}):await jI(r,{timeout:1e4,data:n})}catch(e){if(1===o)throw e;continue}return}}createBaseInfo(t,e){const n=Object.assign({},ER);return n.sid=t,this.baseInfoMap.set(t,{info:n,startTime:e}),n}reportResourceTiming(t,e){const n=performance.getEntriesByName(t),i=n[n.length-1];i&&this.reportApiInvoke(e,{name:"Client.resourceTiming",options:i,tag:HC.TRACER}).onSuccess()}};uR.on("REPORT_LOG_UPLOAD",t=>{t.networkState=iI.networkState,CR.reportApiInvoke(null,{name:"logUploadError",options:t,tag:HC.TRACER}).onSuccess("logUploadError")});class IR extends TC{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2?arguments[2]:void 0),aR(this,"name","AgoraRTCException")}print(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return super.print(t,gR)}throw(){super.throw(gR)}}const RR=["CHINA","GLOBAL"],AR=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],OR=[];function xR(t,e){return!!e&&OR.some(n=>n.uid===t&&n.channelName===e)}var DR=r_.forEach,kR=Wi("forEach")?[].forEach:function(t){return DR(this,t,arguments.length>1?arguments[1]:void 0)};kn({target:"Array",proto:!0,forced:[].forEach!=kR},{forEach:kR});var NR=ti("Array").forEach,PR=vi,LR=ee,MR=p,VR=NR,UR=Array.prototype,BR={DOMTokenList:!0,NodeList:!0},jR=function(t){var e=t.forEach;return t===UR||MR(UR,t)&&e===UR.forEach||LR(BR,PR(t))?VR:e},FR=o(jR),HR=Zt,WR=io;kn({target:"Object",stat:!0,forced:s((function(){WR(1)}))},{keys:function(t){return WR(HR(t))}});var GR=o(ot.Object.keys),$R=o(Ji),zR=kn,YR=sg,KR=h([].reverse),qR=[1,2];zR({target:"Array",proto:!0,forced:String(qR)===String(qR.reverse())},{reverse:function(){return YR(this)&&(this.length=this.length),KR(this)}});var XR=ti("Array").reverse,JR=p,ZR=XR,QR=Array.prototype,tA=function(t){var e=t.reverse;return t===QR||JR(QR,t)&&e===QR.reverse?ZR:e},eA=tA,nA=o(eA),iA=kn,rA=sg,oA=Gc,sA=rt,aA=Fn,cA=zn,lA=et,uA=yf,dA=me,hA=Qc,pA=_g("slice"),fA=dA("species"),mA=Array,vA=Math.max;iA({target:"Array",proto:!0,forced:!pA},{slice:function(t,e){var n,i,r,o=lA(this),s=cA(o),a=aA(t,s),c=aA(void 0===e?s:e,s);if(rA(o)&&(n=o.constructor,(oA(n)&&(n===mA||rA(n.prototype))||sA(n)&&null===(n=n[fA]))&&(n=void 0),n===mA||void 0===n))return hA(o,a,c);for(i=new(void 0===n?mA:n)(vA(c-a,0)),r=0;a<c;a++,r++)a in o&&uA(i,r,o[a]);return i.length=r,i}});var gA=ti("Array").slice,_A=p,yA=gA,EA=Array.prototype,bA=function(t){var e=t.slice;return t===EA||_A(EA,t)&&e===EA.slice?yA:e},SA=o(bA);function TA(t,e,n,i,r){var o,s,a,c={};return FR(o=GR(i)).call(o,(function(t){c[t]=i[t]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=$R(s=nA(a=SA(n).call(n)).call(a)).call(s,(function(n,i){return i(t,e,n)||n}),c),r&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(r):void 0,c.initializer=void 0),void 0===c.initializer&&(rg(t,e,c),c=null),c}let wA=function(t){return t.L1T1="L1T1",t.L1T2="L1T2",t.L1T3="L1T3",t.L1T3_KEY="L1T3_KEY",t.L2T1_KEY="L2T1_KEY",t.L2T2_KEY="L2T2_KEY",t.L2T3_KEY="L2T3_KEY",t.L3T1_KEY="L3T1_KEY",t.L3T2_KEY="L3T2_KEY",t.L3T3_KEY="L3T3_KEY",t}({}),CA=function(t){return t.CERTIFICATE="certificate",t.CODEC="codec",t.CANDIDATE_PAIR="candidate-pair",t.LOCAL_CANDIDATE="local-candidate",t.REMOTE_CANDIDATE="remote-candidate",t.INBOUND="inbound-rtp",t.TRACK="track",t.OUTBOUND="outbound-rtp",t.PC="peer-connection",t.REMOTE_INBOUND="remote-inbound-rtp",t.REMOTE_OUTBOUND="remote-outbound-rtp",t.TRANSPORT="transport",t.CSRC="csrc",t.DATA_CHANNEL="data-channel",t.STREAM="stream",t.SENDER="sender",t.RECEIVER="receiver",t}({}),IA=function(t){return t[t.ACCESS_POINT=101]="ACCESS_POINT",t[t.UNILBS=201]="UNILBS",t[t.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR",t}({}),RA=function(t){return t[t.IIIEGAL_APPID=1]="IIIEGAL_APPID",t[t.IIIEGAL_UID=2]="IIIEGAL_UID",t[t.INTERNAL_ERROR=3]="INTERNAL_ERROR",t}({}),AA=function(t){return t[t.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",t[t.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",t[t.INTERNAL_ERROR=8]="INTERNAL_ERROR",t[t.NO_AUTHORIZED=9]="NO_AUTHORIZED",t[t.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",t[t.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",t[t.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",t[t.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",t[t.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",t[t.USER_OVERLOAD=16]="USER_OVERLOAD",t[t.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",t[t.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND",t}({}),OA=function(t){return t[t.NO_FLAG_SET=100]="NO_FLAG_SET",t[t.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",t[t.INVALID_FALG_SET=102]="INVALID_FALG_SET",t[t.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",t[t.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",t[t.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",t[t.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",t[t.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",t[t.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",t[t.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",t[t.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",t[t.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",t[t.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",t[t.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",t[t.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",t[t.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",t[t.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",t[t.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",t[t.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV",t}({}),xA=function(t){return t[t.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",t[t.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",t[t.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",t[t.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",t[t.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",t[t.K_TICKET_INVALID=7]="K_TICKET_INVALID",t[t.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",t[t.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",t[t.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",t[t.K_UID_BANNED=14]="K_UID_BANNED",t[t.K_IP_BANNED=15]="K_IP_BANNED",t[t.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",t[t.K_AUTO_REBALANCE=28]="K_AUTO_REBALANCE",t[t.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",t[t.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",t[t.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",t[t.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",t[t.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",t[t.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",t[t.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",t[t.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",t[t.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",t[t.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",t[t.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",t[t.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",t[t.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",t[t.ERR_INVALID_UID=117]="ERR_INVALID_UID",t[t.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",t[t.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",t[t.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",t[t.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",t[t.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",t[t.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",t[t.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",t[t.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",t[t.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",t[t.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",t[t.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",t[t.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",t[t.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",t[t.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",t[t.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",t[t.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",t[t.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",t[t.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",t[t.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",t[t.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",t[t.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",t[t.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",t[t.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",t[t.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",t[t.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",t[t.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",t[t.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",t[t.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",t[t.ERR_LICENSE_MISSING=32769]="ERR_LICENSE_MISSING",t[t.ERR_LICENSE_EXPIRED=32771]="ERR_LICENSE_EXPIRED",t[t.ERR_LICENSE_MINUTES_EXCEEDED=32773]="ERR_LICENSE_MINUTES_EXCEEDED",t[t.ERR_LICENSE_PERIOD_INVALID=32774]="ERR_LICENSE_PERIOD_INVALID",t[t.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]="ERR_LICENSE_MULTIPLE_SDK_SERVICE",t[t.ERR_LICENSE_ILLEGAL=32783]="ERR_LICENSE_ILLEGAL",t[t.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",t[t.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",t[t.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY",t}({}),DA=function(t){return t.CONNECTING="connecting",t.CONNECTED="connected",t.RECONNECTING="reconnecting",t.CLOSED="closed",t}({}),kA=function(t){return t.WS_CONNECTED="ws_connected",t.WS_RECONNECTING="ws_reconnecting",t.WS_CLOSED="ws_closed",t.WS_RECONNECT_WAITTING_FINISH="ws_reconnect_waitting_finish",t.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",t.ON_BINARY_DATA="on_binary_data",t.REQUEST_RECOVER="request_recover",t.REQUEST_JOIN_INFO="request_join_info",t.REQUEST_REJOIN_INFO="req_rejoin_info",t.IS_P2P_DISCONNECTED="is_p2p_dis",t.DISCONNECT_P2P="dis_p2p",t.ABORT_P2P_EXECUTION="abort_p2p_execution",t.NEED_RENEW_SESSION="need-sid",t.REPORT_JOIN_GATEWAY="report_join_gateway",t.REQUEST_TIMEOUT="request_timeout",t.REQUEST_SUCCESS="request_success",t.JOIN_RESPONSE="join_response",t.PRE_CONNECT_PC="pre_connect_pc",t.P2P_CONNECTION="p2p_connection",t.P2P_REMOTE_CANDIDATE_UPDATE="p2p_remote_candidate_update",t.P2P_SUBSCRIBE="p2p_subscribe",t.P2P_UNSUBSCRIBE="p2p_unsubscribe",t.P2P_EXCHANGE_SDP="p2p_exchange_sdp",t.P2P_ON_ADD_VIDEO_STREAM="p2p_on_add_video_stream",t.P2P_ON_ADD_AUDIO_STREAM="p2p_on_add_audio_stream",t.RECOVER_NOTIFICATION="recover_notification",t}({}),NA=function(t){return t.PING="ping",t.PING_BACK="ping_back",t.JOIN="join_v3",t.REJOIN="rejoin_v3",t.LEAVE="leave",t.SET_CLIENT_ROLE="set_client_role",t.PUBLISH="publish",t.PUBLISH_DATASTREAM="publish_datastream",t.UNPUBLISH="unpublish",t.UNPUBLISH_DATASTREAM="unpublish_datastream",t.SUBSCRIBE="subscribe",t.PRE_SUBSCRIBE="pre_subscribe",t.SUBSCRIBE_DATASTREAM="subscribe_datastream",t.SUBSCRIBE_STREAMS="subscribe_streams",t.UNSUBSCRIBE="unsubscribe",t.UNSUBSCRIBE_DATASTREAM="unsubscribe_datastream",t.UNSUBSCRIBE_STREAMS="unsubscribe_streams",t.SUBSCRIBE_CHANGE="subscribe_change",t.TRAFFIC_STATS="traffic_stats",t.RENEW_TOKEN="renew_token",t.SWITCH_VIDEO_STREAM="switch_video_stream",t.DEFAULT_VIDEO_STREAM="default_video_stream",t.SET_FALLBACK_OPTION="set_fallback_option",t.GATEWAY_INFO="gateway_info",t.CONTROL="control",t.SEND_METADATA="send_metadata",t.DATA_STREAM="data_stream",t.PICK_SVC_LAYER="pick_svc_layer",t.RESTART_ICE="restart_ice",t.CONNECT_PC="connect_pc",t.SET_VIDEO_PROFILE="set_video_profile",t.SET_PARAMETER="set_parameter",t.SET_RTM2_FLAG="set_rtm2_flag",t}({}),PA=function(t){return t.WRTC_STATS="wrtc_stats",t.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",t.DENOISER_STATS="denoiser_stats",t.EXTENSION_USAGE_STATS="extension_usage_stats",t}({}),LA=function(t){return t.ON_USER_ONLINE="on_user_online",t.ON_USER_OFFLINE="on_user_offline",t.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",t.ON_PUBLISH_STREAM="on_publish_stream",t.ON_UPLINK_STATS="on_uplink_stats",t.ON_P2P_LOST="on_p2p_lost",t.ON_REMOVE_STREAM="on_remove_stream",t.ON_ADD_AUDIO_STREAM="on_add_audio_stream",t.ON_ADD_VIDEO_STREAM="on_add_video_stream",t.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",t.ON_USER_BANNED="on_user_banned",t.ON_USER_LICENSE_BANNED="on_user_license_banned",t.ON_NOTIFICATION="on_notification",t.ON_CRYPT_ERROR="on_crypt_error",t.MUTE_AUDIO="mute_audio",t.MUTE_VIDEO="mute_video",t.UNMUTE_AUDIO="unmute_audio",t.UNMUTE_VIDEO="unmute_video",t.ON_P2P_OK="on_p2p_ok",t.RECEIVE_METADATA="receive_metadata",t.ON_DATA_STREAM="on_data_stream",t.ON_RTP_CAPABILITY_CHANGE="on_rtp_capability_change",t.ON_REMOTE_DATASTREAM_UPDATE="on_remote_datastream_update",t.ON_REMOTE_FULL_DATASTREAM_INFO="on_remote_full_datastream_info",t.ENABLE_LOCAL_VIDEO="enable_local_video",t.DISABLE_LOCAL_VIDEO="disable_local_video",t.ENABLE_LOCAL_AUDIO="enable_local_audio",t.DISABLE_LOCAL_AUDIO="disable_local_audio",t.ON_PUBLISHED_USER_LIST="on_published_user_list",t}({}),MA=function(t){return t.SEND_ONLY="SEND_ONLY",t.RECEIVE_ONLY="RECEIVE_ONLY",t}({}),VA=function(t){return t.CONNECTED="websocket:connected",t.RECONNECTING="websocket:reconnecting",t.WILL_RECONNECT="websocket:will_reconnect",t.CLOSED="websocket:closed",t.FAILED="websocket:failed",t.ON_MESSAGE="websocket:on_message",t.REQUEST_NEW_URLS="websocket:request_new_urls",t.RECONNECT_WAITTING_FINISH="websocket:reconnect_waitting_finish",t.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire",t}({});function UA(t){if("string"!=typeof t||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(t))throw gR.error("Invalid Channel Name ".concat(t)),new IR(SC.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function BA(t){if(!function(t){return"number"==typeof t&&Math.floor(t)===t&&0<=t&&t<=4294967295}(t)&&!DC(t,1,255))throw new IR(SC.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");"string"==typeof t&&gR.warn("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}let jA=function(t){return t.TRANSCODE="mix_streaming",t.RAW="raw_streaming",t}({});const FA={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},HA={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function WA(t,e){AC(t.url,"".concat(e,".url"),1,1e3,!1),xC(t.x)||IC(t.x,"".concat(e,".x"),0,1e4),xC(t.y)||IC(t.y,"".concat(e,".y"),0,1e4),xC(t.width)||IC(t.width,"".concat(e,".width"),0,1e4),xC(t.height)||IC(t.height,"".concat(e,".height"),0,1e4),xC(t.zOrder)||IC(t.zOrder,"".concat(e,".zOrder"),0,255),xC(t.alpha)||IC(t.alpha,"".concat(e,".alpha"),0,1,!1)}const GA={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""};let $A=function(t){return t.WARNING="@live_uap-warning",t.ERROR="@line_uap-error",t.PUBLISH_STREAM_STATUS="@live_uap-publish-status",t.WORKER_STATUS="@live_uap-worker-status",t.REQUEST_NEW_ADDRESS="@live_uap-request-address",t}({}),zA=function(t){return t.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager",t}({}),YA=function(t){return t[t.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",t[t.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",t[t.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",t[t.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",t[t.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",t[t.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",t[t.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",t[t.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",t[t.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",t[t.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",t[t.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",t[t.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",t[t.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",t[t.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",t[t.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",t[t.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",t[t.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",t[t.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",t[t.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",t[t.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",t[t.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN",t}({});function KA(t){if(!t.channelName)throw new IR(SC.INVALID_PARAMS,"invalid channelName in info");if("number"!=typeof t.uid)throw new IR(SC.INVALID_PARAMS,"invalid uid in info, uid must be a number");return t.token&&AC(t.token,"info.token",1,2047),BA(t.uid),UA(t.channelName),!0}let qA=function(t){return t[t.SetSdkProfile=0]="SetSdkProfile",t[t.SetSourceChannel=1]="SetSourceChannel",t[t.SetSourceUserId=2]="SetSourceUserId",t[t.SetDestChannel=3]="SetDestChannel",t[t.StartPacketTransfer=4]="StartPacketTransfer",t[t.StopPacketTransfer=5]="StopPacketTransfer",t[t.UpdateDestChannel=6]="UpdateDestChannel",t[t.Reconnect=7]="Reconnect",t[t.SetVideoProfile=8]="SetVideoProfile",t}({}),XA=function(t){return t.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",t.NETWORK_CONNECTED="NETWORK_CONNECTED",t.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",t.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",t.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",t.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",t.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",t.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",t.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",t.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE",t}({}),JA=function(t){return t.RELAY_STATE_IDLE="RELAY_STATE_IDLE",t.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",t.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",t.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE",t}({}),ZA=function(t){return t.RELAY_OK="RELAY_OK",t.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",t.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",t.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED",t}({}),QA=function(t){return t.High="high",t.Low="low",t.Audio="audio",t.Screen="screen",t.ScreenLow="screen_low",t}({}),tO=function(t){return t.DISCONNECT="disconnect",t.CONNECTION_STATE_CHANGE="connection-state-change",t.NETWORK_QUALITY="network-quality",t.STREAM_TYPE_CHANGE="stream-type-change",t.IS_P2P_DISCONNECTED="is-p2p-dis",t.DISCONNECT_P2P="dis-p2p",t.REQUEST_NEW_GATEWAY_LIST="req-gate-url",t.NEED_RENEW_SESSION="need-sid",t.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",t.JOIN_RESPONSE="join-response",t.RESET_CONNECTION_EVENTS="reset-connection-events",t.PRE_CONNECT_PC="pre-connect_pc",t}({}),eO=function(t){return t.P2P_DISCONNECTED="P2P_DISCONNECTED",t.A_ROUND_WS_FAILED="A_ROUND_WS_FAILED",t.TIMEOUT="TIMEOUT",t.UNKNOWN_REASON="UNKNOWN_REASON",t}({}),nO=function(t){return t[t.Nothing=0]="Nothing",t[t.Audio=1]="Audio",t[t.LwoVideo=2]="LwoVideo",t[t.Video=4]="Video",t[t.Data=8]="Data",t[t.DataStream0=256]="DataStream0",t[t.DataStream1=512]="DataStream1",t[t.DataStream2=1024]="DataStream2",t[t.DataStream3=2048]="DataStream3",t[t.DataStream4=4096]="DataStream4",t[t.DataStream5=8192]="DataStream5",t[t.DataStream6=16384]="DataStream6",t[t.DataStream7=32768]="DataStream7",t}({}),iO=function(t){return t.CHINA="CHINA",t.ASIA="ASIA",t.NORTH_AMERICA="NORTH_AMERICA",t.EUROPE="EUROPE",t.JAPAN="JAPAN",t.INDIA="INDIA",t.KOREA="KOREA",t.HKMC="HKMC",t.US="US",t.OCEANIA="OCEANIA",t.SOUTH_AMERICA="SOUTH_AMERICA",t.AFRICA="AFRICA",t.OVERSEA="OVERSEA",t.GLOBAL="GLOBAL",t.EXTENSIONS="EXTENSIONS",t}({});const rO=[iO.AFRICA,iO.ASIA,iO.CHINA,iO.EUROPE,iO.GLOBAL,iO.INDIA,iO.JAPAN,iO.NORTH_AMERICA,iO.OCEANIA,iO.OVERSEA,iO.SOUTH_AMERICA];let oO=function(t){return t.CHINA="CN",t.ASIA="AS",t.NORTH_AMERICA="NA",t.EUROPE="EU",t.JAPAN="JP",t.INDIA="IN",t.KOREA="KR",t.HKMC="HK",t.US="US",t.OCEANIA="OC",t.SOUTH_AMERICA="SA",t.AFRICA="AF",t.OVERSEA="OVERSEA",t.GLOBAL="GLOBAL",t.EXTENSIONS="GLOBAL",t}({});const sO={CHINA:{},ASIA:{CODE:oO.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:oO.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:oO.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:oO.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","uap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:oO.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:oO.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:oO.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:oO.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:oO.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:oO.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:oO.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:oO.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:oO.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]},EXTENSIONS:{}};GI&&(sO.CHINA={CODE:oO.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]});let aO=function(t){return t.UPDATE_BITRATE_LIMIT="update_bitrate_limit",t}({});class cO extends UC{constructor(t,e){super(),jE(this,"onICEConnectionStateChange",void 0),jE(this,"onConnectionStateChange",void 0),jE(this,"onDTLSTransportStateChange",void 0),jE(this,"onDTLSTransportError",void 0),jE(this,"onICETransportStateChange",void 0),jE(this,"onFirstAudioReceived",void 0),jE(this,"onFirstVideoReceived",void 0),jE(this,"onFirstAudioDecoded",void 0),jE(this,"onFirstVideoDecoded",void 0),jE(this,"onFirstVideoDecodedTimeout",void 0),jE(this,"onSelectedLocalCandidateChanged",void 0),jE(this,"onSelectedRemoteCandidateChanged",void 0),jE(this,"getLocalVideoStats",void 0)}}class lO extends cO{constructor(t,e){super(t,e),jE(this,"establishPromise",void 0)}}let uO=function(t){return t.VIDEO="video",t.AUDIO="audio",t}({}),dO=function(t){return t[t.UDP=0]="UDP",t[t.TCP=1]="TCP",t[t.RELAY=2]="RELAY",t}({}),hO=function(t){return t[t.FIRST_CONNECTION=0]="FIRST_CONNECTION",t[t.TCP_RESTART=1]="TCP_RESTART",t[t.RELAY_RESTART=2]="RELAY_RESTART",t[t.OLD_FIRST_CONNECTION=10]="OLD_FIRST_CONNECTION",t[t.OLD_RESTART=11]="OLD_RESTART",t[t.DISCONNECTED_OR_FAILED=20]="DISCONNECTED_OR_FAILED",t}({}),pO=function(t){return t.LocalVideoTrack="videoTrack",t.LocalAudioTrack="audioTrack",t.LocalVideoLowTrack="videoLowTrack",t}({}),fO=function(t){return t.New="new",t.Connected="connected",t.Reconnecting="reconnecting",t.Disconnected="disconnected",t}({}),mO=function(t){return t.StateChange="stateChange",t.IceConnectionStateChange="iceConnectionStateChange",t.RequestMuteLocal="requestMuteLocal",t.RequestUnmuteLocal="requestUnmuteLocal",t.RequestRePublish="requestRePublish",t.RequestRePublishDataChannel="requestRePublishDataChannel",t.RequestReSubscribe="requestReSubscribe",t.RequestUploadStats="requestUploadStats",t.RequestUpload="requestUpload",t.MediaReconnectStart="MediaReconnectStart",t.MediaReconnectEnd="MediaReconnectEnd",t.NeedSignalRTT="NeedSignalRTT",t.RequestRestartICE="RequestRestartIce",t.PeerConnectionStateChange="PeerConnectionStateChange",t.RequestReconnect="RequestReconnect",t.RequestReconnectPC="RequestReconnectPC",t.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",t.P2PLost="P2PLost",t.UpdateVideoEncoder="UpdateVideoEncoder",t.ConnectionTypeChange="ConnectionTypeChange",t.RequestLowStreamParameter="RequestLowStreamParameter",t.QueryClientConnectionState="QueryClientConnectionState",t.LocalCandidate="LocalCandidate",t.RequestP2PMuteLocal="requestP2PMuteLocal",t.RequestP2PUnPublish="RequestP2PUnPublish",t.RequestP2PUnmuteRemote="RequestP2PUnmuteRemote",t.RequestP2PMuteRemote="RequestP2PMuteRemote",t.RequestP2PRestartICE="RequestP2PRestartICE",t}({}),vO=function(t){return t.CONNECTING="CONNECTING",t.RECONNECTING="RECONNECTING",t.CONNECTED="CONNECTED",t.CLOSED="CLOSED",t}({}),gO=function(t){return t[t.CONNECT_AP=0]="CONNECT_AP",t[t.AP_CONNECTED=1]="AP_CONNECTED",t[t.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",t[t.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",t[t.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",t[t.CONNECT_WORKER=5]="CONNECT_WORKER",t[t.WORKER_CONNECTED=6]="WORKER_CONNECTED",t[t.CLOSED=7]="CLOSED",t}({}),_O=function(t){return t.CONNECTION_STATE_CHANGE="connection-state-change",t.STATE_CHANGE="state-change",t.INSPECT_RESULT="inspect-result",t.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",t.REQUEST_NEW_WORKER_URL="request-new-worker-url",t}({}),yO=function(t){return t.CONNECTED="transmitter:connected",t.RECONNECTING="transmitter:reconnecting",t.WILL_RECONNECT="transmitter:will_reconnect",t.CLOSED="transmitter:closed",t.FAILED="transmitter:failed",t.ON_MESSAGE="transmitter:on_message",t.REQUEST_NEW_URLS="transmitter:request_new_urls",t.RECONNECT_WAITTING_FINISH="transmitter:reconnect_waitting_finish",t.RECONNECT_CREATE_CONNECTION="transmitter:reconnect_create_connection",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE="transmitter:on_token_privilege_did_expire",t.TO_CONNECT_DATACHANNEL="transmitter:to_connect_datachannel",t.FAILBACK="transmitter:failback",t.PRE_CONNECT_PC="transmitter:pre_connect_pc",t}({}),EO=function(t){return t.CAMERA_CHANGED="camera-changed",t.MICROPHONE_CHANGED="microphone-changed",t.PLAYBACK_DEVICE_CHANGED="playback-device-changed",t.AUDIO_AUTOPLAY_FAILED="audio-autoplay-failed",t.AUTOPLAY_FAILED="autoplay-failed",t.AUDIO_CONTEXT_STATE_CHANGED="audio-context-state-changed",t.SECURITY_POLICY_VIOLATION="security-policy-violation",t}({}),bO=function(t){return t.CONNECTING="CONNECTING",t.RECONNECTING="RECONNECTING",t.CONNECTED="CONNECTED",t.CLOSED="CLOSED",t}({}),SO=function(t){return t.CONNECTION_STATE_CHANGE="connection-state-change",t.STATE_CHANGE="state-change",t.INSPECT_RESULT="inspect-result",t.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",t.REQUEST_NEW_WORKER_URL="request-new-worker-url",t}({}),TO=function(t){return t[t.CONNECT_AP=0]="CONNECT_AP",t[t.AP_CONNECTED=1]="AP_CONNECTED",t[t.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",t[t.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",t[t.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",t[t.CONNECT_WORKER=5]="CONNECT_WORKER",t[t.WORKER_CONNECTED=6]="WORKER_CONNECTED",t[t.CLOSED=7]="CLOSED",t}({}),wO=function(t){return t.CALL="call",t.CANDIDATE="candidate",t.PUBLISH="publish",t.UNPUBLISH="unpublish",t.CONTROL="control",t.RESTART_ICE="restart_ice",t.ACK="ack",t.RESPONSE="response",t.JOIN="join",t.CHECK="check",t}({}),CO=function(t){return t.ABORT="abort",t}({}),IO=function(t){return t.MUTE_LOCAL_AUDIO="mute_local_audio",t.MUTE_LOCAL_VIDEO="mute_local_video",t.UNMUTE_LOCAL_AUDIO="unmute_local_audio",t.UNMUTE_LOCAL_VIDEO="unmute_local_video",t}({}),RO=function(t){return t.P2P_TOKEN_TIMEOUT="p2p_token_timeout",t.P2P_TOKEN_CHANGED="p2p_token_changed",t}({});const AO={[IA.ACCESS_POINT]:{[OA.NO_FLAG_SET]:{desc:"flag is zero",retry:!1},[OA.FLAG_SET_BUT_EMPTY]:{desc:"flag is empty",retry:!1},[OA.INVALID_FALG_SET]:{desc:"invalid flag",retry:!1},[OA.FLAG_SET_BUT_NO_RE]:{desc:"flag set unilbs but no request",retry:!1},[OA.INVALID_SERVICE_ID]:{desc:"invalid service id",retry:!1},[OA.NO_SERVICE_AVAILABLE]:{desc:"no service available",retry:!0},[OA.NO_SERVICE_AVAILABLE_P2P]:{desc:"no unilbs p2p service available",retry:!0},[OA.NO_SERVICE_AVAILABLE_VOICE]:{desc:"no unilbs voice service available",retry:!0},[OA.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:"no unilbs webrtc service available",retry:!0},[OA.NO_SERVICE_AVAILABLE_CDS]:{desc:"no cds service available",retry:!0},[OA.NO_SERVICE_AVAILABLE_CDN]:{desc:"no cdn dispatcher service available",retry:!0},[OA.NO_SERVICE_AVAILABLE_TDS]:{desc:"no tds service available",retry:!0},[OA.NO_SERVICE_AVAILABLE_REPORT]:{desc:"no unilbs report service available",retry:!0},[OA.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:"no app center service available",retry:!0},[OA.NO_SERVICE_AVAILABLE_ENV0]:{desc:"no unilbs sig env0 service available",retry:!0},[OA.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voet service available",retry:!0},[OA.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:"no string uid service available",retry:!0},[OA.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:"no webrtc unilbs service available",retry:!0}},[IA.UNILBS]:{[AA.INVALID_VENDOR_KEY]:{desc:"invalid vendor key, can not find appid",retry:!1},[AA.INVALID_CHANNEL_NAME]:{desc:"invalid channel name",retry:!1},[AA.INTERNAL_ERROR]:{desc:"unilbs internal error",retry:!1},[AA.NO_AUTHORIZED]:{desc:"invalid token, authorized failed",retry:!1},[AA.DYNAMIC_KEY_TIMEOUT]:{desc:"dynamic key or token timeout",retry:!1},[AA.NO_ACTIVE_STATUS]:{desc:"no active status",retry:!1},[AA.DYNAMIC_KEY_EXPIRED]:{desc:"dynamic key expired",retry:!1},[AA.STATIC_USE_DYNAMIC_KEY]:{desc:"static use dynamic key",retry:!1},[AA.DYNAMIC_USE_STATIC_KEY]:{desc:"dynamic use static key",retry:!1},[AA.USER_OVERLOAD]:{desc:"amount of users over load",retry:!1},[AA.FORBIDDEN_REGION]:{desc:"the request is forbidden in this area",retry:!1},[AA.CANNOT_MEET_AREA_DEMAND]:{desc:"unable to allocate services in this area",retry:!1}},[IA.STRING_UID_ALLOCATOR]:{[RA.IIIEGAL_APPID]:{desc:"invalid appid",retry:!1},[RA.IIIEGAL_UID]:{desc:"invalid string uid",retry:!1},[RA.INTERNAL_ERROR]:{desc:"string uid allocator internal error",retry:!0}}};function OO(t){const e=AO[Math.floor(t/1e4)];if(!e)return{desc:"unknown error",retry:!1};const n=e[t%1e4];if(!n){if(Math.floor(t/1e4)===IA.ACCESS_POINT){const e=t%1e4;if("1"===e.toString()[0])return{desc:t.toString(),retry:!1};if("2"===e.toString()[0])return{desc:t.toString(),retry:!0}}return{desc:"unknown error",retry:!1}}return n}const xO={[xA.K_TIMESTAMP_EXPIRED]:{desc:"K_TIMESTAMP_EXPIRED",action:"failed"},[xA.K_CHANNEL_PERMISSION_INVALID]:{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"},[xA.K_CERTIFICATE_INVALID]:{desc:"K_CERTIFICATE_INVALID",action:"failed"},[xA.K_CHANNEL_NAME_EMPTY]:{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"},[xA.K_CHANNEL_NOT_FOUND]:{desc:"K_CHANNEL_NOT_FOUND",action:"failed"},[xA.K_TICKET_INVALID]:{desc:"K_TICKET_INVALID",action:"failed"},[xA.K_CHANNEL_CONFLICTED]:{desc:"K_CHANNEL_CONFLICTED",action:"failed"},[xA.K_SERVICE_NOT_READY]:{desc:"K_SERVICE_NOT_READY",action:"tryNext"},[xA.K_SERVICE_TOO_HEAVY]:{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"},[xA.K_UID_BANNED]:{desc:"K_UID_BANNED",action:"failed"},[xA.K_IP_BANNED]:{desc:"K_IP_BANNED",action:"failed"},[xA.K_AUTO_REBALANCE]:{desc:"k_AUTO_REBALANCE",action:"recover"},[xA.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[xA.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[xA.WARN_NO_AVAILABLE_CHANNEL]:{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"},[xA.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"},[xA.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"},[xA.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"},[xA.WARN_OPEN_CHANNEL_REJECTED]:{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"},[xA.WARN_REQUEST_DEFERRED]:{desc:"WARN_REQUEST_DEFERRED",action:"failed"},[xA.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"},[xA.ERR_NO_AUTHORIZED]:{desc:"ERR_NO_AUTHORIZED",action:"failed"},[xA.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"},[xA.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"},[xA.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"},[xA.ERR_INTERNAL_ERROR]:{desc:"ERR_INTERNAL_ERROR",action:"tryNext"},[xA.ERR_NO_ACTIVE_STATUS]:{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"},[xA.ERR_INVALID_UID]:{desc:"ERR_INVALID_UID",action:"failed"},[xA.ERR_DYNAMIC_KEY_EXPIRED]:{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"},[xA.ERR_STATIC_USE_DYANMIC_KE]:{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"},[xA.ERR_DYNAMIC_USE_STATIC_KE]:{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"},[xA.ERR_NO_VOCS_AVAILABLE]:{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"},[xA.ERR_NO_VOS_AVAILABLE]:{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"},[xA.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"},[xA.ERR_JOIN_BY_MULTI_IP]:{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"},[xA.ERR_NOT_JOINED]:{desc:"ERR_NOT_JOINED",action:"failed"},[xA.ERR_REPEAT_JOIN_REQUEST]:{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"},[xA.ERR_REPEAT_JOIN_CHANNEL]:{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"},[xA.ERR_INVALID_STRINGUID]:{desc:"ERR_INVALID_STRINGUID",action:"failed"},[xA.ERR_TOO_MANY_USERS]:{desc:"ERR_TOO_MANY_USERS",action:"tryNext"},[xA.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[xA.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[xA.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"},[xA.ERR_PUBLISH_REQUEST_INVALID]:{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"},[xA.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"},[xA.ERR_NOT_SUPPORTED_MESSAGE]:{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"},[xA.ERR_ILLEAGAL_PLUGIN]:{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"},[xA.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"},[xA.ERR_REJOIN_TOKEN_INVALID]:{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"},[xA.ERR_REJOIN_USER_NOT_JOINED]:{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"},[xA.ERR_INVALID_OPTIONAL_INFO]:{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"},[xA.ERR_TEST_RECOVER]:{desc:"ERR_TEST_RECOVER",action:"recover"},[xA.ERR_TEST_TRYNEXT]:{desc:"ERR_TEST_TRYNEXT",action:"recover"},[xA.ERR_TEST_RETRY]:{desc:"ERR_TEST_RETRY",action:"recover"},[xA.ILLEGAL_AES_PASSWORD]:{desc:"ERR_TEST_RETRY",action:"failed"},[xA.ERR_TOO_MANY_BROADCASTERS]:{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"},[xA.ERR_TOO_MANY_SUBSCRIBERS]:{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"},[xA.ERR_LICENSE_ILLEGAL]:{desc:"ERR_LICENSE_ILLEGAL",action:"quit"},[xA.ERR_LICENSE_MISSING]:{desc:"ERR_LICENSE_MISSING",action:"quit"},[xA.ERR_LICENSE_EXPIRED]:{desc:"ERR_LICENSE_EXPIRED",action:"quit"},[xA.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:"ERR_LICENSE_MINUTES_EXCEEDED",action:"quit"},[xA.ERR_LICENSE_PERIOD_INVALID]:{desc:"ERR_LICENSE_PERIOD_INVALID",action:"quit"},[xA.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:"ERR_LICENSE_MULTIPLE_SDK_SERVICE",action:"quit"}};function DO(t){const e=xO[t];return e||{desc:"UNKNOWN_ERROR_".concat(t),action:"failed"}}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function NO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kO(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function PO(t){return t.every(t=>t.readyState===WebSocket.CLOSED||t.readyState===WebSocket.CLOSING)}function LO(t,e){if("string"==typeof t)return t;const{proxy:n,host:i,port:r}=t;if(e){const t=JI("JOIN_GATEWAY_FALLBACK_PORT")||443;return 443===t?"wss://".concat(i,"/ws/?p=").concat(Number(r)+150):"wss://".concat(i,":").concat(t,"/ws/?p=").concat(Number(r)+150)}return n?"wss://".concat(n,"/ws/?h=").concat(i,"&p=").concat(r):"wss://".concat(i,":").concat(r)}const MO=/wss:\/\/(.+)\/ws\/\?h=(.+)&p=([0-9]+)\/?/,VO=/wss:\/\/(.+)\/ws\/\?p=([0-9]+)\/?/,UO=/wss:\/\/(.+):([0-9]+)\/?/,BO=/wss:\/\/(.[^\/]+)\/?/;let jO=0;class FO{constructor(t,e){jE(this,"id",0),jE(this,"store",void 0),jE(this,"recordIndex",void 0),jE(this,"websockets",[]),jE(this,"try443PortDuration",2e3),jE(this,"forceCloseWSDuration",5e3),jE(this,"try443PortTimeout",null),jE(this,"forceCloseTimeout",null),jE(this,"isTry443PortFailed",!1),jE(this,"isNormalPortFailed",!1),jE(this,"useDoubleDomain",!1),jE(this,"useProxy",!1),jE(this,"startTime",Date.now()),this.id=++jO,this.try443PortDuration=JI("JOIN_GATEWAY_TRY_443PORT_DURATION")||2e3,this.forceCloseWSDuration=t||5e3,this.store=e}closeAllWebsockets(){this.websockets.forEach(t=>{t.onopen=null,t.onclose=null,t.onmessage=null,t.close()}),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout)}logger(){var t;const e=Date.now()-this.startTime;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];gR.debug("[choose-best-ws ".concat(null===(t=this.store)||void 0===t?void 0:t.clientId," ").concat(this.id,"] ").concat(e,"ms:"),...i)}createWebSocket(t,e,n){this.logger("createWebSocket:",t,{isTry443Port:e,hasTimeoutDetection:n});const i=JI("GATEWAY_DOMAINS"),r=Date.now(),o=[],s=i.find(e=>{var n;return Pi(n=t.host).call(n,e)});s||(this.useDoubleDomain=!1);const a=[];if(this.useDoubleDomain)i.forEach(n=>{a.push(LO(NO(NO({},t),{},{host:t.host.replace(s,n)}),e))});else{const n=NO({},t);if(e&&s){const t=i.find(t=>t!==s);t&&(n.host=n.host.replace(s,t))}a.push(LO(n,e))}try{a.forEach(t=>{const e=new WebSocket(t);e.binaryType="arraybuffer",o.push(e),this.logger("ws is connecting:",e.url)})}catch(i){if(this.logger("ws create failed"),o.forEach(t=>t.close()),o.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(t,e,n);if(!e&&443!==Number(t.port))return this.createWebSocket(t,!0,n);throw new IR(SC.WS_ERR,"init websocket failed! Error: ".concat(i.toString()))}const c=Mw();return this.store&&this.store.recordJoinChannelService({urls:o.map(t=>t.url),service:"gateway"},this.recordIndex),o.forEach(t=>{t.onopen=()=>{this.logger("onopen: ws ".concat(t.url," open cost ").concat(Date.now()-r,"ms")),this.websockets.forEach(e=>{e!==t&&(e.onopen=null,e.onclose=null,e.onmessage=null,e.close(),this.logger("close backup websocket: ".concat(e.url)))}),this.websockets.length=0,c.resolve(t)},t.onclose=n=>{this.logger("onclose: ws ".concat(t.url," closed cost ").concat(Date.now()-r,"ms state: ").concat(t.readyState)),e?this.isTry443PortFailed=PO(o):this.isNormalPortFailed=PO(o),this.logger("443: ".concat(this.useProxy?"not try":this.isTry443PortFailed?"failed":"trying"," 47xx: ").concat(this.isNormalPortFailed?"failed":"trying")),(e&&this.isTry443PortFailed||!e&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger("onclose: all websocket is closed, ".concat(n.reason)),c.reject({code:n.code,reason:eO.A_ROUND_WS_FAILED}))},t.onmessage=e=>this.logger("".concat(t.url," onmessage: ").concat(e.data))}),this.websockets.push(...o),n||(()=>{const n=()=>{this.logger("5s timeout close un-opens, isWebsocket created: ",c.isResolved),this.websockets.forEach(t=>t.readyState!==WebSocket.OPEN&&t.close())};if(e||this.useProxy)return this.logger("add 5s timeout at ".concat(e?"try-443":"proxy"," condition")),this.forceCloseTimeout=window.setTimeout(n,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout(()=>{if(this.logger("2s timeout, isWebsocket created: ",c.isResolved),c.isResolved)return n();$w().os===jw.MAC_OS&&Qw()&&n(),this.createWebSocket(t,!0,!0).then(t=>c.resolve(t)).catch(t=>{this.isNormalPortFailed&&c.reject(t),this.logger("try 443 port to create ws failed")}),this.forceCloseTimeout=window.setTimeout(n,this.forceCloseWSDuration)},this.try443PortDuration)})(),c.promise}chooseBestWebsocket(t,e,n,i){return this.useDoubleDomain=!!e,"string"==typeof t&&(t=function(t){let e,n,i;return[,e,n,i]=t.match(MO)||[],e||([,n,i]=t.match(VO)||[]),n&&i||([,n,i]=t.match(UO)||[]),n&&i||([,n]=t.match(BO)||[]),n||gR.warning("un-destructible url: ",t),{proxy:e,host:n,port:i||"443"}}(t)),this.recordIndex=i,this.useProxy=!!t.proxy,n&&this.useProxy&&(gR.warn("cannot use 443 only when use proxy"),n=!1),this.createWebSocket(t,!!n,!1).finally(()=>this.clearTimeout())}}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}class WO extends UC{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(t){var e;Pi(e=["tryNext","recover"]).call(e,t)&&this.resetReconnectCount(t),this._reconnectMode=t}get state(){return this._state}set state(t){t!==this._state&&(this._state=t,"reconnecting"===this._state?this.emit(VA.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(VA.CONNECTED):"closed"===this._state?this.emit(VA.CLOSED):"failed"===this._state&&this.emit(VA.FAILED))}resetReconnectCount(t){gR.debug("websocket reset reconnect count, reason: "+t),this.reconnectCount=0}constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;super(),jE(this,"connectionID",0),jE(this,"currentURLIndex",0),jE(this,"urls",[]),jE(this,"_reconnectMode","tryNext"),jE(this,"reconnectReason",void 0),jE(this,"_initMutex",new DI("websocket")),jE(this,"name",void 0),jE(this,"_state","closed"),jE(this,"reconnectInterrupter",void 0),jE(this,"websocket",void 0),jE(this,"retryConfig",void 0),jE(this,"reconnectCount",0),jE(this,"forceCloseTimeout",5e3),jE(this,"onlineReconnectListener",void 0),jE(this,"useCompress",void 0),jE(this,"tryDoubleDomain",!1),jE(this,"use443PortOnly",!1),jE(this,"wsInflateLength",0),jE(this,"wsDeflateLength",0),jE(this,"closeEstablishingWs",()=>{}),jE(this,"store",void 0),jE(this,"joinGatewayRecordIndex",void 0),this.store=o,this.name=t,this.retryConfig=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?HO(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e),this.useCompress=n,this.tryDoubleDomain=i,this.use443PortOnly=r;const{timeout:s,timeoutFactor:a}=e,c=Math.max(300,Math.floor(3*s/5)),l=Math.max(1.2,Math.floor(8*a)/10);JC.ONLINE&&(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=l),iI.on(ZC.NETWORK_STATE_CHANGE,(t,e)=>{t!==e&&(this.resetReconnectCount("network state change: ".concat(e," -> ").concat(t)),t===JC.ONLINE?(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=l):(this.retryConfig.timeout=s,this.retryConfig.timeoutFactor=a))})}getConnection(){return this.websocket||void 0}async init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=await this._initMutex.lock();this.forceCloseTimeout=e,this.urls=t,this.state="connecting";try{const t=Mw(),e=this.urls[this.currentURLIndex];JI("ENABLE_PREALLOC_PC")&&this.emit(yO.PRE_CONNECT_PC),this.createWebSocketConnection(e).then(t.resolve).catch(t.reject),this.once(VA.CLOSED,()=>{t.reject(new TC(SC.WS_DISCONNECT))}),this.once(VA.CONNECTED,t.resolve),await t.promise}catch(t){}finally{n()}}close(t,e){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const t=this.websocket;e?setTimeout(()=>t.close(),500):t.close(),this.websocket=void 0}this.state=t?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(t,e){if(!this.websocket)return void gR.warning("[".concat(this.name,"] can not reconnect, no websocket"));void 0!==t&&(this.reconnectMode=t),gR.debug("[".concat(this.name,"] reconnect is triggered initiative")),"number"==typeof this.joinGatewayRecordIndex&&this.store&&this.store.recordJoinChannelService({status:"error",errors:[new Error(e)]},this.joinGatewayRecordIndex);const n=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),n&&n.bind(this.websocket)({code:9999,reason:e})}sendMessage(t){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new TC(SC.WS_ABORT,"websocket is not ready");try{e||(t=JSON.stringify(t)),this.websocket.send(t)}catch(t){throw new TC(SC.WS_ERR,"send websocket message error"+t.toString())}}setWsInflateData(t){this.wsDeflateLength=this.wsDeflateLength+t.originLength,this.wsInflateLength=this.wsInflateLength+t.compressedLength}getWsInflateData(){const t=this.wsInflateLength,e=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:t,wsDeflateLength:e}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(t){var e;const n=Mw();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const i=t=>{var e;null===(e=this.store)||void 0===e||e.signalChannelOpen(),gR.debug("[".concat(this.name,"] websocket opened:"),t),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),n.resolve()},r=async t=>{var e;if(gR.debug("[".concat(this.name,"] websocket close ").concat(null===(e=this.websocket)||void 0===e?void 0:e.url,", code: ").concat(t.code,", reason: ").concat(t.reason,", current mode: ").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)n.reject(new TC(SC.WS_DISCONNECT,"websocket close: ".concat(t.code))),this.close();else{"connected"===this.state&&(this.reconnectReason=t.reason,this.state="reconnecting");const e=eI(this,VA.WILL_RECONNECT,this.reconnectMode,t.reason)||this.reconnectMode,i=await this.reconnectWithAction(e);if("closed"===this.state)return void gR.debug("[".concat(this.connectionID,"] ws is closed, no need to reconnect"));if(!i)return n.reject(new TC(SC.WS_DISCONNECT,"websocket reconnect failed: ".concat(t.code))),this.close(!0);n.resolve()}},o=t=>{this.emit(VA.ON_MESSAGE,t)},s=t=>{gR.warn("[".concat(this.connectionID,"] ws open error ").concat(t))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),JI("GATEWAY_WSS_ADDRESS")&&this.name.startsWith("gateway")&&(t=JI("GATEWAY_WSS_ADDRESS")),gR.debug("[".concat(this.name,"] start connect, url:"),t);const a=null===(e=this.store)||void 0===e?void 0:e.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});try{var c;const e=await this.chooseBestWebsocketConnection(t);this.websocket=e,i&&i(this.websocket.url),this.websocket.onclose=r,this.websocket.onmessage=o,this.websocket.onerror=s,null===(c=this.store)||void 0===c||c.recordJoinChannelService({endTs:Date.now(),status:"success"},a),this.joinGatewayRecordIndex=a}catch(t){const e="closed"===this.state,i=t instanceof TC,o=i&&t.code===SC.WS_ABORT,s=i&&t.code===SC.WS_ERR,c=i?t.message:t&&(t.reason||t.toString());gR.warning("[choose-best-ws] chooseBestWebsocket error: ".concat(c)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:o?"aborted":"error",errors:[t]},a),e||s?(n.reject(e?new TC(SC.WS_DISCONNECT,"websocket is closed: ".concat(c)):new TC(SC.WS_ERR,"init websocket failed: ".concat(c))),s&&gR.error("[".concat(this.name,"] init websocket failed: ").concat(c))):r&&r(t)}return n.promise}async reconnectWithAction(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(0===this.urls.length)return!1;if("closed"===this.state)return!1;gR.warning("[choose-best-ws] action: =>",t),this.onlineReconnectListener||iI.isOnline||!iI.onlineWaiter||(this.onlineReconnectListener=iI.onlineWaiter.then(()=>{this.onlineReconnectListener=void 0}));let n=!0;if(this.reconnectInterrupter=()=>n=!1,e){const e=PI(this.reconnectCount,this.retryConfig);gR.debug("[".concat(this.name,"] wait ").concat(e,"ms to reconnect websocket, mode: ").concat(t)),await $h.race([_I(e),this.onlineReconnectListener||new $h(()=>{})])}if("closed"===this._state||!n)return!1;this.reconnectCount+=1;const i=async(t,e)=>{this.emit(VA.RECONNECT_CREATE_CONNECTION,e),await this.createWebSocketConnection(t)};try{if("retry"===t)this.emit(VA.RECONNECT_WAITTING_FINISH,t),await i(this.urls[this.currentURLIndex],t);else if("tryNext"===t){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction("recover",!1);gR.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),this.emit(VA.RECONNECT_WAITTING_FINISH,t),await i(this.urls[this.currentURLIndex],t)}else"recover"===t&&(gR.debug("[".concat(this.name,"] request new urls")),this.resetReconnectCount("recover mode"),this.emit(VA.RECONNECT_WAITTING_FINISH,t),this.urls=await QC(this,VA.REQUEST_NEW_URLS),this.currentURLIndex=0,await i(this.urls[this.currentURLIndex],t))}catch(n){var r;gR.error("[".concat(this.name,"] reconnect failed ").concat(n&&n.toString()));const i=null==n||null===(r=n.data)||void 0===r?void 0:r.desc;return Array.isArray(i)&&Pi(i).call(i,"dynamic key expired")?(this.emit(VA.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(t,e)}return!0}}class GO extends WO{constructor(t,e){super(t,e,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(t,e){const n=Mw(),i=function(t,e){return new FO(t,e)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{gR.debug("[choose-best-ws] close establishing websockets"),i.closeAllWebsockets(),n.reject(new TC(SC.WS_ABORT,"choose best websocket aborted"))};const r=JI("GATEWAY_DOMAINS");return gR.debug("[choose-best-ws] currentDomain: ",t,", domains: ",r,"total: ".concat(this.urls.length),"current: ".concat(this.currentURLIndex+1)),i.chooseBestWebsocket(t,this.tryDoubleDomain,this.use443PortOnly,e).then(n.resolve).catch(n.reject),n.promise.finally(()=>{this.closeEstablishingWs=void 0})}}class $O extends WO{constructor(t,e){super(t,e,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(t,e){return new $h((n,i)=>{let r=!1;const o=[];this.closeEstablishingWs=()=>{gR.debug("[choose-best-ws] close establishing websockets"),o.forEach(t=>{t.onclose=null,t.onopen=null,t.onmessage=null,t.close()}),i(new TC(SC.WS_ABORT,"choose best websocket aborted"))};const s=JI("GATEWAY_DOMAINS");let a;const c=t.indexOf("?h="),l=s.find(e=>-1!==c?Pi(t).call(t,e,c):Pi(t).call(t,e));gR.debug("[choose-best-ws] currentDomain: ",l,", domains: ",s);let u=!this.tryDoubleDomain||!l;if(!u&&l){var d;const h=Date.now();try{s.forEach(e=>{const n=-1===c?t.replace(l,e):t.substr(0,c)+t.substr(c).replace(l,e),i=new WebSocket(n);i.binaryType="arraybuffer",o.push(i),gR.debug("[choose-best-ws] ws is connecting:",i.url)})}catch(t){for(gR.debug("[choose-best-ws] ws create failed, fallback to single url"),o.forEach(t=>t.close());o.length;)o.pop();u=!0}null===(d=this.store)||void 0===d||d.recordJoinChannelService({urls:o.map(t=>t.url),service:"gateway"},e),o.forEach(t=>{t.onopen=()=>{if(r)return;const e=Date.now()-h;gR.debug("[choose-best-ws] ws open cost ".concat(e,"ms")),o.filter(e=>e!==t).forEach(t=>{gR.debug("[choose-best-ws]close backup websocket: ".concat(t.url)),t.close()}),r=!0,n(t)},t.onclose=t=>{a=t,r||o.find(t=>!(t.readyState===WebSocket.CLOSED||t.readyState===WebSocket.CLOSING))||(gR.debug("[choose-best-ws] all websocket is closed"),r=!0,i(a))},t.onmessage=e=>{gR.debug("[choose-best-ws]".concat(t.url," onmessage: ").concat(e.data))}}),_I(this.forceCloseTimeout).then(()=>{o.forEach(t=>{t.readyState!==WebSocket.OPEN&&t.close()})})}if(u){var h;let r;gR.debug("[choose-best-ws] use single url: ",t),null===(h=this.store)||void 0===h||h.recordJoinChannelService({urls:[t],service:"gateway"},e);try{r=new WebSocket(t),o.push(r),r.binaryType="arraybuffer"}catch(t){const n=new TC(SC.WS_ERR,"init websocket failed! Error: ".concat(t.toString()));return gR.error("[".concat(this.name,"]").concat(n)),void i(n)}r.onopen=()=>{n(r)},r.onclose=t=>{i(t)},r.onmessage=t=>{gR.debug("[choose-best-ws]".concat(r.url," onmessage: ").concat(t.data))},_I(this.forceCloseTimeout).then(()=>{r&&r.readyState!==WebSocket.OPEN&&r.close()})}}).then(t=>(this.closeEstablishingWs=void 0,t)).catch(t=>{throw this.closeEstablishingWs=void 0,t})}}class zO extends UC{get connectionState(){return this._connectionState}set connectionState(t){t!==this._connectionState&&(this._connectionState=t,t===DA.CONNECTED?this.emit(kA.WS_CONNECTED):t===DA.RECONNECTING?this.emit(kA.WS_RECONNECTING,this._websocketReconnectReason):t===DA.CLOSED&&this.emit(kA.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(t,e){super(),jE(this,"_disconnectedReason",void 0),jE(this,"_websocketReconnectReason",void 0),jE(this,"_connectionState",DA.CLOSED),jE(this,"reconnectToken",void 0),jE(this,"websocket",void 0),jE(this,"openConnectionTime",void 0),jE(this,"clientId",void 0),jE(this,"lastMsgTime",Date.now()),jE(this,"uploadCache",[]),jE(this,"uploadCacheInterval",void 0),jE(this,"rttRolling",new MI(5)),jE(this,"pingpongTimer",void 0),jE(this,"wsInflateDataTimer",void 0),jE(this,"pingpongTimeoutCount",0),jE(this,"joinResponse",void 0),jE(this,"multiIpOption",void 0),jE(this,"initError",void 0),jE(this,"spec",void 0),jE(this,"store",void 0),jE(this,"onWebsocketMessage",t=>{if(t.data instanceof ArrayBuffer)return void this.emit(kA.ON_BINARY_DATA,t.data);const e=JSON.parse(t.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(e,"_id")){const t="res-@".concat(e._id);this.emit(t,e._result,e._message)}else if(Object.prototype.hasOwnProperty.call(e,"_type")){if(this.emit(e._type,e._message),e._type===LA.ON_NOTIFICATION&&this.handleNotification(e._message),e._type===LA.ON_USER_BANNED)switch(e._message.error_code){case 14:this.close($C.UID_BANNED);break;case 15:this.close($C.IP_BANNED);break;case 16:this.close($C.CHANNEL_BANNED)}if(e._type===LA.ON_USER_LICENSE_BANNED)switch(e._message.error_code){case xA.ERR_LICENSE_MISSING:this.close($C.LICENSE_MISSING);break;case xA.ERR_LICENSE_EXPIRED:this.close($C.LICENSE_EXPIRED);break;case xA.ERR_LICENSE_MINUTES_EXCEEDED:this.close($C.LICENSE_MINUTES_EXCEEDED);break;case xA.ERR_LICENSE_PERIOD_INVALID:this.close($C.LICENSE_PERIOD_INVALID);break;case xA.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close($C.LICENSE_MULTIPLE_SDK_SERVICE);break;case xA.ERR_LICENSE_ILLEGAL:this.close($C.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=t.clientId,this.spec=t,this.store=e,this.websocket=new GO("gateway-".concat(this.clientId),this.spec.retryConfig,!0,JI("JOIN_GATEWAY_USE_DUAL_DOMAIN"),JI("JOIN_GATEWAY_USE_443PORT_ONLY"),e),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===DA.CONNECTED&&this.reconnect("retry",XC.OFFLINE)})}async request(t,e,n,i){const r=yI(6,""),o={_id:r,_type:t,_message:e},s=this.websocket.connectionID,a=()=>new $h((e,n)=>{if(this.connectionState===DA.CONNECTED)return e();const i=()=>{this.off(kA.WS_CLOSED,r),e()},r=()=>{this.off(kA.WS_CONNECTED,i),n(new IR(SC.WS_ABORT))};this.once(kA.WS_CONNECTED,i),this.once(kA.WS_CLOSED,r),t!==NA.PUBLISH&&t!==NA.PUBLISH_DATASTREAM&&t!==NA.SUBSCRIBE&&t!==NA.SUBSCRIBE_DATASTREAM&&t!==NA.UNSUBSCRIBE&&t!==NA.UNSUBSCRIBE_DATASTREAM&&t!==NA.UNPUBLISH&&t!==NA.UNPUBLISH_DATASTREAM&&t!==NA.CONTROL&&t!==NA.RESTART_ICE||this.once(kA.DISCONNECT_P2P,()=>{n(new IR(SC.DISCONNECT_P2P))}),t!==NA.PUBLISH&&t!==NA.RESTART_ICE||this.once(kA.ABORT_P2P_EXECUTION,()=>{n(new IR(SC.DISCONNECT_P2P))})});if(this.connectionState!==DA.CONNECTING&&this.connectionState!==DA.RECONNECTING||t===NA.JOIN||t===NA.REJOIN||await a(),this.websocket.sendMessage(o,!0),i)return;const c=new $h((n,i)=>{let o=!1;const a=(i,r)=>{o=!0,n({isSuccess:"success"===i,message:r||{}}),this.off(kA.WS_CLOSED,c),this.off(kA.WS_RECONNECTING,c),this.emit(kA.REQUEST_SUCCESS,t,e)};this.once("res-@".concat(r),a);const c=()=>{i(new IR(SC.WS_ABORT,"type: ".concat(t))),this.off(kA.WS_CLOSED,c),this.off(kA.WS_RECONNECTING,c),this.off("res-@".concat(r),a)};this.once(kA.WS_CLOSED,c),this.once(kA.WS_RECONNECTING,c),_I(JI("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==s||o||(gR.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(t)),this.emit(kA.REQUEST_TIMEOUT,t,e))})});let l=null;try{l=await c}catch(i){if(this.connectionState===DA.CLOSED||t===NA.LEAVE)throw new IR(SC.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?i.throw():t===NA.JOIN||t===NA.REJOIN?null:(await a(),await this.request(t,e))}if(l.isSuccess)return l.message;const u=Number(l.message.error_code||l.message.code),d=DO(u),h=new IR(SC.UNEXPECTED_RESPONSE,"".concat(d.desc,": ").concat(l.message.error_str),{code:u,data:l.message,desc:d.desc});return"success"===d.action?l.message:(gR.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(t,", error_code: ").concat(u,", message: ").concat(d.desc,", action: ").concat(d.action)),u===xA.ERR_TOO_MANY_BROADCASTERS?t===NA.JOIN||t===NA.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===d.action?h.throw():"quit"===d.action?(this.initError=h,this.close(),h.throw()):(u===xA.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,gR.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",XC.MULTI_IP)):this.reconnect(d.action,XC.SERVER_ERROR),t===NA.JOIN||t===NA.REJOIN?null:await this.request(t,e)))}waitMessage(t,e){return new $h(n=>{const i=r=>{(!e||e(r))&&(this.off(t,i),n(r))};this.on(t,i)})}uploadWRTCStats(t){if(!this.store.sessionId)return void gR.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const e={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:t};this.upload(PA.WRTC_STATS,e)}upload(t,e){const n={_type:t,_message:e};try{this.websocket.sendMessage(n)}catch(t){const e=JI("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>e&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==DA.CONNECTED)return;const t=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(t._type,t._message)},JI("UPLOAD_CACHE_INTERVAL")||2e3))}}send(t,e){const n={_type:t,_message:e};this.websocket.sendMessage(n)}init(t,e){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new $h((e,n)=>{this.once(kA.WS_CONNECTED,()=>e(this.joinResponse)),this.once(kA.WS_CLOSED,()=>n(this.initError||new IR(SC.WS_ABORT))),this.connectionState=DA.CONNECTING,this.websocket.init(t).catch(n),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval(()=>{this.handleWsInflateData()},2e4)})}close(t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=t||$C.LEAVE,this.connectionState=DA.CLOSED,gR.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close()}async join(){if(!this.joinResponse){this.emit(kA.ABORT_P2P_EXECUTION);const t=await QC(this,kA.REQUEST_JOIN_INFO),e=await this.request(NA.JOIN,t);if(!e)return this.emit(kA.REPORT_JOIN_GATEWAY,eO.TIMEOUT,this.url||""),!1;this.joinResponse=e,this.emit(kA.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=DA.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new IR(SC.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const t=nI(this,kA.REQUEST_REJOIN_INFO);t.token=this.reconnectToken;const e=await this.request(NA.REJOIN,t);return!!e&&(this.connectionState=DA.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),e.peers&&e.peers.forEach(t=>{this.emit(LA.ON_USER_ONLINE,{uid:t.uid}),t.audio&&this.emit(LA.ON_ADD_AUDIO_STREAM,{uid:t.uid,uint_id:t.uint_id,audio:!0,ssrcId:t.audio_ssrc}),t.video&&this.emit(LA.ON_ADD_VIDEO_STREAM,{uid:t.uid,uint_id:t.uint_id,video:!0,ssrcId:t.video_ssrc}),t.audio_mute?this.emit(LA.MUTE_AUDIO,{uid:t.uid}):this.emit(LA.UNMUTE_AUDIO,{uid:t.uid}),t.video_mute?this.emit(LA.MUTE_VIDEO,{uid:t.uid}):this.emit(LA.UNMUTE_VIDEO,{uid:t.uid}),t.audio_enable_local?this.emit(LA.ENABLE_LOCAL_AUDIO,{uid:t.uid}):this.emit(LA.DISABLE_LOCAL_AUDIO,{uid:t.uid}),t.video_enable_local?this.emit(LA.ENABLE_LOCAL_VIDEO,{uid:t.uid}):this.emit(LA.DISABLE_LOCAL_VIDEO,{uid:t.uid}),t.audio||t.video||this.emit(LA.ON_REMOVE_STREAM,{uid:t.uid,uint_id:t.uint_id})}),!0)}reconnect(t,e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(t,e)}handleNotification(t){gR.debug("[".concat(this.clientId,"] receive notification: "),t);const e=DO(t.code);if(28===t.code&&"detail"in t&&(gR.info("[".concat(this.clientId,"] receive recover notification: "),t.detail),this.emit(kA.RECOVER_NOTIFICATION,t.detail)),"success"!==e.action){if("failed"!==e.action)return"quit"===e.action?("ERR_REPEAT_JOIN_CHANNEL"===e.desc&&this.close($C.UID_BANNED),void this.close()):void this.reconnect(e.action,XC.SERVER_ERROR);gR.error("[".concat(this.clientId,"] ignore error: "),e.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const t=JI("PING_PONG_TIME_OUT"),e=Date.now();this.pingpongTimeoutCount>=t&&(gR.warning("[".concat(this.clientId,"] PING-PONG Timeout. Last Socket Message: ").concat(e-this.lastMsgTime,"ms")),e-this.lastMsgTime>JI("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",XC.TIMEOUT):this.request(NA.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const t=Date.now()-e;this.rttRolling.add(t),JI("REPORT_STATS")&&this.send(NA.PING_BACK,{pingpongElapse:t})}).catch(t=>{})}handleWsInflateData(){const{wsInflateLength:t,wsDeflateLength:e}=this.websocket.getWsInflateData();0!==t&&0!==e&&this.upload(PA.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:e,ws_inflate_length:t})}handleWebsocketEvents(){this.websocket.on(VA.RECONNECT_WAITTING_FINISH,t=>{this.emit(kA.WS_RECONNECT_WAITTING_FINISH,t)}),this.websocket.on(VA.RECONNECT_CREATE_CONNECTION,t=>{this.emit(kA.WS_RECONNECT_CREATE_CONNECTION,t)}),this.websocket.on(VA.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(VA.CLOSED,()=>{this.connectionState=DA.CLOSED}),this.websocket.on(VA.FAILED,()=>{this._disconnectedReason=$C.NETWORK_ERROR,this.connectionState=DA.CLOSED}),this.websocket.on(VA.RECONNECTING,t=>{this._websocketReconnectReason=t,this.joinResponse=void 0,this.connectionState===DA.CONNECTED?this.connectionState=DA.RECONNECTING:this.connectionState=DA.CONNECTING}),this.websocket.on(VA.WILL_RECONNECT,(t,e,n)=>{const i=nI(this,kA.IS_P2P_DISCONNECTED),r=i||"retry"!==t;i&&"retry"===t&&(gR.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),t="tryNext",e=eO.P2P_DISCONNECTED),r&&(gR.debug("".concat(this.clientId," will renewSession, reconnect mode: ").concat(t)),this.emit(kA.REPORT_JOIN_GATEWAY,e||eO.UNKNOWN_REASON,this.url||""),this.reconnectToken=void 0,this.emit(kA.DISCONNECT_P2P)),n(t)}),this.websocket.on(VA.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch(t=>{gR.warning("[".concat(this.clientId,"] rejoin failed ").concat(t)),this.reconnect("tryNext",XC.SERVER_ERROR)}):this.join().catch(t=>{if(this.emit(kA.REPORT_JOIN_GATEWAY,t,this.url||""),t instanceof IR){if(t.code===SC.UNEXPECTED_RESPONSE&&t.data.code===xA.ERR_NO_AUTHORIZED)return this.initError=new IR(SC.CAN_NOT_GET_GATEWAY_SERVER,"AgoraRTCError CAN_NOT_GET_GATEWAY_SERVER: dynamic key expired"),gR.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",XC.SERVER_ERROR);gR.error("[".concat(this.clientId,"] join gateway request failed"),t.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",XC.SERVER_ERROR):(this.initError=t,this.close())}})}),this.websocket.on(VA.REQUEST_NEW_URLS,(t,e)=>{QC(this,kA.REQUEST_RECOVER,this.multiIpOption).then(t).catch(e)}),this.websocket.on(VA.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(LA.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}),this.websocket.on(yO.PRE_CONNECT_PC,()=>{this.emit(kA.PRE_CONNECT_PC)})}}let YO=function(t){return t[t.CHOOSE_SERVER=11]="CHOOSE_SERVER",t[t.CLOUD_PROXY=18]="CLOUD_PROXY",t[t.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",t[t.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK",t}({});function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function qO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?KO(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function XO(t){return t.match(/^[\.\:\d]+$/)?"".concat(t.replace(/[^\d]/g,"-"),".").concat(JI("TURN_DOMAIN")):(gR.info("Unidentified as ip: ".concat(t,", use as host")),t)}function JO(t,e){t.addresses||(t.addresses=[]);const n=function(t,e){if(JI("CONNECT_GATEWAY_WITHOUT_DOMAIN"))return t.map(t=>{let{ip:e,port:n}=t;return{address:"".concat(e,":").concat(n)}});const n=JI("GATEWAY_DOMAINS");let i=n[1]&&Pi(e).call(e,n[1])?1:0;return t.map(t=>{let{domain_prefix:e,port:r,ip:o}=t;if(e)return{address:"".concat(e,".").concat(n[i++%n.length],":").concat(r)};const s=/^[\.\:\d]+$/.test(o),a=s?"".concat(o.replace(/[^\d]/g,"-"),".").concat(n[i++%n.length],":").concat(r):"".concat(o,":").concat(r);return s||gR.info("Unidentified as ip: ".concat(o,", use as host")),{ip:o,port:r,address:a}})}(t.addresses,e),i=Array.isArray(t.detail)&&t.detail[18];if(i&&"string"==typeof i){const t=i.split(";");for(let e=0;e<t.length;e++){var r;const i=Gp(r=t[e]).call(r);n[e]&&i&&(n[e].ip6=i)}}const o=t.detail&&t.detail.candidate;let s;if(o){const[t,e]=o.split(":");t&&e&&(s={port:Number(e),ip:t,address:"".concat(t,":").concat(e)})}return{gatewayAddrs:n,apGatewayAddress:s,uid:t.uid,cid:t.cid,cert:t.cert,vid:t.detail&&t.detail[8],uni_lbs_ip:t.detail&&t.detail[1],res:t,csIp:t.detail&&t.detail[502]}}function ZO(t){return"number"==typeof t?t:t.exact||t.ideal||t.max||t.min||0}function QO(t){const e=t._encoderConfig;if(!e)return{};const n={resolution:e.width&&e.height?"".concat(ZO(e.width),"x").concat(ZO(e.height)):void 0,maxVideoBW:e.bitrateMax,minVideoBW:e.bitrateMin};return"number"==typeof e.frameRate?(n.maxFrameRate=e.frameRate,n.minFrameRate=e.frameRate):e.frameRate&&(n.maxFrameRate=e.frameRate.max||e.frameRate.ideal||e.frameRate.exact||e.frameRate.min,n.minFrameRate=e.frameRate.min||e.frameRate.ideal||e.frameRate.exact||e.frameRate.max),n}function tx(t){return t>=0&&t<.17?1:t>=.17&&t<.36?2:t>=.36&&t<.59?3:t>=.59&&t<=1?4:t>1?5:0}function ex(t,e){let n,i,r;switch(e){case YO.CHOOSE_SERVER:i=4096,r="choose server";break;case YO.CLOUD_PROXY:i=1048576,r="proxy";break;case YO.CLOUD_PROXY_5:i=4194304,r="proxy5";break;case YO.CLOUD_PROXY_FALLBACK:i=4194310,r="proxy fallback";break;default:throw new IR(SC.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:t.detail&&t.detail[502],retry:!1})}if(t.response_body.forEach(e=>{e.buffer&&e.buffer.flag===i&&(n={code:e.buffer.code,addresses:(e.buffer.edges_services||[]).map(t=>qO(qO({},t),{},{ticket:e.buffer.cert})),server_ts:t.enter_ts,uid:e.buffer.uid,cid:e.buffer.cid,cname:e.buffer.cname,detail:qO(qO({},e.buffer.detail),t.detail),flag:e.buffer.flag,opid:t.opid,cert:e.buffer.cert})}),!n)throw new IR(SC.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(r," from multi unilbs response"),{csIp:t.detail&&t.detail[502]});return n}async function nx(t,e){return await $h.all(t.addresses.map(async t=>({address:XO(t.ip),tcpport:t.port,udpport:t.port,username:e&&JI("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?e.toString():zI.username,password:e&&JI("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?await VC(e.toString()):zI.password})))}function ix(t,e){const n=e.getMediaStreamTrack(!0).getSettings(),i=e.videoHeight||n.height,r=e.videoWidth||n.width;return i&&r?Math.max(Math.min(i,r)/Math.min(ZO(t.height),ZO(t.width)),1):(gR.warning("can't get ori-track's height, default scale down 4 times for low stream"),4)}function rx(t){let{candidateType:e,relayProtocol:n,type:i,address:r,port:o,protocol:s}=t;return"local-candidate"===i?{candidateType:e,relayProtocol:n,protocol:s}:{candidateType:e,relayProtocol:n,address:r,port:o,protocol:s}}var ox,sx=o(eA),ax=ti("Array").values,cx=vi,lx=ee,ux=p,dx=ax,hx=Array.prototype,px={DOMTokenList:!0,NodeList:!0},fx=function(t){var e=t.values;return t===hx||ux(hx,t)&&e===hx.values||lx(px,cx(t))?dx:e},mx=o(fx),vx=N,gx=h,_x=M,yx=s,Ex=io,bx=Wr,Sx=V,Tx=Zt,wx=K,Cx=Object.assign,Ix=Object.defineProperty,Rx=gx([].concat),Ax=!Cx||yx((function(){if(vx&&1!==Cx({b:1},Cx(Ix({},"a",{enumerable:!0,get:function(){Ix(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=Cx({},t)[n]||Ex(Cx({},e)).join("")!=i}))?function(t,e){for(var n=Tx(t),i=arguments.length,r=1,o=bx.f,s=Sx.f;i>r;)for(var a,c=wx(arguments[r++]),l=o?Rx(Ex(c),o(c)):Ex(c),u=l.length,d=0;u>d;)a=l[d++],vx&&!_x(s,c,a)||(n[a]=c[a]);return n}:Cx,Ox=sn,xx=as,Dx=Qe,kx=M,Nx=Zt,Px=function(t,e,n,i){try{return i?e(Ox(n)[0],n[1]):e(n)}catch(e){xx(t,"throw",e)}},Lx=Go,Mx=Gc,Vx=zn,Ux=yf,Bx=is,jx=Xo,Fx=Array,Hx=h,Wx=2147483647,Gx=/[^\0-\u007E]/,$x=/[.\u3002\uFF0E\uFF61]/g,zx="Overflow: input needs wider integers to process",Yx=RangeError,Kx=Hx($x.exec),qx=Math.floor,Xx=String.fromCharCode,Jx=Hx("".charCodeAt),Zx=Hx([].join),Qx=Hx([].push),tD=Hx("".replace),eD=Hx("".split),nD=Hx("".toLowerCase),iD=function(t){return t+22+75*(t<26)},rD=function(t,e,n){var i=0;for(t=n?qx(t/700):t>>1,t+=qx(t/e);t>455;)t=qx(t/35),i+=36;return qx(i+36*t/(t+38))},oD=function(t){var e=[];t=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=Jx(t,n++);if(r>=55296&&r<=56319&&n<i){var o=Jx(t,n++);56320==(64512&o)?Qx(e,((1023&r)<<10)+(1023&o)+65536):(Qx(e,r),n--)}else Qx(e,r)}return e}(t);var n,i,r=t.length,o=128,s=0,a=72;for(n=0;n<t.length;n++)(i=t[n])<128&&Qx(e,Xx(i));var c=e.length,l=c;for(c&&Qx(e,"-");l<r;){var u=Wx;for(n=0;n<t.length;n++)(i=t[n])>=o&&i<u&&(u=i);var d=l+1;if(u-o>qx((Wx-s)/d))throw Yx(zx);for(s+=(u-o)*d,o=u,n=0;n<t.length;n++){if((i=t[n])<o&&++s>Wx)throw Yx(zx);if(i==o){for(var h=s,p=36;;){var f=p<=a?1:p>=a+26?26:p-a;if(h<f)break;var m=h-f,v=36-f;Qx(e,Xx(iD(f+m%v))),h=qx(m/v),p+=36}Qx(e,Xx(iD(h))),a=rD(s,d,l==c),s=0,l++}}s++,o++}return Zx(e,"")},sD=kn,aD=N,cD=WE,lD=m,uD=Qe,dD=h,hD=ma,pD=mc,fD=Sc,mD=ee,vD=Ax,gD=function(t){var e=Nx(t),n=Mx(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=Dx(r,i>2?arguments[2]:void 0));var s,a,c,l,u,d,h=jx(e),p=0;if(!h||this===Fx&&Lx(h))for(s=Vx(e),a=n?new this(s):Fx(s);s>p;p++)d=o?r(e[p],p):e[p],Ux(a,p,d);else for(u=(l=Bx(e,h)).next,a=n?new this:[];!(c=kx(u,l)).done;p++)d=o?Px(l,r,[c.value,p],!0):c.value,Ux(a,p,d);return a.length=p,a},_D=Cf,yD=Ch.codeAt,ED=function(t){var e,n,i=[],r=eD(tD(nD(t),$x,"."),".");for(e=0;e<r.length;e++)n=r[e],Qx(i,Kx(Gx,n)?"xn--"+oD(n):n);return Zx(i,".")},bD=yi,SD=Pa,TD=el,wD=oS,CD=aa,ID=CD.set,RD=CD.getterFor("URL"),AD=wD.URLSearchParams,OD=wD.getState,xD=lD.URL,DD=lD.TypeError,kD=lD.parseInt,ND=Math.floor,PD=Math.pow,LD=dD("".charAt),MD=dD(/./.exec),VD=dD([].join),UD=dD(1..toString),BD=dD([].pop),jD=dD([].push),FD=dD("".replace),HD=dD([].shift),WD=dD("".split),GD=dD("".slice),$D=dD("".toLowerCase),zD=dD([].unshift),YD="Invalid scheme",KD="Invalid host",qD="Invalid port",XD=/[a-z]/i,JD=/[\d+-.a-z]/i,ZD=/\d/,QD=/^0x/i,tk=/^[0-7]+$/,ek=/^\d+$/,nk=/^[\da-f]+$/i,ik=/[\0\t\n\r #%/:<>?@[\\\]^|]/,rk=/[\0\t\n\r #/:<>?@[\\\]^|]/,ok=/^[\u0000-\u0020]+/,sk=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ak=/[\t\n\r]/g,ck=function(t){var e,n,i,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)zD(e,t%256),t=ND(t/256);return VD(e,".")}if("object"==typeof t){for(e="",i=function(t){for(var e=null,n=1,i=null,r=0,o=0;o<8;o++)0!==t[o]?(r>n&&(e=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(e=i,n=r),e}(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),i===n?(e+=n?":":"::",r=!0):(e+=UD(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},lk={},uk=vD({},lk,{" ":1,'"':1,"<":1,">":1,"`":1}),dk=vD({},uk,{"#":1,"?":1,"{":1,"}":1}),hk=vD({},dk,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pk=function(t,e){var n=yD(t,0);return n>32&&n<127&&!mD(e,t)?t:encodeURIComponent(t)},fk={ftp:21,file:null,http:80,https:443,ws:80,wss:443},mk=function(t,e){var n;return 2==t.length&&MD(XD,LD(t,0))&&(":"==(n=LD(t,1))||!e&&"|"==n)},vk=function(t){var e;return t.length>1&&mk(GD(t,0,2))&&(2==t.length||"/"===(e=LD(t,2))||"\\"===e||"?"===e||"#"===e)},gk=function(t){return"."===t||"%2e"===$D(t)},_k={},yk={},Ek={},bk={},Sk={},Tk={},wk={},Ck={},Ik={},Rk={},Ak={},Ok={},xk={},Dk={},kk={},Nk={},Pk={},Lk={},Mk={},Vk={},Uk={},Bk=function(t,e,n){var i,r,o,s=bD(t);if(e){if(r=this.parse(s))throw DD(r);this.searchParams=null}else{if(void 0!==n&&(i=new Bk(n,!0)),r=this.parse(s,null,i))throw DD(r);(o=OD(new AD)).bindURL(this),this.searchParams=o}};Bk.prototype={type:"URL",parse:function(t,e,n){var i,r,o,s,a,c=this,l=e||_k,u=0,d="",h=!1,p=!1,f=!1;for(t=bD(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=FD(t,ok,""),t=FD(t,sk,"$1")),t=FD(t,ak,""),i=gD(t);u<=i.length;){switch(r=i[u],l){case _k:if(!r||!MD(XD,r)){if(e)return YD;l=Ek;continue}d+=$D(r),l=yk;break;case yk:if(r&&(MD(JD,r)||"+"==r||"-"==r||"."==r))d+=$D(r);else{if(":"!=r){if(e)return YD;d="",l=Ek,u=0;continue}if(e&&(c.isSpecial()!=mD(fk,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,e)return void(c.isSpecial()&&fk[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?l=Dk:c.isSpecial()&&n&&n.scheme==c.scheme?l=bk:c.isSpecial()?l=Ck:"/"==i[u+1]?(l=Sk,u++):(c.cannotBeABaseURL=!0,jD(c.path,""),l=Mk)}break;case Ek:if(!n||n.cannotBeABaseURL&&"#"!=r)return YD;if(n.cannotBeABaseURL&&"#"==r){c.scheme=n.scheme,c.path=_D(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=Uk;break}l="file"==n.scheme?Dk:Tk;continue;case bk:if("/"!=r||"/"!=i[u+1]){l=Tk;continue}l=Ik,u++;break;case Sk:if("/"==r){l=Rk;break}l=Lk;continue;case Tk:if(c.scheme=n.scheme,r==ox)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=_D(n.path),c.query=n.query;else if("/"==r||"\\"==r&&c.isSpecial())l=wk;else if("?"==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=_D(n.path),c.query="",l=Vk;else{if("#"!=r){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=_D(n.path),c.path.length--,l=Lk;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=_D(n.path),c.query=n.query,c.fragment="",l=Uk}break;case wk:if(!c.isSpecial()||"/"!=r&&"\\"!=r){if("/"!=r){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=Lk;continue}l=Rk}else l=Ik;break;case Ck:if(l=Ik,"/"!=r||"/"!=LD(d,u+1))continue;u++;break;case Ik:if("/"!=r&&"\\"!=r){l=Rk;continue}break;case Rk:if("@"==r){h&&(d="%40"+d),h=!0,o=gD(d);for(var m=0;m<o.length;m++){var v=o[m];if(":"!=v||f){var g=pk(v,hk);f?c.password+=g:c.username+=g}else f=!0}d=""}else if(r==ox||"/"==r||"?"==r||"#"==r||"\\"==r&&c.isSpecial()){if(h&&""==d)return"Invalid authority";u-=gD(d).length+1,d="",l=Ak}else d+=r;break;case Ak:case Ok:if(e&&"file"==c.scheme){l=Nk;continue}if(":"!=r||p){if(r==ox||"/"==r||"?"==r||"#"==r||"\\"==r&&c.isSpecial()){if(c.isSpecial()&&""==d)return KD;if(e&&""==d&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(d))return s;if(d="",l=Pk,e)return;continue}"["==r?p=!0:"]"==r&&(p=!1),d+=r}else{if(""==d)return KD;if(s=c.parseHost(d))return s;if(d="",l=xk,e==Ok)return}break;case xk:if(!MD(ZD,r)){if(r==ox||"/"==r||"?"==r||"#"==r||"\\"==r&&c.isSpecial()||e){if(""!=d){var _=kD(d,10);if(_>65535)return qD;c.port=c.isSpecial()&&_===fk[c.scheme]?null:_,d=""}if(e)return;l=Pk;continue}return qD}d+=r;break;case Dk:if(c.scheme="file","/"==r||"\\"==r)l=kk;else{if(!n||"file"!=n.scheme){l=Lk;continue}if(r==ox)c.host=n.host,c.path=_D(n.path),c.query=n.query;else if("?"==r)c.host=n.host,c.path=_D(n.path),c.query="",l=Vk;else{if("#"!=r){vk(VD(_D(i,u),""))||(c.host=n.host,c.path=_D(n.path),c.shortenPath()),l=Lk;continue}c.host=n.host,c.path=_D(n.path),c.query=n.query,c.fragment="",l=Uk}}break;case kk:if("/"==r||"\\"==r){l=Nk;break}n&&"file"==n.scheme&&!vk(VD(_D(i,u),""))&&(mk(n.path[0],!0)?jD(c.path,n.path[0]):c.host=n.host),l=Lk;continue;case Nk:if(r==ox||"/"==r||"\\"==r||"?"==r||"#"==r){if(!e&&mk(d))l=Lk;else if(""==d){if(c.host="",e)return;l=Pk}else{if(s=c.parseHost(d))return s;if("localhost"==c.host&&(c.host=""),e)return;d="",l=Pk}continue}d+=r;break;case Pk:if(c.isSpecial()){if(l=Lk,"/"!=r&&"\\"!=r)continue}else if(e||"?"!=r)if(e||"#"!=r){if(r!=ox&&(l=Lk,"/"!=r))continue}else c.fragment="",l=Uk;else c.query="",l=Vk;break;case Lk:if(r==ox||"/"==r||"\\"==r&&c.isSpecial()||!e&&("?"==r||"#"==r)){if(".."===(a=$D(a=d))||"%2e."===a||".%2e"===a||"%2e%2e"===a?(c.shortenPath(),"/"==r||"\\"==r&&c.isSpecial()||jD(c.path,"")):gk(d)?"/"==r||"\\"==r&&c.isSpecial()||jD(c.path,""):("file"==c.scheme&&!c.path.length&&mk(d)&&(c.host&&(c.host=""),d=LD(d,0)+":"),jD(c.path,d)),d="","file"==c.scheme&&(r==ox||"?"==r||"#"==r))for(;c.path.length>1&&""===c.path[0];)HD(c.path);"?"==r?(c.query="",l=Vk):"#"==r&&(c.fragment="",l=Uk)}else d+=pk(r,dk);break;case Mk:"?"==r?(c.query="",l=Vk):"#"==r?(c.fragment="",l=Uk):r!=ox&&(c.path[0]+=pk(r,lk));break;case Vk:e||"#"!=r?r!=ox&&("'"==r&&c.isSpecial()?c.query+="%27":c.query+="#"==r?"%23":pk(r,lk)):(c.fragment="",l=Uk);break;case Uk:r!=ox&&(c.fragment+=pk(r,uk))}u++}},parseHost:function(t){var e,n,i;if("["==LD(t,0)){if("]"!=LD(t,t.length-1))return KD;if(e=function(t){var e,n,i,r,o,s,a,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,h=function(){return LD(t,d)};if(":"==h()){if(":"!=LD(t,1))return;d+=2,u=++l}for(;h();){if(8==l)return;if(":"!=h()){for(e=n=0;n<4&&MD(nk,h());)e=16*e+kD(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,l>6)return;for(i=0;h();){if(r=null,i>0){if(!("."==h()&&i<4))return;d++}if(!MD(ZD,h()))return;for(;MD(ZD,h());){if(o=kD(h(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;d++}c[l]=256*c[l]+r,2!=++i&&4!=i||l++}if(4!=i)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[l++]=e}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(s=l-u,l=7;0!=l&&s>0;)a=c[l],c[l--]=c[u+s-1],c[u+--s]=a;else if(8!=l)return;return c}(GD(t,1,-1)),!e)return KD;this.host=e}else if(this.isSpecial()){if(t=ED(t),MD(ik,t))return KD;if(e=function(t){var e,n,i,r,o,s,a,c=WD(t,".");if(c.length&&""==c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(n=[],i=0;i<e;i++){if(""==(r=c[i]))return t;if(o=10,r.length>1&&"0"==LD(r,0)&&(o=MD(QD,r)?16:8,r=GD(r,8==o?1:2)),""===r)s=0;else{if(!MD(10==o?ek:8==o?tk:nk,r))return t;s=kD(r,o)}jD(n,s)}for(i=0;i<e;i++)if(s=n[i],i==e-1){if(s>=PD(256,5-e))return null}else if(s>255)return null;for(a=BD(n),i=0;i<n.length;i++)a+=n[i]*PD(256,3-i);return a}(t),null===e)return KD;this.host=e}else{if(MD(rk,t))return KD;for(e="",n=gD(t),i=0;i<n.length;i++)e+=pk(n[i],lk);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return mD(fk,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&mk(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,i=t.password,r=t.host,o=t.port,s=t.path,a=t.query,c=t.fragment,l=e+":";return null!==r?(l+="//",t.includesCredentials()&&(l+=n+(i?":"+i:"")+"@"),l+=ck(r),null!==o&&(l+=":"+o)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?s[0]:s.length?"/"+VD(s,"/"):"",null!==a&&(l+="?"+a),null!==c&&(l+="#"+c),l},setHref:function(t){var e=this.parse(t);if(e)throw DD(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new jk(t.path[0]).origin}catch(t){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+ck(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(bD(t)+":",_k)},getUsername:function(){return this.username},setUsername:function(t){var e=gD(bD(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=pk(e[n],hk)}},getPassword:function(){return this.password},setPassword:function(t){var e=gD(bD(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=pk(e[n],hk)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ck(t):ck(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Ak)},getHostname:function(){var t=this.host;return null===t?"":ck(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Ok)},getPort:function(){var t=this.port;return null===t?"":bD(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=bD(t))?this.port=null:this.parse(t,xk))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+VD(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Pk))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=bD(t))?this.query=null:("?"==LD(t,0)&&(t=GD(t,1)),this.query="",this.parse(t,Vk)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=bD(t))?("#"==LD(t,0)&&(t=GD(t,1)),this.fragment="",this.parse(t,Uk)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var jk=function(t){var e=fD(this,Fk),n=TD(arguments.length,1)>1?arguments[1]:void 0,i=ID(e,new Bk(t,!1,n));aD||(e.href=i.serialize(),e.origin=i.getOrigin(),e.protocol=i.getProtocol(),e.username=i.getUsername(),e.password=i.getPassword(),e.host=i.getHost(),e.hostname=i.getHostname(),e.port=i.getPort(),e.pathname=i.getPathname(),e.search=i.getSearch(),e.searchParams=i.getSearchParams(),e.hash=i.getHash())},Fk=jk.prototype,Hk=function(t,e){return{get:function(){return RD(this)[t]()},set:e&&function(t){return RD(this)[e](t)},configurable:!0,enumerable:!0}};if(aD&&(pD(Fk,"href",Hk("serialize","setHref")),pD(Fk,"origin",Hk("getOrigin")),pD(Fk,"protocol",Hk("getProtocol","setProtocol")),pD(Fk,"username",Hk("getUsername","setUsername")),pD(Fk,"password",Hk("getPassword","setPassword")),pD(Fk,"host",Hk("getHost","setHost")),pD(Fk,"hostname",Hk("getHostname","setHostname")),pD(Fk,"port",Hk("getPort","setPort")),pD(Fk,"pathname",Hk("getPathname","setPathname")),pD(Fk,"search",Hk("getSearch","setSearch")),pD(Fk,"searchParams",Hk("getSearchParams")),pD(Fk,"hash",Hk("getHash","setHash"))),hD(Fk,"toJSON",(function(){return RD(this).serialize()}),{enumerable:!0}),hD(Fk,"toString",(function(){return RD(this).serialize()}),{enumerable:!0}),xD){var Wk=xD.createObjectURL,Gk=xD.revokeObjectURL;Wk&&hD(jk,"createObjectURL",uD(Wk,xD)),Gk&&hD(jk,"revokeObjectURL",uD(Gk,xD))}SD(jk,"URL"),sD({global:!0,constructor:!0,forced:!cD,sham:!aD},{URL:jk});var $k=kn,zk=s,Yk=el,Kk=yi,qk=WE,Xk=ut("URL");$k({target:"URL",stat:!0,forced:!(qk&&zk((function(){Xk.canParse()})))},{canParse:function(t){var e=Yk(arguments.length,1),n=Kk(t),i=e<2||void 0===arguments[1]?void 0:Kk(arguments[1]);try{return!!new Xk(n,i)}catch(t){return!1}}});var Jk=o(ot.URL);const Zk={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1,supportRequestVideoFrameCallback:!1,supportWebCrypto:!1};function Qk(){return Zk}function tN(){return"setSinkId"in HTMLAudioElement.prototype&&(!JI("RESTRICTION_SET_PLAYBACK_DEVICE")||(Xw()||Zw())&&!mC())}function eN(){return!Zk.supportUnifiedPlan||JI("CHROME_FORCE_PLAN_B")&&vC()}let nN=function(t){return t.IOS_15_16_INTERRUPTION_START="ios15_16-interruption-start",t.IOS_15_16_INTERRUPTION_END="ios15_16-interruption-end",t.IOS_INTERRUPTION_START="ios-interruption-start",t.IOS_INTERRUPTION_END="ios-interruption-end",t.STATE_CHANGE="state-change",t}({});function iN(t,e,n){return{sampleRate:t,stereo:e,bitrate:n}}function rN(t,e,n,i,r){return{width:t,height:e,frameRate:n,bitrateMin:i,bitrateMax:r}}function oN(t,e,n,i,r){return{width:{max:t},height:{max:e},frameRate:n,bitrateMin:i,bitrateMax:r}}function sN(t,e){return{numSpatialLayers:t,numTemporalLayers:e}}const aN={"90p":rN(160,90),"90p_1":rN(160,90),"120p":rN(160,120,15,30,65),"120p_1":rN(160,120,15,30,65),"120p_3":rN(120,120,15,30,50),"120p_4":rN(212,120),"180p":rN(320,180,15,30,140),"180p_1":rN(320,180,15,30,140),"180p_3":rN(180,180,15,30,100),"180p_4":rN(240,180,15,30,120),"240p":rN(320,240,15,40,200),"240p_1":rN(320,240,15,40,200),"240p_3":rN(240,240,15,40,140),"240p_4":rN(424,240,15,40,220),"360p":rN(640,360,15,80,400),"360p_1":rN(640,360,15,80,400),"360p_3":rN(360,360,15,80,260),"360p_4":rN(640,360,30,80,600),"360p_6":rN(360,360,30,80,400),"360p_7":rN(480,360,15,80,320),"360p_8":rN(480,360,30,80,490),"360p_9":rN(640,360,15,80,800),"360p_10":rN(640,360,24,80,800),"360p_11":rN(640,360,24,80,1e3),"480p":rN(640,480,15,100,500),"480p_1":rN(640,480,15,100,500),"480p_2":rN(640,480,30,100,1e3),"480p_3":rN(480,480,15,100,400),"480p_4":rN(640,480,30,100,750),"480p_6":rN(480,480,30,100,600),"480p_8":rN(848,480,15,100,610),"480p_9":rN(848,480,30,100,930),"480p_10":rN(640,480,10,100,400),"720p":rN(1280,720,15,120,1130),"720p_auto":rN(1280,720,30,900,3e3),"720p_1":rN(1280,720,15,120,1130),"720p_2":rN(1280,720,30,120,2e3),"720p_3":rN(1280,720,30,120,1710),"720p_5":rN(960,720,15,120,910),"720p_6":rN(960,720,30,120,1380),"1080p":rN(1920,1080,15,120,2080),"1080p_1":rN(1920,1080,15,120,2080),"1080p_2":rN(1920,1080,30,120,3e3),"1080p_3":rN(1920,1080,30,120,3150),"1080p_5":rN(1920,1080,60,120,4780),"1440p":rN(2560,1440,30,120,4850),"1440p_1":rN(2560,1440,30,120,4850),"1440p_2":rN(2560,1440,60,120,7350),"4k":rN(3840,2160,30,120,8910),"4k_1":rN(3840,2160,30,120,8910),"4k_3":rN(3840,2160,60,120,13500)},cN={"480p":oN(640,480,5),"480p_1":oN(640,480,5),"480p_2":oN(640,480,30),"480p_3":oN(640,480,15),"720p":oN(1280,720,5),"720p_auto":rN(1280,720,30,900,3e3),"720p_1":oN(1280,720,5),"720p_2":oN(1280,720,30),"720p_3":oN(1280,720,15),"1080p":oN(1920,1080,5),"1080p_1":oN(1920,1080,5),"1080p_2":oN(1920,1080,30),"1080p_3":oN(1920,1080,15)},lN={"1SL1TL":sN(1,1),"3SL3TL":sN(3,3),"2SL3TL":sN(2,3)};function uN(t){return t||(t="480p_1"),"string"==typeof t?Object.assign({},aN[t]):t}function dN(t){return"string"==typeof t?Object.assign({},cN[t]):t}function hN(t){return"string"==typeof t?Object.assign({},lN[t]):t}const pN={speech_low_quality:iN(16e3,!1),speech_standard:iN(32e3,!1,18),music_standard:iN(48e3,!1),standard_stereo:iN(48e3,!0,56),high_quality:iN(48e3,!1,128),high_quality_stereo:iN(48e3,!0,192)};function fN(t){return"string"==typeof t?Object.assign({},pN[t]):t}const mN=[];function vN(t){return CC(t,"mediaSource",["screen","window","application"]),!0}let gN=function(t){return t.NEED_RENEGOTIATE="@need_renegotiate",t.NEED_REPLACE_TRACK="@need_replace_track",t.NEED_REPLACE_MIXING_TRACK="@need_replace_mixing_track",t.NEED_CLOSE="@need_close",t.NEED_ENABLE_TRACK="@need_enable_track",t.NEED_DISABLE_TRACK="@need_disable_track",t.NEED_SESSION_ID="@need_sid",t.SET_OPTIMIZATION_MODE="@set_optimization_mode",t.GET_STATS="@get_stats",t.GET_RTC_STATS="@get_rtc_stats",t.GET_LOW_VIDEO_TRACK="@get_low_video_track",t.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",t.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",t.NEED_UPDATE_VIDEO_SEND_PARAMETERS="@need_update_video_send_parameters",t.NEED_MUTE_TRACK="@need_mute_track",t.NEED_UNMUTE_TRACK="@need_unmute_track",t}({}),_N=function(t){return t.SCREEN_TRACK="screen_track",t.CUSTOM_TRACK="custome_track",t.LOW_STREAM="low_stream",t.SCREEN_LOW_TRACK="screen_low_track",t}({}),yN=function(t){return t[t.HIGH_STREAM=0]="HIGH_STREAM",t[t.LOW_STREAM=1]="LOW_STREAM",t}({}),EN=function(t){return t[t.HIGH_STREAM=0]="HIGH_STREAM",t[t.LOW_STREAM=1]="LOW_STREAM",t[t.HIGH_STREAM_LAYER1=4]="HIGH_STREAM_LAYER1",t[t.HIGH_STREAM_LAYER2=5]="HIGH_STREAM_LAYER2",t[t.HIGH_STREAM_LAYER3=6]="HIGH_STREAM_LAYER3",t[t.HIGH_STREAM_LAYER4=7]="HIGH_STREAM_LAYER4",t[t.HIGH_STREAM_LAYER5=8]="HIGH_STREAM_LAYER5",t[t.HIGH_STREAM_LAYER6=9]="HIGH_STREAM_LAYER6",t}({}),bN=function(t){return t[t.DISABLE=0]="DISABLE",t[t.LOW_STREAM=1]="LOW_STREAM",t[t.AUDIO_ONLY=2]="AUDIO_ONLY",t[t.HIGH_STREAM_LAYER1=3]="HIGH_STREAM_LAYER1",t[t.HIGH_STREAM_LAYER2=4]="HIGH_STREAM_LAYER2",t[t.HIGH_STREAM_LAYER3=5]="HIGH_STREAM_LAYER3",t[t.HIGH_STREAM_LAYER4=6]="HIGH_STREAM_LAYER4",t[t.HIGH_STREAM_LAYER5=7]="HIGH_STREAM_LAYER5",t[t.HIGH_STREAM_LAYER6=8]="HIGH_STREAM_LAYER6",t}({}),SN=function(t){return t.TRANSCEIVER_UPDATED="transceiver-updated",t.SEI_TO_SEND="sei-to-send",t.SEI_RECEIVED="sei-received",t.TRACK_UPDATED="track-updated",t}({}),TN=function(t){return t.SOURCE_STATE_CHANGE="source-state-change",t.TRACK_ENDED="track-ended",t.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",t.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",t.CLOSED="closed",t}({}),wN=function(t){return t.FIRST_FRAME_DECODED="first-frame-decoded",t.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",t.VIDEO_STATE_CHANGED="video-state-changed",t}({}),CN=function(t){return t.AUDIO="audio",t.VIDEO="video",t.DATA="data",t}({}),IN=function(t){return t.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",t.RECEIVE_TRACK_BUFFER="receive_track_buffer",t.ON_AUDIO_BUFFER="on_audio_buffer",t.UPDATE_SOURCE="update_source",t}({});!function(t){t.UPDATE_TRACK_SOURCE="update-track-source"}({});const RN={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},AN={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},ON={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receivePacketsDiscarded:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},xN={uplinkNetworkQuality:0,downlinkNetworkQuality:0},DN={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let kN=function(t){return t.ON_TRACK="on_track",t.ON_NODE="on_node",t}({}),NN=function(t){return t.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",t.REQUEST_CONSTRAINTS="request_constraints",t}({}),PN=function(t){return t.IDLE="IDLE",t.INITING="INITING",t.INITEND="INITEND",t}({}),LN=function(t){return t.STATE_CHANGE="state_change",t.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",t.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",t.CAMERA_DEVICE_CHANGED="cameraDeviceChanged",t}({}),MN=function(t){return t.NONE="none",t.INIT="init",t.CANPLAY="canplay",t.PLAYING="playing",t.PAUSED="paused",t.SUSPEND="suspend",t.STALLED="stalled",t.WAITING="waiting",t.ERROR="error",t.DESTROYED="destroyed",t.ABORT="abort",t.ENDED="ended",t.EMPTIED="emptied",t.LOADEDDATA="loadeddata",t}({}),VN=function(t){return t[t.VideoStateStopped=0]="VideoStateStopped",t[t.VideoStateStarting=1]="VideoStateStarting",t[t.VideoStateDecoding=2]="VideoStateDecoding",t[t.VideoStateFrozen=3]="VideoStateFrozen",t}({});const UN={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};let BN=function(t){return t.OPEN="open",t.MESSAGE="message",t.CLOSE="close",t.CLOSING="closing",t.ERROR="error",t}({});function jN(t,e,n,i,r){var o,s,a={};return Object.keys(i).forEach((function(t){a[t]=i[t]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=Zi(o=sx(s=n.slice()).call(s)).call(o,(function(n,i){return i(t,e,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}function FN(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function WN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?HN(Object(n),!0).forEach((function(e){FN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class GN extends UC{set _mediaStreamTrack(t){t!==this.mediaStreamTrack&&(this.safeEmit(SN.TRACK_UPDATED,t),this.mediaStreamTrack=t)}get _mediaStreamTrack(){return this.mediaStreamTrack}constructor(t,e){super(),FN(this,"trackMediaType",void 0),FN(this,"_ID",void 0),FN(this,"_rtpTransceiver",void 0),FN(this,"_lowRtpTransceiver",void 0),FN(this,"_hints",[]),FN(this,"_isClosed",!1),FN(this,"_originMediaStreamTrack",void 0),FN(this,"mediaStreamTrack",void 0),FN(this,"_external",{}),this._ID=e||yI(8,"track-"),this._originMediaStreamTrack=t,this.mediaStreamTrack=t,function(t){Pi(mN).call(mN,t)||mN.push(t)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(t){return t||uI(()=>{var t;CR.reportApiInvoke(null,{name:FC.GET_MEDIA_STREAM_TRACK,options:[],tag:HC.TRACER}).onSuccess((null===(t=this._mediaStreamTrack)||void 0===t?void 0:t.label)||"")},this.mediaStreamTrack.id||this.getTrackId()),this._mediaStreamTrack}getRTCRtpTransceiver(t){return t===yN.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(t){const e=mN.indexOf(t);-1!==e&&mN.splice(e,1)}(this),this.emit(TN.CLOSED),this.removeAllListeners(SN.SEI_RECEIVED)}_updateRtpTransceiver(t,e){if(e===yN.LOW_STREAM){if(this._lowRtpTransceiver===t)return;this._lowRtpTransceiver=t}else{if(this._rtpTransceiver===t)return;this._rtpTransceiver=t}this.emit(SN.TRANSCEIVER_UPDATED,t,e)}}class $N extends GN{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}constructor(t,e){super(t,e),FN(this,"_enabled",!0),FN(this,"_muted",!1),FN(this,"_isExternalTrack",!1),FN(this,"_isClosed",!1),FN(this,"_enabledMutex",void 0),FN(this,"processor",void 0),FN(this,"_processorContext",void 0),FN(this,"_handleTrackEnded",()=>{this.onTrackEnded()}),this._enabledMutex=new DI("".concat(this.getTrackId())),t.addEventListener("ended",this._handleTrackEnded)}getTrackLabel(){var t,e;return null!==(t=null===(e=this._originMediaStreamTrack)||void 0===e?void 0:e.label)&&void 0!==t?t:""}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,gR.debug("[".concat(this.getTrackId(),"] close")),this.emit(gN.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isExternalTrack=n,t!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),e&&this._originMediaStreamTrack.stop()),t.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=t,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await tI(this,gN.NEED_REPLACE_TRACK,this),this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){gR.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(TN.TRACK_ENDED)}stateCheck(t,e){if(gR.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(t,": ").concat(e,"]")),wC(e,t),this._enabled&&this._muted&&"enabled"===t&&!1===e)throw new TC(SC.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print("error",gR);if(!this._enabled&&!this._muted&&"muted"===t&&!0===e)throw new TC(SC.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print("error",gR)}getProcessorStats(){return this._processorContext&&this._processorContext.gatherStats()||[]}getProcessorUsage(){return this._processorContext?this._processorContext.gatherUsage():$h.resolve([])}}const zN=window.AudioContext||window.webkitAudioContext;let YN=null;const KN=new class extends UC{constructor(){super(...arguments),FN(this,"prevState",void 0),FN(this,"curState",void 0),FN(this,"currentTime",void 0),FN(this,"currentTimeStuckAt",void 0),FN(this,"interruptDetectorTrack",void 0),FN(this,"onLocalAudioTrackMute",()=>{gR.info("ios15-interruption-start"),this.emit(nN.IOS_15_16_INTERRUPTION_START)}),FN(this,"onLocalAudioTrackUnmute",async()=>{gR.info("ios15-interruption-end"),"running"!==this.curState||this.duringInterruption?gR.info("ios15-interruption-end-canceled"):(YN&&await YN.suspend(),this.emit(nN.IOS_15_16_INTERRUPTION_END))})}get duringInterruption(){return"running"===this.prevState&&"interrupted"===this.curState}bindInterruptDetectorTrack(t){gR.debug("webaudio bindInterruptDetectorTrack ".concat(t.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=t,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(t){gR.debug("webaudio unbindInterruptDetectorTrack ".concat(t.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===t&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function qN(){if(!YN){if(function(){if(!zN)return void gR.error("your browser is not support web audio");gR.info("create audio context");const t=WN({},JI("WEBAUDIO_INIT_OPTIONS"));gR.debug("audio context init option:",JSON.stringify(t)),YN=new zN(t),KN.curState=YN.state,YN.onstatechange=()=>{KN.prevState=KN.curState,KN.curState=YN?YN.state:void 0;const{prevState:t,curState:e}=KN,n="running"===e,i="interrupted"===e,r="running"===t,o="suspended"===t,s="interrupted"===t,a=$w().osVersion;(tC()||hC())&&r&&i&&(gR.info("ios".concat(a,"-interruption-start")),KN.emit(nN.IOS_INTERRUPTION_START)),(tC()||hC())&&(o||s)&&n&&(gR.info("ios".concat(a,"-interruption-end")),KN.emit(nN.IOS_INTERRUPTION_END)),t!==e&&KN.emit(nN.STATE_CHANGE,e,t)},setInterval(()=>{var t;const e=null===(t=YN)||void 0===t?void 0:t.currentTime;KN.currentTime!==e?(KN.currentTimeStuckAt&&(gR.debug("AudioContext current time resume at ".concat(e)),KN.currentTimeStuckAt=void 0),KN.currentTime=e):(e!==KN.currentTimeStuckAt&&(CR.reportApiInvoke(null,{name:"WEB_AUDIO_CURRENT_TIME_STUCK",options:{currentTime:e},tag:HC.TRACER}).onSuccess(),gR.warning("AudioContext current time stuck at ".concat(e))),KN.currentTimeStuckAt=e)},5e3),async function(t){const e=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let n,i=!1,r=!1,o=!1;function s(e){"running"===t.state?a(!1):tC()||hC()?"suspended"===t.state&&(a(!0),e&&t.resume().then(c,c)):"closed"!==t.state&&(a(!0),e&&t.resume().then(c,c))}function a(t){if(i!==t){i=t;for(let n=0,i=e;n<i.length;n+=1){const e=i[n];t?window.addEventListener(e,l,{capture:!0,passive:!0}):window.removeEventListener(e,l,{capture:!0,passive:!0})}}}function c(){s(!1)}function l(){s(!0)}function u(t){if(!o)if(n.paused)if(t){let e;d(!1),o=!0;try{e=n.play(),e?e.then(h,h):(n.addEventListener("playing",h),n.addEventListener("abort",h),n.addEventListener("error",h))}catch(t){h()}}else d(!0);else d(!1)}function d(t){if(r!==t){r=t;for(let n=0,i=e;n<i.length;n++){const e=i[n];t?window.addEventListener(e,p,{capture:!0,passive:!0}):window.removeEventListener(e,p,{capture:!0,passive:!0})}}}function h(){n.removeEventListener("playing",h),n.removeEventListener("abort",h),n.removeEventListener("error",h),o=!1,u(!1)}function p(){u(!0)}if(tC()){const e=t.createMediaStreamDestination(),i=document.createElement("div");i.innerHTML="<audio x-webkit-airplay='deny'></audio>",n=i.children.item(0),n.controls=!1,n.disableRemotePlayback=!0,n.preload="auto",n.srcObject=e.stream,u(!0)}KN.on(nN.STATE_CHANGE,(function(){s(!0)})),s(!1)}(YN)}(),!YN)throw new TC(SC.NOT_SUPPORTED,"can not create audio context");return YN}return YN}function XN(t){if(function(){if(null!==JN)return JN;const t=qN(),e=t.createBufferSource(),n=t.createGain(),i=t.createGain();e.connect(n),e.connect(i),e.disconnect(n);let r=!1;try{e.disconnect(n)}catch(t){r=!0}return e.disconnect(),JN=r,r}())return;const e=t.connect,n=t.disconnect;t.connect=(n,i,r)=>{var o;return t._inputNodes||(t._inputNodes=[]),Pi(o=t._inputNodes).call(o,n)||(n instanceof AudioNode?(t._inputNodes.push(n),e.call(t,n,i,r)):e.call(t,n,i)),t},t.disconnect=(i,r,o)=>{n.call(t),i?rI(t._inputNodes,i):t._inputNodes=[];for(const n of t._inputNodes)e.call(t,n)}}let JN=null;function ZN(t,e){let n=!1;const i=1/e;if(JI("DISABLE_WEBAUDIO")){const e=window.setInterval(()=>{n?window.clearInterval(e):t(performance.now()/1e3)},1e3*i)}else{const e=qN();let r=e.createGain();r.gain.value=0,r.connect(e.destination);const o=()=>{if(n)return void(r=null);const s=e.createOscillator();s.onended=o,s.connect(r),s.start(0),s.stop(e.currentTime+i),t(e.currentTime)};o()}return()=>{n=!0}}class QN{constructor(){FN(this,"context",void 0),FN(this,"analyserNode",void 0),FN(this,"sourceNode",void 0),this.context=qN(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(t){if(t!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(t){}this.sourceNode=t,null==t||t.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode)return 0;if(!this.context||tC()||hC()||"running"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const t=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(t);else{const e=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(e);for(let n=0;n<t.length;++n)t[n]=e[n]/128-1}const e=Zi(t).call(t,(t,e)=>t+e*e,0)/t.length;return Math.max(10*Math.log10(e)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var t,e;null===(t=this.sourceNode)||void 0===t||t.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(e=this.sourceNode)||void 0===e||e.connect(this.analyserNode)}catch(t){gR.warning("rebuild analyser node failed.")}}destroy(){this.updateSource(void 0)}}class tP extends UC{get processSourceNode(){return this.sourceNode}set processedNode(t){var e;if(!this.isDestroyed&&this._processedNode!==t){try{var n;null===(n=this.sourceNode)||void 0===n||n.disconnect(this.outputNode)}catch(t){}null===(e=this._processedNode)||void 0===e||e.disconnect(),this._processedNode=t,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),FN(this,"outputNode",void 0),FN(this,"outputTrack",void 0),FN(this,"isPlayed",!1),FN(this,"sourceNode",void 0),FN(this,"context",void 0),FN(this,"audioBufferNode",void 0),FN(this,"destNode",void 0),FN(this,"audioOutputLevel",0),FN(this,"volumeLevelAnalyser",void 0),FN(this,"_processedNode",void 0),FN(this,"playNode",void 0),FN(this,"isDestroyed",!1),FN(this,"onNoAudioInput",void 0),FN(this,"isNoAudioInput",!1),FN(this,"_noAudioInputCount",0),this.context=qN(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),XN(this.outputNode),this.volumeLevelAnalyser=new QN}startGetAudioBuffer(t){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(t),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=t=>{this.emit(IN.ON_AUDIO_BUFFER,function(t){for(let e=0;e<t.outputBuffer.numberOfChannels;e+=1){const n=t.outputBuffer.getChannelData(e);for(let t=0;t<n.length;t+=1)n[t]=0}return t.inputBuffer}(t))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!Qk().webAudioMediaStreamDest)throw new TC(SC.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(t){"running"!==this.context.state&&sI(()=>{KN.emit("autoplay-failed")}),this.isPlayed=!0,this.playNode=t||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(t){}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(t>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;tC()||hC()?"suspended"===this.context.state&&this.context.resume():"running"!==this.context.state&&this.context.resume();const e=this.volumeLevelAnalyser.getAnalyserNode();let n;e.getFloatTimeDomainData?(n=new Float32Array(e.fftSize),e.getFloatTimeDomainData(n)):(n=new Uint8Array(e.fftSize),e.getByteTimeDomainData(n));let i=!1;for(let r=0;r<n.length;r++)0!==n[r]&&(i=!0);return i?(this.isNoAudioInput=!1,!0):(await _I(200),await this.checkHasAudioInput(t?t+1:1)&&i)}getAudioVolume(){return this.outputNode.gain.value}setVolume(t){this.outputNode.gain.setValueAtTime(t,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var t,e;null===(t=this.processedNode)||void 0===t||t.disconnect(),null===(e=this.sourceNode)||void 0===e||e.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var t;this.processedNode?null===(t=this.processedNode)||void 0===t||t.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class eP extends tP{get isFreeze(){return!1}constructor(t,e,n){var i;if(super(),FN(this,"sourceNode",void 0),FN(this,"track",void 0),FN(this,"clonedTrack",void 0),FN(this,"audioElement",void 0),FN(this,"isCurrentTrackCloned",!1),FN(this,"isRemoteTrack",!1),FN(this,"originVolumeLevelAnalyser",void 0),FN(this,"rebuildWebAudio",async()=>{if(gR.debug("ready to rebuild web audio, state:",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener("click",this.rebuildWebAudio,!0),void gR.debug("rebuild web audio success, current volume status",this.getAccurateVolumeLevel());this.context.resume().then(()=>gR.info("resume success")),gR.debug("rebuild web audio because of ios 12 bugs"),this.disconnect();const t=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?t.stop():this.isCurrentTrackCloned=!0;const e=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(e),XN(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const n=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(n,this.context.currentTime),XN(this.outputNode),this.emit(IN.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=e,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()}),"audio"!==t.kind)throw new TC(SC.UNEXPECTED_ERROR);this.track=t;const r=new MediaStream([this.track]);if(this.isRemoteTrack=!!e,this.sourceNode=this.context.createMediaStreamSource(r),XN(this.sourceNode),n){const t=n.clone();t.enabled=!0,this.clonedTrack=t,gR.debug("create an unmuted track ".concat(t.id," from the original track ").concat(n.id," to get the volume"));const e=this.context.createMediaStreamSource(new MediaStream([t]));XN(e),this.originVolumeLevelAnalyser=new QN,this.originVolumeLevelAnalyser.updateSource(e)}this.connect(),this.audioElement=document.createElement("audio"),this.audioElement.srcObject=r;const o=$w();e&&o.os===jw.IOS&&Number(null===(i=o.osVersion)||void 0===i?void 0:i.split(".")[0])<15&&(KN.on(nN.STATE_CHANGE,()=>{"suspended"===this.context.state?document.body.addEventListener("click",this.rebuildWebAudio,!0):"running"===this.context.state&&this.rebuildWebAudio()}),this.checkHasAudioInput().then(t=>{t||document.body.addEventListener("click",this.rebuildWebAudio,!0)}))}updateTrack(t){this.sourceNode.disconnect(),this.track=t,this.isCurrentTrackCloned=!1;const e=new MediaStream([t]);this.sourceNode=this.context.createMediaStreamSource(e),XN(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(IN.UPDATE_SOURCE),this.audioElement.srcObject=e}destroy(){var t;this.audioElement.srcObject=null,this.audioElement.remove(),KN.off("state-change",this.rebuildWebAudio),null===(t=this.originVolumeLevelAnalyser)||void 0===t||t.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(t){return this.context.createMediaStreamSource(new MediaStream([t]))}updateOriginTrack(t){const e=t.clone();e.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=e),gR.debug("create an unmuted track ".concat(e.id," from the original track ").concat(t.id," to get the volume"));const n=this.context.createMediaStreamSource(new MediaStream([e]));XN(n),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(n)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function nP(t,e,n){const i=(t,e)=>t?"number"!=typeof t?t.max||t.exact||t.ideal||t.min||e:t:e,r={audio:!!n&&{mandatory:{chromeMediaSource:"desktop"}},video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxHeight:i(e.height,1080),maxWidth:i(e.width,1920)}}};return e.frameRate&&"number"!=typeof e.frameRate?(r.video.mandatory.maxFrameRate=e.frameRate.max,r.video.mandatory.minFrameRate=e.frameRate.min):"number"==typeof e.frameRate&&(r.video.mandatory.maxFrameRate=e.frameRate),await navigator.mediaDevices.getUserMedia(r)}async function iP(t,e){const n=await rP(t.mediaSource),{sourceId:i,audio:r}=await function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new $h((n,i)=>{const r=document.createElement("div");r.innerText="share screen",r.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const o=document.createElement("div");o.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const s=document.createElement("div");s.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",s.setAttribute("style","height: 12%;");const a=document.createElement("div");a.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const c=document.createElement("div");c.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");const l=document.createElement("button");l.innerHTML="cancel",l.setAttribute("style","width: 85px;"),l.onclick=()=>{document.body.removeChild(h);const t=new Error("NotAllowedError");t.name="NotAllowedError",i(t)};let u=e;const d=document.createElement("div");if(e){const t=document.createElement("input");t.setAttribute("type","checkbox");const e=document.createElement("span");t.setAttribute("style","margin-right: 6px;"),e.innerText="Share audio",t.checked=u,t.onchange=()=>{u=t.checked},d.appendChild(t),d.appendChild(e)}c.appendChild(d),c.appendChild(l),o.appendChild(s),o.appendChild(a),o.appendChild(c);const h=document.createElement("div");h.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),h.appendChild(r),h.appendChild(o),document.body.appendChild(h),t.map(t=>{if(t.id){const e=document.createElement("div");e.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let i=t.thumbnail;try{const{width:t}=i.getSize();t>1920&&(i=i.resize({width:1920}))}catch(t){throw t&&t.message.startsWith("Illegal invocation")&&console.error("Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)"),t}e.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+i.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+t.name.replace(/[\u00A0-\u9999<>\&]/g,(function(t){return"&#"+t.charCodeAt(0)+";"}))+"</span>",e.onclick=()=>{document.body.removeChild(h),n({sourceId:t.id,audio:u})},a.appendChild(e)}})})}(n,e);return await nP(i,t,r)}async function rP(t){let e=["window","screen"];"application"!==t&&"window"!==t||(e=["window"]),"screen"===t&&(e=["screen"]);const n=jC();if(!n)throw console.error("failed to fetch electron, please mount it to window"),new TC(SC.ELECTRON_IS_NULL);let i=null;try{var r;i=(null===(r=n.desktopCapturer)||void 0===r?void 0:r.getSources({types:e}))||n.ipcRenderer.invoke("DESKTOP_CAPTURER_GET_SOURCES",{types:e})}catch(t){i=null}i&&i.then||(i=new $h((t,i)=>{n.desktopCapturer.getSources({types:e},(e,n)=>{e?i(e):t(n)})}));try{return await i}catch(t){throw new TC(SC.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,t.toString())}}const oP=new DI("safari");let sP=!1,aP=!1;async function cP(t,e){let n=0,i=null;for(;n<2;)try{i=await lP(t,e,n>0);break}catch(t){if(t instanceof TC)throw gR.error("[".concat(e,"] ").concat(t.toString())),t;const i=uP(t.name||t.code||t,t.message);if(i.code===SC.MEDIA_OPTION_INVALID){gR.debug("[".concat(e,"] detect media option invalid, retry")),n+=1,await _I(500);continue}throw gR.error("[".concat(e,"] ").concat(i.toString())),i}if(!i)throw new TC(SC.UNEXPECTED_ERROR,"can not find stream after getUserMedia");return i}async function lP(t,e,n){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new TC(SC.NOT_SUPPORTED,"can not find getUserMedia");n&&(t.video&&(delete t.video.width,delete t.video.height),t.screen&&(delete t.screen.width,delete t.screen.height));const i=Qk(),r=new MediaStream;if(t.audioSource&&r.addTrack(t.audioSource),t.videoSource&&r.addTrack(t.videoSource),!t.audio&&!t.video&&!t.screen)return gR.debug("Using Video Source/ Audio Source"),r;if(t.screen)if(jC())t.screen.sourceId?dP(r,await nP(t.screen.sourceId,t.screen,t.screenAudio)):dP(r,await iP(t.screen,t.screenAudio));else if(Xw()&&t.screen.extensionId&&t.screen.mandatory){if(!i.getStreamFromExtension)throw new TC(SC.NOT_SUPPORTED,"This browser does not support screen sharing");gR.debug("[".concat(e,'] Screen access on chrome stable, looking for extension"'));const n=await(s=t.screen.extensionId,a=e,new $h((t,e)=>{try{chrome.runtime.sendMessage(s,{getStream:!0},n=>{if(!n||!n.streamId)return gR.error("[".concat(a,"] No response from Chrome Plugin. Plugin not installed properly"),n),void e(new TC(SC.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));t(n.streamId)})}catch(t){gR.error("[".concat(a,"] AgoraRTC screensharing plugin is not accessible(").concat(s,")"),t.toString()),e(new TC(SC.CHROME_PLUGIN_NOT_INSTALL))}}));t.screen.mandatory.chromeMediaSourceId=n,dP(r,await navigator.mediaDevices.getUserMedia({video:{mandatory:t.screen.mandatory}}))}else if(i.getDisplayMedia){var o;t.screen.mediaSource&&vN(t.screen.mediaSource);const n={width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate,displaySurface:null!==(o=t.screen.displaySurface)&&void 0!==o?o:"screen"===t.screen.mediaSource?"monitor":t.screen.mediaSource},{selfBrowserSurface:i,surfaceSwitching:s,systemAudio:a}=t.screen,c={selfBrowserSurface:i,surfaceSwitching:s,systemAudio:a};!i&&delete c.selfBrowserSurface,!s&&delete c.surfaceSwitching,!a&&delete c.systemAudio,gR.debug("[".concat(e,"] getDisplayMedia:"),JSON.stringify({video:n,audio:!!t.screenAudio,controls:c})),dP(r,await navigator.mediaDevices.getDisplayMedia(WN({video:n,audio:!!t.screenAudio},c)))}else{if(!Qw())throw gR.error("[".concat(e,"] This browser does not support screenSharing")),new TC(SC.NOT_SUPPORTED,"This browser does not support screen sharing");{t.screen.mediaSource&&vN(t.screen.mediaSource);const n={video:{mediaSource:t.screen.mediaSource,width:t.screen.width,height:t.screen.height,frameRate:t.screen.frameRate}};gR.debug("[".concat(e,"] getUserMedia: ").concat(JSON.stringify(n))),dP(r,await navigator.mediaDevices.getUserMedia(n))}}var s,a;if(!t.video&&!t.audio)return r;let c={video:t.video,audio:t.audio},l=JI("MEDIA_DEVICE_CONSTRAINTS");if(l)try{"string"==typeof l&&(l=JSON.parse(l)),c=CI(c,l)}catch(t){}gR.debug("[".concat(e,"] GetUserMedia"),JSON.stringify(c)),$w();let u,d=null;(Jw()||tC()||qw())&&(d=await oP.lock());try{u=await navigator.mediaDevices.getUserMedia(c)}catch(t){throw d&&d(),t}return c.audio&&(sP=!0),c.video&&(aP=!0),dP(r,u),d&&d(),r}function uP(t,e){switch(t){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new TC(SC.MEDIA_OPTION_INVALID,"".concat(t,": ").concat(e));case"NotFoundError":case"DevicesNotFoundError":return new TC(SC.DEVICE_NOT_FOUND,"".concat(t,": ").concat(e));case"NotSupportedError":return new TC(SC.NOT_SUPPORTED,"".concat(t,": ").concat(e));case"NotReadableError":return new TC(SC.NOT_READABLE,"".concat(t,": ").concat(e));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new TC(SC.PERMISSION_DENIED,"".concat(t,": ").concat(e));case"ConstraintNotSatisfiedError":return new TC(SC.CONSTRAINT_NOT_SATISFIED,"".concat(t,": ").concat(e));default:return gR.error("getUserMedia unexpected error",t),new TC(SC.UNEXPECTED_ERROR,"".concat(t,": ").concat(e))}}function dP(t,e){const n=t.getVideoTracks()[0],i=t.getAudioTracks()[0],r=e.getVideoTracks()[0],o=e.getAudioTracks()[0];o&&(i&&t.removeTrack(i),t.addTrack(o)),r&&(n&&t.removeTrack(n),t.addTrack(r))}const hP=new class extends UC{get state(){return this._state}set state(t){t!==this._state&&(this.emit(LN.STATE_CHANGE,t),this._state=t)}constructor(){super(),FN(this,"_state",PN.IDLE),FN(this,"isAccessMicrophonePermission",!1),FN(this,"isAccessCameraPermission",!1),FN(this,"lastAccessMicrophonePermission",!1),FN(this,"lastAccessCameraPermission",!1),FN(this,"checkdeviceMatched",!1),FN(this,"deviceInfoMap",new Map),this.init().then(()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",this.updateDevicesInfo.bind(this)),window.setInterval(()=>{(JI("ENUMERATE_DEVICES_INTERVAL")||(gC()||Yw()===jw.HARMONY_OS)&&vC())&&this.updateDevicesInfo()},JI("ENUMERATE_DEVICES_INTERVAL_TIME"))}).catch(t=>gR.error(t.toString()))}async enumerateDevices(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new TC(SC.NOT_SUPPORTED,"enumerateDevices() not supported.").throw();const i=await navigator.mediaDevices.enumerateDevices(),r=this.checkMediaDeviceInfoIsOk(i);let o=!this.isAccessMicrophonePermission&&t,s=!this.isAccessCameraPermission&&e;r.audio&&(o=!1),r.video&&(s=!1);let a=null,c=null,l=null;if(!n&&(o||s)){if(oP.isLocked&&(gR.debug("[device manager] wait GUM lock"),(await oP.lock())(),gR.debug("[device manager] GUM unlock")),sP&&(o=!1,this.isAccessMicrophonePermission=!0),aP&&(s=!1,this.isAccessCameraPermission=!0),gR.debug("[device manager] check media device permissions",t,e,o,s),o&&s){try{l=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(t){const e=uP(t.name||t.code||t,t.message);if(e.code===SC.PERMISSION_DENIED)throw e;gR.warning("getUserMedia failed in getDevices",e)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(o){try{a=await navigator.mediaDevices.getUserMedia({audio:t})}catch(t){const e=uP(t.name||t.code||t,t.message);if(e.code===SC.PERMISSION_DENIED)throw e;gR.warning("getUserMedia failed in getDevices",e)}this.isAccessMicrophonePermission=!0}else if(s){try{c=await navigator.mediaDevices.getUserMedia({video:e})}catch(t){const e=uP(t.name||t.code||t,t.message);if(e.code===SC.PERMISSION_DENIED)throw e;gR.warning("getUserMedia failed in getDevices",e)}this.isAccessCameraPermission=!0}gR.debug("[device manager] mic permission",t,"cam permission",e)}try{const t=await navigator.mediaDevices.enumerateDevices();return a&&a.getTracks().forEach(t=>t.stop()),c&&c.getTracks().forEach(t=>t.stop()),l&&l.getTracks().forEach(t=>t.stop()),a=null,c=null,l=null,t}catch(t){return a&&a.getTracks().forEach(t=>t.stop()),c&&c.getTracks().forEach(t=>t.stop()),l&&l.getTracks().forEach(t=>t.stop()),a=null,c=null,l=null,new TC(SC.ENUMERATE_DEVICES_FAILED,t.toString()).throw()}}async getRecordingDevices(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,t)).filter(t=>"audioinput"===t.kind)}async getCamerasDevices(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,t)).filter(t=>"videoinput"===t.kind)}async getSpeakers(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,t)).filter(t=>"audiooutput"===t.kind)}searchDeviceIdByName(t){let e=null;return this.deviceInfoMap.forEach(n=>{n.device.label===t&&(e=n.device.deviceId)}),e}async getDeviceById(t){const e=(await this.enumerateDevices(!0,!0,!0)).find(e=>e.deviceId===t);if(!e)throw new TC(SC.DEVICE_NOT_FOUND,"deviceId: ".concat(t));return e}async init(){this.state=PN.INITING;try{await this.updateDevicesInfo(),this.state=PN.INITEND}catch(t){throw gR.warning("Device Detection functionality cannot start properly.",t.toString()),this.state=PN.IDLE,("boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname)||new TC(SC.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),t}}async updateDevicesInfo(){const t=await this.enumerateDevices(!0,!0,!0),e=Date.now(),n=[];if(t[0]&&t[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const e=t.find(t=>"audioinput"===t.kind&&"default"===t.deviceId),n=t.find(t=>"audiooutput"===t.kind&&"default"===t.deviceId);e&&n?n.groupId===e.groupId?gR.debug("[device-check] default input ".concat(e.label," and output ").concat(n.label," is the same group")):gR.warning("[device-check] default input ".concat(e.label," and output ").concat(n.label," is not the same group")):gR.debug("[device-check] default input or output not found")}const i=this.checkMediaDeviceInfoIsOk(t);if(t.forEach(t=>{if(!t.deviceId)return;const i=this.deviceInfoMap.get("".concat(t.kind,"_").concat(t.deviceId));if("ACTIVE"!==(i?i.state:"INACTIVE")){const i={initAt:e,updateAt:e,device:t,state:"ACTIVE"};this.deviceInfoMap.set("".concat(t.kind,"_").concat(t.deviceId),i),n.push(i)}i&&(i.updateAt=e)}),this.deviceInfoMap.forEach((t,i)=>{"ACTIVE"===t.state&&t.updateAt!==e&&(t.state="INACTIVE",n.push(t))}),this.state!==PN.INITEND)return i.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(i.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));n.forEach(t=>{switch(t.device.kind){case"audioinput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(LN.RECORDING_DEVICE_CHANGED,t);break;case"videoinput":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(LN.CAMERA_DEVICE_CHANGED,t);break;case"audiooutput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(LN.PLAYOUT_DEVICE_CHANGED,t)}}),i.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),i.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(t){const e=t.filter(t=>"audioinput"===t.kind),n=t.filter(t=>"videoinput"===t.kind),i={audio:!1,video:!1};for(const r of e)if(r.label&&r.deviceId){i.audio=!0;break}for(const r of n)if(r.label&&r.deviceId){i.video=!0;break}return i}};let pP=!1;const fP=new class extends UC{constructor(){super(...arguments),FN(this,"onAutoplayFailed",void 0),FN(this,"onAudioAutoplayFailed",void 0)}};function mP(){if($w(),!pP){const t=e=>{e.preventDefault(),pP=!1,_C()?document.body.removeEventListener("click",t,!0):(document.body.removeEventListener("touchstart",t,!0),document.body.removeEventListener("mousedown",t,!0))};pP=!0,_C()?document.body.addEventListener("click",t,!0):(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)),gR.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),fP.onAutoplayFailed?fP.onAutoplayFailed():fP.onAudioAutoplayFailed?gR.warning("AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."):gR.warning("We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."),fP.emit("autoplay-failed")}}function vP(t,e,n,i){if(!t)return;const r=CR.getBaseInfoBySessionId(t);if(!r)return;const o=r.info,s=Date.now(),a=WN(WN({},o),{},{vid:void 0===o.vid?0:Number(o.vid),lts:s,elapse:s-r.startTime,cbRegistered:fP.onAutoplayFailed||fP.onAudioAutoplayFailed?1:-1,errorMsg:n,mediaType:e,trackId:i,extend:void 0});CR.send({type:SR.AUTOPLAY_FAILED,data:a},!0)}const gP=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","error"],_P=new class{constructor(){FN(this,"onAutoplayFailed",void 0),FN(this,"elementMap",new Map),FN(this,"elementStateMap",new Map),FN(this,"elementsNeedToResume",[]),FN(this,"sinkIdMap",new Map),FN(this,"autoResumeAfterInterruption",t=>{Array.from(this.elementMap.entries()).forEach(e=>{let[n,i]=e;const r=this.elementStateMap.get(n),o=i.srcObject.getAudioTracks()[0],s=o&&o.readyState;if(gR.debug("resume after interrupted, ele: ".concat(r," audio: ").concat(s," ").concat(t)),"live"===s){if(t)return i.pause(),void i.play();if("running"===KN.curState)return lC()?(i.pause(),void i.play()):void(r&&"paused"===r&&i.play())}})}),FN(this,"autoResumeAfterInterruptionOnIOS15_16",()=>{Array.from(this.elementMap.entries()).forEach(t=>{let[e,n]=t;const i=n.srcObject.getAudioTracks()[0];i&&"live"===i.readyState&&(gR.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),n.pause(),n.play())})}),this.autoResumeAudioElement(),KN.on(nN.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),KN.on(nN.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),KN.on(nN.STATE_CHANGE,()=>{tC()&&"suspended"===KN.prevState&&"running"===KN.curState&&this.autoResumeAfterInterruption()})}async setSinkID(t,e){const n=this.elementMap.get(t);if(this.sinkIdMap.set(t,e),n)try{await n.setSinkId(e)}catch(t){throw new TC(SC.PERMISSION_DENIED,"can not set sink id: "+t.toString())}}play(t,e,n,i){if(this.elementMap.has(e))return;const r=document.createElement("audio");r.autoplay=!0,r.srcObject=new MediaStream([t]),this.bindAudioElementEvents(e,r),this.elementMap.set(e,r),this.elementStateMap.set(e,MN.INIT),this.setVolume(e,n);const o=this.sinkIdMap.get(e);if(o)try{r.setSinkId(o).catch(t=>{gR.warning("[".concat(e,"] set sink id failed"),t.toString())})}catch(t){gR.warning("[".concat(e,"] set sink id failed"),t.toString())}const s=r.play();s&&s.then&&s.catch(t=>{i&&vP(i,"audio",t.message,e),gR.warning("audio element play warning",t.toString()),this.elementMap.has(e)&&"NotAllowedError"===t.name&&(gR.warning("detected audio element autoplay failed"),this.elementsNeedToResume.push(r),sI(()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),mP()}))})}updateTrack(t,e){const n=this.elementMap.get(t);n&&(n.srcObject=new MediaStream([e]))}isPlaying(t){return this.elementMap.has(t)&&"playing"===this.elementStateMap.get(t)}setVolume(t,e){const n=this.elementMap.get(t);n&&(e=Math.max(0,Math.min(100,e)),n.volume=e/100)}stop(t){const e=this.elementMap.get(t);if(this.sinkIdMap.delete(t),!e)return;const n=this.elementsNeedToResume.indexOf(e);this.elementsNeedToResume.splice(n,1),e.srcObject=null,e.remove(),this.elementMap.delete(t),this.elementStateMap.delete(t)}bindAudioElementEvents(t,e){gP.forEach(n=>{e.addEventListener(n,n=>{const i=this.elementStateMap.get(t),r="pause"===n.type?"paused":n.type;if(gR.debug("[".concat(t,"] audio-element-status change ").concat(i," => ").concat(r)),"error"===n.type){const n=null==e?void 0:e.error;n&&gR.error("[".concat(t,"] media error, code: ").concat(n.code,", message: ").concat(n.message))}this.elementStateMap.set(t,r)})})}getPlayerState(t){return this.elementStateMap.get(t)||"uninit"}autoResumeAudioElement(){const t=()=>{this.elementsNeedToResume.forEach(t=>{t.play().then(t=>{gR.debug("Auto resume audio element success")}).catch(t=>{gR.warning("Auto resume audio element failed!",t)})}),this.elementsNeedToResume=[]};new $h(t=>{document.body?t():window.addEventListener("load",()=>t())}).then(()=>{_C()?document.body.addEventListener("click",t,!0):(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0))})}};function yP(){return function(t,e,n){const i=n.value;return"function"==typeof i&&(n.value=function(){this._isClosed&&new TC(SC.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning",gR);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=i.apply(this,e);return r instanceof $h?new $h((t,e)=>{r.then(t).catch(e)}):r}),n}}class EP extends UC{constructor(t){super(),FN(this,"name","VideoProcessorDestination"),FN(this,"ID","0"),FN(this,"_source",void 0),FN(this,"videoContext",void 0),FN(this,"inputTrack",void 0),this.videoContext=t}get kind(){return"video"}get enabled(){return!0}pipe(){throw new TC(SC.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}unpipe(){throw new TC(SC.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}updateInput(t){if(t.context!==this.videoContext)throw new Error("ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\nProbably you are making pipeline like this:\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).");t.track&&t.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=t.track,this.emit(kN.ON_TRACK,t.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(kN.ON_TRACK,void 0)}}class bP extends UC{set chained(t){this._chained=t}get chained(){return this._chained}constructor(t,e){super(),FN(this,"constraintsMap",new Map),FN(this,"statsRegistry",[]),FN(this,"usageRegistry",[]),FN(this,"trackId",void 0),FN(this,"direction",void 0),FN(this,"_chained",!1),this.trackId=t,this.direction=e}async getConstraints(){return await QC(this,NN.REQUEST_CONSTRAINTS)}async requestApplyConstraints(t,e){var n;return gR.info("processor ".concat(e.name," requestApplyConstraints for ").concat(this.trackId)),t&&this.constraintsMap.set(e,t),tI(this,NN.REQUEST_UPDATE_CONSTRAINTS,Array.from(mx(n=this.constraintsMap).call(n)))}async requestRevertConstraints(t){var e;if(this.constraintsMap.has(t))return gR.info("processor ".concat(t.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(t),tI(this,NN.REQUEST_UPDATE_CONSTRAINTS,Array.from(mx(e=this.constraintsMap).call(e)))}registerStats(t,e,n){this.statsRegistry.find(n=>n.processorID===t.ID&&n.processorName===t.name&&n.type===e)||this.statsRegistry.push({processorName:t.name,processorID:t.ID,type:e,cb:n})}unregisterStats(t,e){const n=this.statsRegistry.findIndex(n=>n.processorID===t.ID&&n.processorName===t.name&&n.type===e);-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const t=[];for(const{processorID:e,processorName:n,type:i,cb:r}of this.statsRegistry)try{const o=r();t.push({processorID:e,processorName:n,type:i,stats:o})}catch(t){gR.error(new TC(SC.UNEXPECTED_ERROR,t.message))}return t}registerUsage(t,e){this.usageRegistry.find(e=>e.processorID===t.ID&&e.processorName===t.name)||this.usageRegistry.push({processorID:t.ID,processorName:t.name,cb:e})}unregisterUsage(t){const e=this.usageRegistry.findIndex(e=>e.processorID===t.ID&&e.processorName===t.name);-1!==e&&this.usageRegistry.splice(e,1)}async gatherUsage(){const t=[];if(!this.chained)return[];for(const{cb:e}of this.usageRegistry)try{let n=e();n instanceof $h&&(n=await n),t.push(WN(WN({},n),{},{direction:this.direction}))}catch(t){gR.error("gather extension usage error",t)}return t}getDirection(){return this.direction}}class SP extends UC{constructor(t){super(),FN(this,"name","AudioProcessorDestination"),FN(this,"ID","0"),FN(this,"inputTrack",void 0),FN(this,"inputNode",void 0),FN(this,"audioProcessorContext",void 0),FN(this,"_source",void 0),this.audioProcessorContext=t}get kind(){return"audio"}get enabled(){return!0}pipe(){throw new TC(SC.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}unpipe(){throw new TC(SC.NOT_SUPPORTED,"AudioProcessor cannot unpipe to any other Processor")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(kN.ON_TRACK,void 0),this.emit(kN.ON_NODE,void 0)}updateInput(t){if(t.context!==this.audioProcessorContext)throw new Error("ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).");t.track&&this.inputTrack!==t.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=t.track,this.emit(kN.ON_TRACK,this.inputTrack)),t.node&&this.inputNode!==t.node&&(this.audioProcessorContext.chained=!0,this.inputNode=t.node,this.emit(kN.ON_NODE,this.inputNode))}}class TP extends UC{set chained(t){this._chained=t}get chained(){return this._chained}constructor(t,e,n){super(),FN(this,"constraintsMap",new Map),FN(this,"statsRegistry",[]),FN(this,"audioContext",void 0),FN(this,"trackId",void 0),FN(this,"direction",void 0),FN(this,"usageRegistry",[]),FN(this,"_chained",!1),this.audioContext=t,this.trackId=e,this.direction=n}async getConstraints(){return QC(this,NN.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(t,e){var n;return gR.info("processor ".concat(e.name," requestApplyConstraints for ").concat(this.trackId)),t&&this.constraintsMap.set(e,t),tI(this,NN.REQUEST_UPDATE_CONSTRAINTS,Array.from(mx(n=this.constraintsMap).call(n)))}async requestRevertConstraints(t){var e;if(this.constraintsMap.has(t))return this.constraintsMap.delete(t),tI(this,NN.REQUEST_UPDATE_CONSTRAINTS,Array.from(mx(e=this.constraintsMap).call(e)))}registerStats(t,e,n){this.statsRegistry.find(n=>n.processorID===t.ID&&n.processorName===t.name&&n.type===e)||this.statsRegistry.push({processorName:t.name,processorID:t.ID,type:e,cb:n})}unregisterStats(t,e){const n=this.statsRegistry.findIndex(n=>n.processorID===t.ID&&n.processorName===t.name&&n.type===e);-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const t=[];for(const{processorID:e,processorName:n,type:i,cb:r}of this.statsRegistry)try{const o=r();t.push({processorID:e,processorName:n,type:i,stats:o})}catch(t){gR.error(new TC(SC.UNEXPECTED_ERROR,t.message))}return t}registerUsage(t,e){this.usageRegistry.find(e=>e.processorID===t.ID&&e.processorName===t.name)||this.usageRegistry.push({processorID:t.ID,processorName:t.name,cb:e})}unregisterUsage(t){const e=this.usageRegistry.findIndex(e=>e.processorID===t.ID&&e.processorName===t.name);-1!==e&&this.usageRegistry.splice(e,1)}async gatherUsage(){const t=[];if(!this.chained)return[];for(const{cb:e}of this.usageRegistry)try{let n=e();n instanceof $h&&(n=await n),t.push(WN(WN({},n),{},{direction:this.direction}))}catch(t){gR.error("gather extension usage error",t)}return t}getDirection(){return this.direction}}class wP extends UC{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),FN(this,"context",void 0),FN(this,"processSourceNode",void 0),FN(this,"outputTrack",void 0),FN(this,"processedNode",void 0),FN(this,"clonedTrack",void 0),FN(this,"outputNode",void 0),this.outputNode=new CP}setVolume(){}createOutputTrack(){throw new TC(SC.NOT_SUPPORTED,"can not create output MediaStreamTrack when WebAudio disabled")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class CP{disconnect(){}connect(){}}function IP(t){return new $h((e,n)=>{let i=!1;const r=document.createElement("video");r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.muted=!0,r.autoplay=!0,r.setAttribute("playsinline",""),r.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(r);const o=tC()?"canplay":"playing";r.addEventListener(o,()=>{const t=r.videoWidth,n=r.videoHeight;!t&&Qw()||(i=!0,r.srcObject=null,r.remove(),e([t,n]))}),r.srcObject=new MediaStream([t]),r.play().catch(bI),setTimeout(()=>{i||(r.srcObject=null,r.remove(),e([r.videoWidth,r.videoHeight]))},4e3)})}function RP(t){const e={};t.facingMode&&(e.facingMode=t.facingMode),t.cameraId&&(e.deviceId={exact:t.cameraId});const n=uN(t.encoderConfig);return null!=n.width&&(e.width=n.width),null!=n.height&&(e.height=n.height),!fC()&&n.frameRate&&(e.frameRate=n.frameRate),Zw()&&"object"==typeof e.frameRate&&(e.frameRate.max=60),Qw()&&(e.frameRate={ideal:30,max:30}),e}function AP(t){const e={};if(fC()||(void 0!==t.AGC&&(e.autoGainControl=t.AGC),void 0!==t.AEC&&(e.echoCancellation=t.AEC),void 0!==t.ANS&&(e.noiseSuppression=t.ANS,Xw()&&t.ANS&&(e.googHighpassFilter=t.ANS))),t.encoderConfig){const n=fN(t.encoderConfig);e.channelCount=n.stereo?2:1,e.sampleRate=n.sampleRate,e.sampleSize=n.sampleSize}return t.microphoneId&&(e.deviceId={exact:t.microphoneId}),gC()&&(e.sampleRate=void 0),e}const OP=t=>{const e=t._encoderConfig;if(!e)return;const{frameRate:n,width:i,height:r}=t.getMediaStreamTrackSettings();let{frameRate:o=n,width:s=i,height:a=r}=e;if(!o||!s||!a)return;s=RI(s),a=RI(a),o=RI(o);const{max:c,min:l}=function(t,e,n){const i=200*Math.pow(n/15,.6)*Math.pow(t*e/640/360,.75);return{min:Math.floor(i),max:Math.floor(4*i)}}(s,a,o),{bitrateMax:u,bitrateMin:d}=e||{};u||gR.debug("calculate bitrate: [w: ".concat(s,", h: ").concat(a,", fps: ").concat(o,"] => [brMax: ").concat(u,", brMin: ").concat(d,"]"));const{maxFramerate:h}=JI("ENCODER_CONFIG_LIMIT");return h&&"number"==typeof h&&(o=Math.min(o,h)),{frameRate:o,bitrateMax:u||c,bitrateMin:d||l,scaleResolutionDownBy:1,scale:0}},xP=async(t,e,n)=>await(async(t,e,n)=>{const i=function(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(parseInt(t.slice(n,n+2),16));return Uint8Array.from(e)}(AI(""+e+n)).slice(0,16),r=i.slice(0,12),o=await window.crypto.subtle.importKey("raw",i,"AES-GCM",!0,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},o,t))})(t.buffer,e,n),DP=t=>{const e=document.createElement("canvas");return e.width=2,e.height=2,new $h((n,i)=>{e.toBlob(async t=>{if(e.remove(),t){const i=await kP(t);n({buffer:i,width:e.width,height:e.height})}else i(new TC(SC.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},t,1)})},kP=async t=>{const e=await t.arrayBuffer();return new Uint8Array(e)};var NP,PP,LP,MP,VP,UP,BP,jP,FP,HP,WP,GP,$P,zP,YP,KP,qP,XP,JP,ZP,QP,tL,eL,nL,iL,rL,oL,sL,aL,cL,lL,uL,dL,hL,pL,fL,mL,vL,gL,_L;let yL=(NP=wR({argsMap:(t,e)=>[t.getTrackId(),e],throttleTime:300}),PP=wR({argsMap:(t,e)=>[t.getTrackId(),e]}),LP=yP(),MP=kI("LocalAudioTrack","_enabledMutex"),VP=wR({argsMap:(t,e)=>[t.getTrackId(),e]}),UP=yP(),BP=kI("LocalAudioTrack","_enabledMutex"),jP=wR({argsMap:(t,e)=>[t.getTrackId(),e]}),FP=yP(),HP=yP(),WP=yP(),GP=wR({argsMap:t=>[t.getTrackId()]}),$P=yP(),zP=wR({argsMap:t=>[t.getTrackId()]}),YP=yP(),KP=wR({argsMap:t=>[t.getTrackId()]}),qP=wR({argsMap:(t,e)=>[t.getTrackId(),e.name]}),XP=wR({argsMap:t=>[t.getTrackId()]}),jN((JP=class extends $N{get _source(){return this.initWebAudio()}set _source(t){this._trackSource=t}get processorContext(){return this._processorContext||(this._processorContext=this.initProcessor().processorContext),this._processorContext}get processorDestination(){return this._processorDestination||(this._processorDestination=this.initProcessor().processorDestination),this._processorDestination}get isPlaying(){return this._useAudioElement?_P.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"LocalAudioTrack"}constructor(t,e,n,i){super(t,n),FN(this,"trackMediaType",CN.AUDIO),FN(this,"_encoderConfig",void 0),FN(this,"_trackSource",void 0),FN(this,"_enabled",!0),FN(this,"_volume",100),FN(this,"_useAudioElement",!0),FN(this,"_bypassWebAudio",!1),FN(this,"processor",void 0),FN(this,"_processorContext",void 0),FN(this,"_processorDestination",void 0),FN(this,"_getOriginVolumeLevel",void 0),this._encoderConfig=e,this._getOriginVolumeLevel=!!i,this._trackSource=new wP,JI("DISABLE_WEBAUDIO")&&(this._bypassWebAudio=!0),JI("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1),Jw()&&!YN?setTimeout(()=>this.initWebAudio()):this.initWebAudio()}setVolume(t){IC(t,"volume",0,1e3),this._volume=t,this._source.setVolume(t/100),this._useAudioElement&&_P.setVolume(this.getTrackId(),t);try{if(this._bypassWebAudio)return void gR.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio."));const t=this._source.createOutputTrack();this._mediaStreamTrack!==t&&(this._mediaStreamTrack=t,tI(this,gN.NEED_REPLACE_TRACK,this).then(()=>{gR.debug("[".concat(this.getTrackId(),"] replace web audio track success"))}).catch(t=>{gR.warning("[".concat(this.getTrackId(),"] replace web audio track failed"),t)}))}catch(t){}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(t){if(!this._useAudioElement||!tN())throw new TC(SC.NOT_SUPPORTED,"your browser does not support setting the audio output device");await _P.setSinkID(this.getTrackId(),t)}async setEnabled(t,e,n){return this._setEnabled(t,e,n)}async _setEnabled(t,e,n){if(!n){if(t===this._enabled)return;this.stateCheck("enabled",t)}if(gR.info("[".concat(this.getTrackId(),"] start setEnabled"),t),t){this._originMediaStreamTrack.enabled=!0;try{n||(this._enabled=!0),await tI(this,gN.NEED_ENABLE_TRACK,this),gR.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(t," success"))}catch(t){throw n||(this._enabled=!1),gR.error("[".concat(this.getTrackId(),"] setEnabled to true error"),t.toString()),t}}else{this._originMediaStreamTrack.enabled=!1,n||(this._enabled=!1);try{await tI(this,gN.NEED_DISABLE_TRACK,this)}catch(t){throw n||(this._enabled=!0),gR.error("[".concat(this.getTrackId(),"] setEnabled to false error"),t.toString()),t}}}async setMuted(t){t!==this._muted&&(this.stateCheck("muted",t),this._muted=t,this._originMediaStreamTrack.enabled=!t,gR.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(t)),t?await tI(this,gN.NEED_MUTE_TRACK,this):await tI(this,gN.NEED_UNMUTE_TRACK,this))}getStats(){return uI(()=>{gR.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")},"localAudioTrackGetStatsWarning"),eI(this,gN.GET_STATS)||WN({},RN)}setAudioFrameCallback(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!t)return this._source.removeAllListeners(IN.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(e),this._source.removeAllListeners(IN.ON_AUDIO_BUFFER),this._source.on(IN.ON_AUDIO_BUFFER,e=>t(e))}play(){gR.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?(gR.debug("[".concat(this.getTrackId(),"] start audio playback in element")),_P.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){gR.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?_P.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];gR.debug("[".concat(this.getTrackId(),"] update player source track")),t&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&_P.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(t,e){this._originMediaStreamTrack!==t&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),e&&this._originMediaStreamTrack.stop()),t.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=t,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:t,context:this._processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await tI(this,gN.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(t))}renewMediaStreamTrack(t){return $h.resolve(void 0)}pipe(t){if(this._bypassWebAudio)throw new TC(SC.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===t)return t;if(t._source)throw new TC(SC.INVALID_OPERATION,"Processor ".concat(t.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),t}unpipe(){var t;if(!this.processor)return;const e=this.processor;null===(t=this._source.processSourceNode)||void 0===t||t.disconnect(),this.processor._source=!1,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(t){t.on(kN.ON_TRACK,async t=>{t?t!==this._mediaStreamTrack&&(this._mediaStreamTrack=t,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(t),await tI(this,gN.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await tI(this,gN.NEED_REPLACE_TRACK,this))}),t.on(kN.ON_NODE,t=>{this._source.processedNode=t})}unbindProcessorDestinationEvents(t){t.removeAllListeners(kN.ON_TRACK),t.removeAllListeners(kN.ON_NODE)}bindProcessorContextEvents(t){t.on(NN.REQUEST_CONSTRAINTS,async t=>{t(this._originMediaStreamTrack.getSettings())})}unbindProcessorContextEvents(t){t.removeAllListeners(NN.REQUEST_CONSTRAINTS)}initWebAudio(){return this._trackSource instanceof wP&&(this._trackSource=new eP(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}initProcessor(){const t=new TP(this._source.context,this.getTrackId(),"local"),e=new SP(t);return this._processorContext=t,this._processorDestination=e,this.bindProcessorContextEvents(t),this.bindProcessorDestinationEvents(e),this._source.on(IN.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:t})}),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(_P.stop(this.getTrackId()),this._source.play()),tI(this,gN.NEED_REPLACE_MIXING_TRACK,this).then(()=>{gR.debug("[".concat(this.getTrackId(),"] replace from origin track to web audio track success"))}).catch(t=>{gR.warning("[".concat(this.getTrackId(),"] replace from origin track to web audio track failed"),t)})),{processorContext:t,processorDestination:e}}}).prototype,"setVolume",[NP],Object.getOwnPropertyDescriptor(JP.prototype,"setVolume"),JP.prototype),jN(JP.prototype,"setPlaybackDevice",[PP,LP],Object.getOwnPropertyDescriptor(JP.prototype,"setPlaybackDevice"),JP.prototype),jN(JP.prototype,"setEnabled",[MP,VP,UP],Object.getOwnPropertyDescriptor(JP.prototype,"setEnabled"),JP.prototype),jN(JP.prototype,"setMuted",[BP,jP,FP],Object.getOwnPropertyDescriptor(JP.prototype,"setMuted"),JP.prototype),jN(JP.prototype,"getStats",[HP],Object.getOwnPropertyDescriptor(JP.prototype,"getStats"),JP.prototype),jN(JP.prototype,"setAudioFrameCallback",[WP],Object.getOwnPropertyDescriptor(JP.prototype,"setAudioFrameCallback"),JP.prototype),jN(JP.prototype,"play",[GP,$P],Object.getOwnPropertyDescriptor(JP.prototype,"play"),JP.prototype),jN(JP.prototype,"stop",[zP,YP],Object.getOwnPropertyDescriptor(JP.prototype,"stop"),JP.prototype),jN(JP.prototype,"close",[KP],Object.getOwnPropertyDescriptor(JP.prototype,"close"),JP.prototype),jN(JP.prototype,"pipe",[qP],Object.getOwnPropertyDescriptor(JP.prototype,"pipe"),JP.prototype),jN(JP.prototype,"unpipe",[XP],Object.getOwnPropertyDescriptor(JP.prototype,"unpipe"),JP.prototype),JP),EL=(ZP=wR({argsMap:(t,e)=>[t.getTrackId(),e]}),QP=yP(),tL=kI("MicrophoneAudioTrack","_enabledMutex"),eL=wR({argsMap:(t,e,n)=>[t.getTrackId(),e,n]}),nL=yP(),iL=wR({argsMap:t=>[t.getTrackId()]}),jN((rL=class extends yL{get __className__(){return"MicrophoneAudioTrack"}constructor(t,e,n,i){super(t,e.encoderConfig?fN(e.encoderConfig):{},i,JI("GET_VOLUME_OF_MUTED_AUDIO_TRACK")),FN(this,"_config",void 0),FN(this,"_deviceName","default"),FN(this,"_constraints",void 0),FN(this,"_originalConstraints",void 0),FN(this,"_enabled",!0),this._config=e,this._constraints=n,this._originalConstraints=n,this._deviceName=t.label,"boolean"==typeof e.bypassWebAudio&&(this._bypassWebAudio=e.bypassWebAudio),(lC()||uC())&&KN.bindInterruptDetectorTrack(this)}async setDevice(t){if(gR.info("[".concat(this.getTrackId(),"] start set device to ").concat(t)),this._enabled)try{const e=await hP.getDeviceById(t),n={};n.audio=WN({},this._constraints),n.audio.deviceId={exact:t},this._originMediaStreamTrack.stop();let i=null;try{i=await cP(n,this.getTrackId())}catch(t){throw gR.error("[".concat(this.getTrackId(),"] setDevice failed"),t.toString()),i=await cP({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!1),this._deviceName=e.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t}}catch(t){throw gR.error("[".concat(this.getTrackId(),"] setDevice error"),t.toString()),t}else try{const e=await hP.getDeviceById(t);this._deviceName=e.label,this._config.microphoneId=t,this._constraints.deviceId={exact:t}}catch(t){throw gR.error("[".concat(this.getTrackId(),"] setDevice error"),t.toString()),t}gR.info("[".concat(this.getTrackId(),"] set device to ").concat(t," success"))}async setEnabled(t,e,n){if(e)return gR.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),await super._setEnabled(t);if(!n){if(t===this._enabled)return;this.stateCheck("enabled",t)}if(gR.info("[".concat(this.getTrackId(),"] start setEnabled"),t),JI("AUTO_RESET_AUDIO_ROUTE")&&(tC()||hC())){const e=navigator.audioSession;e&&(t||(e.type="playback"),e.type="auto")}if(!t){var i;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(i=this._source.clonedTrack)||void 0===i||i.stop(),n||(this._enabled=!1);try{await tI(this,gN.NEED_DISABLE_TRACK,this)}catch(t){throw gR.error("[".concat(this.getTrackId(),"] setEnabled false failed"),t.toString()),t}return}const r=WN({},this._constraints),o=hP.searchDeviceIdByName(this._deviceName);o&&!r.deviceId&&(r.deviceId=o);try{n||(this._enabled=!0);const t=await cP({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(t.getAudioTracks()[0],!1),await tI(this,gN.NEED_ENABLE_TRACK,this)}catch(t){throw n||(this._enabled=!1),gR.error("[".concat(this.getTrackId(),"] setEnabled true failed"),t.toString()),t}gR.info("[".concat(this.getTrackId(),"] setEnabled success"))}close(){super.close(),(lC()||uC())&&KN.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((tC()||hC())&&this._enabled&&!this._isClosed&&KN.duringInterruption){const t=async()=>{KN.off(nN.IOS_INTERRUPTION_END,t),this._enabled&&!this._isClosed&&(gR.debug("[".concat(this.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};KN.on(nN.IOS_INTERRUPTION_END,t)}else gR.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(TN.TRACK_ENDED)}async renewMediaStreamTrack(t){const e=t||this._constraints,n=hP.searchDeviceIdByName(this._deviceName);if(n&&!e.deviceId&&(e.deviceId=n),this._constraints=e,this._enabled){this._originMediaStreamTrack.stop();const t=await cP({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(t.getAudioTracks()[0],!0)}}bindProcessorContextEvents(t){super.bindProcessorContextEvents(t),t.on(NN.REQUEST_UPDATE_CONSTRAINTS,async(t,e,n)=>{try{const n=Object.assign({},this._originalConstraints,...t);await this.renewMediaStreamTrack(n),e()}catch(t){n(t)}})}unbindProcessorContextEvents(t){super.unbindProcessorContextEvents(t),t.removeAllListeners(NN.REQUEST_UPDATE_CONSTRAINTS)}}).prototype,"setDevice",[ZP,QP],Object.getOwnPropertyDescriptor(rL.prototype,"setDevice"),rL.prototype),jN(rL.prototype,"setEnabled",[tL,eL,nL],Object.getOwnPropertyDescriptor(rL.prototype,"setEnabled"),rL.prototype),jN(rL.prototype,"close",[iL],Object.getOwnPropertyDescriptor(rL.prototype,"close"),rL.prototype),rL),bL=(oL=wR({argsMap:(t,e)=>[t.getTrackId(),e,t.duration]}),sL=yP(),aL=wR({argsMap:t=>[t.getTrackId()]}),cL=yP(),lL=wR({argsMap:t=>[t.getTrackId()]}),uL=yP(),dL=wR({argsMap:t=>[t.getTrackId()]}),hL=yP(),pL=wR({argsMap:t=>[t.getTrackId()]}),fL=yP(),mL=wR({argsMap:t=>[t.getTrackId()]}),vL=wR({argsMap:t=>[t.getTrackId()]}),gL=yP(),jN((_L=class extends yL{get __className__(){return"BufferSourceAudioTrack"}constructor(t,e,n,i){super(e.createOutputTrack(),n,i),FN(this,"source",void 0),FN(this,"_bufferSource",void 0),this._useAudioElement=!1,this.source=t,this._bufferSource=e,this._bufferSource.on(IN.AUDIO_SOURCE_STATE_CHANGE,t=>{this.safeEmit(TN.SOURCE_STATE_CHANGE,t)});try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(t){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(t){t&&this._bufferSource.updateOptions(t),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(t){this._bufferSource.seekAudioBuffer(t)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(t){IC(t,"speed",0),this._bufferSource.setAudioBufferPlaybackSpeed(t)}}).prototype,"startProcessAudioBuffer",[oL,sL],Object.getOwnPropertyDescriptor(_L.prototype,"startProcessAudioBuffer"),_L.prototype),jN(_L.prototype,"pauseProcessAudioBuffer",[aL,cL],Object.getOwnPropertyDescriptor(_L.prototype,"pauseProcessAudioBuffer"),_L.prototype),jN(_L.prototype,"seekAudioBuffer",[lL,uL],Object.getOwnPropertyDescriptor(_L.prototype,"seekAudioBuffer"),_L.prototype),jN(_L.prototype,"resumeProcessAudioBuffer",[dL,hL],Object.getOwnPropertyDescriptor(_L.prototype,"resumeProcessAudioBuffer"),_L.prototype),jN(_L.prototype,"stopProcessAudioBuffer",[pL,fL],Object.getOwnPropertyDescriptor(_L.prototype,"stopProcessAudioBuffer"),_L.prototype),jN(_L.prototype,"close",[mL],Object.getOwnPropertyDescriptor(_L.prototype,"close"),_L.prototype),jN(_L.prototype,"setAudioBufferPlaybackSpeed",[vL,gL],Object.getOwnPropertyDescriptor(_L.prototype,"setAudioBufferPlaybackSpeed"),_L.prototype),_L);class SL extends yL{get __className__(){return"MixingAudioTrack"}get isActive(){for(const t of this.trackList)if(t._enabled&&!t._isClosed&&!t.muted)return!0;return!1}constructor(){const t=qN().createMediaStreamDestination();super(t.stream.getAudioTracks()[0],void 0,yI(8,"track-mix-")),FN(this,"trackList",void 0),FN(this,"destNode",void 0),this._useAudioElement=!1;try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(t){}this.destNode=t,this.trackList=[]}hasAudioTrack(t){return-1!==this.trackList.indexOf(t)}addAudioTrack(t){-1===this.trackList.indexOf(t)?(gR.debug("add ".concat(t.getTrackId()," to mixing track")),t._source.outputNode.connect(this.destNode),this.trackList.push(t),this.updateEncoderConfig()):gR.debug("track ".concat(t.getTrackId()," is already added"))}removeAudioTrack(t){if(-1!==this.trackList.indexOf(t)){gR.debug("remove ".concat(t.getTrackId()," from mixing track"));try{t._source.outputNode.disconnect(this.destNode)}catch(t){}rI(this.trackList,t),this.updateEncoderConfig()}}updateEncoderConfig(){const t={};this.trackList.forEach(e=>{e._encoderConfig&&((e._encoderConfig.bitrate||0)>(t.bitrate||0)&&(t.bitrate=e._encoderConfig.bitrate),(e._encoderConfig.sampleRate||0)>(t.sampleRate||0)&&(t.sampleRate=e._encoderConfig.sampleRate),(e._encoderConfig.sampleSize||0)>(t.sampleSize||0)&&(t.sampleSize=e._encoderConfig.sampleSize),e._encoderConfig.stereo&&(t.stereo=!0))}),this._encoderConfig=t}_updateRtpTransceiver(t){this._rtpTransceiver!==t&&(this._rtpTransceiver=t,this.trackList.forEach(e=>{e instanceof SL?e.emit(SN.TRANSCEIVER_UPDATED,t):e._updateRtpTransceiver(t)}))}}class TL extends tP{set currentState(t){t!==this._currentState&&(this._currentState=t,this.safeEmit(IN.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),FN(this,"audioBuffer",void 0),FN(this,"sourceNode",void 0),FN(this,"startPlayTime",0),FN(this,"startPlayOffset",0),FN(this,"pausePlayTime",0),FN(this,"options",void 0),FN(this,"currentLoopCount",0),FN(this,"currentPlaybackSpeed",100),FN(this,"_currentState","stopped"),this.audioBuffer=t,this.options=e,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?"stopped"===this.currentState?0:"paused"===this.currentState?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(t){"stopped"===this.currentState?(this.options=t,this.startPlayOffset=this.options.startPlayTime||0):gR.warning("can not set audio source options")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}pauseProcessAudioBuffer(){this.sourceNode&&"playing"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}seekAudioBuffer(t){this.sourceNode&&(this.sourceNode.onended=null,"playing"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),"playing"===this.currentState?(this.startPlayOffset=t,this.startSourceNode()):"paused"===this.currentState&&(this.pausePlayTime=t))}resumeProcessAudioBuffer(){"paused"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(t){}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(t){this.sourceNode&&("playing"===this.currentState&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=t/100),this.currentPlaybackSpeed=t}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const t=this.context.createBufferSource();return t.buffer=this.audioBuffer,t.loop=!!this.options.loop,t.connect(this.outputNode),t.playbackRate.value=this.currentPlaybackSpeed/100,t}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const wL=new Map;class CL{get rendFrameRate(){if(this.renderStats&&this.renderStats.curTs!==this.renderStats.lastTs){const t=this.renderStats.curTs-this.renderStats.lastTs,e=(this.renderStats.renderNum-this.renderStats.lastRenderNum)/t;return this.renderStats.lastRenderNum=this.renderStats.renderNum,this.renderStats.lastTs=this.renderStats.curTs,e}return 0}get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(t){t!==this._videoElementStatus&&(gR.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(t)),this._videoElementStatus=t)}get videoState(){return this._videoState}set videoState(t){var e;t!==this._videoState&&(this._videoState=t,null===(e=this.onVideoStateChanged)||void 0===e||e.call(this,this.videoState))}constructor(t){FN(this,"trackId",void 0),FN(this,"config",void 0),FN(this,"onFirstVideoFrameDecoded",void 0),FN(this,"onVideoStateChanged",void 0),FN(this,"freezeTimeCounterList",[]),FN(this,"renderFreezeAccTime",0),FN(this,"isKeepLastFrame",!1),FN(this,"timeUpdatedCount",0),FN(this,"freezeTime",0),FN(this,"playbackTime",0),FN(this,"lastTimeUpdatedTime",0),FN(this,"autoplayFailed",!1),FN(this,"videoTrack",void 0),FN(this,"videoElement",void 0),FN(this,"cacheVideoElement",void 0),FN(this,"renderStats",void 0),FN(this,"_videoState",VN.VideoStateStopped),FN(this,"videoElementCheckInterval",void 0),FN(this,"videoElementFreezeTimeout",void 0),FN(this,"_videoElementStatus",MN.NONE),FN(this,"isGettingVideoDimensions",!1),FN(this,"startGetVideoDimensions",()=>{const t=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return gR.debug("[".concat(this.trackId,"] current video dimensions:"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(t,500)};!this.isGettingVideoDimensions&&t()}),FN(this,"autoResumeAfterInterruption",()=>{this.videoTrack&&"live"===this.videoTrack.readyState&&"running"===KN.curState&&(gR.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(Kw())),dC()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),FN(this,"handleVideoEvents",t=>{switch(t.type){case"play":case"playing":this.startGetVideoDimensions(),this.videoElementStatus=MN.PLAYING;break;case"loadeddata":if(this.videoState=VN.VideoStateStarting,this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch(t){}this.cacheVideoElement=void 0}break;case"canplay":this.videoElementStatus=MN.CANPLAY;break;case"stalled":this.videoElementStatus=MN.STALLED;break;case"suspend":this.videoElementStatus=MN.SUSPEND;break;case"pause":this.videoElementStatus=MN.PAUSED,tC()||hC()||Jw()&&this.autoplayFailed||!this.videoTrack||"live"!==this.videoTrack.readyState||(gR.debug("[track-".concat(this.trackId,"] video element paused, auto resume")),this.videoElement.play());break;case"waiting":this.videoElementStatus=MN.WAITING;break;case"abort":this.videoElementStatus=MN.ABORT;break;case"ended":this.videoElementStatus=MN.ENDED;break;case"emptied":this.videoElementStatus=MN.EMPTIED;break;case"error":{const t=this.videoElement.error,e=t?"".concat(t.message," (").concat(t.code,")"):"";t&&(this.videoElementStatus=MN.ERROR),gR.error("[".concat(this.trackId,"] media error: ").concat(e," "));break}case"timeupdate":{const t=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=t);const e=t-this.lastTimeUpdatedTime,n=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=t,IM.lastVisibleTime<IM.lastHiddenTime||n<IM.lastHiddenTime||n<IM.lastVisibleTime)return;for(e>JI("VIDEO_FREEZE_DURATION")&&(this.freezeTime+=e),this.playbackTime+=e;this.playbackTime>=6e3;){this.playbackTime-=6e3;const t=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(t),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}}),FN(this,"autoResumeAfterInterruptionOnIOS15_16",()=>{this.videoTrack&&"live"===this.videoTrack.readyState&&(gR.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(Kw())),dC()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),this.trackId=t.trackId,this.config=t,t.element instanceof HTMLVideoElement?this.videoElement=t.element:this.videoElement=document.createElement("video"),KN.on(nN.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),KN.on(nN.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var t;return null!==(t=this.videoElement.parentElement)&&void 0!==t?t:void 0}updateConfig(t){this.config=t,this.trackId=t.trackId,t.element!==this.videoElement&&(this.destroy(),this.videoElement=t.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(t){this.videoTrack!==t&&(this.videoTrack=t,this.initVideoElement())}play(t){const e=this.videoElement.play();e&&e.catch&&e.catch(e=>{t&&vP(t,"video",e.message,this.trackId),"NotAllowedError"===e.name?(gR.warning("detected video element autoplay failed",e),this.autoplayFailed=!0,this.handleAutoPlayFailed()):gR.warning("[".concat(this.trackId,"] play warning: "),e)});const n=$w();if(("Safari"===n.name&&15===Number(n.version)||lC())&&e&&e.then){const t=()=>{this.config.mirror&&(this.videoElement.style.transform="rotateY(180deg)")};e.then(t).catch(t)}}getCurrentFrame(){const t=document.createElement("canvas");t.width=this.videoElement.videoWidth,t.height=this.videoElement.videoHeight;const e=t.getContext("2d");if(!e)return gR.error("create canvas context failed!"),new ImageData(2,2);e.drawImage(this.videoElement,0,0,t.width,t.height);const n=e.getImageData(0,0,t.width,t.height);return t.remove(),n}async getCurrentFrameToUint8Array(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=document.createElement("canvas");n.width=this.videoElement.videoWidth,n.height=this.videoElement.videoHeight;const i=n.getContext("2d");return i?(i.drawImage(this.videoElement,0,0,n.width,n.height),new $h((i,r)=>{n.toBlob(async t=>{if(n.remove(),t){const e=await kP(t);i({buffer:e,width:n.width,height:n.height})}else r(new TC(SC.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},t,e<0?.1:e>1?1:e)})):await DP(t)}destroy(){this.renderStats=void 0,KN.off(nN.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),KN.off(nN.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=VN.VideoStateStopped}initVideoElement(){if(this.videoElementStatus=MN.INIT,!this.videoElementCheckInterval&&(IL.forEach(t=>{this.videoElement.addEventListener(t,this.handleVideoEvents)}),this.videoElementCheckInterval=window.setInterval(()=>{(function(t){return t!==document.body&&document.body.contains(t)})(this.videoElement)||(this.videoElementStatus=MN.DESTROYED)},1e3),JI("ENABLE_VIDEO_FRAME_CALLBACK"))){var t,e;let n;const i=()=>{"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",i),this.videoElementFreezeTimeout=window.setTimeout(r,JI("VIDEO_FREEZE_DURATION")))},r=()=>{this.videoElementFreezeTimeout=void 0,this.videoState===VN.VideoStateDecoding&&("visible"===document.visibilityState?this.videoState=VN.VideoStateFrozen:document.addEventListener("visibilitychange",i))},o=(t,e)=>{if(this.videoElementStatus===MN.PLAYING){if(this.renderStats?(this.renderStats.renderNum++,this.renderStats.curTs=e.mediaTime):this.renderStats={lastTs:e.mediaTime,curTs:e.mediaTime,lastRenderNum:0,renderNum:0},n){const t=e.presentationTime-n.presentationTime;this.videoState===VN.VideoStateStarting&&(this.videoState=VN.VideoStateDecoding),this.videoState===VN.VideoStateDecoding&&this.onVideoStateChanged&&(this.videoElementFreezeTimeout&&window.clearTimeout(this.videoElementFreezeTimeout),this.videoElementFreezeTimeout=window.setTimeout(r,JI("VIDEO_FREEZE_DURATION"))),t<JI("VIDEO_FREEZE_DURATION")&&this.videoState===VN.VideoStateFrozen&&(this.videoState=VN.VideoStateDecoding),t>JI("VIDEO_FREEZE_DURATION")&&IM.lastVisibleTime>=IM.lastHiddenTime&&n.timestamp>IM.lastVisibleTime&&n.timestamp>IM.lastHiddenTime&&(this.renderFreezeAccTime+=t)}n=WN(WN({},e),{},{timestamp:t})}var i,s;JI("ENABLE_VIDEO_FRAME_CALLBACK")&&(null===(i=(s=this.videoElement).requestVideoFrameCallback)||void 0===i||i.call(s,o))};null===(t=(e=this.videoElement).requestVideoFrameCallback)||void 0===t||t.call(e,o)}this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),gC()&&!JI("HIDE_NO_POSTER")&&(this.videoElement.poster="noposter");const n=$w();"Safari"===n.name&&15===Number(n.version)||lC()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Qw()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Qw()&&this.videoElement.load());const i=this.videoElement.play();void 0!==i&&i.catch(t=>{gR.debug("[".concat(this.trackId,"] playback interrupted"),t.toString())})}resetVideoElement(){IL.forEach(t=>{this.videoElement&&this.videoElement.removeEventListener(t,this.handleVideoEvents)}),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=MN.NONE}handleAutoPlayFailed(){const t=e=>{e.preventDefault(),this.videoElement.play().then(()=>{gR.debug("[".concat(this.trackId,"] Video element for trackId:").concat(this.trackId," autoplay resumed."))}).catch(t=>{gR.error(t)}),this.autoplayFailed=!1,_C()?document.body.removeEventListener("click",t,!0):(document.body.removeEventListener("touchstart",t,!0),document.body.removeEventListener("mousedown",t,!0))};_C()?document.body.addEventListener("click",t,!0):(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)),mP()}}const IL=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate","error"];class RL extends CL{constructor(t){super(t),FN(this,"container",void 0),FN(this,"slot",void 0),this.slot=t.element,this.updateConfig(t)}updateConfig(t){this.config=t,this.trackId=t.trackId;const e=t.element;e!==this.slot&&(this.destroy(),this.slot=e),this.createElements()}updateVideoTrack(t){this.videoTrack!==t&&(this.videoTrack=t,this.createElements())}play(t){var e;null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)&&super.play(t)}getCurrentFrame(){var t;return null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(t,n):await DP(t)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement("video"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(t){}this.container=void 0}}createElements(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",JI("KEEP_LAST_FRAME")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}mountedVideoElement(){var t;!this.container||null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.style.left="0",this.videoElement.style.top="0"}unmountedVideoElement(){var t;if(null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch(t){}this.videoElement=document.createElement("video")}}resetVideoElement(){var t;null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement("video"))}getContainerElement(){return this.container}}var AL,OL,xL,DL,kL,NL,PL,LL,ML,VL,UL,BL,jL,FL,HL,WL,GL,$L,zL,YL,KL,qL,XL,JL,ZL,QL,tM,eM,nM,iM,rM,oM,sM,aM;let cM=(AL=wR({argsMap:(t,e,n)=>[t.getTrackId(),"string"==typeof e?e:e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",n]}),OL=yP(),xL=wR({argsMap:t=>[t.getTrackId()]}),DL=kI("LocalVideoTrack","_enabledMutex"),kL=wR({argsMap:(t,e)=>[t.getTrackId(),e]}),NL=yP(),PL=kI("LocalVideoTrack","_enabledMutex"),LL=wR({argsMap:(t,e)=>[t.getTrackId(),e]}),ML=yP(),VL=wR({argsMap:(t,e)=>[t.getTrackId(),e]}),UL=yP(),BL=yP(),jL=wR({argsMap:(t,e,n)=>[t.getTrackId(),e,n]}),FL=yP(),HL=yP(),WL=yP(),GL=yP(),$L=yP(),zL=yP(),YL=yP(),KL=wR({argsMap:(t,e)=>[t.getTrackId(),e.name]}),qL=wR({argsMap:t=>[t.getTrackId()]}),XL=wR({argsMap:t=>[t.getTrackId()]}),JL=wR({argsMap:(t,e,n)=>[t.getTrackId(),e.label,n]}),ZL=class t extends $N{get videoHeight(){if(Jw()){const{height:t}=this._mediaStreamTrack.getSettings();return this._videoHeight=t,this._videoHeight}return this._videoHeight}get videoWidth(){if(Jw()){const{width:t}=this._mediaStreamTrack.getSettings();return this._videoWidth=t,this._videoWidth}return this._videoWidth}get isPlaying(){return!(!this._player||this._player.videoElementStatus!==MN.PLAYING)}get processorDestination(){return this._processorDestination}get processorContext(){return this._processorContext}set processorContext(t){this._processorContext=t}get __className__(){return"LocalVideoTrack"}constructor(t,e,n,i,r,o){if(super(t,r),FN(this,"trackMediaType",CN.VIDEO),FN(this,"_player",void 0),FN(this,"isUseScaleResolutionDownBy",!1),FN(this,"_videoVisibleTimer",null),FN(this,"_previousVideoVisibleStatus",void 0),FN(this,"_clearPreviousVideoVisibleStatus",()=>this._previousVideoVisibleStatus=void 0),FN(this,"_encoderConfig",void 0),FN(this,"_scalabilityMode",{numSpatialLayers:1,numTemporalLayers:1}),FN(this,"_optimizationMode",void 0),FN(this,"_videoHeight",void 0),FN(this,"_videoWidth",void 0),FN(this,"_forceBitrateLimit",void 0),FN(this,"_enabled",!0),FN(this,"_processorDestination",void 0),FN(this,"_processorContext",void 0),Jw()){const{width:e,height:n}=t.getSettings();this._videoWidth=e,this._videoHeight=n}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=e,this._scalabilityMode=n,this._optimizationMode=i,this._hints=o||[],-1===this._hints.indexOf(_N.SCREEN_TRACK))this.updateBitrateFromProfile();else if(function(t,e,n){const i=$w();return!(i.name!==t||!i.osVersion)&&(n?Number(i.version)>=e&&Number(i.version)<=n:Number(i.version)===e)}(Fw.CHROME,115)&&-1!==Yw().indexOf("Windows")){const e=function(t,e){if("VideoFrame"in window&&"TransformStream"in window&&Qk().supportWebRTCInsertableStream){const n=new MediaStreamTrackProcessor(t),i=new MediaStreamTrackGenerator({kind:"video"});let r,o,s=Date.now();const a=()=>{c&&(clearInterval(c),c=void 0),r&&(r.close(),r=void 0),t.stop(),o=void 0,i.removeEventListener("ended",a)};let c=window.setInterval(()=>{if(o&&r&&Date.now()-s>(null!=e?e:1e3))try{"live"===i.readyState?o.enqueue(r.clone()):a()}catch(t){a()}},null!=e?e:1e3);const l=new TransformStream({transform:(t,e)=>{"live"===i.readyState?(o=e,s=Date.now(),void 0===r?(r=t,e.enqueue(t.clone())):(e.enqueue(r),r=t)):t.close()}});return i.addEventListener("ended",a),n.readable.pipeThrough(l).pipeTo(i.writable),i}}(t);e&&(gR.info("local screen video track begin to inject frame"),this._mediaStreamTrack=e)}e&&-1!==this._hints.indexOf(_N.CUSTOM_TRACK)&&this.setEncoderConfiguration(e),this._processorContext=new bP(this.getTrackId(),"local"),this._processorDestination=new EP(this.processorContext),this.bindProcessorDestinationEvents()}play(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t){const e=document.getElementById(t);e?t=e:(gR.warning("[".concat(this.getTrackId(),'] can not find "#').concat(t,'" element, use document.body')),t=document.body)}gR.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(e));const n=WN(WN(WN({},this._getDefaultPlayerConfig()),e),{},{trackId:this.getTrackId(),element:t});this._player?this._player.updateConfig(n):(t instanceof HTMLVideoElement?this._player=new CL(n):this._player=new RL(n),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const t=this.getVideoElementVisibleStatus();this.safeEmit(TN.VIDEO_ELEMENT_VISIBLE_STATUS,t)}catch(t){}},JI("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,gR.debug("[".concat(this.getTrackId(),"] stop video playback")))}async setEnabled(t,e){if(!e){if(t===this._enabled)return;this.stateCheck("enabled",t)}if(gR.info("[".concat(this.getTrackId(),"] start setEnabled"),t),!t){this._originMediaStreamTrack.enabled=!1;try{await tI(this,gN.NEED_DISABLE_TRACK,this)}catch(t){throw gR.error("[".concat(this.getTrackId(),"] setEnabled to false error"),t.toString()),t}return e||(this._enabled=!1),void gR.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}this._originMediaStreamTrack.enabled=!0;try{await tI(this,gN.NEED_ENABLE_TRACK,this)}catch(t){throw gR.error("[".concat(this.getTrackId(),"] setEnabled to true error"),t.toString()),t}gR.info("[".concat(this.getTrackId(),"] setEnabled to true success")),e||(this._enabled=!0)}async setMuted(t){t!==this._muted&&(this.stateCheck("muted",t),this._muted=t,this._originMediaStreamTrack.enabled=!t,gR.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(t)),t?await tI(this,gN.NEED_MUTE_TRACK,this):await tI(this,gN.NEED_UNMUTE_TRACK,this))}async setEncoderConfiguration(t,e){if(!this._enabled)throw new TC(SC.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");if(t=uN(t),this._forceBitrateLimit&&(t.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:t.bitrateMax,t.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:t.bitrateMin),t.width||t.height||t.frameRate){const e=RP({encoderConfig:t});(Jw()||tC()||hC())&&(e.deviceId=void 0),gR.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(t),JSON.stringify(e));try{await this._originMediaStreamTrack.applyConstraints(e),this.updateMediaStreamTrackResolution()}catch(t){const e=new TC(SC.UNEXPECTED_ERROR,t.toString());throw gR.error("[".concat(this.getTrackId(),"] applyConstraints error"),e.toString()),e}}this._encoderConfig=t,-1===this._hints.indexOf(_N.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await tI(this,gN.NEED_UPDATE_VIDEO_ENCODER,this)}catch(t){return t.throw(gR)}}getStats(){return uI(()=>{gR.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")},"localVideoTrackGetStatsWarning"),eI(this,gN.GET_STATS)||WN({},AN)}async setBeautyEffect(t){gR.error("LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(t,e):await DP(t)}async setBitrateLimit(t){if(gR.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(t))),t){this._forceBitrateLimit=t,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<t.max_bitrate?this._encoderConfig.bitrateMax:t.max_bitrate:this._encoderConfig.bitrateMax=t.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=t.min_bitrate);try{await tI(this,gN.NEED_UPDATE_VIDEO_ENCODER,this)}catch(t){return t.throw(gR)}}}async setOptimizationMode(t){if("motion"!==t&&"detail"!==t&&"balanced"!==t)return void gR.error(SC.INVALID_PARAMS,"optimization mode must be motion, detail or balanced");const e=this._optimizationMode;try{this._optimizationMode=t,await tI(this,gN.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this)}catch(t){throw this._optimizationMode=e,gR.error("[".concat(this.getTrackId(),"] set optimization mode failed"),t.toString()),t}gR.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(t,")"))}setScalabiltyMode(t){if(1===t.numSpatialLayers&&1!==t.numTemporalLayers)return gR.error(SC.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=t,gR.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(t,")"))}updateMediaStreamTrackResolution(){IP(this._originMediaStreamTrack).then(t=>{let[e,n]=t;this._videoHeight=n,this._videoWidth=e}).catch(bI)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:"contain"}}async setSenderConfiguration(t){if(!this._enabled)throw new TC(SC.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");gR.debug("[".concat(this.getTrackId(),"] setSenderConfiguration applyConstraints"),JSON.stringify(t)),t=uN(t),this._forceBitrateLimit&&(t.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:t.bitrateMax,t.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:t.bitrateMin),this._encoderConfig=t,-1===this._hints.indexOf(_N.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await tI(this,gN.NEED_UPDATE_VIDEO_ENCODER,this)}catch(t){return t.throw(gR)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:t,height:e,frameRate:n}=this.getMediaStreamTrackSettings();if(!t||!e||!n)return;const{bitrateMax:i,bitrateMin:r}=this._encoderConfig;if(null==r||null==i){const{max:o,min:s}=function(t,e,n,i,r){const o=JI("BITRATE_ADAPTER_TYPE");if("DEFAULT_BITRATE"===o)return{min:i,max:r};if(void 0===r){var s;const a=Math.floor(200*Math.pow(n/15,.6)*Math.pow(t*e/640/360,.75));r="STANDARD_BITRATE"===o?4*a:2*a,i=null!==(s=i)&&void 0!==s?s:a}else{var a;i=null!==(a=i)&&void 0!==a?a:Math.floor(r/10)}return{min:i,max:r}}(t,e,n,r,i);this._encoderConfig.bitrateMin=s,this._encoderConfig.bitrateMax=o,gR.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(t,", h: ").concat(e,", fps: ").concat(n,"] => [brMax: ").concat(o,", brMin: ").concat(s,"]"))}}getVideoElementVisibleStatus(){try{var t,e;const n=null==this||null===(t=this._player)||void 0===t?void 0:t.getContainerElement(),i={track:this,element:null==this||null===(e=this._player)||void 0===e?void 0:e.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:r,slot:o}=i;if(this.isPlaying&&r instanceof HTMLVideoElement&&o instanceof HTMLElement){const t=PC.checkOneElementVisible(r),e=Object.assign({},t);if(e.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=e.visible;const t=CR.reportApiInvoke(null,{tag:HC.TRACER,name:FC.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});e.visible?t.onSuccess("Video is visible"):t.onSuccess("Invisible because of ".concat(e.reason))}return e}return}catch(t){throw new TC(SC.GET_VIDEO_ELEMENT_VISIBLE_ERROR,t.message)}}async renewMediaStreamTrack(t){}pipe(t){if(this.processor===t)return t;if(t._source)throw new TC(SC.INVALID_OPERATION,"Processor ".concat(t.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),t}unpipe(){if(!this.processor)return;const t=this.processor;this.processor._source=void 0,this.processor=void 0,t.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._encoderConfig;e&&(i=WN(WN({},i),uN(e))),i=cI(i);const r=yI(8,"track-video-cloned-"),o=new t(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,i,cI(this._scalabilityMode),this._optimizationMode,r,cI(this._hints));return e&&i&&o.setEncoderConfiguration(i),gR.debug("clone video track from ".concat(this.getTrackId()," to ").concat(r,", clone ").concat(n)),o}async replaceTrack(t,e){if(!(t instanceof MediaStreamTrack))throw new TC(SC.INVALID_PARAMS,"track should be an instance of MediaStreamTrack");if("video"!==t.kind)throw new TC(SC.INVALID_PARAMS,"track should be a video MediaStreamTrack");await this._updateOriginMediaStreamTrack(t,e,!0),this.updateMediaStreamTrackResolution()}sendSeiData(t){if(uI(()=>{CR.reportApiInvoke(null,{name:FC.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:HC.TRACER}).onSuccess("")},this._mediaStreamTrack.id||this.getTrackId()),!JI("ENABLE_VIDEO_SEI")||!JI("ENABLE_ENCODED_TRANSFORM"))return void gR.warning('To send/receive SEI, please call AgoraRTC.setParameter("ENABLE_VIDEO_SEI", true) before instantiate IAgoraRtcClient');if(t instanceof Uint8Array==0)return new TC(SC.INVALID_PARAMS,"Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.").throw();const e=this.getRTCRtpTransceiver();if(!e)return void gR.warning("Video track is not published, SEI can not be send");const n=e.sender.getParameters();if(0===n.codecs.length)return;const i=n.codecs[0].mimeType.toLocaleLowerCase();"video/h264"===i?this.safeEmit("sei-to-send",t):gR.warning("SEI is not supported by ".concat(i))}bindProcessorDestinationEvents(){this.processorDestination.on(kN.ON_TRACK,async t=>{t?t!==this._mediaStreamTrack&&(this._mediaStreamTrack=t,this._updatePlayerSource(),await tI(this,gN.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await tI(this,gN.NEED_REPLACE_TRACK,this))})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(kN.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(NN.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(NN.REQUEST_CONSTRAINTS)}},jN(ZL.prototype,"play",[AL,OL],Object.getOwnPropertyDescriptor(ZL.prototype,"play"),ZL.prototype),jN(ZL.prototype,"stop",[xL],Object.getOwnPropertyDescriptor(ZL.prototype,"stop"),ZL.prototype),jN(ZL.prototype,"setEnabled",[DL,kL,NL],Object.getOwnPropertyDescriptor(ZL.prototype,"setEnabled"),ZL.prototype),jN(ZL.prototype,"setMuted",[PL,LL,ML],Object.getOwnPropertyDescriptor(ZL.prototype,"setMuted"),ZL.prototype),jN(ZL.prototype,"setEncoderConfiguration",[VL,UL],Object.getOwnPropertyDescriptor(ZL.prototype,"setEncoderConfiguration"),ZL.prototype),jN(ZL.prototype,"getStats",[BL],Object.getOwnPropertyDescriptor(ZL.prototype,"getStats"),ZL.prototype),jN(ZL.prototype,"setBeautyEffect",[jL,FL],Object.getOwnPropertyDescriptor(ZL.prototype,"setBeautyEffect"),ZL.prototype),jN(ZL.prototype,"getCurrentFrameData",[HL],Object.getOwnPropertyDescriptor(ZL.prototype,"getCurrentFrameData"),ZL.prototype),jN(ZL.prototype,"getCurrentFrameImage",[WL],Object.getOwnPropertyDescriptor(ZL.prototype,"getCurrentFrameImage"),ZL.prototype),jN(ZL.prototype,"setBitrateLimit",[GL],Object.getOwnPropertyDescriptor(ZL.prototype,"setBitrateLimit"),ZL.prototype),jN(ZL.prototype,"setOptimizationMode",[$L],Object.getOwnPropertyDescriptor(ZL.prototype,"setOptimizationMode"),ZL.prototype),jN(ZL.prototype,"setScalabiltyMode",[zL],Object.getOwnPropertyDescriptor(ZL.prototype,"setScalabiltyMode"),ZL.prototype),jN(ZL.prototype,"updateMediaStreamTrackResolution",[YL],Object.getOwnPropertyDescriptor(ZL.prototype,"updateMediaStreamTrackResolution"),ZL.prototype),jN(ZL.prototype,"pipe",[KL],Object.getOwnPropertyDescriptor(ZL.prototype,"pipe"),ZL.prototype),jN(ZL.prototype,"unpipe",[qL],Object.getOwnPropertyDescriptor(ZL.prototype,"unpipe"),ZL.prototype),jN(ZL.prototype,"close",[XL],Object.getOwnPropertyDescriptor(ZL.prototype,"close"),ZL.prototype),jN(ZL.prototype,"replaceTrack",[JL],Object.getOwnPropertyDescriptor(ZL.prototype,"replaceTrack"),ZL.prototype),ZL),lM=(QL=wR({argsMap:(t,e)=>[t.getTrackId(),e]}),tM=yP(),eM=kI("CameraVideoTrack","_enabledMutex"),nM=wR({argsMap:(t,e)=>[t.getTrackId(),e]}),iM=yP(),rM=wR({argsMap:(t,e)=>[t.getTrackId(),e]}),oM=yP(),sM=wR({argsMap:t=>[t.getTrackId()]}),aM=class t extends cM{get __className__(){return"CameraVideoTrack"}constructor(t,e,n,i,r,o){super(t,uN(e.encoderConfig),i,r,o),FN(this,"_config",void 0),FN(this,"_originalConstraints",void 0),FN(this,"_constraints",void 0),FN(this,"_enabled",!0),FN(this,"_deviceName","default"),FN(this,"tryResumeVideoForIOS15_16WeChat",async()=>{(lC()||uC())&&!function(){const t=$w();if(t.os!==jw.IOS||!t.osVersion)return!1;const e=t.osVersion.split(".");return 15===Number(e[0])&&Number(e[1])>=2}()&&pC()&&this._enabled&&!this._isClosed&&(gR.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),await this.renewMediaStreamTrack())}),this._config=e,this._originalConstraints=n,this._constraints=n,this._deviceName=t.label,this._encoderConfig=uN(this._config.encoderConfig),KN.on(nN.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),KN.on(nN.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(t){return"string"==typeof t?this._setDeviceById(t):t.deviceId?this._setDeviceById(t.deviceId):t.facingMode?this._setDeviceByFacingModel(t.facingMode):void 0}async _setDeviceById(t){if(gR.info("[".concat(this.getTrackId(),"] set device to ").concat(t)),this._enabled)try{const e=await hP.getDeviceById(t),n={};n.video=WN({},this._constraints),n.video.deviceId={exact:t},n.video.facingMode=void 0,this._originMediaStreamTrack.stop();let i=null;try{i=await cP(n,this.getTrackId())}catch(t){throw gR.error("[".concat(this.getTrackId(),"] setDevice failed"),t.toString()),i=await cP({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=e.label,this._config.cameraId=t,this._constraints.deviceId={exact:t}}catch(t){throw gR.error("[".concat(this.getTrackId(),"] setDevice error"),t.toString()),t}else try{const e=await hP.getDeviceById(t);this._deviceName=e.label,this._config.cameraId=t,this._constraints.deviceId={exact:t}}catch(t){throw gR.error("[".concat(this.getTrackId(),"] setDevice error"),t.toString()),t}gR.info("[".concat(this.getTrackId(),"] setDevice success"))}async _setDeviceByFacingModel(t){gR.info("[".concat(this.getTrackId(),"] set facingMode ").concat(t));const e={video:WN(WN({},this._constraints),{},{deviceId:void 0,facingMode:{exact:t}})};if(this._enabled){this._originMediaStreamTrack.stop();let t=null;try{t=await cP(e,this.getTrackId())}catch(e){throw gR.error("[".concat(this.getTrackId(),"] setDeviceByFacingModel failed"),e.toString()),t=await cP({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(t.getVideoTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(t.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName="",this._config.facingMode=t,this._config.cameraId=void 0,this._constraints=WN({},e.video),gR.info("[".concat(this.getTrackId(),"] setDeviceByFacingModel success"))}async setEnabled(t,e){if(!e){if(t===this._enabled)return;this.stateCheck("enabled",t)}if(gR.info("[".concat(this.getTrackId(),"] start setEnabled"),t),t){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const t=await cP({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(t.getVideoTracks()[0],!1)}await tI(this,gN.NEED_ENABLE_TRACK,this)}catch(t){throw gR.error("[".concat(this.getTrackId(),"] setEnabled true error"),t.toString()),t}this.updateMediaStreamTrackResolution(),gR.info("[".concat(this.getTrackId(),"] setEnabled to true success")),e||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),e||(this._enabled=!1);try{await tI(this,gN.NEED_DISABLE_TRACK,this)}catch(t){throw gR.error("[".concat(this.getTrackId(),"] setEnabled to false error"),t.toString()),t}gR.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}}async setEncoderConfiguration(t,e){if(!this._enabled)throw new TC(SC.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");t=uN(t),this._forceBitrateLimit&&(t.bitrateMax=this._forceBitrateLimit.max_bitrate||t.bitrateMax,t.bitrateMin=this._forceBitrateLimit.min_bitrate||t.bitrateMin);const n=aI(this._config);n.encoderConfig=t;const i=RP(n);(Jw()||tC()||hC())&&(i.deviceId=void 0),gR.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(t),JSON.stringify(i));try{await this._originMediaStreamTrack.applyConstraints(i),this.updateMediaStreamTrackResolution()}catch(t){const e=new TC(SC.UNEXPECTED_ERROR,t.toString());throw gR.error("[".concat(this.getTrackId(),"] applyConstraints error"),e.toString()),e}this._config=n,this._constraints=i,this._originalConstraints=i,this._encoderConfig=t,-1===this._hints.indexOf(_N.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await tI(this,gN.NEED_UPDATE_VIDEO_ENCODER,this)}catch(t){return t.throw(gR)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:"cover"}}onTrackEnded(){if((tC()||hC())&&this._enabled&&!this._isClosed&&KN.duringInterruption){const t=async()=>{KN.off(nN.IOS_INTERRUPTION_END,t),this._enabled&&!this._isClosed&&(gR.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};KN.on(nN.IOS_INTERRUPTION_END,t)}else gR.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(TN.TRACK_ENDED)}async renewMediaStreamTrack(t){const e=t||this._constraints,n=hP.searchDeviceIdByName(this._deviceName);if(n&&!e.deviceId&&(e.deviceId={exact:n}),this._enabled){const t=await cP({video:e},this.getTrackId());this._constraints=e,await this._updateOriginMediaStreamTrack(t.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),KN.off(nN.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),KN.off(nN.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._encoderConfig;e&&(i=WN(WN({},i),uN(e))),i=cI(i);const r=yI(8,"track-cam-cloned-"),o=new t(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,cI(WN(WN({},this._config),{},{encoderConfig:i})),cI(this._constraints),cI(this._scalabilityMode),this._optimizationMode,r);return e&&i&&o.setEncoderConfiguration(i),gR.debug("clone track from ".concat(this.getTrackId()," to ").concat(r,", clone ").concat(n)),o}bindProcessorContextEvents(){this.processorContext.on(NN.REQUEST_UPDATE_CONSTRAINTS,async(t,e,n)=>{try{const n=Object.assign({},this._originalConstraints,...t);await this.renewMediaStreamTrack(n),e()}catch(t){n(t)}}),this.processorContext.on(NN.REQUEST_CONSTRAINTS,async t=>{t(this._originMediaStreamTrack.getSettings())})}},jN(aM.prototype,"setDevice",[QL,tM],Object.getOwnPropertyDescriptor(aM.prototype,"setDevice"),aM.prototype),jN(aM.prototype,"setEnabled",[eM,nM,iM],Object.getOwnPropertyDescriptor(aM.prototype,"setEnabled"),aM.prototype),jN(aM.prototype,"setEncoderConfiguration",[rM,oM],Object.getOwnPropertyDescriptor(aM.prototype,"setEncoderConfiguration"),aM.prototype),jN(aM.prototype,"close",[sM],Object.getOwnPropertyDescriptor(aM.prototype,"close"),aM.prototype),aM);function uM(t,e,n,i){n.optimizationMode&&(i&&i.width&&i.height?(n.encoderConfig=WN(WN({},i),{},{bitrateMin:i.bitrateMin,bitrateMax:i.bitrateMax}),"motion"!==n.optimizationMode&&"detail"!==n.optimizationMode||(e.contentHint=n.optimizationMode,e.contentHint===n.optimizationMode?gR.debug("[".concat(t,"] set content hint to"),n.optimizationMode):gR.debug("[".concat(t,"] set content hint failed")))):gR.warning("[".concat(t,"] can not apply optimization mode bitrate config, no encoderConfig")))}var dM,hM,pM,fM,mM,vM,gM,_M,yM,EM,bM,SM;class TM extends GN{getUserId(){return this._userId}constructor(t,e,n,i){super(t,"track-".concat(t.kind,"-").concat(e,"-").concat(i.clientId,"_").concat(yI(5,""))),FN(this,"_userId",void 0),FN(this,"_uintId",void 0),FN(this,"_isDestroyed",!1),FN(this,"store",void 0),FN(this,"processor",void 0),FN(this,"processorContext",void 0),this._userId=e,this._uintId=n,this.store=i}_updateOriginMediaStreamTrack(t){this._originMediaStreamTrack=t,this._mediaStreamTrack=t,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,gR.info("[".concat(this.getTrackId(),"] is destroyed")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}let wM=(dM=wR({argsMap:(t,e,n)=>[t.getTrackId(),"string"==typeof e?e:e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",n]}),hM=wR({argsMap:t=>[t.getTrackId()]}),pM=wR({argsMap:(t,e)=>[t.getTrackId(),e.name]}),fM=wR({argsMap:t=>[t.getTrackId()]}),jN((mM=class extends TM{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==MN.PLAYING)}get __className__(){return"RemoteVideoTrack"}constructor(t,e,n,i){super(t,e,n,i),FN(this,"_videoVisibleTimer",null),FN(this,"_previousVideoVisibleStatus",void 0),FN(this,"_clearPreviousVideoVisibleStatus",()=>this._previousVideoVisibleStatus=void 0),FN(this,"trackMediaType",CN.VIDEO),FN(this,"_videoWidth",void 0),FN(this,"_videoHeight",void 0),FN(this,"_player",void 0),FN(this,"processorDestination",void 0),FN(this,"processorContext",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new bP(this.getTrackId(),"remote"),this.processorDestination=new EP(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return uI(()=>{gR.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")},"remoteVideoTrackGetStatsWarning"),eI(this,gN.GET_STATS)||WN({},DN)}play(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t){const e=document.getElementById(t);e?t=e:(gR.warning("[".concat(this.getTrackId(),'] can not find "#').concat(t,'" element, use document.body')),t=document.body)}gR.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(e));const n=WN(WN({fit:"cover"},e),{},{trackId:this.getTrackId(),element:t});this._player?this._player.updateConfig(n):(t instanceof HTMLVideoElement?this._player=new CL(n):this._player=new RL(n),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),"video",void 0,void 0,Date.now()),this.safeEmit(wN.FIRST_FRAME_DECODED)},this._player.onVideoStateChanged=t=>{this.safeEmit(wN.VIDEO_STATE_CHANGED,t)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const t=this.getVideoElementVisibleStatus();this.safeEmit(wN.VIDEO_ELEMENT_VISIBLE_STATUS,t)}catch(t){}},JI("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,gR.debug("[".concat(this.getTrackId(),"] stop video playback")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){IP(this._originMediaStreamTrack).then(t=>{let[e,n]=t;this._videoHeight=n,this._videoWidth=e}).catch(bI)}_updatePlayerSource(){gR.debug("[".concat(this.getTrackId(),"] update player source track")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var t,e;const n=null==this||null===(t=this._player)||void 0===t?void 0:t.getContainerElement(),i={track:this,element:null==this||null===(e=this._player)||void 0===e?void 0:e.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:r,slot:o}=i;if(this.isPlaying&&r instanceof HTMLVideoElement&&o instanceof HTMLElement){const t=PC.checkOneElementVisible(r),e=Object.assign({},t);if(e.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=e.visible;const t=CR.reportApiInvoke(null,{tag:HC.TRACER,name:FC.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});e.visible?t.onSuccess("Video is visible"):t.onSuccess("Invisible because of ".concat(e.reason))}return e}return}catch(t){throw new TC(SC.GET_VIDEO_ELEMENT_VISIBLE_ERROR,t.message)}}pipe(t){if(this.processor===t)return t;if(t._source)throw new TC(SC.INVALID_OPERATION,"Processor ".concat(t.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),t}unpipe(){if(!this.processor)return;const t=this.processor;this.processor._source=void 0,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(kN.ON_TRACK,async t=>{t?t!==this._mediaStreamTrack&&(this._mediaStreamTrack=t,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(kN.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}_onSei(t){this.emit(SN.SEI_RECEIVED,t)}}).prototype,"play",[dM],Object.getOwnPropertyDescriptor(mM.prototype,"play"),mM.prototype),jN(mM.prototype,"stop",[hM],Object.getOwnPropertyDescriptor(mM.prototype,"stop"),mM.prototype),jN(mM.prototype,"pipe",[pM],Object.getOwnPropertyDescriptor(mM.prototype,"pipe"),mM.prototype),jN(mM.prototype,"unpipe",[fM],Object.getOwnPropertyDescriptor(mM.prototype,"unpipe"),mM.prototype),mM),CM=(vM=wR({argsMap:(t,e)=>[t.getTrackId(),e],throttleTime:300}),gM=wR({argsMap:(t,e)=>[t.getTrackId(),e]}),_M=wR({argsMap:t=>[t.getTrackId()]}),yM=wR({argsMap:t=>[t.getTrackId()]}),EM=wR({argsMap:(t,e)=>[t.getTrackId(),e.name]}),bM=wR({argsMap:t=>[t.getTrackId()]}),jN((SM=class extends TM{get isPlaying(){return this._useAudioElement?_P.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"RemoteAudioTrack"}constructor(t,e,n,i){super(t,e,n,i),FN(this,"trackMediaType",CN.AUDIO),FN(this,"_source",void 0),FN(this,"_useAudioElement",!0),FN(this,"_volume",100),FN(this,"processorContext",void 0),FN(this,"processorDestination",void 0),FN(this,"_played",!1),FN(this,"_bypassWebAudio",!1),JI("DISABLE_WEBAUDIO")?(this._source=new wP,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new eP(t,!0),JI("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1)),this._source.once(IN.RECEIVE_TRACK_BUFFER,()=>{this.safeEmit(wN.FIRST_FRAME_DECODED)}),this.processorContext=new TP(this._source.context,this.getTrackId(),"remote"),this.processorDestination=new SP(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(IN.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})})}setAudioFrameCallback(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!t)return this._source.removeAllListeners(IN.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(e),this._source.removeAllListeners(IN.ON_AUDIO_BUFFER),this._source.on(IN.ON_AUDIO_BUFFER,e=>t(e))}setVolume(t){this._volume=t,this._useAudioElement?_P.setVolume(this.getTrackId(),t):this._source.setVolume(t/100)}async setPlaybackDevice(t){if(!this._useAudioElement||!tN())throw new TC(SC.NOT_SUPPORTED,"your browser does not support setting the audio output device");await _P.setSinkID(this.getTrackId(),t)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return uI(()=>{gR.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")},"remoteAudioTrackGetStatsWarning"),eI(this,gN.GET_STATS)||WN({},ON)}play(){gR.debug("[".concat(this.getTrackId(),"] start audio playback")),this._played=!0,this._useAudioElement?(gR.debug("[".concat(this.getTrackId(),"] use audio element to play")),_P.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){gR.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._played=!1,this._useAudioElement?_P.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];gR.debug("[".concat(this.getTrackId(),"] update player source track")),t&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&_P.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(t){if(this._bypassWebAudio)throw new TC(SC.NOT_SUPPORTED,"can not pipe extension when WebAudio disabled");if(this.processor===t)return t;if(t._source)throw new TC(SC.INVALID_OPERATION,"Processor ".concat(t.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=t,this.processor._source=this,t.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),t}unpipe(){var t;if(this._bypassWebAudio)throw new TC(SC.NOT_SUPPORTED,"can not unpipe extension when WebAudio disabled");if(!this.processor)return;const e=this.processor;null===(t=this._source.processSourceNode)||void 0===t||t.disconnect(),this.processor._source=!1,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(kN.ON_TRACK,async t=>{t?t!==this._mediaStreamTrack&&(this._mediaStreamTrack=t,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(t)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}),this.processorDestination.on(kN.ON_NODE,t=>{this._source.processedNode=t;const e=!t;this._useAudioElement!==e&&(this._played?(this.stop(),this._useAudioElement=e,this.play()):this._useAudioElement=e)})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(kN.ON_TRACK),this.processorDestination.removeAllListeners(kN.ON_NODE)}}).prototype,"setVolume",[vM],Object.getOwnPropertyDescriptor(SM.prototype,"setVolume"),SM.prototype),jN(SM.prototype,"setPlaybackDevice",[gM],Object.getOwnPropertyDescriptor(SM.prototype,"setPlaybackDevice"),SM.prototype),jN(SM.prototype,"play",[_M],Object.getOwnPropertyDescriptor(SM.prototype,"play"),SM.prototype),jN(SM.prototype,"stop",[yM],Object.getOwnPropertyDescriptor(SM.prototype,"stop"),SM.prototype),jN(SM.prototype,"pipe",[EM],Object.getOwnPropertyDescriptor(SM.prototype,"pipe"),SM.prototype),jN(SM.prototype,"unpipe",[bM],Object.getOwnPropertyDescriptor(SM.prototype,"unpipe"),SM.prototype),SM);const IM=new class extends UC{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),FN(this,"_lastHiddenTime",0),FN(this,"_lastVisibleTime",0),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),gR.debug("document visibility went ".concat(document.visibilityState)),this.emit("VISIBILITY_CHANGE",document.visibilityState)})}};class RM extends UC{constructor(t,e){super(),FN(this,"trackMediaType",CN.DATA),FN(this,"_version",1),FN(this,"_type",3),FN(this,"_config",void 0),FN(this,"_originDataChannel",void 0),FN(this,"_dataStreamPacketHeader",new ArrayBuffer(4)),FN(this,"_dataStreamPacketHandler",{serialize:t=>t,deserialize:t=>t}),FN(this,"_datachannelEventMap",new Map),this._config=t,e&&(this._originDataChannel=e,this._bandDataChannelEvents(e)),this._initPacketHeader()}useDataStream(t){this._dataStreamPacketHandler=t}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return JI("DATASTREAM_MAX_RETRANSMITS")}get metadata(){return this._config.metadata}get readyState(){var t,e;return null!==(t=null===(e=this._originDataChannel)||void 0===e?void 0:e.readyState)&&void 0!==t?t:"connecting"}get _originDataChannelId(){var t,e;return null!==(t=null===(e=this._originDataChannel)||void 0===e?void 0:e.id)&&void 0!==t?t:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new $h((t,e)=>{if(this._originDataChannel){"open"===this._originDataChannel.readyState&&t();const n=setTimeout(()=>{var t;e(new TC(SC.DATACHANNEL_CONNECTION_TIMEOUT,"Cannot create datachannel, id: ".concat(null===(t=this._originDataChannel)||void 0===t?void 0:t.id)))},1e4);this._originDataChannel.onopen=()=>{clearTimeout(n),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),t()},this._originDataChannel.onerror=()=>{throw clearTimeout(n),new TC(SC.DATACHANNEL_CONNECTION_TIMEOUT)}}else e(new TC(SC.DATACHANNEL_CONNECTION_TIMEOUT,"cannot find dataChannel"))})}_updateOriginDataChannel(t){this._originDataChannel=t,this._bandDataChannelEvents(t)}_initPacketHeader(){const t=new DataView(this._dataStreamPacketHeader);t.setUint16(0,this._version),t.setUint8(2,this._type),t.setUint8(3,this._config.id)}_bandDataChannelEvents(t){this._unbindDataChannelEvents(t),[BN.OPEN,BN.CLOSE,BN.ERROR].forEach(e=>{const n=()=>{this.emit(e)};this._datachannelEventMap.set(e,n),t.addEventListener(e,n)})}_unbindDataChannelEvents(t){Array.from(this._datachannelEventMap.entries()).forEach(e=>{let[n,i]=e;t.removeEventListener(n,i)}),this._datachannelEventMap.clear()}}class AM extends RM{constructor(t){super(t),FN(this,"_messageListener",void 0),this._messageListener=t=>{if(t.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error("invalid byteLength: the byte length must exceed "+this._dataStreamPacketHeader.byteLength);const e=t.data.slice(0,this._dataStreamPacketHeader.byteLength),n=new DataView(e).getUint8(3);if(n!==this.id)return void(JI("SHOW_DATASTREAM2_LOG")&&gR.debug("invalid datachannel id: ".concat(n," !== ").concat(this.id)));let i=t.data.slice(this._dataStreamPacketHeader.byteLength);i=this._dataStreamPacketHandler.deserialize(i),this.emit(BN.MESSAGE,i)}}_updateOriginDataChannel(t){super._updateOriginDataChannel(t),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener("message",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener("message",this._messageListener)}}class OM extends RM{send(t){if(this._originDataChannel){let e=t;e=this._dataStreamPacketHandler.serialize(t);const n=new Uint8Array(this._dataStreamPacketHeader.byteLength+e.byteLength);n.set(new Uint8Array(this._dataStreamPacketHeader),0),n.set(new Uint8Array(e),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(n.buffer)}}}function xM(){const t=new Blob([atob("ZnVuY3Rpb24gZShlLHQsbil7bGV0IHI9bmV3IFVpbnQ4QXJyYXkoZSx0LG4pLGE9W10sbz0wO2Zvcig7YS5sZW5ndGg8bjspbyszPG4mJjA9PT1yW29dJiYwPT09cltvKzFdJiYzPT09cltvKzJdJiYoMD09PXJbbyszXXx8MT09PXJbbyszXXx8Mj09PXJbbyszXXx8Mz09PXJbbyszXSk/KGEucHVzaChyW29dLHJbbysxXSxyW28rM10pLG8rPTQpOihhLnB1c2gocltvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSl9ZnVuY3Rpb24gdChlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxlbmd0aDtsZXQgbj1bXSxyPTA7Zm9yKDtyPHQ7KXIrMjx0JiYwPT09ZVtyXSYmMD09PWVbcisxXSYmKDA9PT1lW3IrMl18fDE9PT1lW3IrMl18fDI9PT1lW3IrMl18fDM9PT1lW3IrMl0pPyhuLnB1c2goZVtyXSxlW3IrMV0sMyxlW3IrMl0pLHIrPTMpOihuLnB1c2goZVtyXSkscisrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobil9KHQpLHI9bi5sZW5ndGgsYT1NYXRoLmZsb29yKHIvMjU1KSxvPXIlMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNithKzErcitlLmJ5dGVMZW5ndGgpO3NbMF09MCxzWzFdPTAsc1syXT0wLHNbM109MSxzWzRdPTYsc1s1XT0xMDE7bGV0IGk9MDtmb3IoO2k8YTspc1s2K2ldPTI1NSxpKys7cmV0dXJuIHNbNitpXT1vLGkrKyxzLnNldChuLDYraSkscy5zZXQobmV3IFVpbnQ4QXJyYXkoZSksNitpK3IpLHMuYnVmZmVyfW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIik+LTEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSYmKHNlbGYub25ydGN0cmFuc2Zvcm09bj0+e2NvbnN0IHI9bi50cmFuc2Zvcm1lcjtsZXQgYT1bXTtyLm9wdGlvbnMucG9ydC5vbm1lc3NhZ2U9ZT0+e2UuZGF0YS5zZWkmJmEucHVzaChlLmRhdGEuc2VpKX0sc2VsZi5wb3N0TWVzc2FnZSgic3RhcnRlZCIpO2NvbnN0IG89ci5yZWFkYWJsZS5nZXRSZWFkZXIoKSxzPXIud3JpdGFibGUuZ2V0V3JpdGVyKCk7InJ4Ij09PXIub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBuPW5ldyBEYXRhVmlldyh0LmRhdGEpO2xldCByPTA7Zm9yKDtyKzQ8dC5kYXRhLmJ5dGVMZW5ndGg7KXtpZigwPT09bi5nZXRVaW50OChyKzApJiYwPT09bi5nZXRVaW50OChyKzEpJiYwPT09bi5nZXRVaW50OChyKzIpJiYxPT09bi5nZXRVaW50OChyKzMpJiY2PT09bi5nZXRVaW50OChyKzQpKXtsZXQgYT1yKzYsbz0wLHM9MDtmb3IoOzI1NT09PShzPW4uZ2V0VWludDgoYSsrKSk7KW8rPTI1NTtvKz1zO2NvbnN0IGk9ZSh0LmRhdGEsYSxvKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSl9cisrfXJldHVybiBudWxsfShyLnZhbHVlKTt0JiZuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7c2VpOnR9KX1zLndyaXRlKHIudmFsdWUpLG4ub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQobil9fSkpfShyKToidHgiPT09ci5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIGUobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgZT1hLnNoaWZ0KCk7ZSYmKHIudmFsdWUuZGF0YT10KHIudmFsdWUuZGF0YSxlKSl9cy53cml0ZShyLnZhbHVlKSxuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSxlKG4pfX0pKX0ocil9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKSk7Cg==")],{type:"text/javascript"});return setTimeout(()=>Jk.revokeObjectURL(t),0),new Worker(Jk.createObjectURL(t))}const DM=new Map,kM=new Map;function NM(t,e,n){let i=new Uint8Array(t,e,n),r=[],o=0;for(;r.length<n;)o+3<n&&0===i[o]&&0===i[o+1]&&3===i[o+2]&&(0===i[o+3]||1===i[o+3]||2===i[o+3]||3===i[o+3])?(r.push(i[o],i[o+1],i[o+3]),o+=4):(r.push(i[o]),o++);return new Uint8Array(r)}const PM=new Map;async function LM(t,e){if(!Qk().supportWebRTCEncodedTransform)return void gR.warning("browser not support video encoded transform");if(PM.has(t))return;if(!t.track)return;const n={track:t.track};if(Xw()){if(!t.createEncodedStreams)return void gR.warning("browser not support createEncodedStreams() API");let r=null;try{r=t.createEncodedStreams()}catch(t){return void gR.error("create video-encoded-streams error",t&&t.message)}let o=[];e.on("sei-to-send",t=>{o.push(t)});const s=new TransformStream({transform(e,r){n.controller||(n.controller=r),t.track&&t.track.id!==n.track.id&&(gR.debug("video track changed: ".concat(n.track.id," => ").concat(t.track.id)),n.track.removeEventListener("ended",i),n.track=t.track,n.track.addEventListener("ended",i));const s=o.shift();s&&(e.data=function(t,e){const n=function(t){const e=t.length;let n=[],i=0;for(;i<e;)i+2<e&&0===t[i]&&0===t[i+1]&&(0===t[i+2]||1===t[i+2]||2===t[i+2]||3===t[i+2])?(n.push(t[i],t[i+1],3,t[i+2]),i+=3):(n.push(t[i]),i++);return new Uint8Array(n)}(e),i=n.length,r=Math.floor(i/255),o=i%255,s=new Uint8Array(6+r+1+i+t.byteLength);s[0]=0,s[1]=0,s[2]=0,s[3]=1,s[4]=6,s[5]=101;let a=0;for(;a<r;)s[6+a]=255,a++;return s[6+a]=o,a++,s.set(n,6+a),s.set(new Uint8Array(t),6+a+i),s.buffer}(e.data,s)),r.enqueue(e)}});r.readable.pipeThrough(s).pipeTo(r.writable)}else{if(!Jw())return;{if("undefined"==typeof RTCRtpScriptTransform)return void gR.warning("browser not support RTCRtpScriptTransform");const r=xM(),o=new MessageChannel;await new $h(t=>r.onmessage=e=>{"registered"===e.data&&t(void 0)});const s=new RTCRtpScriptTransform(r,{name:"tx",port:o.port2},[o.port2]);t.transform=s,await new $h(t=>r.onmessage=e=>{"started"===e.data&&t(void 0)}),e.on("sei-to-send",t=>{o.port1.postMessage({sei:t})}),o.port1.onmessage=e=>{var r;e.data.transformed&&t.track&&(null===(r=t.track)||void 0===r?void 0:r.id)!==n.track.id&&(gR.debug("video track changed: ".concat(n.track.id," => ").concat(t.track.id)),n.track.removeEventListener("ended",i),n.track=t.track,n.track.addEventListener("ended",i))},n.worker=r}}function i(){if(t.track){if(this.id!==t.track.id)return;t.track.removeEventListener("ended",i)}const e=PM.get(t);if(e){PM.delete(t);try{var n,r;null===(n=e.controller)||void 0===n||n.terminate(),null===(r=e.worker)||void 0===r||r.terminate()}catch(t){gR.warning(t&&t.message)}}}PM.set(t,n),t.track.addEventListener("ended",i)}const MM=new Map;!function(){const t=$w();Zk.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),Zk.getStreamFromExtension=t.name===Fw.CHROME&&Number(t.version)>34,Zk.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!("currentDirection"in RTCRtpTransceiver.prototype))return!1;const t=new RTCPeerConnection;let e=!1;try{t.addTransceiver("audio"),e=!0}catch(t){}return t.close(),e}(),Zk.supportMinBitrate=t.name===Fw.CHROME||t.name===Fw.EDGE,Zk.supportSetRtpSenderParameters=function(){const t=$w();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!vC()||!(!Jw()&&!qw())||t.name===Fw.FIREFOX&&Number(t.version)>=64)}(),t.name===Fw.SAFARI&&(Number(t.version)>=14?Zk.supportDualStream=!0:Zk.supportDualStream=!1),Zk.webAudioMediaStreamDest=function(){const t=$w();return!(t.name===Fw.SAFARI&&Number(t.version)<12)}(),Zk.supportReplaceTrack=!!window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack,Zk.supportWebGL="undefined"!=typeof WebGLRenderingContext,Zk.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,vC()||(Zk.webAudioWithAEC=!0),Zk.supportShareAudio=function(){const t=$w();return(t.os===jw.WIN_10||t.os===jw.WIN_81||t.os===jw.WIN_7||t.os===jw.LINUX||t.os===jw.MAC_OS||t.os===jw.CHROMIUM_OS)&&t.name===Fw.CHROME&&Number(t.version)>=74}(),Zk.supportDataChannel=!!(eC(76)||function(t){const e=$w();return!(e.name!==Fw.FIREFOX||!e.osVersion)&&Number(e.version)>=t}(68)||rC(14)),Zk.supportPCSetConfiguration=function(){const t=window.RTCPeerConnection;return!Qw()&&!!t&&t.prototype.setConfiguration instanceof Function}(),Zk.supportWebRTCEncodedTransform=function(){const t=$w();return"Chrome"===t.name&&Number(t.version)>=86||"Safari"===t.name&&Number(t.version)>=15}(),Zk.supportWebRTCInsertableStream=function(){const t=$w();return(t.name===Fw.CHROME||t.name===Fw.EDGE)&&Number(t.version)>=94&&"MediaStreamTrackGenerator"in window&&"MediaStreamTrackProcessor"in window}(),Zk.supportRequestVideoFrameCallback="requestVideoFrameCallback"in HTMLVideoElement.prototype,Zk.supportWebCrypto="undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.subtle,sI(()=>{Zk.supportDualStreamEncoding=function(){const t=$w();return!!JI("DISABLE_WEBAUDIO")||"Safari"===t.name&&Number(t.version)>=14||!!("Chrome"===t.name&&/Windows/i.test(t.os||"")&&Number(t.version)>=100&&JI("CHROME_DUAL_STREAM_USE_ENCODING"))}(),gR.info("browser compatibility",JSON.stringify(Zk),JSON.stringify(t))})}();class VM extends UC{constructor(t,e){super(),jE(this,"signal",void 0),jE(this,"token",void 0),jE(this,"tokenTimeout",void 0),jE(this,"tokenInterval",void 0),jE(this,"_sequence",0),jE(this,"userMap",new Map),jE(this,"encoder",new TextEncoder),this.signal=t,this.token=e;const n=()=>{this.signal.connectionState===DA.CONNECTED&&this.check(),0===this.userMap.size?this.tokenInterval=window.setTimeout(n,1e3):this.tokenInterval=window.setTimeout(n,3*JI("P2P_TOKEN_INTERVAL"))};n()}async send(t,e,n,i,r){var o,s,a;if(0===this.userMap.size)return;const c=Array.from(mx(o=this.userMap).call(o))[0].token;"string"!=typeof e&&(e=JSON.stringify(e)),i=null!==(s=i)&&void 0!==s?s:yI(6,""),r=null!==(a=r)&&void 0!==a?a:this._sequence++;const l={_id:i,_type:t,_seq:r,_message:e,token:"".concat(this.token,"_").concat(c)};JI("SHOW_P2P_LOG")&&gR.debug("send message",l,"noNeedResponse : ".concat(n)),this.splitMessage(JSON.stringify(l)).forEach(t=>{this.signal.request(NA.DATA_STREAM,{payload:hI(this.encoder.encode(t))})});const u=new $h((e,r)=>{const o=window.setTimeout(()=>{this.off("res-@".concat(i,"_ack"),s),this.off("res-@".concat(i),c),this.off(CO.ABORT,a),gR.debug("[external-signal] request timeout, type: ".concat(t,", requestId: ").concat(i)),0===this.userMap.size?r(new TC(SC.INVALID_REMOTE_USER)):r(new TC(SC.TIMEOUT))},JI("EXTERNAL_SIGNAL_REQUEST_TIMEOUT")),s=()=>{o&&window.clearTimeout(o),this.off(CO.ABORT,a),n&&e()},a=()=>{o&&window.clearTimeout(o),this.off("res-@".concat(i,"_ack"),s),this.off("res-@".concat(i),c),r(new TC(SC.EXTERNAL_SIGNAL_ABORT,"type: ".concat(t,", requestId: ").concat(i)))};this.once(CO.ABORT,a),this.once("res-@".concat(i,"_ack"),s);const c=(n,c)=>{u=!0,o&&window.clearTimeout(o),this.off("res-@".concat(i,"_ack"),s),this.off(CO.ABORT,a),"success"===n?e(c):r(new TC(SC.P2P_MESSAGE_FAILED,"request ".concat(t," failed, requestId: ").concat(i)))};let u=!1;n||(this.once("res-@".concat(i),c),_I(JI("SIGNAL_REQUEST_TIMEOUT")).then(()=>{u||gR.warning("external_signal request timeout, type: ".concat(t,", requestId: ").concat(i,", ").concat(l))}))});try{return await u}catch(o){if(o.code===SC.TIMEOUT)return await this.send(t,e,n,i,r);throw o}}onMessage(t){var e;const{_uid:n}=t;let i,r=this.userMap.get(n);if(r)i=r.splitMessageMap;else{if(this.userMap.size>0||!("_type"in t)||t._type!==wO.CHECK)return;const{token:e}=t;i=new Map,r={uid:n,isStart:!0,token:e,splitMessageMap:i,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(n,r),this.signal.emit(LA.ON_USER_ONLINE,{uid:n}),this.handleUserOnline()}if("id"in t&&"total"in t){var o;const{id:e,total:r}=t,s=null!==(o=i.get(e))&&void 0!==o?o:[];if(s.push(t),i.has(e)||i.set(e,s),s.length!==r)return;{const r=lm(s).call(s,(t,e)=>t.index-e.index).map(t=>t.payload).join("");i.delete(e),(t=JSON.parse(r))._uid=n}}const{_type:s,token:a}=t;if(Pi(e=[wO.ACK,wO.CHECK]).call(e,s))return s===wO.CHECK&&this.handleCheckToken(r,a),void this.receiveMessage(t);a==="".concat(r.token,"_").concat(this.token)?this.handleReceivedMessage(t):gR.debug('Receive unexpected message", '.concat(a,", cur_token: ").concat(r.token,"_").concat(this.token),t)}check(){const t={_id:yI(6,""),token:this.token,_type:wO.CHECK};JI("SHOW_P2P_LOG")&&gR.debug("send message",t),this.signal.request(NA.DATA_STREAM,{payload:hI(this.encoder.encode(JSON.stringify(t)))})}ack(t){const e={_id:t,_type:wO.ACK,token:this.token};JI("SHOW_P2P_LOG")&&gR.debug("send message",e),this.signal.request(NA.DATA_STREAM,{payload:hI(this.encoder.encode(JSON.stringify(e)))})}response(t,e,n){this.send(wO.RESPONSE,JSON.stringify({success:!n,message:e}),!0,t)}handleReceivedMessage(t){const e=()=>{this.userMap.forEach(t=>{const{receivedMessagesMap:e,nextExpectedSequenceNumber:n}=t;for(;e.has(n);){const i=e.get(n);e.delete(n),this.receiveMessage(i),t.nextExpectedSequenceNumber++}})};if(!t)return void e();const{_uid:n,_seq:i}=t,r=this.userMap.get(n),{receivedMessagesMap:o,isStart:s,nextExpectedSequenceNumber:a}=r;if(i<a)return this.ack(t._id),void gR.debug("[external-signal] receive old message, seq: ".concat(i,", ").concat(t._message));o.set(i,t),s&&i===a&&(this.receiveMessage(t),o.delete(a),r.nextExpectedSequenceNumber++,e())}receiveMessage(t){const{_id:e,_type:n,_message:i,_uid:r}=t;if(JI("SHOW_P2P_LOG")&&gR.debug("receive message",t),e){let o;switch(t._type!==wO.ACK&&(i&&(o=JSON.parse(i)),this.ack(t._id)),t._type){case wO.CANDIDATE:case wO.CONTROL:this.signal.emit(n,o,r);break;case wO.PUBLISH:case wO.UNPUBLISH:case wO.RESTART_ICE:case wO.CALL:o.uid=r,QC(this.signal,n,o).then(e=>{this.response(t._id,e)}).catch(()=>{this.response(t._id,void 0,!0)});break;case wO.ACK:this.getListeners("res-@".concat(e,"_ack")).length>0&&this.emit("res-@".concat(e,"_ack"));break;case wO.RESPONSE:{const{success:t,message:n}=o;this.emit("res-@".concat(e),t?"success":"failed",n);break}}}}splitMessage(t){if(t.length<VM.MAX_MESSAGE_SIZE)return[t];const e=[],{remoteToken:n}=JSON.parse(t),i=yI(6,"");let r=0,o=800;const s=Math.ceil(t.length/o);for(;t.length>0;){r++;const a={id:i,index:r,total:s,payload:t.slice(0,o),token:"".concat(this.token,"_").concat(n)};JSON.stringify(a).length>VM.MAX_MESSAGE_SIZE?o-=50:(e.push(a),t=t.slice(o))}return e.map(t=>JSON.stringify(t))}handleCheckToken(t,e){return t.token!==e?(gR.debug("token changed, from ".concat(t.token," to ").concat(e)),this.reset(t.uid,e),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout(()=>{gR.debug("token timeout, ".concat(e)),this.reset(t.uid)},JI("MAX_P2P_TIMEOUT")),!0)}async handleUserOnline(){const t=await QC(this.signal,wO.CALL,void 0),e=await this.send(wO.CALL,t);this.signal.emit(kA.P2P_CONNECTION,e,!0)}async reset(t,e){const n=this.userMap.get(t);n&&(this.emit(CO.ABORT),this.signal.emit(LA.ON_USER_OFFLINE,{uid:n.uid,reason:RO.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),e||(gR.debug("change local token from ".concat(e," to ").concat(e)),this.token=yI(6,"")))}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(CO.ABORT)}}jE(VM,"MAX_SIZE",1),jE(VM,"MAX_MESSAGE_SIZE",1024);class UM extends UC{get connectionState(){return this._connectionState}set connectionState(t){t!==this._connectionState&&(this._connectionState=t,t===DA.CONNECTED?this.emit(kA.WS_CONNECTED):t===DA.RECONNECTING?this.emit(kA.WS_RECONNECTING,this._websocketReconnectReason):t===DA.CLOSED&&this.emit(kA.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(t,e){super(),jE(this,"_disconnectedReason",void 0),jE(this,"_websocketReconnectReason",void 0),jE(this,"_connectionState",DA.CLOSED),jE(this,"reconnectToken",void 0),jE(this,"p2pToken",void 0),jE(this,"websocket",void 0),jE(this,"openConnectionTime",void 0),jE(this,"clientId",void 0),jE(this,"lastMsgTime",Date.now()),jE(this,"uploadCache",[]),jE(this,"uploadCacheInterval",void 0),jE(this,"rttRolling",new MI(5)),jE(this,"pingpongTimer",void 0),jE(this,"pingpongTimeoutCount",0),jE(this,"joinResponse",void 0),jE(this,"multiIpOption",void 0),jE(this,"initError",void 0),jE(this,"spec",void 0),jE(this,"store",void 0),jE(this,"_external_signal",void 0),jE(this,"onWebsocketMessage",t=>{if(t.data instanceof ArrayBuffer)return void this.emit(kA.ON_BINARY_DATA,t.data);const e=JSON.parse(t.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(e,"_id")){const t="res-@".concat(e._id);this.emit(t,e._result,e._message)}else if(Object.prototype.hasOwnProperty.call(e,"_type")){switch(e._type){case LA.ON_DATA_STREAM:return void this.handleDataStream(e._message);case LA.MUTE_AUDIO:case LA.MUTE_VIDEO:case LA.ON_P2P_LOST:case LA.ON_USER_ONLINE:return;case LA.ON_USER_OFFLINE:const{uid:t}=e._message;return gR.debug("[".concat(this.clientId,"] user-offline uid: ").concat(t)),void this._external_signal.reset(t)}if(this.emit(e._type,e._message),e._type===LA.ON_NOTIFICATION&&this.handleNotification(e._message),e._type===LA.ON_USER_BANNED)switch(e._message.error_code){case 14:this.close($C.UID_BANNED);break;case 15:this.close($C.IP_BANNED);break;case 16:this.close($C.CHANNEL_BANNED)}if(e._type===LA.ON_USER_LICENSE_BANNED)switch(e._message.error_code){case xA.ERR_LICENSE_MISSING:this.close($C.LICENSE_MISSING);break;case xA.ERR_LICENSE_EXPIRED:this.close($C.LICENSE_EXPIRED);break;case xA.ERR_LICENSE_MINUTES_EXCEEDED:this.close($C.LICENSE_MINUTES_EXCEEDED);break;case xA.ERR_LICENSE_PERIOD_INVALID:this.close($C.LICENSE_PERIOD_INVALID);break;case xA.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close($C.LICENSE_MULTIPLE_SDK_SERVICE);break;case xA.ERR_LICENSE_ILLEGAL:this.close($C.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=t.clientId,this.spec=t,this.store=e,this.websocket=new GO("gateway-".concat(this.clientId),this.spec.retryConfig,!0,JI("JOIN_GATEWAY_USE_DUAL_DOMAIN"),JI("JOIN_GATEWAY_USE_443PORT_ONLY"),e),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===DA.CONNECTED&&this.reconnect("retry",XC.OFFLINE)}),this.p2pToken=yI(6,""),this._external_signal=new VM(this,this.p2pToken)}async request(t,e,n,i){const r=yI(6,""),o={_id:r,_type:t,_message:e},s=this.websocket.connectionID,a=()=>new $h((t,e)=>{if(this.connectionState===DA.CONNECTED)return t();const n=()=>{this.off(kA.WS_CLOSED,i),t()},i=()=>{this.off(kA.WS_CONNECTED,n),e(new TC(SC.WS_ABORT))};this.once(kA.WS_CONNECTED,n),this.once(kA.WS_CLOSED,i)});if(this.connectionState!==DA.CONNECTING&&this.connectionState!==DA.RECONNECTING||t===NA.JOIN||t===NA.REJOIN||await a(),this.websocket.sendMessage(o,!0),i)return;const c=new $h((n,i)=>{let o=!1;const a=(i,r)=>{o=!0,n({isSuccess:"success"===i,message:r||{}}),this.off(kA.WS_CLOSED,c),this.off(kA.WS_RECONNECTING,c),this.emit(kA.REQUEST_SUCCESS,t,e)};this.once("res-@".concat(r),a);const c=()=>{i(new TC(SC.WS_ABORT,"type: ".concat(t))),this.off(kA.WS_CLOSED,c),this.off(kA.WS_RECONNECTING,c),this.off("res-@".concat(r),a)};this.once(kA.WS_CLOSED,c),this.once(kA.WS_RECONNECTING,c),_I(JI("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==s||o||(gR.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(t)),this.emit(kA.REQUEST_TIMEOUT,t,e))})});let l=null;try{l=await c}catch(i){if(this.connectionState===DA.CLOSED||t===NA.LEAVE)throw new TC(SC.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?i.throw():t===NA.JOIN||t===NA.REJOIN?null:(await a(),await this.request(t,e))}if(l.isSuccess)return l.message;const u=Number(l.message.error_code||l.message.code),d=DO(u),h=new TC(SC.UNEXPECTED_RESPONSE,"".concat(d.desc,": ").concat(l.message.error_str),{code:u,data:l.message,desc:d.desc});return"success"===d.action?l.message:(gR.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(t,", error_code: ").concat(u,", message: ").concat(d.desc,", action: ").concat(d.action)),u===xA.ERR_TOO_MANY_BROADCASTERS?t===NA.JOIN||t===NA.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===d.action?h.throw():"quit"===d.action?(this.initError=h,this.close(),h.throw()):(u===xA.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=l.message.option,gR.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",XC.MULTI_IP)):this.reconnect(d.action,XC.SERVER_ERROR),t===NA.JOIN||t===NA.REJOIN?null:await this.request(t,e)))}waitMessage(t,e){return new $h(n=>{const i=r=>{(!e||e(r))&&(this.off(t,i),n(r))};this.on(t,i)})}uploadWRTCStats(t){if(!this.store.sessionId)return void gR.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const e={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:t};this.upload(PA.WRTC_STATS,e)}upload(t,e){const n={_type:t,_message:e};try{this.websocket.sendMessage(n)}catch(t){const e=JI("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>e&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==DA.CONNECTED)return;const t=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(t._type,t._message)},JI("UPLOAD_CACHE_INTERVAL")||2e3))}}send(t,e){const n={_type:t,_message:e};this.websocket.sendMessage(n)}async sendExtensionMessage(t,e,n){return await this._external_signal.send(t,e,n)}init(t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new $h((e,n)=>{this.once(kA.WS_CONNECTED,()=>e(this.joinResponse)),this.once(kA.WS_CLOSED,()=>n(this.initError||new TC(SC.WS_ABORT))),this.connectionState=DA.CONNECTING,this.websocket.init(t).catch(n)})}close(t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=t||$C.LEAVE,this.connectionState=DA.CLOSED,gR.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),this.p2pToken=yI(6,""),this._external_signal.clear(),this._external_signal=new VM(this,this.p2pToken)}async join(){if(!this.joinResponse){this.emit(kA.ABORT_P2P_EXECUTION);const t=await QC(this,kA.REQUEST_JOIN_INFO),e=await this.request(NA.JOIN,t);if(!e)return this.emit(kA.REPORT_JOIN_GATEWAY,SC.TIMEOUT,this.url||""),!1;this.joinResponse=e,this.emit(kA.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=DA.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(t,e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(t,e)}handleDataStream(t){try{var e;const n=dI(t.payload),i=(new TextDecoder).decode(n),r=JSON.parse(i);"total"in r&&"id"in r||Pi(e=Object.values(wO)).call(e,r._type)?(r._uid=t.uid,this._external_signal.onMessage(r)):this.emit(LA.ON_DATA_STREAM,t)}catch(e){this.emit(LA.ON_DATA_STREAM,t)}}handleNotification(t){gR.debug("[".concat(this.clientId,"] receive notification: "),t);const e=DO(t.code);if("success"!==e.action){if("failed"!==e.action)return"quit"===e.action?("ERR_REPEAT_JOIN_CHANNEL"===e.desc&&this.close($C.UID_BANNED),void this.close()):void this.reconnect(e.action,XC.SERVER_ERROR);gR.error("[".concat(this.clientId,"] ignore error: "),e.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const t=JI("PING_PONG_TIME_OUT"),e=Date.now();this.pingpongTimeoutCount>=t&&(gR.warning("[".concat(this.clientId,"] PINGPONG Timeout. Last Socket Message: ").concat(e-this.lastMsgTime,"ms")),e-this.lastMsgTime>JI("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",XC.TIMEOUT):this.request(NA.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const t=Date.now()-e;this.rttRolling.add(t),JI("REPORT_STATS")&&this.send(NA.PING_BACK,{pingpongElapse:t})}).catch(t=>{})}handleWebsocketEvents(){this.websocket.on(VA.RECONNECT_WAITTING_FINISH,t=>{this.emit(kA.WS_RECONNECT_WAITTING_FINISH,t)}),this.websocket.on(VA.RECONNECT_CREATE_CONNECTION,t=>{this.emit(kA.WS_RECONNECT_CREATE_CONNECTION,t)}),this.websocket.on(VA.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(VA.CLOSED,()=>{this.connectionState=DA.CLOSED}),this.websocket.on(VA.FAILED,()=>{this._disconnectedReason=$C.NETWORK_ERROR,this.connectionState=DA.CLOSED}),this.websocket.on(VA.RECONNECTING,t=>{this._websocketReconnectReason=t,this.joinResponse=void 0,this.connectionState===DA.CONNECTED?this.connectionState=DA.RECONNECTING:this.connectionState=DA.CONNECTING}),this.websocket.on(VA.WILL_RECONNECT,(t,e,n)=>{"retry"!==t?(gR.debug("".concat(this.clientId," websocket will_connect event, renewSession reconnectMode is ").concat(t)),this.reconnectToken=void 0):gR.debug("".concat(this.clientId," reconnect mode is retry, no need to renew session")),n(t)}),this.websocket.on(VA.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.join().catch(t=>{if(this.emit(kA.REPORT_JOIN_GATEWAY,t,this.url||""),t instanceof TC&&t.code===SC.UNEXPECTED_RESPONSE&&t.data.code===xA.ERR_NO_AUTHORIZED)return gR.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",XC.SERVER_ERROR);gR.error("[".concat(this.clientId,"] join gateway request failed"),t.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",XC.SERVER_ERROR):(this.initError=t,this.close())})}),this.websocket.on(VA.REQUEST_NEW_URLS,(t,e)=>{QC(this,kA.REQUEST_RECOVER,this.multiIpOption).then(t).catch(e)}),this.websocket.on(VA.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(LA.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})}}var BM={exports:{}};!function(t,e){t.exports=(()=>{var t={8:(t,e,n)=>{n.r(e),n.d(e,{Parser:()=>S,Printer:()=>R,parse:()=>D,print:()=>k});const i="\n",r="".concat("\r").concat(i),o=" ";let s;function a(t){return t>="0"&&t<="9"}function c(t){return t>="!"&&t<="~"}function l(t){return c(t)||t>=""&&t<=""}function u(t){return"!"===t||t>="#"&&t<="'"||t>="*"&&t<="+"||t>="-"&&t<="."||t>="0"&&t<="9"||t>="A"&&t<="Z"||t>="^"&&t<="~"}function d(t){return t>="1"&&t<="9"}function h(t){return t>="A"&&t<="Z"||t>="a"&&t<="z"}function p(t){return"d"===t||"h"===t||"m"===t||"s"===t}function f(t){return t>""&&t<"\t"||t>"\v"&&t<"\f"||t>""&&t<""}function m(t){return h(t)||a(t)||"+"===t||"/"===t}function v(t){return a(t)||h(t)||"+"===t||"/"===t||"-"===t||"_"===t}function g(t){return h(t)||a(t)||"+"===t||"/"===t}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t.VERSION="v",t.ORIGIN="o",t.SESSION_NAME="s",t.INFORMATION="i",t.URI="u",t.EMAIL="e",t.PHONE="p",t.CONNECTION="c",t.BANDWIDTH="b",t.TIME="t",t.REPEAT="r",t.ZONE_ADJUSTMENTS="z",t.KEY="k",t.ATTRIBUTE="a",t.MEDIA="m"}(s||(s={}));class b{consumeText(t,e){let n=e;for(;n<t.length;){const e=t[n];if("\0"===e||"\r"===e||e===i)break;n+=1}if(n-e==0)throw new Error("Invalid text, at ".concat(t));return n}consumeUnicastAddress(t,e,n){return this.consumeTill(t,e,o)}consumeOneOrMore(t,e,n){let i=e;for(;n(t[i]);)i++;if(i-e==0)throw new Error("Invalid rule at ".concat(e,"."));return i}consumeSpace(t,e){if(t[e]===o)return e+1;throw new Error("Invalid space at ".concat(e,"."))}consumeIP4Address(t,e){let n=e;for(let i=0;i<4;i++)if(n=this.consumeDecimalUChar(t,n),3!==i){if("."!==t[n])throw new Error("Invalid IP4 address.");n++}return n}consumeDecimalUChar(t,e){let n=e;for(let r=0;r<3&&a(t[n]);r++,n++);if(n-e==0)throw new Error("Invalid decimal uchar.");const i=parseInt(t.slice(e,n));if(i>=0&&i<=255)return n;throw new Error("Invalid decimal uchar")}consumeIP6Address(t,e){let n=this.consumeHexpart(t,e);return":"===t[n]?(n+=1,n=this.consumeIP4Address(t,n),n):n}consumeHexpart(t,e){let n=e;if(":"===t[n]&&":"===t[n+1]){n+=2;try{n=this.consumeHexseq(t,n)}catch(t){}return n}if(n=this.consumeHexseq(t,n),":"===t[n]&&":"===t[n+1]){n+=2;try{n=this.consumeHexseq(t,n)}catch(t){}return n}return n}consumeHexseq(t,e){let n=e;for(;n=this.consumeHex4(t,n),":"===t[n]&&":"!==t[n+1];)n+=1;return n}consumeHex4(t,e){let n=0;for(;n<4;n++)if(!((i=t[e+n])>="0"&&i<="9"||i>="a"&&i<="f"||i>="A"&&i<="F")){if(0===n)throw new Error("Invalid hex 4");break}var i;return e+n}consumeFQDN(t,e){let n=e;for(;a(t[n])||h(t[n])||"-"===t[n]||"."===t[n];)n+=1;if(n-e<4)throw new Error("Invalid FQDN");return n}consumeExtnAddr(t,e){return this.consumeOneOrMore(t,e,l)}consumeMulticastAddress(t,e,n){switch(n){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(t,e);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(t,e);default:try{return this.consumeFQDN(t,e)}catch(n){return this.consumeExtnAddr(t,e)}}}consumeIP6MulticastAddress(t,e){const n=this.consumeHexpart(t,e);return"/"===t[n]?this.consumeInteger(t,n+1):n}consumeIP4MulticastAddress(t,e){let n=e+3;const i=t.slice(e,n),r=parseInt(i);if(r<224||r>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let o=0;o<3;o++){if("."!==t[n])throw new Error("Invalid IP4 multicast address.");n+=1,n=this.consumeDecimalUChar(t,n)}return"/"===t[n]&&(n+=1),n=this.consumeTTL(t,n),"/"===t[n]&&(n=this.consumeInteger(t,n)),n}consumeInteger(t,e){if(!d(t[e]))throw new Error("Invalid integer.");for(e+=1;a(t[e]);)e+=1;return e}consumeTTL(t,e){if("0"===t[e])return e+1;if(!d(t[e]))throw new Error("Invalid TTL.");e+=1;for(let n=0;n<2&&a(t[e]);n++)e+=1;return e}consumeToken(t,e){return this.consumeOneOrMore(t,e,u)}consumeTime(t,e){let n=e;if("0"===t[n])return n+1;for(d(t[n])&&(n+=1);a(t[n]);)n++;if(n-e<10)throw new Error("Invalid time");return n}consumeAddress(t,e){return this.consumeTill(t,e,o)}consumeTypedTime(t,e){let n=e;return n=this.consumeOneOrMore(t,n,a),p(t[n])?n+1:n}consumeRepeatInterval(t,e){if(!d(t[e]))throw new Error("Invalid repeat interval");for(e+=1;a(t[e]);)e+=1;return p(t[e])&&(e+=1),e}consumePort(t,e){return this.consumeOneOrMore(t,e,a)}consume(t,e,n){for(let i=0;i<n.length;i++){if(e+i>=t.length)throw new Error("consume exceeding value length");if(t[e+i]!==n[i])throw new Error("consume ".concat(n," failed at ").concat(i))}return e+n.length}consumeTill(t,e,n){let i=e;for(;i<t.length&&("string"!=typeof n||t[i]!==n)&&("function"!=typeof n||!n(t[i]));)i++;return i}}class S extends b{constructor(){super(),E(this,"records",[]),E(this,"currentLine",0)}parse(t){const e=this.probeEOL(t);this.records=t.split(e).filter(t=>!!Gp(t).call(t)).map(this.parseLine),this.currentLine=0;const n=this.parseVersion(),i=this.parseOrigin(),r=this.parseSessionName(),o=this.parseInformation(),s=this.parseUri(),a=this.parseEmail(),c=this.parsePhone(),l=this.parseConnection(),u=this.parseBandWidth(),d=this.parseTimeFields(),h=this.parseKey(),p=this.parseSessionAttribute(),f=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:n,origin:i,sessionName:r,information:o,uri:s,emails:a,phones:c,connection:l,bandwidths:u,timeFields:d,key:h,attributes:p,mediaDescriptions:f}}getCurrentRecord(){const t=this.records[this.currentLine];if(!t)throw new Error("Record doesn't exit.");return t}probeEOL(t){for(let e=0;e<t.length;e++)if(t[e]===i)return"\r"===t[e-1]?r:i;throw new Error("Invalid newline character.")}parseLine(t,e){if(t.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const n=t[0];if("="!==t[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:n,value:t.slice(2),line:e,cur:0}}parseSessionAttribute(){const t=new w;for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(e,t=>u(t)&&":"!==t),_cur:0};":"===e.value[e.cur]&&(e.cur+=1,n.attValue=this.extractOneOrMore(e,f)),t.parse(n),this.currentLine++}return t.digest()}parseMediaAttributes(t){const e=new C(t);for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(t,t=>u(t)&&":"!==t),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,n.attValue=this.extractOneOrMore(t,f)),e.parse(n),this.currentLine++}return e.digest()}parseKey(){const t=this.getCurrentRecord();if(t.type===s.KEY){if("prompt"===t.value||"clear:"===t.value||"base64:"===t.value||"uri:"===t.value)return t.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const t=this.getCurrentRecord();if(t.type===s.ZONE_ADJUSTMENTS){const e=[];for(;;)try{const n=this.extract(t,this.consumeTime);this.consumeSpaceForRecord(t);let i=!1;"-"===t.value[t.cur]&&(i=!0,t.cur+=1);const r=this.extract(t,this.consumeTypedTime);e.push({time:n,typedTime:r,back:i})}catch(t){break}if(0===e.length)throw new Error("Invalid zone adjustments");return this.currentLine++,e}return[]}parseRepeat(){const t=[];for(;;){const e=this.getCurrentRecord();if(e.type!==s.REPEAT)break;{const n=this.extract(e,this.consumeRepeatInterval),i=this.parseTypedTime(e);t.push({repeatInterval:n,typedTimes:i}),this.currentLine++}}return t}parseTypedTime(t){const e=[];for(;;)try{this.consumeSpaceForRecord(t),e.push(this.extract(t,this.consumeTypedTime))}catch(t){break}if(0===e.length)throw new Error("Invalid typed time.");return e}parseTime(){const t=this.getCurrentRecord(),e=this.extract(t,this.consumeTime);this.consumeSpaceForRecord(t);const n=this.extract(t,this.consumeTime);return this.currentLine++,{startTime:e,stopTime:n}}parseBandWidth(){const t=[];for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.BANDWIDTH)break;{const n=this.extractOneOrMore(e,u);if(":"!==e.value[e.cur])throw new Error("Invalid bandwidth field.");e.cur++;const i=this.extractOneOrMore(e,a);t.push({bwtype:n,bandwidth:i}),this.currentLine++}}return t}parseVersion(){const t=this.getCurrentRecord();if(t.type!==s.VERSION)throw new Error("first sdp record must be version");const e=t.value.slice(0,this.consumeOneOrMore(t.value,0,a));if(e.length!==t.value.length)throw new Error('invalid proto version, "v='.concat(t.value,'"'));return this.currentLine++,e}parseOrigin(){const t=this.getCurrentRecord();if(t.type!==s.ORIGIN)throw new Error("second line of sdp must be origin");const e=this.extractOneOrMore(t,l);this.consumeSpaceForRecord(t);const n=this.extractOneOrMore(t,a);this.consumeSpaceForRecord(t);const i=this.extractOneOrMore(t,a);this.consumeSpaceForRecord(t);const r=this.extractOneOrMore(t,u);this.consumeSpaceForRecord(t);const o=this.extractOneOrMore(t,u);this.consumeSpaceForRecord(t);const c=this.extract(t,this.consumeUnicastAddress);return this.currentLine++,{username:e,sessId:n,sessVersion:i,nettype:r,addrtype:o,unicastAddress:c}}parseSessionName(){const t=this.getCurrentRecord();if(t.type===s.SESSION_NAME){const e=this.extract(t,this.consumeText);return this.currentLine++,e}}parseInformation(){const t=this.getCurrentRecord();if(t.type!==s.INFORMATION)return;const e=this.extract(t,this.consumeText);return this.currentLine++,e}parseUri(){const t=this.getCurrentRecord();if(t.type===s.URI)return this.currentLine++,t.value}parseEmail(){const t=[];for(;;){const e=this.getCurrentRecord();if(e.type!==s.EMAIL)break;t.push(e.value),this.currentLine++}return t}parsePhone(){const t=[];for(;;){const e=this.getCurrentRecord();if(e.type!==s.PHONE)break;t.push(e.value),this.currentLine++}return t}parseConnection(){const t=this.getCurrentRecord();if(t.type===s.CONNECTION){const e=this.extractOneOrMore(t,u);this.consumeSpaceForRecord(t);const n=this.extractOneOrMore(t,u);this.consumeSpaceForRecord(t);const i=this.extract(t,this.consumeAddress);return this.currentLine++,{nettype:e,addrtype:n,address:i}}}parseMedia(){const t=this.getCurrentRecord(),e=this.extract(t,this.consumeToken);this.consumeSpaceForRecord(t);let n=this.extract(t,this.consumePort);"/"===t.value[t.cur]&&(t.cur+=1,n+=this.extract(t,this.consumeInteger)),this.consumeSpaceForRecord(t);const i=[];for(i.push(this.extract(t,this.consumeToken));"/"===t.value[t.cur];)t.cur+=1,i.push(this.extract(t,this.consumeToken));if(0===i.length)throw new Error("Invalid proto");const r=this.parseFmt(t);return this.currentLine++,{mediaType:e,port:n,protos:i,fmts:r}}parseTimeFields(){const t=[];for(;this.getCurrentRecord().type===s.TIME;){const e=this.parseTime(),n=this.parseRepeat(),i=this.parseZone();t.push({time:e,repeats:n,zones:i})}return t}parseMediaDescription(){const t=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.MEDIA;){const e=this.parseMedia(),n=this.parseInformation(),i=this.parseConnections(),r=this.parseBandWidth(),o=this.parseKey(),s=this.parseMediaAttributes(e);t.push({media:e,information:n,connections:i,bandwidths:r,key:o,attributes:s})}return t}parseConnections(){const t=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.CONNECTION;)t.push(this.parseConnection());return t}parseFmt(t){const e=[];for(;;)try{this.consumeSpaceForRecord(t),e.push(this.extract(t,this.consumeToken))}catch(t){break}if(0===e.length)throw new Error("Invalid fmts");return e}extract(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];const o=e.call(this,t.value,t.cur,...i),s=t.value.slice(t.cur,o);return t.cur=o,s}extractOneOrMore(t,e){const n=this.consumeOneOrMore(t.value,t.cur,e),i=t.value.slice(t.cur,n);return t.cur=n,i}consumeSpaceForRecord(t){if(t.value[t.cur]!==o)throw new Error("Invalid space at ".concat(t.cur,"."));t.cur+=1}}class T extends b{constructor(){super(...arguments),E(this,"attributes",void 0),E(this,"digested",!1)}extractOneOrMore(t,e,n){const i=this.consumeOneOrMore(t.attValue,t._cur,e),r=t.attValue.slice(t._cur,i),[o,s]=n||[];if("number"==typeof o&&r.length<o)throw new Error("error in length, should be more or equal than ".concat(o," characters."));if("number"==typeof s&&r.length>s)throw new Error("error in length, should be less or equal than ".concat(s," characters."));return t._cur=i,r}consumeAttributeSpace(t){if(t.attValue[t._cur]!==o)throw new Error("Invalid space at ".concat(t._cur,"."));t._cur+=1}extract(t,e){if(!t.attValue)throw new Error("Nothing to extract from attValue.");for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];const o=e.call(this,t.attValue,t._cur,...i),s=t.attValue.slice(t._cur,o);return t._cur=o,s}atEnd(t){if(!t.attValue)throw new Error;return t._cur>=t.attValue.length}peekChar(t){if(!t.attValue)throw new Error;return t.attValue[t._cur]}peek(t,e){if(!t.attValue)throw new Error;for(let n=0;n<e.length;n++)if(e[n]!==t.attValue[t._cur+n])return!1;return!0}parseIceUfrag(t){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(t,m,[4,256])}parseIcePwd(t){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(t,m,[22,256])}parseIceOptions(t){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const e=[];for(;!this.atEnd(t);){e.push(this.extractOneOrMore(t,m));try{this.consumeAttributeSpace(t)}catch(e){if(this.atEnd(t))break;throw e}}this.attributes.iceOptions=e}parseFingerprint(t){const e=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeTill);this.attributes.fingerprints.push({hashFunction:e,fingerprint:n})}parseExtmap(t){const e=this.extractOneOrMore(t,a);let n;"/"===this.peekChar(t)&&(this.extract(t,this.consume,"/"),n=this.extract(t,this.consumeToken)),this.consumeAttributeSpace(t);const i=this.extract(t,this.consumeTill,o),r=y(y({entry:parseInt(e,10)},n&&{direction:n}),{},{extensionName:i});this.peekChar(t)===o&&(this.consumeAttributeSpace(t),r.extensionAttributes=this.extract(t,this.consumeTill)),this.attributes.extmaps.push(r)}parseSetup(t){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const e=this.extract(t,this.consumeTill);if("active"!==e&&"passive"!==e&&"actpass"!==e&&"holdconn"!==e)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=e}}class w extends T{constructor(){super(...arguments),E(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(t){if(this.digested)throw new Error("already digested");try{switch(t.attField){case"group":this.parseGroup(t);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(t);break;case"ice-pwd":this.parseIcePwd(t);break;case"ice-options":this.parseIceOptions(t);break;case"fingerprint":this.parseFingerprint(t);break;case"setup":this.parseSetup(t);break;case"tls-id":this.parseTlsId(t);break;case"identity":this.parseIdentity(t);break;case"extmap":this.parseExtmap(t);break;case"msid-semantic":this.parseMsidSemantic(t);break;default:t.ignored=!0,this.attributes.unrecognized.push(t)}}catch(e){throw console.error("parsing session attribute ".concat(t.attField,' error, "a=').concat(t.attField,":").concat(t.attValue,'"')),e}if(!t.ignored&&t.attValue&&!this.atEnd(t))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(t){const e=this.extract(t,this.consumeToken),n=[];for(;!this.atEnd(t)&&this.peekChar(t)===o;)this.consumeAttributeSpace(t),n.push(this.extract(t,this.consumeToken));this.attributes.groups.push({semantic:e,identificationTag:n})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(t){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(t,v)}parseIdentity(t){const e=this.extractOneOrMore(t,g),n=[];for(;!this.atEnd(t)&&this.peekChar(t)===o;){this.consumeAttributeSpace(t);const e=this.extract(t,this.consumeToken);this.extract(t,this.consume,"=");const i=this.extractOneOrMore(t,t=>t!==o&&f(t));n.push({name:e,value:i})}this.attributes.identities.push({assertionValue:e,extensions:n})}parseMsidSemantic(t){this.peekChar(t)===o&&this.consumeAttributeSpace(t);const e={semantic:this.extract(t,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(t)}catch(t){break}if("*"===this.peekChar(t)){this.extract(t,this.consume,"*"),e.applyForAll=!0;break}{const n=this.extract(t,this.consumeTill,o);e.identifierList.push(n)}}this.attributes.msidSemantic=e}}class C extends T{constructor(t){super(),E(this,"attributes",void 0),-1!==t.protos.indexOf("RTP")||t.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(t){if(this.digested)throw new Error("already digested");try{switch(t.attField){case"extmap":this.parseExtmap(t);break;case"setup":this.parseSetup(t);break;case"ice-ufrag":this.parseIceUfrag(t);break;case"ice-pwd":this.parseIcePwd(t);break;case"ice-options":this.parseIceOptions(t);break;case"candidate":this.parseCandidate(t);break;case"remote-candidate":this.parseRemoteCandidate(t);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(t);break;case"rtpmap":this.parseRtpmap(t);break;case"ptime":this.parsePtime(t);break;case"maxptime":this.parseMaxPtime(t);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(t);break;case"ssrc":this.parseSSRC(t);break;case"fmtp":this.parseFmtp(t);break;case"rtcp-fb":this.parseRtcpFb(t);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(t);break;case"mid":this.parseMid(t);break;case"msid":this.parseMsid(t);break;case"imageattr":this.parseImageAttr(t);break;case"rid":this.parseRid(t);break;case"simulcast":this.parseSimulcast(t);break;case"sctp-port":this.parseSctpPort(t);break;case"max-message-size":this.parseMaxMessageSize(t);break;case"ssrc-group":this.parseSSRCGroup(t);break;default:t.ignored=!0,this.attributes.unrecognized.push(t)}}catch(e){throw console.error("parsing media attribute ".concat(t.attField,' error, "a=').concat(t.attField,":").concat(t.attValue,'"')),e}if(!t.ignored&&t.attValue&&!this.atEnd(t))throw new Error("attribute parsing error")}parseCandidate(t){const e=this.extractOneOrMore(t,m,[1,32]);this.consumeAttributeSpace(t);const n=this.extractOneOrMore(t,a,[1,5]);this.consumeAttributeSpace(t);const i=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t);const r=this.extractOneOrMore(t,a,[1,10]);this.consumeAttributeSpace(t);const s=this.extract(t,this.consumeAddress);this.consumeAttributeSpace(t);const l=this.extract(t,this.consumePort);this.consumeAttributeSpace(t),this.extract(t,this.consume,"typ"),this.consumeAttributeSpace(t);const u={foundation:e,componentId:n,transport:i,priority:r,connectionAddress:s,port:l,type:this.extract(t,this.consumeToken),extension:{}};for(this.peek(t," raddr")&&(this.extract(t,this.consume," raddr"),this.consumeAttributeSpace(t),u.relAddr=this.extract(t,this.consumeAddress)),this.peek(t," rport")&&(this.extract(t,this.consume," rport"),this.consumeAttributeSpace(t),u.relPort=this.extract(t,this.consumePort));this.peekChar(t)===o;){this.consumeAttributeSpace(t);const e=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t),u.extension[e]=this.extractOneOrMore(t,c)}this.attributes.candidates.push(u)}parseRemoteCandidate(t){const e=[];for(;;){const n=this.extractOneOrMore(t,a,[1,5]);this.consumeAttributeSpace(t);const i=this.extract(t,this.consumeAddress);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumePort);e.push({componentId:n,connectionAddress:i,port:r});try{this.consumeAttributeSpace(t)}catch(t){break}}this.attributes.remoteCandidatesList.push(e)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(t){const e=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeTill,"/");this.extract(t,this.consume,"/");const i={encodingName:n,clockRate:this.extractOneOrMore(t,a)};this.atEnd(t)||"/"!==this.peekChar(t)||(this.extract(t,this.consume,"/"),i.encodingParameters=parseInt(this.extract(t,this.consumeTill),10));const r=this.attributes.payloads.find(t=>t.payloadType===parseInt(e,10));r?r.rtpMap=i:this.attributes.payloads.push({payloadType:parseInt(e,10),rtpMap:i,rtcpFeedbacks:[]})}parsePtime(t){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(t,this.consumeTill)}parseMaxPtime(t){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(t,this.consumeTill)}parseDirection(t){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=t.attField}parseSSRC(t){const e=this.extractOneOrMore(t,a);this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeTill,":");let i;":"===this.peekChar(t)&&(this.extract(t,this.consume,":"),i=this.extract(t,this.consumeTill));const r=this.attributes.ssrcs.find(t=>t.ssrcId===parseInt(e,10));r?r.attributes[n]=i:this.attributes.ssrcs.push({ssrcId:parseInt(e,10),attributes:{[n]:i}})}parseFmtp(t){const e=this.extract(t,this.consumeTill,o);this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeTill),i={};n.split(";").forEach(t=>{let[e,n]=t.split("=");e=Gp(e).call(e);const r="string"==typeof n?Gp(n).call(n):null;"string"==typeof e&&e.length>0&&(i[e]=r)});const r=this.attributes.payloads.find(t=>t.payloadType===parseInt(e,10));r?r.fmtp={parameters:i}:this.attributes.payloads.push({payloadType:parseInt(e,10),rtcpFeedbacks:[],fmtp:{parameters:i}})}parseFmtParameters(t){const e={},n=this.extract(t,this.consumeTill,"=");t._cur++;const i=this.extract(t,this.consumeTill,";");for(e[n]=i;";"===t.attValue[t._cur];){const n=this.extract(t,this.consumeTill,"=");t._cur++;const i=this.extract(t,this.consumeTill,";");e[n]=i}return e}parseRtcpFb(t){let e="";e="*"===this.peekChar(t)?this.extract(t,this.consume,"*"):this.extract(t,this.consumeTill,o),this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeTill,o);let i;if("trr-int"===n)i={type:n,interval:this.extract(t,this.consumeTill)};else{const e={type:n};this.peekChar(t)===o&&(this.consumeAttributeSpace(t),e.parameter=this.extract(t,this.consumeToken),this.peekChar(t)===o&&(e.additional=this.extract(t,this.consumeTill))),i=e}if("*"===e)this.attributes.rtcpFeedbackWildcards.push(i);else{const t=this.attributes.payloads.find(t=>t.payloadType===parseInt(e,10));t?t.rtcpFeedbacks.push(i):this.attributes.payloads.push({payloadType:parseInt(e,10),rtcpFeedbacks:[i]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(t){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const e={port:this.extract(t,this.consumePort)};this.peekChar(t)===o&&(this.consumeAttributeSpace(t),e.netType=this.extractOneOrMore(t,u),this.consumeAttributeSpace(t),e.addressType=this.extractOneOrMore(t,u),this.consumeAttributeSpace(t),e.address=this.extract(t,this.consumeAddress)),this.attributes.rtcp=e}parseMsid(t){const e={id:this.extractOneOrMore(t,u,[1,64])};this.peekChar(t)===o&&(this.consumeAttributeSpace(t),e.appdata=this.extractOneOrMore(t,u,[1,64])),this.attributes.msids.push(e)}parseImageAttr(t){this.attributes.imageattr.push(t.attValue)}parseRid(t){const e=this.extractOneOrMore(t,t=>h(t)||a(t)||"_"===t||"-"===t);this.consumeAttributeSpace(t);const n={id:e,direction:this.extract(t,this.consumeToken),params:[]};if(this.peekChar(t)===o){if(this.consumeAttributeSpace(t),this.peek(t,"pt=")){this.extract(t,this.consume,"pt=");const e=[];for(;;){const n=this.extract(t,this.consumeToken);e.push(n);try{this.extract(t,this.consume,",")}catch(t){break}}n.payloads=e,this.peekChar(t)===o&&this.extract(t,this.consume,o)}for(;;){const e=this.extract(t,this.consumeToken);switch(e){case"depend":{const i={type:e,rids:this.extract(t,this.consume,"=").split(",")};n.params.push(i);break}default:{const i={type:e};"="===this.peekChar(t)&&(this.extract(t,this.consume,"="),i.val=this.extract(t,this.consumeTill,";")),n.params.push(i)}}try{this.extract(t,this.consume,";")}catch(t){break}}}this.attributes.rids.push(n)}parseSimulcast(t){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=t.attValue,this.extract(t,this.consumeTill)}parseSctpPort(t){this.attributes.sctpPort=this.extractOneOrMore(t,a,[1,5])}parseMaxMessageSize(t){this.attributes.maxMessageSize=this.extractOneOrMore(t,a,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(t){this.attributes.mid=this.extract(t,this.consumeToken)}parseSSRCGroup(t){const e=this.extract(t,this.consumeToken),n=[];for(;;)try{this.consumeAttributeSpace(t);const e=this.extract(t,this.consumeInteger);n.push(parseInt(e,10))}catch(t){break}this.attributes.ssrcGroups.push({semantic:e,ssrcIds:n})}}function I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class R{constructor(){I(this,"eol",r)}print(t,e){let n="";return e&&(this.eol=e),n+=this.printVersion(t.version),n+=this.printOrigin(t.origin),n+=this.printSessionName(t.sessionName),n+=this.printInformation(t.information),n+=this.printUri(t.uri),n+=this.printEmail(t.emails),n+=this.printPhone(t.phones),n+=this.printConnection(t.connection),n+=this.printBandwidth(t.bandwidths),n+=this.printTimeFields(t.timeFields),n+=this.printKey(t.key),n+=this.printSessionAttributes(t.attributes),n+=this.printMediaDescription(t.mediaDescriptions),n}printVersion(t){return"v=".concat(t).concat(this.eol)}printOrigin(t){return"o=".concat(t.username," ").concat(t.sessId," ").concat(t.sessVersion," ").concat(t.nettype," ").concat(t.addrtype," ").concat(t.unicastAddress).concat(this.eol)}printSessionName(t){return t?"s=".concat(t).concat(this.eol):""}printInformation(t){return t?"i=".concat(t).concat(this.eol):""}printUri(t){return t?"u=".concat(t).concat(this.eol):""}printEmail(t){let e="";for(const n of t)e+="e=".concat(n).concat(this.eol);return e}printPhone(t){let e="";for(const n of t)e+="e=".concat(n).concat(this.eol);return e}printConnection(t){return t?"c=".concat(t.nettype," ").concat(t.addrtype," ").concat(t.address).concat(this.eol):""}printBandwidth(t){let e="";for(const n of t)e+="b=".concat(n.bwtype,":").concat(n.bandwidth).concat(this.eol);return e}printTimeFields(t){let e="";for(const n of t){e+="t=".concat(n.time.startTime," ").concat(n.time.startTime).concat(this.eol);for(const t of n.repeats)e+="r=".concat(t.repeatInterval," ").concat(t.typedTimes.join(" ")).concat(this.eol);n.zoneAdjustments&&(e+="z=",e+="z=".concat(n.zoneAdjustments.map(t=>"".concat(t.time," ").concat(t.back?"-":""," ").concat(t.typedTime)).join(" ")).concat(this.eol),e+=this.eol)}return e}printKey(t){return t?"k=".concat(t).concat(this.eol):""}printAttributes(t){let e="";for(const n of t)e+="a=".concat(n.attField).concat(n.attValue?":".concat(n.attValue):"").concat(this.eol);return e}printMediaDescription(t){let e="";for(const n of t)e+=this.printMedia(n.media),e+=this.printInformation(n.information),e+=this.printConnections(n.connections),e+=this.printBandwidth(n.bandwidths),e+=this.printKey(n.key),e+=this.printMediaAttributes(n);return e}printConnections(t){let e="";for(const n of t)e+=this.printConnection(n);return e}printMedia(t){return"m=".concat(t.mediaType," ").concat(t.port," ").concat(t.protos.join("/")," ").concat(t.fmts.join(" ")).concat(this.eol)}printSessionAttributes(t){return new O(this.eol).print(t)}printMediaAttributes(t){return new x(this.eol).print(t)}}class A{constructor(t){I(this,"eol",void 0),this.eol=t}printIceUfrag(t){return void 0===t?"":"a=ice-ufrag:".concat(t).concat(this.eol)}printIcePwd(t){return void 0===t?"":"a=ice-pwd:".concat(t).concat(this.eol)}printIceOptions(t){return void 0===t?"":"a=ice-options:".concat(t.join(o)).concat(this.eol)}printFingerprints(t){return t.length>0?t.map(t=>"a=fingerprint:".concat(t.hashFunction).concat(o).concat(t.fingerprint)).join(this.eol)+this.eol:""}printExtmap(t){return t.map(t=>"a=extmap:".concat(t.entry).concat(t.direction?"/".concat(t.direction):"").concat(o).concat(t.extensionName).concat(t.extensionAttributes?"".concat(o).concat(t.extensionAttributes):"").concat(this.eol)).join("")}printSetup(t){return void 0===t?"":"a=setup:".concat(t).concat(this.eol)}printUnrecognized(t){return t.map(t=>"a=".concat(t.attField).concat(t.attValue?":".concat(t.attValue):"").concat(this.eol)).join("")}}class O extends A{print(t){let e="";return e+=this.printGroups(t.groups),e+=this.printMsidSemantic(t.msidSemantic),e+=this.printIceLite(t.iceLite),e+=this.printIceUfrag(t.iceUfrag),e+=this.printIcePwd(t.icePwd),e+=this.printIceOptions(t.iceOptions),e+=this.printFingerprints(t.fingerprints),e+=this.printSetup(t.setup),e+=this.printTlsId(t.tlsId),e+=this.printIdentity(t.identities),e+=this.printExtmap(t.extmaps),e+=this.printUnrecognized(t.unrecognized),e}printGroups(t){let e="";return t.length>0&&(e+=t.map(t=>"a=group:".concat(t.semantic).concat(t.identificationTag.map(t=>"".concat(o).concat(t)).join("")).concat(this.eol)).join("")),e}printIceLite(t){return void 0===t?"":"a=ice-lite"+this.eol}printTlsId(t){return t?"a=tls-id:".concat(t).concat(this.eol):""}printIdentity(t){return 0===t.length?"":t.map(t=>"a=identity:".concat(t.assertionValue).concat(t.extensions.map(t=>"".concat(o).concat(t.name).concat(t.value?"=".concat(t.value):"")))).join(this.eol)+this.eol}printMsidSemantic(t){if(!t)return"";let e="a=msid-semantic:".concat(t.semantic);return t.applyForAll?e+="".concat(o,"*"):t.identifierList.length>0&&(e+=t.identifierList.map(t=>"".concat(o).concat(t))),e+this.eol}}class x extends A{print(t){const e=t.attributes;let n="";return n+=this.printRTCP(e.rtcp),n+=this.printIceUfrag(e.iceUfrag),n+=this.printIcePwd(e.icePwd),n+=this.printIceOptions(e.iceOptions),n+=this.printCandidates(e.candidates),n+=this.printRemoteCandidatesList(e.remoteCandidatesList),n+=this.printEndOfCandidates(e.endOfCandidates),n+=this.printFingerprints(e.fingerprints),n+=this.printSetup(e.setup),n+=this.printMid(e.mid),n+=this.printExtmap(e.extmaps),n+=this.printRTPRelated(e),n+=this.printPtime(e.ptime),n+=this.printMaxPtime(e.maxPtime),n+=this.printDirection(e.direction),n+=this.printSSRCGroups(e.ssrcGroups),n+=this.printSSRC(e.ssrcs),n+=this.printRTCPMux(e.rtcpMux),n+=this.printRTCPMuxOnly(e.rtcpMuxOnly),n+=this.printRTCPRsize(e.rtcpRsize),n+=this.printMSId(e.msids),n+=this.printImageattr(e.imageattr),n+=this.printRid(e.rids),n+=this.printSimulcast(e.simulcast),n+=this.printSCTPPort(e.sctpPort),n+=this.printMaxMessageSize(e.maxMessageSize),n+=this.printUnrecognized(e.unrecognized),n}printCandidates(t){return t.map(t=>"a=candidate:".concat(t.foundation).concat(o).concat(t.componentId).concat(o).concat(t.transport).concat(o).concat(t.priority).concat(o).concat(t.connectionAddress).concat(o).concat(t.port).concat(o,"typ").concat(o).concat(t.type).concat(t.relAddr?"".concat(o,"raddr").concat(o).concat(t.relAddr):"").concat(t.relPort?"".concat(o,"rport").concat(o).concat(t.relPort):"").concat(Object.keys(t.extension).map(e=>"".concat(o).concat(e).concat(o).concat(t.extension[e])).join("")).concat(this.eol)).join("")}printRemoteCandidatesList(t){return t.map(t=>"a=remote-candidates:".concat(t.join(o)).concat(this.eol)).join("")}printEndOfCandidates(t){return void 0===t?"":"a=end-of-candidates"+this.eol}printRTPRelated(t){if(!t.payloads)return"";const e=t.payloads;let n="";n+=t.rtcpFeedbackWildcards.map(t=>this.printRTCPFeedback("*",t)).join("");for(const i of e)n+=this.printRtpMap(i.payloadType,i.rtpMap),n+=this.printFmtp(i.payloadType,i.fmtp),n+=i.rtcpFeedbacks.map(t=>this.printRTCPFeedback(i.payloadType,t)).join("");return n}printFmtp(t,e){if(!e)return"";const n=Object.keys(e.parameters);return 1===n.length&&null===e.parameters[n[0]]?"a=fmtp:".concat(t).concat(o).concat(n[0]).concat(this.eol):"a=fmtp:".concat(t).concat(o).concat(Object.keys(e.parameters).map(t=>"".concat(t,"=").concat(e.parameters[t])).join(";")).concat(this.eol)}printRtpMap(t,e){return e?"a=rtpmap:".concat(t).concat(o).concat(e.encodingName,"/").concat(e.clockRate).concat(e.encodingParameters?"/".concat(e.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(t,e){let n="a=rtcp-fb:".concat(t).concat(o),i=e;return"trr-int"===i.type?n+="ttr-int".concat(o).concat(i.interval):(n+="".concat(i.type),i.parameter&&(n+="".concat(o).concat(i.parameter),i.additional&&(n+="".concat(o).concat(i.additional)))),n+this.eol}printPtime(t){return void 0===t?"":"a=ptime:".concat(t).concat(this.eol)}printMaxPtime(t){return void 0===t?"":"a=maxptime:".concat(t).concat(this.eol)}printDirection(t){return void 0===t?"":"a=".concat(t).concat(this.eol)}printSSRC(t){return t.map(t=>Object.keys(t.attributes).map(e=>"a=ssrc:".concat(t.ssrcId.toString(10)).concat(o).concat(e).concat(t.attributes[e]?":".concat(t.attributes[e]):"").concat(this.eol)).join("")).join("")}printRTCPMux(t){return void 0===t?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(t){return void 0===t?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(t){return void 0===t?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(t){if(void 0===t)return"";let e="a=rtcp:".concat(t.port);return t.netType&&(e+="".concat(o).concat(t.netType)),t.addressType&&(e+="".concat(o).concat(t.addressType)),t.address&&(e+="".concat(o).concat(t.address)),e+this.eol}printMSId(t){return t.map(t=>"a=msid:".concat(t.id).concat(t.appdata?"".concat(o).concat(t.appdata):"").concat(this.eol)).join("")}printImageattr(t){return t.map(t=>"a=imageattr:".concat(t).concat(this.eol)).join("")}printRid(t){return t.map(t=>{let e="a=rid:".concat(t.id).concat(o).concat(t.direction);return t.payloads&&(e+="".concat(o,"pt=").concat(t.payloads.join(","))),t.params.length>0&&(e+="".concat(o).concat(t.params.map(t=>"depend"===t.type?"depend=".concat(t.rids.join(",")):"".concat(t.type,"=").concat(t.val)).join(";"))),e+this.eol}).join("")}printSimulcast(t){return void 0===t?"":"a=simulcast:".concat(t).concat(this.eol)}printSCTPPort(t){return void 0===t?"":"a=sctp-port:".concat(t).concat(this.eol)}printMaxMessageSize(t){return void 0===t?"":"a=max-message-size:".concat(t).concat(this.eol)}printMid(t){return void 0===t?"":"a=mid:".concat(t).concat(this.eol)}printSSRCGroups(t){return t.map(t=>"a=ssrc-group:".concat(t.semantic).concat(t.ssrcIds.map(t=>"".concat(o).concat(t.toString(10))).join("")).concat(this.eol)).join("")}}function D(t){return(new S).parse(t)}function k(t,e){return(new R).print(t,e)}}},e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}return n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(8)})()}(BM);var jM=BM.exports;function FM(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JI("SVC_MODE");if(JI("ENABLE_SVC"))return function(t){return t in wA}(t)?t:wA.L1T3}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function WM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?HM(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function GM(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;const{filterRTX:r,filterVideoFec:o,filterAudioFec:s,filterAudioCodec:a,filterVideoCodec:c}=e,{useXR:l}=n;let u=[],d=[],h=[],p=[],f=!1,m=!1;if(jM.parse(t).mediaDescriptions.forEach(t=>{i&&i!==t.attributes.direction||("video"!==t.media.mediaType||f||(d=t.attributes.payloads,p=t.attributes.extmaps,f=!0),"audio"!==t.media.mediaType||m||(u=t.attributes.payloads,h=t.attributes.extmaps,m=!0))}),!p||0===d.length)throw new Error("Cannot get video capabilities from SDP.");if(!h||0===u.length)throw new Error("Cannot get audio capabilities from SDP.");if(d.forEach(t=>{var e;null!==(e=t.rtpMap)&&void 0!==e&&e.clockRate&&(t.rtpMap.clockRate=parseInt(t.rtpMap.clockRate)),l&&t.rtcpFeedbacks.push({type:"rrtr"})}),u.forEach(t=>{var e;null!==(e=t.rtpMap)&&void 0!==e&&e.clockRate&&(t.rtpMap.clockRate=parseInt(t.rtpMap.clockRate)),l&&t.rtcpFeedbacks.push({type:"rrtr"})}),r&&(u=u.filter(t=>{var e;return"rtx"!==(null===(e=t.rtpMap)||void 0===e?void 0:e.encodingName.toLowerCase())}),d=d.filter(t=>{var e;return"rtx"!==(null===(e=t.rtpMap)||void 0===e?void 0:e.encodingName.toLowerCase())})),o&&(d=d.filter(t=>{var e;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(e=t.rtpMap)||void 0===e?void 0:e.encodingName)||"")})),s&&(u=u.filter(t=>{var e;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(e=t.rtpMap)||void 0===e?void 0:e.encodingName)||"")})),a&&(null==a?void 0:a.length)>0&&(u=u.filter(t=>{var e;return Pi(a).call(a,(null===(e=t.rtpMap)||void 0===e?void 0:e.encodingName.toLowerCase())||"")})),c&&(null==c?void 0:c.length)>0){const t=d.filter(t=>{var e;return Pi(c).call(c,(null===(e=t.rtpMap)||void 0===e?void 0:e.encodingName.toLowerCase())||"")});d=t.concat(r?[]:cV(t,d))}const v=JI("UNSUPPORTED_VIDEO_CODEC");return v&&v.length>0&&(d=d.filter(t=>!(t.rtpMap&&Pi(v).call(v,t.rtpMap.encodingName.toLowerCase())))),{audioCodecs:u,videoCodecs:d,audioExtensions:h,videoExtensions:p}}function $M(t){const e=jM.parse(t);let n,i;for(const r of e.mediaDescriptions){if(!n){const t=r.attributes.iceUfrag,e=r.attributes.icePwd;if(!t||!e)throw new Error("Cannot get iceUfrag or icePwd from SDP.");n={iceUfrag:t,icePwd:e}}if(!i){const t=r.attributes.fingerprints;t.length>0&&(i={fingerprints:t})}}if(!i&&e.attributes.fingerprints.length>0&&(i={fingerprints:e.attributes.fingerprints}),!i||!n)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:n,dtlsParameters:i}}function zM(t,e){const n=[],i=t.attributes.ssrcGroups.filter(t=>"FID"===t.semantic),r=t.attributes.ssrcGroups.find(t=>"SIM"===t.semantic),o=t.attributes.ssrcs;if(r)r.ssrcIds.forEach(t=>{var r;const o=null===(r=i.find(e=>e.ssrcIds[0]===t))||void 0===r?void 0:r.ssrcIds[1];n.push({ssrcId:t,rtx:e?o:void 0})});else if(i.length>0){const t=i[0].ssrcIds[0],r=i[0].ssrcIds[1];n.push({ssrcId:t,rtx:e?r:void 0})}else{if(0===o.length)throw new Error("No ssrcs found on local media description.");n.push({ssrcId:o[0].ssrcId})}return n}function YM(t,e,n){const{cname:i}=t;let r=[];e&&(r=KM(e)),0===r.length&&(r=t.iceParameters.candidates.map(t=>({foundation:t.foundation,componentId:"1",transport:t.protocol,priority:t.priority.toString(),connectionAddress:t.ip,port:t.port.toString(),type:t.type,extension:{}})),gR.debug("Using candidates from gateway."));const o={fingerprints:t.dtlsParameters.fingerprints.map(t=>({hashFunction:t.algorithm,fingerprint:t.fingerprint}))},s={iceUfrag:t.iceParameters.iceUfrag,icePwd:t.iceParameters.icePwd};let a;switch(t.dtlsParameters.role){case"server":a="passive";break;case"client":a="active";break;case"auto":a="actpass"}const c=oV(t.rtpCapabilities),l=[];return Array.isArray(n)&&n.length>0&&n.forEach(t=>{l.push({kind:uO.VIDEO,ssrcId:t.v,rtx:t.v_rtx,mslabel:"".concat(t.v,"_").concat(t.a)},{kind:uO.AUDIO,ssrcId:t.a,mslabel:"".concat(t.v,"_").concat(t.a)})}),{dtlsParameters:o,iceParameters:s,candidates:r,rtpCapabilities:c,setup:a,cname:i,preSSRCs:l}}function KM(t){let e=[];return t.ip&&"number"==typeof t.port&&(e=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip,port:t.port.toString(),type:"host",extension:{}}],gR.debug("Using remote candidate from AP ".concat(t.ip,":").concat(t.port)),t.ip6&&(e.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip6,port:t.port.toString(),type:"host",extension:{}}),gR.debug("Using IPV6 remote candidate from AP ".concat(t.ip6,":").concat(t.port)))),e}function qM(t,e,n){const i=[],r=[];return t.forEach(t=>{let{ssrcId:o,rtx:s}=t;const a=yI(8,"track-"),c={ssrcId:o,attributes:WM({label:a,mslabel:n=n||yI(10,""),msid:"".concat(n," ").concat(a)},e&&{cname:e})};if(i.push(c),void 0!==s){const t={ssrcId:s,attributes:WM({label:a,mslabel:n,msid:"".concat(n," ").concat(a)},e&&{cname:e})};i.push(t),r.push({semantic:"FID",ssrcIds:[o,s]})}}),t.length>1&&r.push({semantic:"SIM",ssrcIds:t.map(t=>{let{ssrcId:e}=t;return e})}),{ssrcs:i,ssrcGroups:r}}function XM(t,e){e instanceof yL&&t.attributes.payloads.forEach(t=>{var n;const i=null===(n=t.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase();if(!i||-1===["opus","pcmu","pcma","g722"].indexOf(i))return;t.fmtp||(t.fmtp={parameters:{}}),t.fmtp.parameters.minptime="10",t.fmtp.parameters.useinbandfec="1";const r=e._encoderConfig;r&&"pcmu"!==i&&"pcma"!==i&&"g722"!==i&&(r.bitrate&&!Qw()&&(t.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*r.bitrate))),r.sampleRate&&(t.fmtp.parameters.maxplaybackrate="".concat(r.sampleRate),t.fmtp.parameters["sprop-maxcapturerate"]="".concat(r.sampleRate)),r.stereo&&(t.fmtp.parameters.stereo="1",t.fmtp.parameters["sprop-stereo"]="1"))})}function JM(t){const e=t.attributes.unrecognized.findIndex(t=>"x-google-flag"===t.attField&&"conference"===t.attValue);-1!==e&&t.attributes.unrecognized.splice(e,1)}function ZM(t,e){var n;if(!(e instanceof cM&&e._encoderConfig&&-1===e._hints.indexOf(_N.SCREEN_TRACK)))return;const i=e._encoderConfig;Qk().supportMinBitrate&&i.bitrateMin&&t.attributes.payloads.forEach(t=>{var e,n;Pi(e=["h264","h265","vp8","vp9","av1"]).call(e,(null===(n=t.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase())||"")&&(t.fmtp||(t.fmtp={parameters:{}}),t.fmtp.parameters["x-google-min-bitrate"]="".concat(i.bitrateMin))}),Qk().supportMinBitrate&&!Pi(n=e._hints).call(n,_N.LOW_STREAM)&&i.bitrateMax&&t.attributes.payloads.forEach(t=>{var e,n;Pi(e=["h264","h265","vp8","vp9","av1"]).call(e,(null===(n=t.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase())||"")&&(t.fmtp||(t.fmtp={parameters:{}}),t.fmtp.parameters["x-google-start-bitrate"]="".concat(JI("X_GOOGLE_START_BITRATE")||Math.floor(i.bitrateMax)))})}function QM(t){if("video"!==t.media.mediaType)return;const e=$w();if(e.name!==Fw.SAFARI&&e.os!==jw.IOS)return;const n=t.attributes.extmaps.findIndex(t=>/video-orientation/g.test(t.extensionName));-1!==n&&t.attributes.extmaps.splice(n,1)}function tV(t,e,n){if(!e)return;let i,r;if("video"===t.media.mediaType?(i=n.videoExtensions,r=n.videoCodecs):(i=n.audioExtensions,r=n.audioCodecs),!0===e.twcc){const e=i.find(t=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===t.extensionName);if(e){t.attributes.extmaps.find(t=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===t.extensionName)||t.attributes.extmaps.push({entry:e.entry,extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"});const n=function(t,e){return e.filter(e=>!!t.find(t=>t.payloadType===e.payloadType&&!!t.rtcpFeedbacks.find(t=>"transport-cc"===t.type)))}(r,t.attributes.payloads);n.forEach(t=>{t.rtcpFeedbacks.find(t=>"transport-cc"===t.type)||t.rtcpFeedbacks.push({type:"transport-cc"})})}}else if(!1===e.twcc){const e=t.attributes.extmaps.findIndex(t=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===t.extensionName);-1!==e&&t.attributes.extmaps.splice(e,1),t.attributes.payloads.forEach(t=>{const e=t.rtcpFeedbacks.findIndex(t=>"transport-cc"===t.type);-1!==e&&t.rtcpFeedbacks.splice(e,1)})}if(!0===e.remb){const e=i.find(t=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===t.extensionName);if(e){t.attributes.extmaps.find(t=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===t.extensionName)||t.attributes.extmaps.push({entry:e.entry,extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"});const n=function(t,e){return e.filter(e=>!!t.find(t=>t.payloadType===e.payloadType&&!!t.rtcpFeedbacks.find(t=>"goog-remb"===t.type)))}(r,t.attributes.payloads);n.forEach(t=>{t.rtcpFeedbacks.find(t=>"goog-remb"===t.type)||t.rtcpFeedbacks.push({type:"goog-remb"})})}}else if(!1===e.remb){const e=t.attributes.extmaps.findIndex(t=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===t.extensionName);-1!==e&&t.attributes.extmaps.splice(e,1),t.attributes.payloads.forEach(t=>{const e=t.rtcpFeedbacks.findIndex(t=>"goog-remb"===t.type);-1!==e&&t.rtcpFeedbacks.splice(e,1)})}}function eV(t,e,n){if(Qw())return;if("video"!==t.media.mediaType)return;if(!(e instanceof cM))return;if("vp9"!==n&&"vp8"!==n)return;if("vp8"===n&&!JI("SIMULCAST"))return;if("vp9"===n&&JI("ENABLE_SVC"))return;if(void 0===e._scalabilityMode||e._scalabilityMode.numSpatialLayers<=1)return;const i="vp8"===n?2:e._scalabilityMode.numSpatialLayers,r=t.attributes.ssrcs[0],o=t.attributes.ssrcGroups.find(t=>"FID"===t.semantic&&t.ssrcIds[0]===r.ssrcId),s={semantic:"SIM",ssrcIds:[r.ssrcId]};for(let a=1;a<i;a++)t.attributes.ssrcs.push({ssrcId:r.ssrcId+a,attributes:aI(r.attributes)}),s.ssrcIds.push(r.ssrcId+a),o&&(t.attributes.ssrcs.push({ssrcId:o.ssrcIds[1]+a,attributes:aI(r.attributes)}),t.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[r.ssrcId+a,o.ssrcIds[1]+a]}));t.attributes.ssrcGroups.unshift(s)}async function nV(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new RTCPeerConnection;n.addTransceiver("video",{direction:"sendonly"}),n.addTransceiver("audio",{direction:"sendonly"}),n.addTransceiver("video",{direction:"recvonly"}),n.addTransceiver("audio",{direction:"recvonly"});const i=(await n.createOffer()).sdp,{send:r,recv:o,sendrecv:s}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=GM(n,t,e,"sendonly"),r=GM(n,t,e,"recvonly"),o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},a={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(rV(i,r,"videoExtensions",o,s,a),rV(i,r,"videoCodecs",o,s,a),rV(i,r,"audioExtensions",o,s,a),rV(i,r,"audioCodecs",o,s,a),JI("RAISE_H264_BASELINE_PRIORITY")){const t=a.videoCodecs.findIndex(t=>{var e,n;return"h264"===(null===(e=t.rtpMap)||void 0===e?void 0:e.encodingName.toLocaleLowerCase())&&"42001f"===(null===(n=t.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])});if(-1!==t){const e=a.videoCodecs.findIndex(t=>{var e;return"h264"===(null===(e=t.rtpMap)||void 0===e?void 0:e.encodingName.toLocaleLowerCase())});if(e<t){gR.debug("raising H264 baseline profile priority");const n=a.videoCodecs[t];a.videoCodecs.splice(t,1),a.videoCodecs.splice(e,0,n)}-1!==e&&(s.videoCodecs=s.videoCodecs.filter(t=>{var e,n;return!("h264"===(null===(e=t.rtpMap)||void 0===e?void 0:e.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(n=t.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"]))})),-1!==e&&JI("FILTER_SEND_H264_BASELINE")&&(o.videoCodecs=o.videoCodecs.filter(t=>{var e,n;return!("h264"===(null===(e=t.rtpMap)||void 0===e?void 0:e.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(n=t.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"]))}))}}return{send:o,recv:s,sendrecv:a}}(t,e,i);try{n.close()}catch(t){}return{send:r,recv:o,sendrecv:s}}function iV(){const t={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},e=GM(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"recvonly"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(rV(t,e,"videoExtensions",n,i,r),rV(t,e,"videoCodecs",n,i,r),rV(t,e,"audioExtensions",n,i,r),rV(t,e,"audioCodecs",n,i,r),JI("RAISE_H264_BASELINE_PRIORITY")){const t=r.videoCodecs.findIndex(t=>t.rtpMap&&"h264"===t.rtpMap.encodingName.toLocaleLowerCase()&&t.fmtp&&"42001f"===t.fmtp.parameters["profile-level-id"]);if(-1!==t){const e=r.videoCodecs.findIndex(t=>t.rtpMap&&"h264"===t.rtpMap.encodingName.toLocaleLowerCase());if(e<t){gR.debug("raising H264 baseline profile priority");const n=r.videoCodecs[t];r.videoCodecs.splice(t,1),r.videoCodecs.splice(e,0,n)}-1!==e&&(i.videoCodecs=i.videoCodecs.filter(t=>!(t.rtpMap&&"h264"===t.rtpMap.encodingName.toLocaleLowerCase()&&t.fmtp&&"42001f"!==t.fmtp.parameters["profile-level-id"])))}}return{send:n,recv:i,sendrecv:r}}function rV(t,e,n,i,r,o){if("videoExtensions"===n||"audioExtensions"===n){const s=[];return t[n].forEach(t=>{e[n].some((e,n)=>{if(t.entry===e.entry&&t.extensionName===e.extensionName)return s.push(n),!0})?o[n].push(t):i[n].push(t)}),void e[n].forEach((t,e)=>{-1===s.indexOf(e)&&r[n].push(t)})}if("videoCodecs"===n||"audioCodecs"===n){const s=[];return t[n].forEach(t=>{e[n].some((e,n)=>{if(t.payloadType===e.payloadType&&JSON.stringify(t)===JSON.stringify(e))return s.push(n),!0})?o[n].push(t):i[n].push(t)}),void e[n].forEach((t,e)=>{-1===s.indexOf(e)&&r[n].push(t)})}}function oV(t){const{send:e,recv:n,sendrecv:i}=t;if(!i){if(!e||!n)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:e,recv:n}}let r,o;return e?(r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r.audioCodecs=[...e.audioCodecs,...i.audioCodecs],r.videoCodecs=[...e.videoCodecs,...i.videoCodecs],r.audioExtensions=[...e.audioExtensions,...i.audioExtensions],r.videoExtensions=[...e.videoExtensions,...i.videoExtensions]):r=i,n?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...n.audioCodecs,...i.audioCodecs],o.videoCodecs=[...n.videoCodecs,...i.videoCodecs],o.audioExtensions=[...n.audioExtensions,...i.audioExtensions],o.videoExtensions=[...n.videoExtensions,...i.videoExtensions]):o=i,{send:r,recv:o}}function sV(t){"audio"===t.media.mediaType&&t.attributes.payloads.filter(t=>{var e;return"opus"===(null===(e=t.rtpMap)||void 0===e?void 0:e.encodingName.toLowerCase())}).forEach(t=>{t.fmtp||(t.fmtp={parameters:{}}),t.fmtp.parameters.stereo="1",t.fmtp.parameters["sprop-stereo"]="1"})}function aV(t,e,n,i){let r=[];if(t===uO.VIDEO){if(JI("H264_PROFILE_LEVEL_ID")&&"h264"===i&&(r=e.videoCodecs.filter(t=>{var e;return Pi(e=t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"").call(e,i)&&t&&t.fmtp&&t.fmtp.parameters["profile-level-id"]===JI("H264_PROFILE_LEVEL_ID")})),!Array.isArray(r)||0===r.length){let t=[];const o=[],s=[],a=[];if(n.videoCodecs.forEach(e=>{const n=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"";Pi(n).call(n,i)?t.push(e):Pi(n).call(n,"vp9")?o.push(e):Pi(n).call(n,"vp8")?s.push(e):Pi(n).call(n,"h264")&&a.push(e)}),0===t.length){let e="";0!==o.length?(t=o,e="vp9"):0!==s.length?(t=s,e="vp8"):0!==a.length&&(t=a,e="h264"),gR.warning("codec ".concat(i," not included in rtpCapabilities, fallback to default payloads: ").concat(e))}0!==t.length&&(r=e.videoCodecs.filter(e=>t.some(t=>t.payloadType===e.payloadType)))}if(0===r.length&&(gR.warning("codec ".concat(i," not included in rtpCapabilities, fallback to default payloads: ").concat(e.videoCodecs[0].rtpMap&&e.videoCodecs[0].rtpMap.encodingName)),r=e.videoCodecs),JI("USE_PUB_RTX")||JI("USE_SUB_RTX")){const t=cV(r,e.videoCodecs);r=[...r,...t]}}else r=e.audioCodecs.filter(t=>{var e;return Pi(e=t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"").call(e,i)}),0===r.length&&(gR.warning("codec ".concat(i," not included in rtpCapabilities, fallback to opus")),r=e.audioCodecs.filter(t=>{var e;return Pi(e=t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"").call(e,"opus")}));return r}function cV(t,e){const n=t.map(t=>t.payloadType.toString());return e.filter(t=>t.rtpMap&&"rtx"===t.rtpMap.encodingName&&t.fmtp&&t.fmtp.parameters.apt&&Pi(n).call(n,t.fmtp&&t.fmtp.parameters.apt))}async function lV(t,e,n){const i=e.toString(),r=dV(i,"offer","remote","exchangeSDP");await t.setRemoteDescription({type:"offer",sdp:i});const o=await t.createAnswer();if(!o.sdp)throw new Error("cannot get answer sdp");let s=o.sdp;s=uV(s,n||{}),null==r||r(s||""),await t.setLocalDescription({type:"answer",sdp:s})}function uV(t,e,n){const i=jM.parse(t),{useXR:r}=e;return i.mediaDescriptions.forEach(t=>{var e;t.attributes.mid&&(Array.isArray(n)&&!Pi(n).call(n,t.attributes.mid)||("audio"===t.media.mediaType&&sV(t),r&&Pi(e=["audio","video"]).call(e,t.media.mediaType)&&t.attributes.payloads.forEach(t=>{-1===t.rtcpFeedbacks.findIndex(t=>"rrtr"===t.type)&&t.rtcpFeedbacks.push({type:"rrtr"})})))}),jM.print(i)}function dV(t,e,n,i){if(JI("SDP_LOGGING"))return gR.upload("exchanging ".concat(n," ").concat(e," SDP during P2PConnection.").concat(i,"\n"),t),"offer"===e?t=>{dV(t,"answer","local"===n?"remote":"local",i)}:void 0}function hV(t,e){return typeof JI(t)===e?JI(t):void 0}function pV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function fV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pV(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const mV=new Map;class vV extends UC{get state(){return this._state}set state(t){if(t===this._state)return;const e=this._state;this._state=t,"DISCONNECTED"===t&&this._disconnectedReason?this.emit(tO.CONNECTION_STATE_CHANGE,t,e,this._disconnectedReason):this.emit(tO.CONNECTION_STATE_CHANGE,t,e)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(t){gR.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(t)),this._joinGatewayStartTime=t}constructor(t,e){super(),jE(this,"store",void 0),jE(this,"joinInfo",void 0),jE(this,"key",void 0),jE(this,"ntpOffset",0),jE(this,"signal",void 0),jE(this,"role",void 0),jE(this,"inChannelInfo",{joinAt:null,duration:0}),jE(this,"spec",void 0),jE(this,"_state","DISCONNECTED"),jE(this,"_statsCollector",void 0),jE(this,"_disconnectedReason",void 0),jE(this,"isSignalRecover",!1),jE(this,"hasChangeBGPAddress",!1),jE(this,"trafficStatsInterval",void 0),jE(this,"networkQualityInterval",void 0),jE(this,"_joinGatewayStartTime",0),jE(this,"_signalTimeout",!1),jE(this,"_clientRoleOptions",void 0),jE(this,"_isProactiveJoin",!1),this.store=t,this.spec=e,this.signal=this.store.useP2P?new UM(fV(fV({},e),{},{retryConfig:e.websocketRetryConfig}),t):new zO(fV(fV({},e),{},{retryConfig:e.websocketRetryConfig}),t),this._statsCollector=e.statsCollector,this.role=e.role||"audience",this._clientRoleOptions=e.clientRoleOptions,this.handleSignalEvents()}async join(t,e,n){this.store.joinGatewayStart(),"disabled"!==t.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const i=Date.now();let r=mV.get(t.cname);if(r||(r=new Map,mV.set(t.cname,r)),this._isProactiveJoin=!0,r.has(t.uid)){const e=new IR(SC.UID_CONFLICT);throw CR.joinGateway(t.sid,{lts:i,succ:!1,ec:e.code,addr:null,uid:t.uid,cid:t.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!t.proxyServer,signalChannel:"0",preload:t.preload}),this._isProactiveJoin=!1,e}r.set(t.uid,!0),this.joinInfo=t,this.key=e;let o=0;this.joinGatewayStartTime=i;const s=t.proxyServer;try{gR.debug("[".concat(this.store.clientId,"] use websocket join uid ").concat(o));const e=t.gatewayAddrs.map(e=>{let{address:n}=e;const[i,r]=n.split(":"),o={host:i,port:r};return t.proxyServer&&(o.proxy=t.proxyServer),o});o=(await this.signal.init(e,n)).uid,gR.debug("[".concat(this.store.clientId,"] websocket join uid ").concat(o," cost ").concat(Date.now()-this.joinGatewayStartTime))}catch(e){var a;throw gR.error("[".concat(this.store.clientId,"] User join failed"),e.toString()),CR.joinGateway(t.sid,{lts:i,succ:!1,ec:(null===(a=e.data)||void 0===a?void 0:a.desc)||e.code,errorMsg:e.message,addr:this.signal.url,uid:t.uid,cid:t.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!s,signalChannel:"0",preload:t.preload}),this._isProactiveJoin=!1,r.delete(t.uid),this.signal.close(),e}return this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),gR.debug("[".concat(this.store.clientId,"] Connected to gateway server")),this.trafficStatsInterval=window.setInterval(()=>{this.updateTrafficStats().catch(t=>{gR.warning("[".concat(this.store.clientId,"] get traffic stats error"),t.toString())})},3e3),this.networkQualityInterval=window.setInterval(()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(tO.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(tO.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):"CONNECTED"===this.state&&this._statsCollector.trafficStats?this.emit(tO.NETWORK_QUALITY,{uplinkNetworkQuality:tx(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:tx(this._statsCollector.trafficStats.B_dnq)}):this.emit(tO.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})},2e3),this.store.joinGatewayEnd(),o}async leave(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;if("DISCONNECTED"!==this.state){e!==$C.FALLBACK&&(this.state="DISCONNECTING");try{t||this.signal.connectionState!==DA.CONNECTED||await function(t,e){return e===1/0?t:$h.race([t,gI(e)])}(this.signal.request(NA.LEAVE,void 0,!0),3e3)}catch(t){gR.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),t)}this.signal.close(e),e!==$C.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}}async publish(t,e,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new IR(SC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const i={state:"offer",p2p_id:this.store.p2pId,ortc:e,mode:this.spec.mode,extend:JI("PUB_EXTEND"),twcc:!!JI("PUBLISH_TWCC"),rtx:!!JI("USE_PUB_RTX")};try{return(await this.signal.request(NA.PUBLISH,i,!0))._message}catch(i){if(n&&i.data&&i.data.code===xA.ERR_PUBLISH_REQUEST_INVALID)return gR.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),i.toString()),await this.tryUnpubBeforeRepub(t,e),this.publish(t,e,!1);throw i}}async publishDataChannel(t,e,n){var i;if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new IR(SC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const r={stream_id:e.streamId,ordered:e.ordered?1:0,max_retrans_times:null!==(i=e.maxRetransmits)&&void 0!==i?i:10,channel_id:e.channelId,metadata:e.metadata};try{await this.signal.request(NA.PUBLISH_DATASTREAM,r,!0)}catch(i){if(n&&i.data&&i.data.code===xA.ERR_PUBLISH_REQUEST_INVALID)return gR.warning("[".concat(this.store.clientId,"] receive publish datachannels error code, retry"),i.toString()),await this.tryUnpubDataChannelBeforeRepub(t,e),this.publishDataChannel(t,e,!1);throw i}}async unpublish(t,e){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new IR(SC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await this.signal.request(NA.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(t){gR.warning("[".concat(this.store.clientId,"] unpublish warning: "),t)}}async unpublishDataChannel(t){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new IR(SC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await $h.all(t.map(t=>this.signal.request(NA.UNPUBLISH_DATASTREAM,{channel_id:t},!0)))}catch(t){gR.warning("unpublish datachannels warning: ",t)}}async presubscribe(t,e,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new IR(SC.INVALID_OPERATION,"can not presubscribe when connection state is ".concat(this.state));const i={stream_id:t,stream_type:e,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!JI("SUBSCRIBE_TWCC"),rtx:!!JI("USE_SUB_RTX")||void 0,extend:JI("SUB_EXTEND"),svc:Array.isArray(JI("SVC"))&&0!==JI("SVC").length?JI("SVC"):void 0};try{return await this.signal.request(NA.PRE_SUBSCRIBE,i,!0)}catch(i){if(n&&i.data&&i.data.code===xA.ERR_SUBSCRIBE_REQUEST_INVALID)return gR.warning("[".concat(this.store.clientId,"] pre-subscribe error, retry"),i.toString()),this.presubscribe(t,e,!1);throw i}}async subscribe(t,e,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new IR(SC.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));const i={stream_id:t,stream_type:e.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!JI("SUBSCRIBE_TWCC"),rtx:!!JI("USE_SUB_RTX"),extend:JI("SUB_EXTEND"),ssrcId:e.ssrcId,svc:Array.isArray(JI("SVC"))&&0!==JI("SVC").length?JI("SVC"):void 0};try{return(await this.signal.request(NA.SUBSCRIBE,i,!0))._message}catch(i){if(n&&i.data&&i.data.code===xA.ERR_SUBSCRIBE_REQUEST_INVALID)return gR.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),i.toString()),await this.tryUnsubBeforeResub(t,e),await this.subscribe(t,e,!1);throw i}}async subscribeDataChannel(t,e,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new IR(SC.INVALID_OPERATION,"can not subscribe datachannel when connection state is ".concat(this.state));const i={uid:t,stream_id:e.id,channel_id:e.datachannelId};try{return void await this.signal.request(NA.SUBSCRIBE_DATASTREAM,i,!0)}catch(i){if(n&&i.data&&i.data.code===xA.ERR_SUBSCRIBE_REQUEST_INVALID)return gR.warning("[".concat(this.store.clientId,"] receiver subscribe datachannel error code, retry"),i.toString()),await this.tryUnsubDataChannelBeforeResub(t,e),await this.subscribeDataChannel(t,e,!1);throw i}}async subscribeAll(t,e){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new IR(SC.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));const n={p2p_id:this.store.p2pId,users:t,dtx:!1,rtx:!!JI("USE_SUB_RTX"),twcc:!!JI("SUBSCRIBE_TWCC"),svc:Array.isArray(JI("SVC"))&&0!==JI("SVC").length?JI("SVC"):void 0};try{return await this.signal.request(NA.SUBSCRIBE_STREAMS,n,!0)}catch(n){if(e&&n.data&&n.data.code===xA.ERR_SUBSCRIBE_REQUEST_INVALID)return gR.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),n.toString()),await this.tryMassUnsubBeforeResub(t),await this.subscribeAll(t,!1);throw n}}async setVideoProfile(t){const e=function(t){if(!(t.bitrateMax&&t.bitrateMin&&t.frameRate&&t.height&&t.width))return;let e=t.frameRate,n=t.width,i=t.height,r=!0;return"number"!=typeof e&&(e=e.exact||e.ideal||e.max||e.min||0,e||(r=!1)),"number"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,n||(r=!1)),"number"!=typeof i&&(i=i.exact||i.ideal||i.max||i.min||0,e||(r=!1)),r?{stream_type:0,width:n,height:i,fps:e,start_bps:1e3*t.bitrateMax,min_bps:1e3*t.bitrateMin,target_bps:1e3*t.bitrateMax}:void 0}(t);if(e)return this.signal.request(NA.SET_VIDEO_PROFILE,e);gR.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway"))}async unsubscribe(t,e){try{await this.signal.request(NA.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:t,stream_id:e},!0)}catch(t){gR.warning("[".concat(this.store.clientId,"] unsubscribe warning: "),t)}}async unsubscribeDataChannel(t,e){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new IR(SC.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await $h.all(t.map(t=>this.signal.request(NA.UNSUBSCRIBE_DATASTREAM,{stream_id:t,uid:e},!0)))}catch(t){gR.warning("unsubscribeDataChannel warning: ",t)}}async massUnsubscribe(t){try{await this.signal.request(NA.UNSUBSCRIBE_STREAMS,t,!0)}catch(t){gR.warning("[".concat(this.store.clientId,"] massUnsubscribeAll warning: "),t)}}async reconnectPC(t){const{iceParameters:e,dtlsParameters:n,rtpCapabilities:i}=t;return{gatewayEstablishParams:await this.signal.request(NA.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:e,dtlsParameters:n,rtpCapabilities:i}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(NA.GATEWAY_INFO)}async renewToken(t){await this.signal.request(NA.RENEW_TOKEN,t),this.key=t.token}async setClientRole(t,e){if(e&&(this._clientRoleOptions=Object.assign({},e)),"CONNECTED"!==this.state)return void(this.role=t);let n,i=0;"audience"===t?this._clientRoleOptions&&this._clientRoleOptions.delay?(n=this._clientRoleOptions.delay,i=1):i=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:i=0,await this.signal.request(NA.SET_CLIENT_ROLE,{role:t,level:i,delay:n,client_ts:Date.now()}),this.role=t}async setRemoteVideoStreamType(t,e){await this.signal.request(NA.SWITCH_VIDEO_STREAM,{stream_id:t,stream_type:e})}async setDefaultRemoteVideoStreamType(t){await this.signal.request(NA.DEFAULT_VIDEO_STREAM,{stream_type:t})}async setStreamFallbackOption(t,e){await this.signal.request(NA.SET_FALLBACK_OPTION,{stream_id:t,fallback_type:e})}async pickSVCLayer(t,e){await this.signal.request(NA.PICK_SVC_LAYER,{stream_id:t,spatial_layer:e.spatialLayer,temporal_layer:e.temporalLayer})}async setRTM2Flag(t){await this.signal.request(NA.SET_RTM2_FLAG,{rtm2_flag:t})}async sendExtensionMessage(t,e,n){if(this.signal instanceof UM)return this.signal.sendExtensionMessage(t,e,n)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),fV({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(NA.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const t=mV.get(this.joinInfo.cname);t&&t.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const t=function(t){let e;return e=t.startsWith("dc")?t.match(/(dc\:\/\/)?([^:]+):(\d+)/):t.match(/(wss\:\/\/)?([^:]+):(\d+)/),e?{username:zI.username,password:zI.password,turnServerURL:e[2],tcpport:parseInt(e[3])+30,udpport:parseInt(e[3])+30,forceturn:!1}:null}(("disabled"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],t&&"off"!==this.joinInfo.turnServer.mode&&"disabled"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(fV(fV({},zI),{},{turnServerURL:t.turnServerURL,tcpport:t.tcpport,udpport:t.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if("CONNECTED"!==this.state)return;const t=await this.signal.request(NA.TRAFFIC_STATS,void 0,!0);t.timestamp=Date.now(),null!=t.ntp_offset&&(this.ntpOffset=t.ntp_offset),t.peer_delay.forEach(t=>{const e=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find(e=>e.peer_uid===t.peer_uid);e&&e.B_st!==t.B_st&&sI(()=>{this.emit(tO.STREAM_TYPE_CHANGE,t.peer_uid,t.B_st)})}),this._statsCollector.updateTrafficStats(t)}getJoinMessage(t){if(!this.joinInfo||!this.key)throw new IR(SC.UNEXPECTED_ERROR,"can not generate join message, no join info");const e=Object.assign({},this.joinInfo.apResponse);let n=JI("REPORT_APP_SCENARIO");if("string"!=typeof n)try{n=JSON.stringify(n)}catch(t){n=void 0}n&&n.length>128&&(n=void 0);const i=!(Qw()||nC(87)||eN())&&"boolean"==typeof JI("ENABLE_PRE_SUB")&&JI("ENABLE_PRE_SUB"),r=!eN()&&hV("ENABLE_PREALLOC_PC","boolean"),o=fV({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:WI,browser:navigator.userAgent,process_id:JI("PROCESS_ID"),mode:this.store.useP2P?"p2p":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:e,extend:JI("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:"proxy3"===this.joinInfo.cloudProxyServer?"1":"proxy5"===this.joinInfo.cloudProxyServer?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:n,attributes:{userAttributes:{enablePublishedUserList:JI("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:JI("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:"number"==typeof JI("SUBSCRIBE_AUDIO_FILTER_TOPN")?JI("SUBSCRIBE_AUDIO_FILTER_TOPN"):void 0,enablePublishAudioFilter:"boolean"==typeof JI("ENABLE_PUBLISH_AUDIO_FILTER")?JI("ENABLE_PUBLISH_AUDIO_FILTER"):void 0,enableUserLicenseCheck:"boolean"==typeof JI("ENABLE_USER_LICENSE_CHECK")?JI("ENABLE_USER_LICENSE_CHECK"):void 0,enableRTX:!0===JI("USE_PUB_RTX")||!0===JI("USE_SUB_RTX")||void 0,disableFEC:JI("DISABLE_FEC"),enableNTPReport:!!JI("ENABLE_NTP_REPORT")||void 0,enableInstantVideo:!!JI("ENABLE_INSTANT_VIDEO")||void 0,enableFulllinkAvSync:!!JI("ENABLE_FULL_LINK_AV_SYNC")||void 0,enableDataStream2:hV("ENABLE_DATASTREAM_2","boolean"),enableAutFeedback:!!JI("ENABLE_AUT_FEEDBACK")||void 0,rtm2Flag:"number"==typeof this.joinInfo.rtmFlag?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!JI("ENABLE_USER_AUTO_REBALANCE_CHECK"),enableXR:hV("USE_XR","boolean"),enableLossbasedBwe:hV("ENABLE_LOSSBASED_BWE","boolean"),enableAutCC:!!JI("ENABLE_AUT_CC")||void 0,enableCCFallback:hV("ENABLE_CC_FALLBACK","boolean"),enablePreallocPC:r,preSubNum:i?hV("PRE_SUB_NUM","number"):void 0,enablePubTWCC:hV("PUBLISH_TWCC","boolean"),enableSubTWCC:hV("SUBSCRIBE_TWCC","boolean"),enablePubRTX:hV("USE_PUB_RTX","boolean"),enableSubRTX:hV("USE_SUB_RTX","boolean"),enableSubSVC:JI("ENABLE_SVC")?JI("ENABLE_SVC_DEFAULT_CODECS"):Array.isArray(JI("SVC"))&&0!==JI("SVC").length?JI("SVC"):void 0}},join_ts:this.joinGatewayStartTime},t);return this.joinInfo.stringUid&&(o.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(o.aes_mode=this.joinInfo.aesmode,JI("ENCRYPT_AES")?(o.aes_secret=this.joinInfo.aespassword,o.aes_encrypt=!0):o.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(o.aes_salt=this.joinInfo.aessalt)),e.addresses[this.signal.websocket.currentURLIndex]&&(o.ap_response.ticket=e.addresses[this.signal.websocket.currentURLIndex].ticket,delete e.addresses),void 0!==this.joinInfo.defaultVideoStream&&(o.default_video_stream=this.joinInfo.defaultVideoStream),o}getRejoinMessage(){if(!this.joinInfo)throw new IR(SC.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(kA.WS_RECONNECT_WAITTING_FINISH,t=>{var e;Pi(e=["tryNext","recover"]).call(e,t)&&this.joinInfo&&CR.adjustSessionStartTime(this.joinInfo.sid)}),this.signal.on(kA.WS_RECONNECT_CREATE_CONNECTION,t=>{this.joinGatewayStartTime=Date.now()}),this.signal.on(kA.WS_RECONNECTING,t=>{this.joinInfo&&CR.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t||XC.NETWORK_ERROR}),this.joinInfo&&(this.state="RECONNECTING",CR.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:"live"===this.spec.mode?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:"audience"===this.role?2:1,buildFormat:1}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())}),this.signal.on(kA.WS_CLOSED,t=>{let e;switch(t){case $C.LEAVE:e=XC.LEAVE;break;case $C.UID_BANNED:case $C.IP_BANNED:case $C.CHANNEL_BANNED:case $C.SERVER_ERROR:e=XC.SERVER_ERROR;break;case $C.FALLBACK:e=XC.FALLBACK;break;case $C.LICENSE_MISSING:case $C.LICENSE_EXPIRED:case $C.LICENSE_MINUTES_EXCEEDED:case $C.LICENSE_PERIOD_INVALID:case $C.LICENSE_MULTIPLE_SDK_SERVICE:case $C.LICENSE_ILLEGAL:case $C.TOKEN_EXPIRE:e=t;break;default:e=XC.NETWORK_ERROR}gR.debug("[".concat(this.store.clientId,"] [signal] websocket closed, reason: ").concat(e||"undefined -> "+XC.NETWORK_ERROR)),this.joinInfo&&CR.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:t===$C.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e}),this._disconnectedReason=t,t!==$C.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}),this.signal.on(kA.WS_CONNECTED,()=>{if(this.updateTurnConfigFromSignal(),this.state="CONNECTED",this.joinInfo&&("audience"===this.role&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&(gR.debug("[".concat(this.store.clientId,"] patch to send set client role, role: ").concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions.level,", delay: ").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),CR.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&1===this.joinInfo.setLocalAPVersion)){const t=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!t)return void gR.error("[".concat(this.store.clientId,"] set local access point after joined failed: ").concat(t));XI("EVENT_REPORT_DOMAIN",t[1]),XI("EVENT_REPORT_BACKUP_DOMAIN",t[1]),XI("LOG_UPLOAD_SERVER","".concat(t[1],":6444"))}}),this.signal.on(LA.ON_UPLINK_STATS,t=>{this._statsCollector.updateUplinkStats(t)}),this.signal.on(kA.REQUEST_RECOVER,(t,e,n)=>{if(!this.joinInfo)return n(new IR(SC.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));t&&(this.joinInfo.multiIP=t,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,QC(this,tO.REQUEST_NEW_GATEWAY_LIST).then(e).catch(n)}),this.signal.on(kA.REQUEST_JOIN_INFO,async t=>{var e;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void t(this.getJoinMessage({ortc:{}}));const{iceParameters:n,dtlsParameters:i,rtpCapabilities:r}=await QC(this,tO.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(e=this.joinInfo)||void 0===e?void 0:e.turnServer});t(this.getJoinMessage({ortc:{iceParameters:n,dtlsParameters:i,rtpCapabilities:r,version:"2"}}))}),this.signal.on(kA.REQUEST_REJOIN_INFO,t=>{t(this.getRejoinMessage())}),this.signal.on(kA.REPORT_JOIN_GATEWAY,(t,e)=>{if(!this.joinInfo)return;let n,i="";var r;t instanceof IR?(n=(null===(r=t.data)||void 0===r?void 0:r.desc)||t.code,i=t.message):n=t,CR.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:n,errorMsg:i,addr:e,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload}),this._isProactiveJoin=!1}),this.signal.on(kA.IS_P2P_DISCONNECTED,t=>{t(nI(this,tO.IS_P2P_DISCONNECTED))}),this.signal.on(kA.DISCONNECT_P2P,()=>{this.emit(tO.DISCONNECT_P2P)}),this.signal.on(kA.REQUEST_SUCCESS,()=>{this._signalTimeout=!1}),this.signal.on(kA.REQUEST_TIMEOUT,()=>{this._signalTimeout=!0}),this.signal.on(kA.JOIN_RESPONSE,t=>{const e=this.getCurrentGatewayAddress();this.emit(tO.JOIN_RESPONSE,t,e)}),this.signal.on(kA.PRE_CONNECT_PC,async()=>{if(this.joinInfo){this.updateTurnConfigFromSignal();const t=this.getCurrentGatewayAddress(),e=JI("FINGERPRINT")||this.joinInfo.apResponse.addresses[this.signal.currentURLIndex].fingerprint;if(t&&e){const n=KM(t);this.emit(tO.PRE_CONNECT_PC,{candidates:n,fingerprint:e})}}}),this.signal.on(kA.RECOVER_NOTIFICATION,t=>{this.joinInfo&&"string"==typeof JI("AP_REQUEST_DETAIL")&&(this.joinInfo.apRequestDetail="".concat(JI("AP_REQUEST_DETAIL"),";").concat(t))})}async tryUnsubBeforeResub(t,e){try{await this.signal.request(NA.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:t,ortc:[e]},!0)}catch(t){throw gR.warning("[".concat(this.store.clientId,"] tryUnsubBeforeResub warning"),t),t}}async tryUnsubDataChannelBeforeResub(t,e){try{await this.signal.request(NA.UNSUBSCRIBE,{stream_id:e.id},!0)}catch(t){throw gR.warning("unsubscribe datachannel warning",t),t}}async tryUnpubBeforeRepub(t,e){try{await this.signal.request(NA.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(t){throw gR.warning("[".concat(this.store.clientId,"] tryUnpubBeforeRepub warning: "),t),t}}async tryUnpubDataChannelBeforeRepub(t,e){try{await this.signal.request(NA.UNPUBLISH_DATASTREAM,{channnel_id:e.channelId},!0)}catch(t){throw gR.warning("unpublish datastream warning: ",t),t}}async tryMassUnsubBeforeResub(t){const e={users:t.map(t=>({stream_id:t.stream_id,stream_type:t.stream_type}))};try{await this.signal.request(NA.UNSUBSCRIBE_STREAMS,e,!0)}catch(t){throw gR.warning("[".concat(this.store.clientId,"] tryMassUnsubBeforeResub warning"),t),t}}async muteLocal(t,e){const n={action:t.find(t=>t.stream_type===QA.Audio)?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:t,stream_id:e};try{await this.signal.request(NA.CONTROL,n,!0,!0)}catch(t){throw gR.warning("[".concat(this.store.clientId,"] gateway muteLocal warning: "),t),t}}async unmuteLocal(t,e){const n={action:t.find(t=>t.stream_type===QA.Audio)?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:t,stream_id:e};try{await this.signal.request(NA.CONTROL,n,!0,!0)}catch(t){throw gR.warning("[".concat(this.store.clientId,"] gateway unmuteLocal warning: "),t),t}}async muteRemote(t,e){const n={action:t===uO.AUDIO?"mute_remote_audio":"mute_remote_video",p2p_id:this.store.p2pId,stream_id:e};try{await this.signal.request(NA.CONTROL,n,!0,!0)}catch(t){throw gR.warning("[".concat(this.store.clientId,"] gateway muteRemote warning: "),t),t}}async unmuteRemote(t,e){const n={action:t===uO.AUDIO?"unmute_remote_audio":"unmute_remote_video",p2p_id:this.store.p2pId,stream_id:e};try{await this.signal.request(NA.CONTROL,n,!0,!0)}catch(t){throw gR.warning("[".concat(this.store.clientId,"] gateway unmuteRemote warning: "),t),t}}uploadWRTCStats(t){this.signal.uploadWRTCStats(t)}upload(t,e){this.signal.upload(t,e)}getSignalRTT(){return this.signal.rtt}async restartICE(t){const e={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:t};try{return await this.signal.request(NA.RESTART_ICE,e,!0)}catch(t){throw gR.warning("[".concat(this.store.clientId,"] P2PChannel.restartICE warning: "),t),t}}reconnect(){"CONNECTED"===this.state&&this.signal.reconnect(void 0,XC.P2P_FAILED)}getCurrentGatewayAddress(){var t,e;if(!JI("GATEWAY_WSS_ADDRESS"))return JI("USE_CANDIDATE_FROM_AP_DETAIL")&&null!==(t=this.joinInfo)&&void 0!==t&&t.apGatewayAddress?(gR.debug("[".concat(this.store.clientId,"] use candidate from ap detail, ").concat(JSON.stringify(this.joinInfo.apGatewayAddress))),this.joinInfo.apGatewayAddress):null!==(e=this.joinInfo)&&void 0!==e&&e.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(t){await this.signal.request(NA.SET_PARAMETER,{enablePublishAudioFilter:t})}}let gV=0,_V=0;function yV(t,e,n,i){return new $h((r,o)=>{e.timeout=e.timeout||JI("HTTP_CONNECT_TIMEOUT"),e.responseType=e.responseType||"json",e.data&&!n?(e.data=JSON.stringify(e.data),gV+=mI(e.data)):n&&(e.data.size?gV+=e.data.size:e.data instanceof FormData?gV+=vI(e.data):gV+=mI(JSON.stringify(e.data))),e.headers=e.headers||{},e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.method="POST",e.url=t,Pw.request(e).then(t=>{"string"==typeof t.data?_V+=mI(t.data):t.data instanceof ArrayBuffer||t.data instanceof Uint8Array?_V+=t.data.byteLength:_V+=mI(JSON.stringify(t.data)),i&&r({data:t.data,headers:t.headers}),r(t.data)}).catch(t=>{Pw.isCancel(t)?o(new IR(SC.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===t.code?o(new IR(SC.NETWORK_TIMEOUT,t.message)):t.response?o(new IR(SC.NETWORK_RESPONSE_ERROR,t.response.status)):o(new IR(SC.NETWORK_ERROR,t.message))})})}
/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */!function(){var t;function e(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var n,i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t},o=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof r&&r];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function s(t,e){if(e)t:{var n=o;t=t.split(".");for(var r=0;r<t.length-1;r++){var s=t[r];if(!(s in n))break t;n=n[s]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&i(n,t,{configurable:!0,writable:!0,value:e})}}function a(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function c(t){var n="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return n?n.call(t):{next:e(t)}}if(s("Symbol",(function(t){function e(t,e){this.A=t,i(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.A};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function t(i){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e(n+(i||"")+"_"+r++,i)}})),s("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<n.length;r++){var s=o[n[r]];"function"==typeof s&&"function"!=typeof s.prototype[t]&&i(s.prototype,t,{configurable:!0,writable:!0,value:function(){return a(e(this))}})}return t})),"function"==typeof Object.setPrototypeOf)n=Object.setPrototypeOf;else{var l;t:{var u={};try{u.__proto__={a:!0},l=u.a;break t}catch(t){}l=!1}n=l?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var d=n;function h(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function p(t){if(t.m)throw new TypeError("Generator is already running");t.m=!0}function f(t,e){return t.h=3,{value:e}}function m(t){this.g=new h,this.G=t}function v(t,e,n,i){try{var r=e.call(t.g.j,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return t.g.m=!1,r;var o=r.value}catch(e){return t.g.j=null,t.g.s(e),g(t)}return t.g.j=null,i.call(t.g,o),g(t)}function g(t){for(;t.g.h;)try{var e=t.G(t.g);if(e)return t.g.m=!1,{value:e.value,done:!1}}catch(e){t.g.v=void 0,t.g.s(e)}if(t.g.m=!1,t.g.l){if(e=t.g.l,t.g.l=null,e.F)throw e.D;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function _(t){this.next=function(e){return t.o(e)},this.throw=function(e){return t.s(e)},this.return=function(e){return function(t,e){p(t.g);var n=t.g.j;return n?v(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.g.return):(t.g.return(e),g(t))}(t,e)},this[Symbol.iterator]=function(){return this}}function y(t,e){return e=new _(new m(e)),d&&t.prototype&&d(e,t.prototype),e}if(h.prototype.o=function(t){this.v=t},h.prototype.s=function(t){this.l={D:t,F:!0},this.h=this.C||this.u},h.prototype.return=function(t){this.l={return:t},this.h=this.u},m.prototype.o=function(t){return p(this.g),this.g.j?v(this,this.g.j.next,t,this.g.o):(this.g.o(t),g(this))},m.prototype.s=function(t){return p(this.g),this.g.j?v(this,this.g.j.throw,t,this.g.o):(this.g.s(t),g(this))},s("Array.prototype.entries",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,i=!1,r={next:function(){if(!i&&n<t.length){var r=n++;return{value:e(r,t[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(t,e){return[t,e]}))}})),"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var E=function(t,e){for(var n=0;n<t.length;n++)e(t[n])},b=function(t){return t.replace(/\r?\n|\r/g,"\r\n")},S=function(t,e,n){return e instanceof Blob?(n=void 0!==n?String(n+""):"string"==typeof e.name?e.name:"blob",e.name===n&&"[object Blob]"!==Object.prototype.toString.call(e)||(e=new File([e],n)),[String(t),e]):[String(t),String(e)]},T=function(t,e){if(t.length<e)throw new TypeError(e+" argument required, but only "+t.length+" present.")},w="object"==typeof globalThis?globalThis:"object"==typeof window?window:"object"==typeof self?self:this,C=w.FormData,I=w.XMLHttpRequest&&w.XMLHttpRequest.prototype.send,R=w.Request&&w.fetch,A=w.navigator&&w.navigator.sendBeacon,O=w.Element&&w.Element.prototype,x=w.Symbol&&Symbol.toStringTag;x&&(Blob.prototype[x]||(Blob.prototype[x]="Blob"),"File"in w&&!File.prototype[x]&&(File.prototype[x]="File"));try{new File([],"")}catch(t){w.File=function(t,e,n){return t=new Blob(t,n||{}),Object.defineProperties(t,{name:{value:e},lastModified:{value:+(n&&void 0!==n.lastModified?new Date(n.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),x&&Object.defineProperty(t,x,{value:"File"}),t}}var D=function(t){return t.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},k=function(t){this.i=[];var e=this;t&&E(t.elements,(function(t){if(t.name&&!t.disabled&&"submit"!==t.type&&"button"!==t.type&&!t.matches("form fieldset[disabled] *"))if("file"===t.type){var n=t.files&&t.files.length?t.files:[new File([],"",{type:"application/octet-stream"})];E(n,(function(n){e.append(t.name,n)}))}else"select-multiple"===t.type||"select-one"===t.type?E(t.options,(function(n){!n.disabled&&n.selected&&e.append(t.name,n.value)})):"checkbox"===t.type||"radio"===t.type?t.checked&&e.append(t.name,t.value):(n="textarea"===t.type?b(t.value):t.value,e.append(t.name,n))}))};if((t=k.prototype).append=function(t,e,n){T(arguments,2),this.i.push(S(t,e,n))},t.delete=function(t){T(arguments,1);var e=[];t=String(t),E(this.i,(function(n){n[0]!==t&&e.push(n)})),this.i=e},t.entries=function t(){var e,n=this;return y(t,(function(t){if(1==t.h&&(e=0),3!=t.h)return e<n.i.length?t=f(t,n.i[e]):(t.h=0,t=void 0),t;e++,t.h=2}))},t.forEach=function(t,e){T(arguments,1);for(var n=c(this),i=n.next();!i.done;i=n.next()){var r=c(i.value);i=r.next().value,r=r.next().value,t.call(e,r,i,this)}},t.get=function(t){T(arguments,1);var e=this.i;t=String(t);for(var n=0;n<e.length;n++)if(e[n][0]===t)return e[n][1];return null},t.getAll=function(t){T(arguments,1);var e=[];return t=String(t),E(this.i,(function(n){n[0]===t&&e.push(n[1])})),e},t.has=function(t){T(arguments,1),t=String(t);for(var e=0;e<this.i.length;e++)if(this.i[e][0]===t)return!0;return!1},t.keys=function t(){var e,n,i,r,o=this;return y(t,(function(t){if(1==t.h&&(e=c(o),n=e.next()),3!=t.h)return n.done?void(t.h=0):(i=n.value,r=c(i),f(t,r.next().value));n=e.next(),t.h=2}))},t.set=function(t,e,n){T(arguments,2),t=String(t);var i=[],r=S(t,e,n),o=!0;E(this.i,(function(e){e[0]===t?o&&(o=!i.push(r)):i.push(e)})),o&&i.push(r),this.i=i},t.values=function t(){var e,n,i,r,o=this;return y(t,(function(t){if(1==t.h&&(e=c(o),n=e.next()),3!=t.h)return n.done?void(t.h=0):(i=n.value,(r=c(i)).next(),f(t,r.next().value));n=e.next(),t.h=2}))},k.prototype._asNative=function(){for(var t=new C,e=c(this),n=e.next();!n.done;n=e.next()){var i=c(n.value);n=i.next().value,i=i.next().value,t.append(n,i)}return t},k.prototype._blob=function(){var t="----formdata-polyfill-"+Math.random(),e=[],n="--"+t+'\r\nContent-Disposition: form-data; name="';return this.forEach((function(t,i){return"string"==typeof t?e.push(n+D(b(i))+'"\r\n\r\n'+b(t)+"\r\n"):e.push(n+D(b(i))+'"; filename="'+D(t.name)+'"\r\nContent-Type: '+(t.type||"application/octet-stream")+"\r\n\r\n",t,"\r\n")})),e.push("--"+t+"--"),new Blob(e,{type:"multipart/form-data; boundary="+t})},k.prototype[Symbol.iterator]=function(){return this.entries()},k.prototype.toString=function(){return"[object FormData]"},O&&!O.matches&&(O.matches=O.matchesSelector||O.mozMatchesSelector||O.msMatchesSelector||O.oMatchesSelector||O.webkitMatchesSelector||function(t){for(var e=(t=(this.document||this.ownerDocument).querySelectorAll(t)).length;0<=--e&&t.item(e)!==this;);return-1<e}),x&&(k.prototype[x]="FormData"),I){var N=w.XMLHttpRequest.prototype.setRequestHeader;w.XMLHttpRequest.prototype.setRequestHeader=function(t,e){N.call(this,t,e),"content-type"===t.toLowerCase()&&(this.B=!0)},w.XMLHttpRequest.prototype.send=function(t){t instanceof k?(t=t._blob(),this.B||this.setRequestHeader("Content-Type",t.type),I.call(this,t)):I.call(this,t)}}R&&(w.fetch=function(t,e){return e&&e.body&&e.body instanceof k&&(e.body=e.body._blob()),R.call(this,t,e)}),A&&(w.navigator.sendBeacon=function(t,e){return e instanceof k&&(e=e._asNative()),A.call(this,t,e)}),w.FormData=k}}();const EV=()=>{const t=JI("AREAS");return 0===t.length&&t.push(iO.GLOBAL),Zi(t).call(t,(t,e,n)=>{const i=bV(e);return i?0===n?i:"".concat(t,",").concat(i):t},"")},bV=t=>t===iO.OVERSEA?"".concat(oO.ASIA,",").concat(oO.EUROPE,",").concat(oO.AFRICA,",").concat(oO.NORTH_AMERICA,",").concat(oO.SOUTH_AMERICA,",").concat(oO.OCEANIA):oO[t],SV=t=>{const e={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return t.map(t=>{const n=sO[t],i=Object.keys(n);i&&i.map(t=>{"CODE"!==t&&(e[t]=e[t].concat(n[t]))})}),e},TV={GLOBAL:{ASIA:[iO.CHINA,iO.JAPAN,iO.INDIA,iO.KOREA,iO.HKMC],EUROPE:[],NORTH_AMERICA:[iO.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},wV=Object.keys(TV[iO.GLOBAL]),CV=[iO.CHINA,iO.NORTH_AMERICA,iO.EUROPE,iO.ASIA,iO.JAPAN,iO.INDIA,iO.OCEANIA,iO.SOUTH_AMERICA,iO.AFRICA,iO.KOREA,iO.HKMC,iO.US],IV=function(t,e){let n=[];if(Pi(t).call(t,iO.GLOBAL)){const o=[iO.GLOBAL,iO.OVERSEA],s=Object.keys(sO);if(e===iO.GLOBAL)throw new IR(SC.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(e===iO.CHINA)n=[iO.OVERSEA];else if(r=e,Pi(wV).call(wV,r)){const t=(i=e,TV[iO.GLOBAL][i]||[]),r=[...o,e,...t];n=s.filter(t=>!Pi(r).call(r,t))}else if(function(t){let e=!1;return wV.forEach(n=>{var i;Pi(i=TV[iO.GLOBAL][n]).call(i,t)&&(e=!0)}),e}(e)){const t=function(t){let e;return wV.forEach(n=>{var i;Pi(i=TV[iO.GLOBAL][n]).call(i,t)&&(e=n)}),e}(e),i=[...o,t,e];n=s.filter(t=>!Pi(i).call(i,t))}else n=t;n=function(t){const e=[];return CV.forEach(n=>{Pi(t).call(t,n)&&e.push(n)}),e.concat(t.filter(t=>!Pi(CV).call(CV,t)))}(n)}else n=t;var i,r;return n};function RV(t){var e,n;if(!t&&Pi(e=JI("AREAS")).call(e,iO.EXTENSIONS))return gR.debug("update area from ap : reset"),void AV(RR,!0);if(!Pi(n=JI("AREAS")).call(n,iO.GLOBAL)||!t)return;let i=sO.EXTENSIONS;i&&(i={CODE:bV(iO.EXTENSIONS),WEBCS_DOMAIN:["ap-web-1-".concat(t,".agora.io")],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-".concat(t,".ap.sd-rtn.com")],PROXY_CS:["proxy-ap-web-".concat(t,".agora.io")],CDS_AP:["cds-ap-web-1-".concat(t,".agora.io"),"cds-ap-web-2-".concat(t,".ap.sd-rtn.com")],ACCOUNT_REGISTER:["sua-ap-web-1-".concat(t,".agora.io"),"sua-ap-web-2-".concat(t,".ap.sd-rtn.com")],UAP_AP:["uap-ap-web-1-".concat(t,".agora.io"),"uap-ap-web-2-".concat(t,".ap.sd-rtn.com")],EVENT_REPORT_DOMAIN:["statscollector-1-".concat(t,".agora.io")],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-".concat(t,".agora.io")],LOG_UPLOAD_SERVER:["logservice-".concat(t,".agora.io")],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy-".concat(t,".agora.io")]},gR.debug("update area from ap success: ".concat(t,",config is "),i),XI("AREAS",[iO.EXTENSIONS],!0),Object.keys(i).map(t=>{XI(t,"LOG_UPLOAD_SERVER"===t||"EVENT_REPORT_DOMAIN"===t||"EVENT_REPORT_BACKUP_DOMAIN"===t||"PROXY_SERVER_TYPE3"===t?i[t][0]:i[t])}))}function AV(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=CR.reportApiInvoke(null,{name:FC.SET_AREA,options:t,tag:HC.TRACER});try{let i=[];if("string"==typeof t&&(i=[t]),Array.isArray(t)&&(t.forEach(t=>{if(!Pi(rO).call(rO,t))throw new IR(SC.INVALID_PARAMS,"invalid area code")}),i=t),"[object Object]"===Object.prototype.toString.call(t)){const{areaCode:e,excludedArea:n}=t;if(!e)throw new IR(SC.INVALID_PARAMS,"area code is needed");let r=e;"string"==typeof e&&(r=[e]),i=n?IV(r,n):r}if(!e){if(ZI.AREAS){const t=new IR(SC.PROHIBITED_OPERATION,"setArea is prohibited because of config-distribute");return n.onError(t),void gR.warning("setArea is prohibited because of config-distribute")}if(Pi(i).call(i,iO.GLOBAL)&&JI("AREAS")===iO.EXTENSIONS){const t=new IR(SC.PROHIBITED_OPERATION,"setArea is prohibited because of ap extensions");return n.onError(t),void gR.warning("setArea is prohibited because of ap extensions")}}XI("AREAS",i,e);const r=SV(i);Object.keys(r).map(t=>{XI(t,"LOG_UPLOAD_SERVER"===t||"EVENT_REPORT_DOMAIN"===t||"EVENT_REPORT_BACKUP_DOMAIN"===t||"PROXY_SERVER_TYPE3"===t?r[t][0]:r[t])}),gR.debug("set area success:",i.join(","))}catch(t){throw n.onError(t),t}n.onSuccess()}function OV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function xV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?OV(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OV(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}let DV=1;function kV(t,e,n,i,r){DV+=1;const o={sid:n.sid,command:"convergeAllocateEdge",uid:"666",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:DV,requestId:DV,version:WI,cname:n.cname},s={service_name:e,json_body:JSON.stringify(o)};let a,c,l=t[0];return LI(async()=>{a=Date.now();const t=await yV(l,{data:s,cancelToken:i,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});if(c=Date.now()-a,0!==t.code){const e=new IR(SC.UNEXPECTED_RESPONSE,"live streaming ap error, code"+t.code,{retry:!0,responseTime:c});throw gR.error(e.toString()),e}const n=JSON.parse(t.json_body);if(200!==n.code){const t=new IR(SC.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(n.code,", reason: ").concat(n.reason),{code:n.code,responseTime:c});throw gR.error(t.toString()),t}if(!n.servers||0===n.servers.length){const t=new IR(SC.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:n.code,responseTime:c});throw gR.error(t.toString()),t}const r=function(t,e){return{addressList:t.servers.map(t=>"wss://".concat(t.address.replace(/\./g,"-"),".").concat(JI("WORKER_DOMAIN"),":").concat(t.wss,"?serviceName=").concat(encodeURIComponent(e))),workerToken:t.workerToken,vid:t.vid}}(n,e);return JI("LIVE_STREAMING_ADDRESS")&&(r.addressList=JI("LIVE_STREAMING_ADDRESS")instanceof Array?JI("LIVE_STREAMING_ADDRESS"):[JI("LIVE_STREAMING_ADDRESS")]),xV(xV({},r),{},{responseTime:c})},(i,r)=>(CR.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:e,responseDetail:JSON.stringify(i.addressList),firstSuccess:0===r,responseTime:c,serverIp:t[r%t.length]}),!1),(i,r)=>(CR.apworkerEvent(n.sid,{success:!1,sc:i.data&&i.data.code||200,serviceName:e,responseTime:c,serverIp:t[r%t.length]}),!!(i.code!==SC.OPERATION_ABORTED&&i.code!==SC.UNEXPECTED_RESPONSE||i.data&&i.data.retry)&&(l=t[(r+1)%t.length],!0)),r)}let NV=1;function PV(t,e,n,i){let{url:r,areaCode:o}=t;const{clientId:s,sid:a}=e,c=Date.now();let l;const[u,d]=BV(e,o,[YO.CHOOSE_SERVER]);let h=iI.networkState;return LI(async()=>{h&&iI.networkState===JC.OFFLINE&&iI.onlineWaiter&&await $h.race([iI.onlineWaiter,_I(i&&i.maxRetryTimeout||NI.maxRetryTimeout)]),h=iI.networkState;const{data:t,headers:o}=await yV(r,{data:u,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);l="1"===o.http3?1:-1,CR.reportResourceTiming(r,a),MV(t,r,e,c,[YO.CHOOSE_SERVER],l);const s=ex(t,YO.CHOOSE_SERVER);return VV(s),JO(s,r)},t=>(t&&CR.joinChooseServer(a,{lts:c,succ:!0,csAddr:r,opid:d,serverList:t.gatewayAddrs.map(t=>t.address),ec:null,cid:t.cid.toString(),uid:t.uid.toString(),csIp:t.csIp,unilbsServerIds:[YO.CHOOSE_SERVER].toString(),isHttp3:l,corssRegionTagReq:e.apRequestDetail,corssRegionTagRes:t.res.detail&&t.res.detail[38]}),!1),t=>t.code!==SC.OPERATION_ABORTED&&(t.code===SC.CAN_NOT_GET_GATEWAY_SERVER?t.data.retry:(CR.joinChooseServer(a,{lts:c,succ:!1,csAddr:r,serverList:null,opid:d,ec:t.code,csIp:t.data&&t.data.csIp,unilbsServerIds:[YO.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:h}),isHttp3:l,corssRegionTagReq:e.apRequestDetail}),gR.warning("[".concat(s||"sid-".concat(a.slice(0,6)),"] Choose server network error, retry"),t),!0)),i)}function LV(t,e,n,i){let r,{url:o,areaCode:s,serviceIds:a}=t;const c=Date.now(),[l,u]=BV(e,s,a);let d;return LI(async()=>{d&&iI.networkState===JC.OFFLINE&&iI.onlineWaiter&&await $h.race([iI.onlineWaiter,_I(i&&i.maxRetryTimeout||NI.maxRetryTimeout)]),d=iI.networkState;const{data:t,headers:s}=await yV(o,{data:l,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);r="1"===s.http3?1:-1,CR.reportResourceTiming(o,e.sid),MV(t,o,e,c,a,r);const u=ex(t,YO.CHOOSE_SERVER),h=ex(t,"proxy5"===e.cloudProxyServer?YO.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?YO.CLOUD_PROXY:YO.CLOUD_PROXY_FALLBACK);return VV(u),{gatewayInfo:JO(u,o),proxyInfo:h,url:o}},t=>(t.gatewayInfo&&CR.joinChooseServer(e.sid,{lts:c,succ:!0,csAddr:o,serverList:t.gatewayInfo.gatewayAddrs.map(t=>t.address),ec:null,opid:u,cid:t.gatewayInfo.cid.toString(),uid:t.gatewayInfo.uid.toString(),csIp:t.gatewayInfo.csIp,unilbsServerIds:a.toString(),isHttp3:r,corssRegionTagReq:e.apRequestDetail,corssRegionTagRes:t.gatewayInfo.res.detail&&t.gatewayInfo.res.detail[38]}),t.proxyInfo&&CR.joinWebProxyAP(e.sid,{lts:c,sucess:1,apServerAddr:o,turnServerAddrList:t.proxyInfo.addresses.map(t=>t.ip).join(","),errorCode:null,eventType:e.cloudProxyServer,unilbsServerIds:a.toString()}),!1),t=>t.code!==SC.OPERATION_ABORTED&&(t.code===SC.CAN_NOT_GET_GATEWAY_SERVER?t.data.retry:(CR.joinWebProxyAP(e.sid,{lts:c,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:t.code,eventType:e.cloudProxyServer,unilbsServerIds:a.toString(),extend:JSON.stringify({networkState:d})}),gR.warning("[".concat(e.clientId,"] multi unilbs network error, retry"),t),!0)),i)}const MV=(t,e,n,i,r,o)=>{const{sid:s,clientId:a,cloudProxyServer:c}=n,l=[],u=a=>{4096===a.flag?CR.joinChooseServer(s,{lts:i,succ:!1,csAddr:e,opid:t.opid,serverList:null,ec:a.error.message,csIp:a.error.data&&a.error.data.csIp,unilbsServerIds:r.toString(),isHttp3:o,corssRegionTagReq:n.apRequestDetail}):1048576!==a.flag&&4194304!==a.flag&&4194310!==a.flag||CR.joinWebProxyAP(s,{lts:i,sucess:0,apServerAddr:e,turnServerAddrList:null,errorCode:a.error.code,eventType:c,unilbsServerIds:r.toString()})};if(t.response_body.forEach(e=>{const n=e.buffer.code;if(23===e.uri&&0===n&&!e.buffer.edges_services)if(4194310===e.buffer.flag)gR.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),e.buffer.edges_services=[];else{const n={error:new IR(SC.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:t.detail[502]}),flag:e.buffer.flag};l.push(n),u(n)}if(0!==n){const i=OO(n),r={error:new IR(SC.CAN_NOT_GET_GATEWAY_SERVER,i.desc,{desc:i.desc,retry:i.retry,csIp:t.detail[502]}),flag:e.buffer.flag};4194310===e.buffer.flag?gR.warning(r.error.toString()):l.push(r),u(r)}}),l.length)throw gR.warning("[".concat(a||"sid-".concat(s.slice(0,6)),"] multi unilbs ").concat(e," failed, ").concat(l.map(t=>"flag: ".concat(t.flag,", message: ").concat(t.error.message,", retry: ").concat(t.error.data.retry)).join(" | "))),new IR(SC.CAN_NOT_GET_GATEWAY_SERVER,l.map(t=>"flag: ".concat(t.flag,", message: ").concat(t.error.message)).join(" | "),{retry:!!l.find(t=>t.error.data.retry),csIp:t.detail[502],desc:[...new Set(l.map(t=>{var e;return null==t||null===(e=t.error)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.desc}).filter(t=>!!t))]})},VV=t=>{var e,n,i,r;if(t.addresses&&0===t.addresses.length&&0===t.code)throw new IR(SC.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:t.detail&&t.detail[502]});if(JI("AP_AREA")&&(null!==(i=t.detail)&&void 0!==i&&i[23]&&"string"==typeof(null===(r=t.detail)||void 0===r?void 0:r[23])?RV(t.detail[23].toLowerCase()):RV()),null!==(e=t.detail)&&void 0!==e&&e[19]&&"string"==typeof(null===(n=t.detail)||void 0===n?void 0:n[19])){const e=t.detail[19],n=null==e?void 0:e.split(";");for(let i=0;i<n.length;i++){var o;const e=Gp(o=n[i]).call(o);t.addresses[i]&&n&&(t.addresses[i].fingerprint=e)}}if(JI("GATEWAY_ADDRESS")&&JI("GATEWAY_ADDRESS").length>0){gR.debug("assign gateway address to",JI("GATEWAY_ADDRESS"));const e=JI("GATEWAY_ADDRESS").map(e=>{var n,i;const r=null!==(n=null===(i=t.addresses.find(t=>t.ip===e.ip&&t.port===e.port))||void 0===i?void 0:i.fingerprint)&&void 0!==n?n:"";return{ip:e.ip,port:e.port,ticket:t.addresses[0]&&t.addresses[0].ticket,fingerprint:r}});t.addresses=e}},UV=(t,e)=>{if(t.response_body&&t.response_body.length){const e=t.response_body[0];if(0!==e.buffer.code){const t=OO(e.buffer.code);throw new IR(SC.UPDATE_TICKET_FAILED,"[".concat(e.buffer.code,"]: ").concat(t.desc),{retry:t.retry})}return e.buffer.ticket}throw gR.debug("update ticket request received ap response without response body:",e),new IR(SC.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})},BV=(t,e,n)=>{const i=Math.floor(Math.random()*10**12),r={appid:t.appId,client_ts:Date.now(),opid:i,sid:t.sid,request_bodies:[{uri:22,buffer:{cname:t.cname,detail:xV(xV({6:t.stringUid,11:e,12:JI("USE_NEW_TOKEN")?"1":void 0,22:e},t.apRequestDetail?{33:t.apRequestDetail}:{}),t.apRTM?{26:"RTM2"}:{}),key:t.token,service_ids:n,uid:t.uid||0}}]};r.request_bodies.forEach(e=>{t.multiIP&&t.multiIP.gateway_ip&&(e.buffer.detail[5]=JSON.stringify({vocs_ip:[t.multiIP.uni_lbs_ip],vos_ip:[t.multiIP.gateway_ip]}))});const o=new FormData;return o.append("request",JSON.stringify(r)),[o,i]},jV=(t,e)=>{const n=Math.floor(Math.random()*10**12),i={appid:t.appId,client_ts:Date.now(),opid:n,sid:t.sid,request_bodies:[{uri:28,buffer:{cname:t.cname,detail:{1:"",6:t.stringUid,12:"1"},token:t.token,service_ids:e,uid:t.uid||0,edges_services:t.apResponse.addresses.map(t=>({ip:t.ip,port:t.port}))}}]},r=new FormData;return r.append("request",JSON.stringify(i)),[r,n]};let FV=0;function HV(t){return $h.all(t.map(t=>t.then(t=>{throw t},t=>t))).then(t=>{throw t},t=>t)}const WV=async t=>{let{fragementLength:e,referenceList:n,asyncMapHandler:i,allFailedhandler:r,promisesCollector:o}=t,s=0;const a=e;let c,l=0;const u=async()=>{const t=(()=>{const t=s*a,e=t+a;return n.slice(t,e).map(i)})();o&&o.push(...t);try{c=await HV(t)}catch(t){if(l+=a,s++,!(l>=n.length))return void await u();r(t)}t.forEach(t=>t.cancel())};return await u(),c},GV=async t=>{let{referenceList:e,asyncMapHandler:n,closeFn:i}=t;const r=e.length;let o=0;const s=async()=>{const t=n(e.shift());try{return await t}catch(t){if(o++,o>=r||null!=i&&i(t))throw t;return s()}};return s()};async function $V(t,e,n,i){const r=async function(t,e,n,i){let r=null;const o=[],s=async()=>{const r=JI("WEBCS_DOMAIN").slice(0,JI("AJAX_REQUEST_CONCURRENT")).map(e=>({url:t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v2/transpond/webrtc?v=2"):"https://".concat(e,"/api/v2/transpond/webrtc?v=2"),areaCode:EV()})),s=i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:r.map(t=>t.url)}),a=await WV({fragementLength:JI("FRAGEMENT_LENGTH"),referenceList:r,asyncMapHandler:i=>(gR.debug("[".concat(t.clientId,"] Connect to choose_server:"),i.url),PV(i,t,e,n)),allFailedhandler:t=>{throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:t},s),t[0]},promisesCollector:o});return i.recordJoinChannelService({endTs:Date.now(),status:"success"},s),a},a=async()=>{if(await _I(1e3),null!==r)return r;const s=JI("WEBCS_DOMAIN_BACKUP_LIST").map(e=>({url:t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v2/transpond/webrtc?v=2"):"https://".concat(e,"/api/v2/transpond/webrtc?v=2"),areaCode:EV()})),a=i.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:s.map(t=>t.url)}),c=await WV({fragementLength:JI("FRAGEMENT_LENGTH"),referenceList:s,asyncMapHandler:i=>(gR.debug("[".concat(t.clientId,"] Connect to backup choose_server:"),i.url),PV(i,t,e,n)),allFailedhandler:t=>{throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:t},a),t[0]},promisesCollector:o});return i.recordJoinChannelService({endTs:Date.now(),status:"success"},a),c};try{return r=await HV([s(),a()]),o.length&&o.forEach(t=>t.cancel&&"function"==typeof t.cancel&&t.cancel()),r}catch(t){throw t[0]}}(t,e,n,i);return{gatewayInfo:await r}}async function zV(t,e,n,i,r){const o=t.cloudProxyServer;if("disabled"===o){if(!i)return;if(t.useLocalAccessPoint)return await $V(t,e,n,r);if(JI("JOIN_WITH_FALLBACK_MEDIA_PROXY")){const{gatewayInfo:i,proxyInfo:o}=await JV(t,e,n,r);if(t.turnServer&&"auto"!==t.turnServer.mode)return{gatewayInfo:i};const a=o.map(t=>({turnServerURL:t.address,tcpport:t.tcpport||zI.tcpport,udpport:t.udpport||zI.udpport,username:t.username||zI.username,password:t.password||zI.password,forceturn:!1,security:!0}));if(r.useP2P){var s;const e=null!==(s=t.uid)&&void 0!==s?s:i.uid,n="glb:".concat(e.toString()),r=await VC(n),c=o.map(t=>({turnServerURL:t.address,tcpport:t.tcpport||zI.tcpport,udpport:t.udpport||zI.udpport,username:n,password:r,forceturn:!1,security:!0}));a.push(...c)}return t.turnServer={mode:"manual",servers:a},{gatewayInfo:i}}return await $V(t,e,n,r)}const{proxyInfo:a,gatewayInfo:c}=await JV(t,e,n,r),l={gatewayInfo:c},u=a.map(t=>({turnServerURL:t.address,tcpport:"proxy3"===o?void 0:t.tcpport?t.tcpport:zI.tcpport,udpport:"proxy4"===o?void 0:t.udpport?t.udpport:zI.udpport,username:t.username||zI.username,password:t.password||zI.password,forceturn:"proxy4"!==o,security:"proxy5"===o}));if(r.useP2P){var d;const e=null!==(d=t.uid)&&void 0!==d?d:c.uid,n="glb:".concat(e.toString()),i=await VC(n),r=a.map(t=>({turnServerURL:t.address,tcpport:"proxy3"===o?void 0:t.tcpport||zI.tcpport,udpport:"proxy4"===o?void 0:t.udpport||zI.udpport,username:n,password:i,forceturn:"proxy4"!==o,security:"proxy5"===o}));u.push(...r)}return t.turnServer={mode:"manual",servers:u},gR.debug("[".concat(t.clientId,"] set proxy server: ").concat(t.proxyServer,", mode: ").concat(o)),l}async function YV(t,e,n,i,r){const o=JI("ACCOUNT_REGISTER").slice(0,JI("AJAX_REQUEST_CONCURRENT"));let s=[];s=e.proxyServer?o.map(t=>"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1")):o.map(t=>"https://".concat(t,"/api/v1"));const a=null==r?void 0:r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:s});try{const o=await async function(t,e,n,i,r){const o=Date.now(),s={sid:n.sid,opid:10,appid:n.appId,string_uid:e};let a=t[0];const c=await LI(()=>yV(a+"".concat(-1===a.indexOf("?")?"?":"&","action=stringuid"),{data:s,cancelToken:i,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}}),(n,i)=>{if(0===n.code){if(n.uid<=0||n.uid>=Math.pow(2,32))throw gR.error("Invalid Uint Uid ".concat(e," => ").concat(n.uid),n),CR.reqUserAccount(s.sid,{lts:o,success:!1,serverAddr:a,stringUid:s.string_uid,uid:n.uid,errorCode:SC.INVALID_UINT_UID_FROM_STRING_UID,extend:s}),new IR(SC.INVALID_UINT_UID_FROM_STRING_UID);return CR.reqUserAccount(s.sid,{lts:o,success:!0,serverAddr:a,stringUid:s.string_uid,uid:n.uid,errorCode:null,extend:s}),!1}const r=OO(n.code);return r.retry&&(a=t[(i+1)%t.length]),CR.reqUserAccount(s.sid,{lts:o,success:!1,serverAddr:a,stringUid:s.string_uid,uid:n.uid,errorCode:r.desc,extend:s}),r.retry},(e,n)=>e.code!==SC.OPERATION_ABORTED&&(CR.reqUserAccount(s.sid,{lts:o,success:!1,serverAddr:a,stringUid:s.string_uid,uid:null,errorCode:e.code,extend:s}),a=t[(n+1)%t.length],!0),r);if(0!==c.code){const t=OO(c.code);throw new IR(SC.UNEXPECTED_RESPONSE,t.desc)}return c}(s,t,e,n,i);return null==r||r.recordJoinChannelService({status:"success",endTs:Date.now()},a),o.uid}catch(t){throw null==r||r.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[t]},a),t}}async function KV(t,e,n){const i=JI("ACCOUNT_REGISTER");let r=[];r=e.proxyServer?i.map(t=>"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1")):i.map(t=>"https://".concat(t,"/api/v1"));try{const i=await GV({referenceList:r,asyncMapHandler:i=>async function(t,e,n,i){const r=Date.now(),o={sid:n.sid,opid:10,appid:n.appId,string_uid:e};try{const e=await yV(t+"".concat(-1===t.indexOf("?")?"?":"&","action=stringuid"),{data:o,cancelToken:i,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}});if(0!==e.code){const t=OO(e.code);throw new IR(SC.UNEXPECTED_RESPONSE,"preload sua error:".concat(t.desc),t)}if(e.uid<=0||e.uid>=Math.pow(2,32))throw new IR(SC.INVALID_UINT_UID_FROM_STRING_UID);return{requestTime:r,url:t,req:o,uid:e.uid,elapse:Date.now()-r}}catch(t){throw t}}(i,t,e,n),closeFn:t=>t.code===SC.OPERATION_ABORTED||t.code===SC.UNEXPECTED_RESPONSE&&!t.data.retry});return i}catch(t){throw t}}async function qV(t,e,n){const i=JI("CDS_AP").slice(0,JI("AJAX_REQUEST_CONCURRENT")).map(e=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1"):"https://".concat(e,"/api/v1?action=config")),r=i.map(i=>function(t,e,n,i){const r=$w(),o={flag:64,cipher_method:0,features:{device:r.name,system:r.os,system_general:navigator.userAgent,vendor:e.appId,version:WI,cname:e.cname,sid:e.sid,session_id:e.sid,detail:"",proxyServer:e.proxyServer}};return LI(()=>yV(t,{data:o,timeout:1e3,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}}),void 0,t=>t.code!==SC.OPERATION_ABORTED,i)}(i,t,e,n));let o=null,s=null,a={};try{o=await HV(r)}catch(t){if(t.code===SC.OPERATION_ABORTED)throw t;s=t}if(r.forEach(t=>t.cancel()),CR.reportApiInvoke(t.sid,{name:FC.REQUEST_CONFIG_DISTRIBUTE,options:{error:s,res:o}}).onSuccess(),o&&o.test_tags)try{a=function(t){if(!t.test_tags)return{};const e=t.test_tags,n=Object.keys(e),i={};return n.forEach(t=>{var n;const r=Gp(n=t.slice(4)).call(n),o=JSON.parse(e[t])[1];i[r]=o}),i}(o)}catch(t){}return a}async function XV(t,e){const n=JI("WEBCS_DOMAIN").concat(JI("WEBCS_DOMAIN_BACKUP_LIST")).map(t=>({url:"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:EV(),serviceIds:[YO.CHOOSE_SERVER,YO.CLOUD_PROXY_FALLBACK]}));try{const i=await GV({referenceList:n,asyncMapHandler:n=>async function(t,e,n){let i,{url:r,areaCode:o,serviceIds:s}=t;const a=Date.now(),[c,l]=BV(e,o,s);let u=iI.networkState;try{u&&iI.networkState===JC.OFFLINE&&iI.onlineWaiter&&await $h.race([iI.onlineWaiter,_I(NI.maxRetryTimeout)]),u=iI.networkState;const{data:t,headers:e}=await yV(r,{data:c,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);i="1"===e.http3?1:-1;const o=t=>{const e=[];if(t.response_body.forEach(n=>{const i=n.buffer.code;if(23===n.uri&&0===i&&!n.buffer.edges_services)if(4194310===n.buffer.flag)n.buffer.edges_services=[];else{const i={error:new IR(SC.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:t.detail[502]}),flag:n.buffer.flag};e.push(i)}if(0!==i){const r=OO(i),o={error:new IR(SC.CAN_NOT_GET_GATEWAY_SERVER,r.desc,{desc:r.desc,retry:r.retry,csIp:t.detail[502]}),flag:n.buffer.flag};4194310===n.buffer.flag?gR.warning(o.error.toString()):e.push(o)}}),e.length)throw new IR(SC.CAN_NOT_GET_GATEWAY_SERVER,e.map(t=>"flag: ".concat(t.flag,", message: ").concat(t.error.message)).join(" | "),{retry:!!e.find(t=>t.error.data.retry),csIp:t.detail[502],desc:[...new Set(e.map(t=>{var e;return null==t||null===(e=t.error)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.desc}).filter(t=>!!t))]})};o(t);const s=ex(t,YO.CHOOSE_SERVER),d=ex(t,YO.CLOUD_PROXY_FALLBACK);return VV(s),{gatewayInfo:JO(s,r),proxyInfo:d,opid:l,requestTime:a,url:r,isHttp3:i,elapse:Date.now()-a}}catch(t){throw t}}(n,t,e),closeFn:t=>t.code===SC.OPERATION_ABORTED||t.code===SC.CAN_NOT_GET_GATEWAY_SERVER&&!t.data.retry});return i}catch(t){throw t}}async function JV(t,e,n,i){const r=JI("PROXY_SERVER_TYPE3"),o=(t,e,n)=>{let i=n||r;return Array.isArray(i)&&(i=e%2==0?r[1]:r[0]),"https://".concat(i,"/ap/?url=").concat(t)};let s=null;const a=[],c=async()=>{const r=JI("WEBCS_DOMAIN").slice(0,JI("AJAX_REQUEST_CONCURRENT")).map((e,n)=>{let i;return i="disabled"===t.cloudProxyServer&&t.proxyServer?o("".concat(e,"/api/v2/transpond/webrtc?v=2"),n,t.proxyServer):"disabled"===t.cloudProxyServer||"fallback"===t.cloudProxyServer?"https://".concat(e,"/api/v2/transpond/webrtc?v=2"):o("".concat(e,"/api/v2/transpond/webrtc?v=2"),n),{url:i,areaCode:EV(),serviceIds:[YO.CHOOSE_SERVER,"proxy5"===t.cloudProxyServer?YO.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?YO.CLOUD_PROXY:YO.CLOUD_PROXY_FALLBACK]}}),s=i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:r.map(t=>t.url)}),c=await WV({fragementLength:JI("FRAGEMENT_LENGTH"),referenceList:r,asyncMapHandler:i=>(gR.debug("[".concat(t.clientId,"] Connect to choose_server:"),i.url),LV(i,t,e,n)),allFailedhandler:t=>{throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:t},s),t[0]},promisesCollector:a});return i.recordJoinChannelService({endTs:Date.now(),status:"success"},s),c},l=async()=>{if(await _I(1e3),null!==s)return s;const r=JI("WEBCS_DOMAIN_BACKUP_LIST").map((e,n)=>{let i;return i="disabled"===t.cloudProxyServer&&t.proxyServer?o("".concat(e,"/api/v2/transpond/webrtc?v=2"),n,t.proxyServer):"disabled"===t.cloudProxyServer||"fallback"===t.cloudProxyServer?"https://".concat(e,"/api/v2/transpond/webrtc?v=2"):o("".concat(e,"/api/v2/transpond/webrtc?v=2"),n),{url:i,areaCode:EV(),serviceIds:[YO.CHOOSE_SERVER,"proxy5"===t.cloudProxyServer?YO.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?YO.CLOUD_PROXY:YO.CLOUD_PROXY_FALLBACK]}}),c=i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:r.map(t=>t.url)}),l=await WV({fragementLength:JI("FRAGEMENT_LENGTH"),referenceList:r,asyncMapHandler:i=>(gR.debug("[".concat(t.clientId,"] Connect to backup choose_server:"),i.url),LV(i,t,e,n)),allFailedhandler:t=>{throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:t},c),t[0]},promisesCollector:a});return i.recordJoinChannelService({endTs:Date.now(),status:"success"},c),l};let u,d,h;try{({gatewayInfo:u,proxyInfo:d,url:h}=await HV([c(),l()]))}catch(t){throw t[0]}if(a.length&&a.forEach(t=>t.cancel&&"function"==typeof t.cancel&&t.cancel()),!u||!d)throw new IR(SC.UNEXPECTED_ERROR,"missing gateway or proxy response").print();if(t.apUrl=h,"disabled"!==t.cloudProxyServer&&Array.isArray(r)&&h){const e=/^https?:\/\/(.+?)(\/.*)?$/.exec(h)[1];Pi(r).call(r,e)&&(t.proxyServer=e,gR.setProxyServer(e),CR.setProxyServer(e))}return s={gatewayInfo:u,proxyInfo:await nx(d,u.uid)},s}async function ZV(t,e,n){const i=JI("UAP_AP").slice(0,JI("AJAX_REQUEST_CONCURRENT")).map(e=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")),r=i.map(i=>function(t,e,n,i){const r={command:"convergeAllocateEdge",sid:e.sid,appId:e.appId,token:e.token,ts:Date.now(),version:WI,cname:e.cname,uid:e.uid.toString(),requestId:NV,seq:NV};NV+=1;const o={service_name:"tele_channel",json_body:JSON.stringify(r)};return LI(async()=>{const e=await yV(t,{data:o,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(0!==e.code){const t=new IR(SC.UNEXPECTED_RESPONSE,"cross channel ap error, code"+e.code,{retry:!0});throw gR.error(t.toString()),t}const i=JSON.parse(e.json_body);if(200!==i.code){const t=new IR(SC.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(i.code,", reason: ").concat(i.reason));throw gR.error(t.toString()),t}if(!i.servers||0===i.servers.length){const t=new IR(SC.UNEXPECTED_RESPONSE,"cross channel app center empty server");throw gR.error(t.toString()),t}return{vid:i.vid,workerToken:i.workerToken,addressList:(JI("CHANNEL_MEDIA_RELAY_SERVERS")||i.servers).map(t=>"wss://".concat(t.address.replace(/\./g,"-"),".").concat(JI("WORKER_DOMAIN"),":").concat(t.wss))}},void 0,t=>!!(t.code!==SC.OPERATION_ABORTED&&t.code!==SC.UNEXPECTED_RESPONSE||t.data&&t.data.retry),i)}(i,t,e,n));try{const t=await HV(r);return r.forEach(t=>t.cancel()),t}catch(t){throw t[0]}}async function QV(t,e,n){let i=null;const r=[],o=async o=>{const s=JI(o?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map(e=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v2/transpond/webrtc?v=2"):"https://".concat(e,"/api/v2/transpond/webrtc?v=2"));return o&&(await _I(1e3),null!==i)?i:await WV({fragementLength:JI("FRAGEMENT_LENGTH"),referenceList:s,asyncMapHandler:i=>(gR.debug("[".concat(t.clientId,"] update ticket, Connect to ").concat(o?"backup":""," choose_server:"),i),function(t,e,n,i){const[r]=jV(e,[YO.CHOOSE_SERVER]);let o=iI.networkState;return LI(async()=>{o&&iI.networkState===JC.OFFLINE&&iI.onlineWaiter&&await $h.race([iI.onlineWaiter,_I(i&&i.maxRetryTimeout||NI.maxRetryTimeout)]),o=iI.networkState;const e=await yV(t,{data:r,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0);return UV(e,t)},()=>!1,t=>t.code!==SC.OPERATION_ABORTED&&(t.code===SC.UPDATE_TICKET_FAILED?t.data.retry:(gR.warning("[".concat(e.clientId,"] update ticket network error, retry"),t),!0)),i)}(i,t,e,n)),allFailedhandler:t=>{throw t[0]},promisesCollector:r})};try{return i=await HV([o(!1),o(!0)]),r.length&&r.forEach(t=>t.cancel&&"function"==typeof t.cancel&&t.cancel()),i}catch(t){throw t[0]}}function tU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function eU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tU(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class nU extends UC{get isSuccess(){return!!this.configs}constructor(){super(),jE(this,"configs",void 0),jE(this,"joinInfo",void 0),jE(this,"cancelToken",void 0),jE(this,"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),jE(this,"interval",void 0),jE(this,"mutex",new DI("config-distribute")),jE(this,"mutableParamsRead",!1)}startGetConfigDistribute(t,e){this.joinInfo=t,this.cancelToken=e,this.interval&&this.stopGetConfigDistribute(),JI("ENABLE_CONFIG_DISTRIBUTE")&&(this.updateConfigDistribute(),this.interval=window.setInterval(()=>{this.updateConfigDistribute()},JI("CONFIG_DISTRIBUTE_INTERVAL")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,CR.reportApiInvoke(null,{options:void 0,name:FC.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:HC.TRACER}).onSuccess(JSON.stringify(ZI))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void gR.debug("[config-distribute] get config distribute interrupted have no joininfo");let t;const e=await this.mutex.lock();try{t=await qV(this.joinInfo,this.cancelToken,this.retryConfig),gR.debug("[config-distribute] get config distribute",JSON.stringify(t)),t.limit_bitrate&&this.handleBitrateLimit(t.limit_bitrate),this.cacheGlobalParameterConfig(t),this.configs=t}catch(t){const e=new IR(SC.NETWORK_RESPONSE_ERROR,t);gR.warning("[config-distribute] ".concat(e.toString()))}finally{e()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(t){var e;(e=t)&&e.uplink&&e.id&&void 0!==e.uplink.max_bitrate&&void 0!==e.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==t.id&&this.emit(aO.UPDATE_BITRATE_LIMIT,t):this.emit(aO.UPDATE_BITRATE_LIMIT,t))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&eU({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(t){var e;const n=lm(e=Object.keys(t).filter(t=>/^webrtc_ng_global_parameter/.test(t))).call(e);for(let r=0;r<n.length;r++)for(let e=n.length-1;e>r;e--){const i=n[e];if("number"==typeof t[i].__priority){const r=t[i].__priority,o=n[e-1];if("number"==typeof t[o].__priority){if(!(r>t[o].__priority))continue;{const t=i;n[e]=n[e-1],n[e-1]=t}}else{const t=i;n[e]=n[e-1],n[e-1]=t}}}const i={};n.forEach(e=>{const n=t[e],r=n.__expires;Object.keys(n).forEach(t=>{"__priority"===t||"__expires"===t||Object.prototype.hasOwnProperty.call(i,t)||(i[t]=eU({value:n[t]},r&&{expires:r}))})});try{!function(t){try{const e=Date.now();Object.keys(t).forEach(n=>{switch(n){case"ENABLE_EVENT_REPORT":case"UPLOAD_LOG":case"ENABLE_AG_ADAPTATION":case"FORCE_AG_HIGH_FRAMERATE":case"FORCE_SUPPORT_AG_ADAPTATION":case"ENCODER_CONFIG_LIMIT":case"CAMERA_CAPTURE_CONFIG":case"ENABLE_PRELOAD":if(Object.prototype.hasOwnProperty.call(qI,n)){const{value:i,expires:r}=t[n];if(r&&r<=e)return;ZI[n]=i,qI[n]=i,gR.debug("Update global parameters from config distribute",n,i)}}})}catch(e){gR.error("Error update config immediately: ".concat(t),e.message)}}(i);const t=JSON.stringify(i),e=window.btoa(t);window.localStorage.setItem("websdk_ng_global_parameter",e),gR.debug("Caching global parameters ".concat(t))}catch(t){gR.error("Error caching global parameters:",t.message)}}}class iU extends UC{constructor(){super(...arguments),jE(this,"resultStorage",new Map)}setLocalAudioStats(t,e,n){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",t,this.checkAudioInputLevel(n,e)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",t,this.checkSendAudioBitrate(n,e))}setLocalVideoStats(t,e,n){this.record("SEND_VIDEO_BITRATE_TOO_LOW",t,this.checkSendVideoBitrate(n,e)),this.record("FRAMERATE_INPUT_TOO_LOW",t,this.checkFramerateInput(n,e)),this.record("FRAMERATE_SENT_TOO_LOW",t,this.checkFramerateSent(n))}setRemoteAudioStats(t,e){const n=t.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",n,this.checkAudioOutputLevel(e))}setRemoteVideoStats(t,e){const n=t.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",n,this.checkVideoDecode(e))}record(t,e,n){if(JI("STATS_UPDATE_INTERVAL")>500)return;this.resultStorage.has(t)||this.resultStorage.set(t,{result:[],isPrevNormal:!0});const i=this.resultStorage.get(t);if(i&&(i.result.push(n),i.result.length>=5)){var r;const n=Pi(r=i.result).call(r,!0);i.isPrevNormal&&!n&&this.emit("exception",rU[t],t,e),!i.isPrevNormal&&n&&this.emit("exception",rU[t]+2e3,t+"_RECOVER",e),i.isPrevNormal=n,i.result=[]}}checkAudioOutputLevel(t){return!(t.receiveBitrate>0&&0===t.receiveLevel)}checkAudioInputLevel(t,e){return e instanceof SL&&!e.isActive||!!e.muted||0!==t.sendVolumeLevel}checkFramerateInput(t,e){let n=null;e._encoderConfig&&e._encoderConfig.frameRate&&(n=ZO(e._encoderConfig.frameRate));const i=t.captureFrameRate;return!n||!i||!(n>10&&i<5||n<10&&n>=5&&i<=1)}checkFramerateSent(t){return!(t.captureFrameRate&&t.sendFrameRate&&t.captureFrameRate>5&&t.sendFrameRate<=1)}checkSendVideoBitrate(t,e){return!!e.muted||0!==t.sendBitrate}checkSendAudioBitrate(t,e){return e instanceof SL&&!e.isActive||!!e.muted||0!==t.sendBitrate}checkVideoDecode(t){return 0===t.receiveBitrate||0!==t.decodeFrameRate}}const rU={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},oU=new class{markSubscribeStart(t,e){performance.mark("agora-web-sdk/".concat(t,"/subscribe-").concat(e))}markPublishStart(t,e){performance.mark("agora-web-sdk/".concat(t,"/publish-").concat(e))}measureFromSubscribeStart(t,e){const n=performance.getEntriesByName("agora-web-sdk/".concat(t,"/subscribe-").concat(e));if(n.length>0){const t=n[n.length-1];return Math.round(performance.now()-t.startTime)}return 0}measureFromPublishStart(t,e){const n=performance.getEntriesByName("agora-web-sdk/".concat(t,"/publish-").concat(e));if(n.length>0){const t=n[n.length-1];return Math.round(performance.now()-t.startTime)}return 0}};var sU=o(ot.Object.getOwnPropertySymbols),aU=kn,cU=Jn.indexOf,lU=Wi,uU=R([].indexOf),dU=!!uU&&1/uU([1],1,-0)<0;aU({target:"Array",proto:!0,forced:dU||!lU("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return dU?uU(this,t,e)||0:cU(this,t,e)}});var hU=ti("Array").indexOf,pU=p,fU=hU,mU=Array.prototype,vU=function(t){var e=t.indexOf;return t===mU||pU(mU,t)&&e===mU.indexOf?fU:e},gU=o(vU);function _U(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=GR(t);for(i=0;i<o.length;i++)n=o[i],gU(e).call(e,n)>=0||(r[n]=t[n]);return r}(t,e);if(sU){var o=sU(t);for(i=0;i<o.length;i++)n=o[i],gU(e).call(e,n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yU(t){if(Array.isArray(t))return t.map(t=>t);if(!EU(t))return t;const e={};for(const n in t){const i=t[n];EU(i)||Array.isArray(i)?e[n]=yU(i):e[n]=i}return e}function EU(t){return!("object"!=typeof t||Array.isArray(t)||!t)}class bU{constructor(t){jE(this,"input",[]),jE(this,"size",void 0),this.size=t}add(t){this.input.push(t),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const SU={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},TU={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:SU,remoteCandidate:SU}},wU={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0},CU={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},IU={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},RU={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function AU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function OU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?AU(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class xU{constructor(t,e){jE(this,"onFirstVideoReceived",void 0),jE(this,"onFirstVideoDecoded",void 0),jE(this,"onFirstAudioReceived",void 0),jE(this,"onFirstVideoDecodedTimeout",void 0),jE(this,"onFirstAudioDecoded",void 0),jE(this,"onSelectedLocalCandidateChanged",void 0),jE(this,"onSelectedRemoteCandidateChanged",void 0),jE(this,"videoIsReady",!1),jE(this,"videoIsReady2",{}),jE(this,"pc",void 0),jE(this,"options",void 0),jE(this,"intervalTimer",void 0),jE(this,"stats",yU(TU)),jE(this,"isFirstVideoReceived",{}),jE(this,"isFirstVideoDecoded",{}),jE(this,"isFirstAudioReceived",{}),jE(this,"isFirstAudioDecoded",{}),jE(this,"isFirstVideoDecodedTimeout",{}),jE(this,"lossRateWindowStats",[]),this.pc=t,this.options=e,this.intervalTimer=window.setInterval(async()=>{this.updateStats()},this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new $h(t=>{t({local:OU({},SU),remote:OU({},SU)})})}setVideoIsReady(t){this.videoIsReady=t}setVideoIsReady2(t,e){this.videoIsReady2[t]=e}getVideoIsReady(t){return this.videoIsReady2[t]||!1}setIsFirstAudioDecoded(t){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(t){this.lossRateWindowStats.push(t),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const e=this.lossRateWindowStats.length,n=["videoSend","audioSend","videoRecv","audioRecv"];let i=0,r=0,o=0,s=0;for(const a of n)t[a].forEach((t,n)=>{if(!this.lossRateWindowStats[e-1][a][n]||!this.lossRateWindowStats[0][a][n])return;const c=this.lossRateWindowStats[e-1][a][n].packets-this.lossRateWindowStats[0][a][n].packets,l=this.lossRateWindowStats[e-1][a][n].packetsLost-this.lossRateWindowStats[0][a][n].packetsLost;"videoSend"===a||"audioSend"===a?(i+=c,o+=l):(r+=c,s+=l),Number.isNaN(c)||Number.isNaN(c)?t.packetLostRate=0:t.packetLostRate=c<=0||l<=0?0:l/(c+l)});t.sendPacketLossRate=i<=0||o<=0?0:o/(i+o),t.recvPacketLossRate=r<=0||s<=0?0:s/(r+s)}}function DU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function kU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?DU(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class NU extends xU{constructor(){super(...arguments),jE(this,"_stats",TU),jE(this,"lastDecodeVideoReceiverStats",new Map)}async updateStats(){const t=await this._getStats(),e=this.statsResponsesToObjects(t);this._stats=yU(TU);const n=e.filter(t=>"ssrc"===t.type);this.processSSRCStats(n);const i=e.find(t=>"VideoBwe"===t.type);i&&this.processBandwidthStats(i),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(t){this._stats.bitrate={actualEncoded:Number(t.googActualEncBitrate),targetEncoded:Number(t.googTargetEncBitrate),retransmit:Number(t.googRetransmitBitrate),transmit:Number(t.googTransmitBitrate)},this._stats.sendBandwidth=Number(t.googAvailableSendBandwidth)}processSSRCStats(t){t.forEach(t=>{var e;const n=Pi(e=t.id).call(e,"send");switch("".concat(t.mediaType,"_").concat(n?"send":"recv")){case"video_send":{const e=yU(CU);e.codec=t.googCodecName,e.adaptionChangeReason="none",t.googCpuLimitedResolution&&(e.adaptionChangeReason="cpu"),t.googBandwidthLimitedResolution&&(e.adaptionChangeReason="bandwidth"),e.avgEncodeMs=Number(t.googAvgEncodeMs),e.inputFrame={width:Number(t.googFrameWidthInput)||Number(t.googFrameWidthSent),height:Number(t.googFrameHeightInput)||Number(t.googFrameHeightSent),frameRate:Number(t.googFrameRateInput)},e.sentFrame={width:Number(t.googFrameWidthSent),height:Number(t.googFrameHeightSent),frameRate:Number(t.googFrameRateInput)},e.firsCount=Number(t.googFirReceived),e.nacksCount=Number(t.googNacksReceived),e.plisCount=Number(t.googPlisReceived),e.frameCount=Number(t.framesEncoded),e.bytes=Number(t.bytesSent),e.packets=Number(t.packetsSent),e.packetsLost=Number(t.packetsLost),e.ssrc=Number(t.ssrc),e.rttMs=Number(t.googRtt||0),this._stats.videoSend.push(e),this._stats.rtt=e.rttMs;break}case"video_recv":{const e=yU(wU),n=this.lastDecodeVideoReceiverStats.get(Number(t.ssrc));if(e.codec=t.googCodecName,e.targetDelayMs=Number(t.googTargetDelayMs),e.renderDelayMs=Number(t.googRenderDelayMs),e.currentDelayMs=Number(t.googCurrentDelayMs),e.minPlayoutDelayMs=Number(t.googMinPlayoutDelayMs),e.decodeMs=Number(t.googDecodeMs),e.maxDecodeMs=Number(t.googMaxDecodeMs),e.receivedFrame={width:Number(t.googFrameWidthReceived),height:Number(t.googFrameHeightReceived),frameRate:Number(t.googFrameRateReceived)},e.decodedFrame={width:Number(t.googFrameWidthReceived),height:Number(t.googFrameHeightReceived),frameRate:Number(t.googFrameRateDecoded)},e.decodeFrameRate=Number(t.googFrameRateDecoded),e.outputFrame={width:Number(t.googFrameWidthReceived),height:Number(t.googFrameHeightReceived),frameRate:Number(t.googFrameRateOutput)},e.jitterBufferMs=Number(t.googJitterBufferMs),e.firsCount=Number(t.googFirsSent),e.nacksCount=Number(t.googNacksSent),e.plisCount=Number(t.googPlisSent),e.framesDecodeCount=Number(t.framesDecoded),e.bytes=Number(t.bytesReceived),e.packets=Number(t.packetsReceived),e.packetsLost=Number(t.packetsLost),e.ssrc=Number(t.ssrc),e.packets>0&&!this.isFirstVideoReceived[e.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(e.ssrc),this.isFirstVideoReceived[e.ssrc]=!0),e.framesDecodeCount>0&&!this.isFirstVideoDecoded[e.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(e.ssrc,e.decodedFrame.width,e.decodedFrame.height),this.isFirstVideoDecoded[e.ssrc]=!0),n){const i=n.stats,r=Date.now()-n.lts;e.framesDecodeFreezeTime=i.framesDecodeFreezeTime,e.framesDecodeInterval=i.framesDecodeInterval,e.framesDecodeCount>i.framesDecodeCount&&this.isFirstVideoDecoded[e.ssrc]?(n.lts=Date.now(),e.framesDecodeInterval=r,e.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(t.ssrc,10))?e.framesDecodeFreezeTime+=e.framesDecodeInterval:this.setVideoIsReady2(parseInt(t.ssrc,10),!0))):e.framesDecodeCount<n.stats.framesDecodeCount&&(e.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(e.ssrc,{stats:kU({},e),lts:Date.now()}),this._stats.videoRecv.push(e);break}case"audio_recv":{const e=yU(RU);e.codec=t.googCodecName,e.outputLevel=Math.abs(Number(t.audioOutputLevel))/32767,e.decodingCNG=Number(t.googDecodingCNG),e.decodingCTN=Number(t.googDecodingCTN),e.decodingCTSG=Number(t.googDecodingCTSG),e.decodingNormal=Number(t.googDecodingNormal),e.decodingPLC=Number(t.googDecodingPLC),e.decodingPLCCNG=Number(t.googDecodingPLCCNG),e.expandRate=Number(t.googExpandRate),e.accelerateRate=Number(t.googAccelerateRate),e.preemptiveExpandRate=Number(t.googPreemptiveExpandRate),e.secondaryDecodedRate=Number(t.googSecondaryDecodedRate),e.speechExpandRate=Number(t.googSpeechExpandRate),e.preferredJitterBufferMs=Number(t.googPreferredJitterBufferMs),e.jitterBufferMs=Number(t.googJitterBufferMs),e.jitterMs=Number(t.googJitterReceived),e.bytes=Number(t.bytesReceived),e.packets=Number(t.packetsReceived),e.packetsLost=Number(t.packetsLost),e.ssrc=Number(t.ssrc),e.receivedFrames=Number(t.googDecodingCTN)||Number(t.packetsReceived),e.droppedFrames=Number(t.googDecodingPLC)+Number(t.googDecodingPLCCNG)||Number(t.packetsLost),e.receivedFrames>0&&!this.isFirstAudioReceived[e.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(e.ssrc),this.isFirstAudioReceived[e.ssrc]=!0),e.decodingNormal>0&&!this.isFirstAudioDecoded[e.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(e.ssrc),this.isFirstAudioDecoded[e.ssrc]=!0),this._stats.audioRecv.push(e);break}case"audio_send":{const e=yU(IU);e.codec=t.googCodecName,e.inputLevel=Math.abs(Number(t.audioInputLevel))/32767,e.aecReturnLoss=Number(t.googEchoCancellationReturnLoss||0),e.aecReturnLossEnhancement=Number(t.googEchoCancellationReturnLossEnhancement||0),e.residualEchoLikelihood=Number(t.googResidualEchoLikelihood||0),e.residualEchoLikelihoodRecentMax=Number(t.googResidualEchoLikelihoodRecentMax||0),e.bytes=Number(t.bytesSent),e.packets=Number(t.packetsSent),e.packetsLost=Number(t.packetsLost),e.ssrc=Number(t.ssrc),e.rttMs=Number(t.googRtt||0),this._stats.rtt=e.rttMs,this._stats.audioSend.push(e);break}}})}_getStats(){return new $h((t,e)=>{this.pc.getStats(t,e)})}statsResponsesToObjects(t){const e=[];return t.result().forEach(t=>{const n={id:t.id,timestamp:t.timestamp.valueOf().toString(),type:t.type};t.names().forEach(e=>{n[e]=t.stat(e)}),e.push(n)}),e}}function PU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function LU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?PU(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class MU extends xU{constructor(){super(...arguments),jE(this,"_stats",TU),jE(this,"report",void 0),jE(this,"lastDecodeVideoReceiverStats",new Map),jE(this,"lastVideoFramesRecv",new Map),jE(this,"lastVideoFramesSent",new Map),jE(this,"lastVideoFramesDecode",new Map),jE(this,"lastVideoFramesOutput",new Map),jE(this,"lastVideoJBDelay",new Map),jE(this,"lastAudioJBDelay",new Map),jE(this,"mediaBytesSent",new Map),jE(this,"mediaBytesRetransmit",new Map),jE(this,"mediaBytesTargetEncode",new Map),jE(this,"lastEncoderMs",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=yU(TU),this.report.forEach(t=>{switch(t.type){case CA.OUTBOUND:case CA.INBOUND:{const e=t.mediaType||t.kind,n=!e&&"frameWidth"in t,i=!e&&!("frameWidth"in t);t.type===CA.OUTBOUND?"audio"===e||i?this.processAudioOutboundStats(t):("video"===e||n)&&this.processVideoOutboundStats(t):t.type===CA.INBOUND&&("audio"===e||i?this.processAudioInboundStats(t):("video"===e||n)&&this.processVideoInboundStats(t));break}case CA.TRANSPORT:{const e=this.report.get(t.selectedCandidatePairId);e&&this.processCandidatePairStats(e);break}case CA.CANDIDATE_PAIR:t.selected&&this.processCandidatePairStats(t)}}),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const t=await this.pc.getStats(),e={local:LU({},SU),remote:LU({},SU)};return t.forEach(n=>{let i;if(n.type===CA.TRANSPORT&&(i=t.get(n.selectedCandidatePairId)),n.type===CA.CANDIDATE_PAIR&&n.selected&&(i=n),i){const n=(t,e)=>{t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol)};if(i.localCandidateId){const r=t.get(i.localCandidateId);r&&n(e.local,r)}if(i.remoteCandidateId){const r=t.get(i.remoteCandidateId);r&&n(e.remote,r)}}}),e}processCandidatePairStats(t){if(this._stats.sendBandwidth=t.availableOutgoingBitrate||0,t.currentRoundTripTime&&(this._stats.rtt=1e3*t.currentRoundTripTime),this._stats.videoSend.forEach(e=>{t.currentRoundTripTime&&(e.rttMs=1e3*t.currentRoundTripTime)}),this._stats.audioSend.forEach(e=>{t.currentRoundTripTime&&(e.rttMs=1e3*t.currentRoundTripTime)}),this._stats.selectedCandidatePair.id=t.id,t.localCandidateId){const e=this.report.get(t.localCandidateId);e&&this.processCandidateStats(e)}if(t.remoteCandidateId){const e=this.report.get(t.remoteCandidateId);e&&this.processCandidateStats(e)}}processCandidateStats(t){let e;t.type===CA.LOCAL_CANDIDATE&&(e=this._stats.selectedCandidatePair.localCandidate),t.type===CA.REMOTE_CANDIDATE&&(e=this._stats.selectedCandidatePair.remoteCandidate),e&&(e.type=t.type,e.id=t.id,t.address&&(e.address=t.address),t.candidateType&&(e.candidateType=t.candidateType),t.port&&(e.port=t.port),t.priority&&(e.priority=t.priority),t.protocol&&(e.protocol=t.protocol),t.relayProtocol&&(e.relayProtocol=t.relayProtocol),t.type===CA.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==e.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(LU({},e),LU({},this.stats.selectedCandidatePair.localCandidate)),t.type===CA.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==e.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(LU({},e),LU({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(t){let e=this._stats.audioRecv.find(e=>e.ssrc===t.ssrc);e||(e=yU(RU),this._stats.audioRecv.push(e)),e.ssrc=t.ssrc,e.packets=t.packetsReceived,e.packetsLost=t.packetsLost,e.packetsDiscarded=t.packetsDiscarded,e.bytes=t.bytesReceived,e.jitterMs=1e3*t.jitter,this.processAudioTrackReceiverStats(t,t.trackId,e),t.codecId&&(e.codec=this.getCodecFromCodecStats(t.codecId)),e.receivedFrames||(e.receivedFrames=t.packetsReceived),e.droppedFrames||(e.droppedFrames=t.packetsLost),e.receivedFrames>0&&!this.isFirstAudioReceived[e.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(e.ssrc),this.isFirstAudioReceived[e.ssrc]=!0),e.outputLevel&&e.outputLevel>0&&!this.isFirstAudioDecoded[e.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(e.ssrc),this.isFirstAudioDecoded[e.ssrc]=!0),"number"==typeof t.concealedSamples&&(e.concealedSamples=t.concealedSamples)}processVideoInboundStats(t){let e=this._stats.videoRecv.find(e=>e.ssrc===t.ssrc);e||(e=yU(wU),this._stats.videoRecv.push(e)),e.ssrc=t.ssrc,e.packets=t.packetsReceived,e.packetsLost=t.packetsLost,e.bytes=t.bytesReceived,e.firsCount=t.firCount,e.nacksCount=t.nackCount,e.plisCount=t.pliCount,e.framesDecodeCount=t.framesDecoded,e.framesDroppedCount=t.framesDropped,e.totalInterFrameDelay=t.totalInterFrameDelay,e.totalSquaredInterFrameDelay=t.totalSquaredInterFrameDelay,e.totalFreezesDuration=t.totalFreezesDuration;const n=this.lastDecodeVideoReceiverStats.get(e.ssrc),i=this.lastVideoFramesDecode.get(e.ssrc),r=this.lastVideoFramesOutput.get(e.ssrc),o=Date.now();if(e.framesDecodeCount>0&&!this.isFirstVideoDecoded[e.ssrc]){const t=e.decodedFrame?e.decodedFrame.width:0,n=e.decodedFrame?e.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(e.ssrc,t,n),this.isFirstVideoDecoded[e.ssrc]=!0}if(n){const i=n.stats,r=o-n.lts;e.framesDecodeFreezeTime=i.framesDecodeFreezeTime,e.framesDecodeInterval=i.framesDecodeInterval,!this.isFirstVideoDecoded[e.ssrc]&&r>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[e.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(e.ssrc),this.isFirstVideoDecodedTimeout[e.ssrc]=!0),e.framesDecodeCount>i.framesDecodeCount&&this.isFirstVideoDecoded[e.ssrc]?(n.lts=Date.now(),e.framesDecodeInterval=r,e.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(t.ssrc))?e.framesDecodeFreezeTime+=e.framesDecodeInterval:this.setVideoIsReady2(parseInt(t.ssrc,10),!0))):e.framesDecodeCount<i.framesDecodeCount&&(e.framesDecodeInterval=0),t.framesDecoded&&t.qpSum&&(n.stats.framesDecodeCount>t.framesDecoded?e.qpSumPerFrame=t.qpSum/t.framesDecoded:e.qpSumPerFrame=(t.qpSum-n.qpSum)/(t.framesDecoded-n.stats.framesDecodeCount))}i&&o-i.lts>=800?(e.decodeFrameRate=Math.round((e.framesDecodeCount-i.count)/((o-i.lts)/1e3)),this.lastVideoFramesDecode.set(e.ssrc,{count:e.framesDecodeCount,lts:o,rate:e.decodeFrameRate})):i?e.decodeFrameRate=i.rate:this.lastVideoFramesDecode.set(e.ssrc,{count:e.framesDecodeCount,lts:o,rate:0}),e.framesDroppedCount&&t.framesReceived&&(r&&o-r.lts>=800?(e.outputFrameRate=Math.round((t.framesReceived-e.framesDroppedCount-r.count)/((o-r.lts)/1e3)),this.lastVideoFramesOutput.set(e.ssrc,{count:t.framesReceived-e.framesDroppedCount,lts:o,rate:Math.max(e.outputFrameRate,0)})):r?e.outputFrameRate=r.rate:this.lastVideoFramesOutput.set(e.ssrc,{count:t.framesReceived-e.framesDroppedCount,lts:o,rate:0})),t.totalDecodeTime&&(e.decodeMs=1e3*t.totalDecodeTime),this.processVideoTrackReceiverStats(t,t.trackId,e),t.codecId&&(e.codec=this.getCodecFromCodecStats(t.codecId)),t.framerateMean&&(e.framesRateFirefox=t.framerateMean),e.packets>0&&!this.isFirstVideoReceived[e.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(e.ssrc),this.isFirstVideoReceived[e.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(e.ssrc,{stats:LU({},e),lts:n?n.lts:Date.now(),qpSum:t.qpSum})}processVideoOutboundStats(t){let e=this._stats.videoSend.find(e=>e.ssrc===t.ssrc);e||(e=yU(CU),this._stats.videoSend.push(e));const n=this.mediaBytesSent.get(t.ssrc);if(n)n.add(t.bytesSent);else{const e=new bU(10);e.add(t.bytesSent),this.mediaBytesSent.set(t.ssrc,e)}if(void 0!==t.retransmittedBytesSent){const e=this.mediaBytesRetransmit.get(t.ssrc);if(e)e.add(t.retransmittedBytesSent);else{const e=new bU(10);e.add(t.retransmittedBytesSent),this.mediaBytesRetransmit.set(t.ssrc,e)}}if(t.totalEncodedBytesTarget){const e=this.mediaBytesTargetEncode.get(t.ssrc);if(e)e.add(t.totalEncodedBytesTarget);else{const e=new bU(10);e.add(t.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(t.ssrc,e)}}if(e.ssrc=t.ssrc,e.bytes=t.bytesSent,e.packets=t.packetsSent,e.firsCount=t.firCount,e.nacksCount=t.nackCount,e.plisCount=t.pliCount,e.frameCount=t.framesEncoded,e.adaptionChangeReason=t.qualityLimitationReason,e.scalabilityMode=t.scalabilityMode,t.totalEncodeTime&&t.framesEncoded){const n=this.lastEncoderMs.get(t.ssrc);if(!n||n.lastFrameCount>t.framesEncoded)e.avgEncodeMs=1e3*t.totalEncodeTime/t.framesEncoded;else{const i=t.framesEncoded-n.lastFrameCount,r=t.totalEncodeTime-n.lastEncoderTime;e.avgEncodeMs=1e3*r/i}}if(t.framesEncoded&&t.qpSum){const n=this.lastEncoderMs.get(t.ssrc);!n||n.lastFrameCount>t.framesEncoded?e.qpSumPerFrame=t.qpSum/t.framesEncoded:e.qpSumPerFrame=(t.qpSum-n.lastQpSum)/(t.framesEncoded-n.lastFrameCount)}if(this.lastEncoderMs.set(t.ssrc,{lastFrameCount:t.framesEncoded,lastEncoderTime:t.totalEncodeTime,lastQpSum:t.qpSum,lts:Date.now()}),t.codecId&&(e.codec=this.getCodecFromCodecStats(t.codecId)),t.mediaSourceId&&this.processVideoMediaSource(t.mediaSourceId,e),this.processVideoTrackSenderStats(t,t.trackId,e),t.remoteId)this.processRemoteInboundStats(t.remoteId,e);else{const n=this.findRemoteStatsId(t.ssrc,CA.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,e)}}processAudioOutboundStats(t){let e=this._stats.audioSend.find(e=>e.ssrc===t.ssrc);if(e||(e=yU(IU),this._stats.audioSend.push(e)),e.ssrc=t.ssrc,e.packets=t.packetsSent,e.bytes=t.bytesSent,t.mediaSourceId&&this.processAudioMediaSource(t.mediaSourceId,e),t.codecId&&(e.codec=this.getCodecFromCodecStats(t.codecId)),this.processAudioTrackSenderStats(t,t.trackId,e),t.remoteId)this.processRemoteInboundStats(t.remoteId,e);else{const n=this.findRemoteStatsId(t.ssrc,CA.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,e)}}findRemoteStatsId(t,e){var n;const i=Array.from(mx(n=this.report).call(n)).find(n=>n.type===e&&n.ssrc===t);return i?i.id:null}processVideoMediaSource(t,e){const n=this.report.get(t);n&&n.width&&n.height&&n.framesPerSecond&&(e.inputFrame={width:n.width,height:n.height,frameRate:n.framesPerSecond})}processAudioMediaSource(t,e){const n=this.report.get(t);n&&(e.inputLevel=n.audioLevel)}processVideoTrackSenderStats(t,e,n){var i,r,o,s;const a=e?this.report.get(e):void 0,c=null!==(i=null==a?void 0:a.framesSent)&&void 0!==i?i:t.framesSent;if("number"!=typeof c)return;let l=null!==(r=null==a?void 0:a.frameWidth)&&void 0!==r?r:t.frameWidth,u=null!==(o=null==a?void 0:a.frameHeight)&&void 0!==o?o:t.frameHeight,d=null!==(s=null==a?void 0:a.framesPerSecond)&&void 0!==s?s:t.framesPerSecond;if("number"==typeof l&&"number"==typeof u||(l=0,u=0),null==d){const t=Date.now(),e=this.lastVideoFramesSent.get(n.ssrc);e&&t-e.lts>=800?(d=Math.round((c-e.count)/((t-e.lts)/1e3)),this.lastVideoFramesSent.set(n.ssrc,{count:c,lts:t,rate:d})):e?d=e.rate:this.lastVideoFramesSent.set(n.ssrc,{count:c,lts:t,rate:0})}n.sentFrame={width:l,height:u,frameRate:Math.max(0,d)}}processVideoTrackReceiverStats(t,e,n){var i,r,o,s,a;const c=e?this.report.get(e):void 0,l=null!==(i=null==c?void 0:c.framesReceived)&&void 0!==i?i:t.framesReceived,u=null!==(r=null==c?void 0:c.frameWidth)&&void 0!==r?r:t.frameWidth,d=null!==(o=null==c?void 0:c.frameHeight)&&void 0!==o?o:t.frameHeight,h=null!==(s=null==c?void 0:c.jitterBufferDelay)&&void 0!==s?s:t.jitterBufferDelay,p=null!==(a=null==c?void 0:c.jitterBufferEmittedCount)&&void 0!==a?a:t.jitterBufferEmittedCount;if("number"==typeof l){const t=this.lastVideoFramesRecv.get(n.ssrc),e=Date.now();n.framesReceivedCount=l;let i=0;t&&e-t.lts>=800?(i=Math.round((l-t.count)/((e-t.lts)/1e3)),this.lastVideoFramesRecv.set(n.ssrc,{count:l,lts:e,rate:i})):t?i=t.rate:this.lastVideoFramesRecv.set(n.ssrc,{count:l,lts:e,rate:0}),n.receivedFrame={width:u||0,height:d||0,frameRate:i||0},n.decodedFrame={width:u||0,height:d||0,frameRate:n.decodeFrameRate||0},n.outputFrame={width:u||0,height:d||0,frameRate:n.outputFrameRate||n.decodeFrameRate||0}}if(h&&p){const t=this.lastVideoJBDelay.get(n.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let e=t.jitterBufferMs;const i=p-t.jitterBufferEmittedCount;i>0&&(e=1e3*(h-t.jitterBufferDelay)/i),n.jitterBufferMs=e,n.currentDelayMs=Math.round(e),this.lastVideoJBDelay.set(n.ssrc,{jitterBufferDelay:h,jitterBufferEmittedCount:p,jitterBufferMs:n.currentDelayMs})}}processAudioTrackSenderStats(t,e,n){var i,r,o,s;const a=e?this.report.get(e):void 0,c=null!==(i=null!==(r=null==a?void 0:a.echoReturnLoss)&&void 0!==r?r:t.echoReturnLoss)&&void 0!==i?i:0,l=null!==(o=null!==(s=null==a?void 0:a.echoReturnLossEnhancement)&&void 0!==s?s:t.echoReturnLossEnhancement)&&void 0!==o?o:0;n.aecReturnLoss=c,n.aecReturnLossEnhancement=l}processAudioTrackReceiverStats(t,e,n){var i,r,o,s,a,c,l;const u=e?this.report.get(e):void 0,d=null!==(i=null==u?void 0:u.removedSamplesForAcceleration)&&void 0!==i?i:t.removedSamplesForAcceleration,h=null!==(r=null==u?void 0:u.totalSamplesReceived)&&void 0!==r?r:t.totalSamplesReceived,p=null!==(o=null==u?void 0:u.jitterBufferDelay)&&void 0!==o?o:t.jitterBufferDelay,f=null!==(s=null==u?void 0:u.jitterBufferEmittedCount)&&void 0!==s?s:t.jitterBufferEmittedCount,m=null!==(a=null==u?void 0:u.audioLevel)&&void 0!==a?a:null==t?void 0:t.audioLevel,v=null!==(c=null==u?void 0:u.totalSamplesDuration)&&void 0!==c?c:null==t?void 0:t.totalSamplesDuration,g=null!==(l=null==u?void 0:u.concealedSamples)&&void 0!==l?l:t.concealedSamples;if(d&&h&&(n.accelerateRate=d/h),p&&f){const t=this.lastAudioJBDelay.get(n.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let e=t.jitterBufferMs;const i=f-t.jitterBufferEmittedCount;i>0&&(e=1e3*(p-t.jitterBufferDelay)/i),n.jitterBufferMs=Math.round(e),this.lastAudioJBDelay.set(n.ssrc,{jitterBufferDelay:p,jitterBufferEmittedCount:f,jitterBufferMs:n.jitterBufferMs})}n.outputLevel=m;let _=1920;v&&h&&(_=h/v/50,n.receivedFrames=Math.round(h/_)),g&&(n.droppedFrames=Math.round(g/_))}processRemoteInboundStats(t,e){const n=this.report.get(t);n&&(e.packetsLost=n.packetsLost,n.roundTripTime&&(e.rttMs=1e3*n.roundTripTime),n.jitter&&(e.jitterMs=1e3*n.jitter),n.timestamp&&(e.timestamp=n.timestamp))}getCodecFromCodecStats(t){const e=this.report.get(t);if(!e)return"";const n=e.mimeType.match(/\/(.*)$/);return n&&n[1]?n[1]:""}updateSendBitrate(){let t=0,e=null,n=null;this.mediaBytesSent.forEach(e=>{t+=e.diffMean()}),this.mediaBytesRetransmit.forEach(t=>{e=null===e?t.diffMean():e+t.diffMean()}),this.mediaBytesTargetEncode.forEach(t=>{n=null===n?t.diffMean():n+t.diffMean()});const i=null!==e?t-e:t;this._stats.bitrate={actualEncoded:8*i/(this.options.updateInterval/1e3),transmit:8*t/(this.options.updateInterval/1e3)},null!==e&&(this._stats.bitrate.retransmit=8*e/(this.options.updateInterval/1e3)),null!==n&&(this._stats.bitrate.targetEncoded=8*n/(this.options.updateInterval/1e3))}}class VU extends xU{updateStats(){return $h.resolve()}}function UU(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4;const o=function(){const t=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return t&&t[0]?Number(t[0].split("/")[1]):null}();return o?o<76?new NU(t,{updateInterval:e,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):new MU(t,{updateInterval:e,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):function(t){if(!window.RTCStatsReport)return!1;const e=t.getStats();return!!(e instanceof $h||function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}(e))}(t)?new MU(t,{updateInterval:e,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):new VU(t,{updateInterval:e,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r})}let BU=class{get localCapabilities(){return aI(this._localCapabilities)}get rtpCapabilities(){return aI(this._rtpCapabilities)}get candidates(){return aI(this._candidates)}get iceParameters(){return aI(this._iceParameters)}get dtlsParameters(){return aI(this._dtlsParameters)}constructor(t){jE(this,"sessionDesc",void 0),jE(this,"_localCapabilities",void 0),jE(this,"_rtpCapabilities",void 0),jE(this,"_candidates",void 0),jE(this,"_iceParameters",void 0),jE(this,"_dtlsParameters",void 0),jE(this,"setup",void 0),jE(this,"currentMidIndex",void 0),jE(this,"cname","o/i14u9pJrxRKAsu"),jE(this,"firefoxSsrcMidMap",new Map),t=aI(t);const{remoteIceParameters:e,remoteDtlsParameters:n,candidates:i,remoteRTPCapabilities:r,localCapabilities:o,direction:s,setup:a,videoCodec:c,audioCodec:l}=t;let u;this.setup=a,u=s===MA.RECEIVE_ONLY?jM.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"):jM.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"),this._rtpCapabilities=r,this._candidates=i,this._iceParameters=e,this._dtlsParameters=n,this._localCapabilities=o;const d=s===MA.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,h=s===MA.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,p=s===MA.RECEIVE_ONLY?r.send.videoCodecs:aV(uO.VIDEO,d,h,c),f=s===MA.RECEIVE_ONLY?r.send.audioCodecs:aV(uO.AUDIO,d,h,l);for(const m of u.mediaDescriptions)m.attributes.iceUfrag=e.iceUfrag,m.attributes.icePwd=e.icePwd,m.attributes.fingerprints=n.fingerprints,m.attributes.candidates=i,m.attributes.setup=this.setup,"application"===m.media.mediaType&&(m.attributes.sctpPort="5000"),"video"===m.media.mediaType&&(m.media.fmts=p.map(t=>t.payloadType.toString(10)),m.attributes.payloads=p,m.attributes.extmaps=d.videoExtensions),"audio"===m.media.mediaType&&(m.media.fmts=f.map(t=>t.payloadType.toString(10)),m.attributes.payloads=f,m.attributes.extmaps=d.audioExtensions,sV(m));this.sessionDesc=u,this.currentMidIndex=u.mediaDescriptions.length-1}toString(){return jM.print(this.sessionDesc)}hasMid(t){return Array.isArray(t)?t.every(t=>this.hasMid(t)):this.sessionDesc.mediaDescriptions.some(e=>e.attributes.mid===t)}send(t,e,n,i,r){n=n.replace(/ /g,"-");const{ssrcs:o,ssrcGroups:s}=qM(e,this.cname,JI("SYNC_GROUP")?n:void 0),a=this.findPreloadMediaDesc(o);if(a){if(Qw()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,a.attributes.mid),r&&(r.twcc||r.remb)){const t=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return{mid:a.attributes.mid,needExchangeSDP:!1}}{const e=this.findAvailableMediaIndex(t,o,i);let n;return-1===e?(n=this.createOrRecycleSendMedia(t,o,s,"sendonly",i,r),this.updateBundleMids()):(n=aI(this.sessionDesc.mediaDescriptions[e]),n.attributes.direction="sendonly",n.attributes.ssrcs=o,n.attributes.ssrcGroups=s,this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(n,r)),Qw()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,n.attributes.mid),{needExchangeSDP:!0,mid:n.attributes.mid}}}stopSending(t){const e=this.sessionDesc.mediaDescriptions.filter(e=>e.attributes.mid&&-1!==t.indexOf(e.attributes.mid));if(e.length!==t.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");e.forEach(t=>{t.attributes.ssrcs=[]}),this.updateBundleMids()}receive(t,e,n){const i=[];return t.forEach(t=>{const r=t._mediaStreamTrack.kind,o=this.findAvailableRecvMediaIndex(r);let s,a=!1;-1===o?(a=!0,s=this.createOrRecycleRecvMedia(t,[],"recvonly",e,n),this.updateBundleMids()):(s=aI(this.sessionDesc.mediaDescriptions[o]),s.attributes.direction="recvonly"),i.push({mid:s.attributes.mid,needCreateTransceiver:a})}),i}stopReceiving(t){const e=this.sessionDesc.mediaDescriptions.filter(e=>-1!==t.indexOf(e.attributes.mid));if(e.length!==t.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");e.forEach(t=>{t.media.port="0",t.attributes.direction="inactive"}),this.updateBundleMids()}addRemoteCandidate(t){const{foundation:e,protocol:n,address:i,port:r,type:o,relatedAddress:s,relatedPort:a,priority:c}=new RTCIceCandidate(t),l={foundation:null!=e?e:"",componentId:"1",transport:null!=n?n:"",priority:c?c+"":"",connectionAddress:null!=i?i:"",port:r?r+"":"",type:o?o+"":"",relAddr:null!=s?s:"",relPort:a?a+"":"",extension:{}};this.candidates.some(t=>t.priority===l.priority&&t.connectionAddress===l.connectionAddress&&t.port===l.port)||(this._candidates.push(l),this.sessionDesc.mediaDescriptions.forEach(t=>{t.attributes.candidates=this.candidates}))}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}createOrRecycleRecvMedia(t,e,n,i,r){const o=t._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,a=aV(o,s,this.localCapabilities.send,o===uO.AUDIO?r:i),c=o===uO.VIDEO?s.videoExtensions:s.audioExtensions,l="".concat(++this.currentMidIndex);let u={media:{mediaType:o,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:a.map(t=>t.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:e,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(l)}};u=this.mungRecvMediaDsec(u,t);const d=this.findFirstClosedMedia(o);if(d){const t=this.sessionDesc.mediaDescriptions.indexOf(d);this.sessionDesc.mediaDescriptions[t]=u}else this.sessionDesc.mediaDescriptions.push(u);return u}muteRemote(t){const e=this.sessionDesc.mediaDescriptions.filter(e=>Pi(t).call(t,e.attributes.mid||""));if(e.length!==t.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");e.forEach(t=>{t.attributes.direction="inactive"})}unmuteRemote(t){const e=this.sessionDesc.mediaDescriptions.filter(e=>Pi(t).call(t,e.attributes.mid||""));if(e.length!==t.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");e.forEach(t=>{t.attributes.direction="recvonly"})}findAvailableMediaIndex(t,e,n){return this.sessionDesc.mediaDescriptions.findIndex(i=>{const r=i.media.mediaType===t&&"0"!==i.media.port&&("sendonly"===i.attributes.direction||"sendrecv"===i.attributes.direction)&&0===i.attributes.ssrcs.length;if(Qw()){if(r){const t=this.firefoxSsrcMidMap.get(e[0].ssrcId);return!(t||"0"!==i.attributes.mid&&"1"!==i.attributes.mid)||!(!t||t!==i.attributes.mid)}return!1}return r&&i.attributes.mid===n})}findAvailableRecvMediaIndex(t){return this.sessionDesc.mediaDescriptions.findIndex(e=>{const n=e.media.mediaType===t&&"0"!==e.media.port&&("recvonly"===e.attributes.direction||"sendrecv"===e.attributes.direction);return"0"!==e.attributes.mid&&"1"!==e.attributes.mid&&n})}predictReceivingMids(t){const e=[];for(let n=0;n<t;n++)e.push((this.currentMidIndex+n+1).toString(10));return e}restartICE(t){t=aI(t),this._iceParameters=t,this.sessionDesc.mediaDescriptions.forEach(e=>{e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd})}createOrRecycleSendMedia(t,e,n,i,r,o){const s=this.rtpCapabilities.send,a=t===uO.VIDEO?s.videoCodecs:s.audioCodecs,c=t===uO.VIDEO?s.videoExtensions:s.audioExtensions;Qw()&&(r="".concat(++this.currentMidIndex));let l={media:{mediaType:t,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:a.map(t=>t.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:e,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:r}};l=this.mungSendMediaDesc(l,o);const u=this.findFirstClosedMedia(t);if(u){const t=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[t]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}mungRecvMediaDsec(t,e,n){const i=aI(t);return JM(i),XM(i,e),ZM(i,e),QM(i),tV(i,n,this.localCapabilities.send),i}mungSendMediaDesc(t,e){const n=aI(t);return tV(n,e,this.localCapabilities.recv),sV(n),n}updateRecvMedia(t,e){const n=this.sessionDesc.mediaDescriptions.findIndex(e=>e.attributes.mid===t);if(-1!==n){const t=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],e);this.sessionDesc.mediaDescriptions[n]=t}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(t=>"0"!==t.media.port).map(t=>t.attributes.mid)}findPreloadMediaDesc(t){return this.sessionDesc.mediaDescriptions.find(e=>{var n;return(null===(n=e.attributes)||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId)===t[0].ssrcId})}findFirstClosedMedia(t){return this.sessionDesc.mediaDescriptions.find(e=>Qw()?"0"===e.media.port&&e.media.mediaType===t:"0"===e.media.port)}};const jU=["sdp"];var FU;function HU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function WU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?HU(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}let GU=(FU=class t extends cO{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var t,e;return null!==(t=null===(e=this.peerConnection.getReceivers()[0])||void 0===e||null===(e=e.transport)||void 0===e?void 0:e.state)&&void 0!==t?t:null}get localCodecs(){return[]}set isInRestartIce(t){this._isInRestartIce=t}get isInRestartIce(){return this._isInRestartIce}constructor(e,n,i){super(e,n),jE(this,"direction",void 0),jE(this,"name",void 0),jE(this,"store",void 0),jE(this,"spec",void 0),jE(this,"peerConnection",void 0),jE(this,"initialOffer",void 0),jE(this,"transport",void 0),jE(this,"statsFilter",void 0),jE(this,"localCandidateCount",0),jE(this,"_isInRestartIce",!1),jE(this,"mutex",new DI("P2PConnection-mutex")),jE(this,"onLocalCandidate",void 0),jE(this,"remoteSDP",void 0),jE(this,"pendingCandidates",[]),jE(this,"localCapabilities",void 0),jE(this,"isReady",!1),jE(this,"restartCnt",0),jE(this,"curTurnServerIndex",0),this.store=n,this.spec=e,this.peerConnection=new RTCPeerConnection(t.resolvePCConfiguration(e,n.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=null!=i?i:MA.SEND_ONLY,this.name=this.direction===MA.SEND_ONLY?"sendP2PConnection":"recvP2PConnection",this.statsFilter=UU(this.peerConnection,JI("STATS_UPDATE_INTERVAL"),void 0,Qw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(t){try{const e=await nV();if(this.localCapabilities=oV(e),t){const{sdp:e}=t,n=_U(t,jU),i=function(){const t={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},e=GM(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"sendonly"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(rV(e,t,"videoExtensions",n,i,r),rV(e,t,"videoCodecs",n,i,r),rV(e,t,"audioExtensions",n,i,r),rV(e,t,"audioCodecs",n,i,r),JI("RAISE_H264_BASELINE_PRIORITY")){const t=r.videoCodecs.findIndex(t=>t.rtpMap&&"h264"===t.rtpMap.encodingName.toLocaleLowerCase()&&t.fmtp&&"42001f"===t.fmtp.parameters["profile-level-id"]);if(-1!==t){const e=r.videoCodecs.findIndex(t=>t.rtpMap&&"h264"===t.rtpMap.encodingName.toLocaleLowerCase());if(e<t){gR.debug("raising H264 baseline profile priority");const n=r.videoCodecs[t];r.videoCodecs.splice(t,1),r.videoCodecs.splice(e,0,n)}-1!==e&&JI("FILTER_SEND_H264_BASELINE")&&(n.videoCodecs=n.videoCodecs.filter(t=>!(t.rtpMap&&"h264"===t.rtpMap.encodingName.toLocaleLowerCase()&&t.fmtp&&"42001f"!==t.fmtp.parameters["profile-level-id"])))}}return{send:n,recv:i,sendrecv:r}}({},{},e);this.remoteSDP=new BU({remoteIceParameters:n.iceParameters,remoteDtlsParameters:n.dtlsParameters,candidates:[],remoteRTPCapabilities:i,localCapabilities:this.localCapabilities,direction:this.direction,setup:"actpass",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()}),this.isReady=!0;const r=await this.peerConnection.createAnswer();if(!r.sdp)throw new Error("Cannot get answer sdp when trying to establish PeerConnection.");const o=$M(r.sdp);await this.peerConnection.setLocalDescription(r);const s=await iV({},{},r.sdp);this.localCapabilities=oV(s);const a=this.peerConnection.getTransceivers()[0];return null!=a&&a.receiver&&a.receiver.transport&&this.tryBindTransportEvents(a.receiver.transport),WU(WU({},o),{},{sdp:r.sdp})}{this.peerConnection.addTransceiver("video",{direction:"sendonly"}),this.peerConnection.addTransceiver("audio",{direction:"sendonly"});const t=await this.peerConnection.createOffer();if(!t.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const e=$M(t.sdp);return this.initialOffer=t,WU(WU({},e),{},{sdp:t.sdp})}}catch(t){throw new TC(SC.GET_LOCAL_CONNECTION_PARAMS_FAILED,t.toString())}}async connect(t){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");await this.peerConnection.setLocalDescription(this.initialOffer);const{sdp:e,iceParameters:n,dtlsParameters:i}=t,r=await iV({},{},e);this.remoteSDP=new BU({remoteIceParameters:n,remoteDtlsParameters:i,candidates:[],remoteRTPCapabilities:r,localCapabilities:this.localCapabilities,direction:this.direction,setup:"active",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()});const o=this.peerConnection.getTransceivers()[0];null!=o&&o.sender&&o.sender.transport&&this.tryBindTransportEvents(o.sender.transport)}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(t.toString()))}}async addRemoteCandidate(t){try{t&&this.pendingCandidates.push(t),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach(t=>{this.peerConnection.addIceCandidate(t)}),this.pendingCandidates=[])}catch(t){throw new TC(SC.ADD_CANDIDATE_FAILED,"P2PConnection.addRemoteCandidate failed; ".concat(t.toString()))}}send(t,e,n){var i=this;return YT((function*(){const r=yield KT(i.mutex.lock("From P2PConnection.send"));try{if(!i.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const o=[],s=i.remoteSDP.receive(t,e,n);t.forEach((t,e)=>{if(s[e].needCreateTransceiver){const e=i.peerConnection.addTransceiver(t._mediaStreamTrack,{direction:"sendonly"});o.push(e),t._updateRtpTransceiver(e)}else{const n=i.peerConnection.getTransceivers().find(t=>t.mid===s[e].mid);if(!n)throw new Error("cannot find transceiver when sendPeerconnection send, mid is ".concat(s[e].mid));o.push(n),t._updateRtpTransceiver(n)}}),Qw()&&!0===JI("SIMULCAST")&&(yield KT(i.applySimulcastForFirefox(o,t)));const a=s.map(t=>t.mid),c=yield KT(i.peerConnection.createOffer()),l=i.mungSendOfferSDP(c.sdp,t,a),u=jM.parse(l),d=a.map(t=>{const e=u.mediaDescriptions.find(e=>e.attributes.mid===t);if(!e)throw new Error("Cannot extract ssrc from mediaDescription.");return zM(e,JI("USE_PUB_RTX"))}),h=o.map((t,e)=>{const n=a[e];return{localSSRC:d[e],id:n}});yield KT(i.peerConnection.setLocalDescription({type:"offer",sdp:l}));try{yield h}catch(t){const n=i.remoteSDP.toString();throw yield KT(i.peerConnection.setLocalDescription({type:"offer",sdp:l})),yield KT(i.peerConnection.setRemoteDescription({type:"answer",sdp:n})),yield KT(i.stopSending(a,!0)),t}yield KT(i.applySimulcastEncodings(o,t)),yield KT(i.applySendEncodings(o,t));const p=i.remoteSDP.toString(),f=i.logSDPExchange(l,"offer","local","send");return null==f||f(p),yield KT(i.setRemoteDescription({type:"answer",sdp:p})),o.map((t,e)=>{const n=a[e];return{localSSRC:d[e],id:n}})}catch(t){throw t instanceof TC?t:new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(t.toString()))}finally{r()}}))()}async stopSending(t,e){const n=e?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const e=this.peerConnection.getTransceivers().filter(e=>-1!==t.indexOf(e.mid));if(e.length!==t.length)throw new Error("Transceivers' length (".concat(e.length,") doesn't match mids' length (").concat(t.length,") when trying to call P2PConnection.stopSending."));e.map(t=>{var e;t.direction="inactive",null===(e=t.stop)||void 0===e||e.call(t)});const i=await this.peerConnection.createOffer(),r=this.logSDPExchange(i.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(i),this.remoteSDP.stopReceiving(t);const o=this.remoteSDP.toString();null==r||r(o),await this.setRemoteDescription({type:"answer",sdp:o})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(t.toString()))}finally{n&&n()}}async receive(t,e,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(t,e,n,i);if(o){const e=this.remoteSDP.toString(),n=this.logSDPExchange(e,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:e});const i=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(i.sdp,r,t);null==n||n(o||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:o}),gR.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," by exchanging SDP."))}else gR.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," no need to exchange SDP."));const s=this.peerConnection.getTransceivers().find(t=>t.mid===r);if(!s||null===s.mid)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:s.receiver.track,mid:s.mid,transceiver:s}}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(t.toString()))}}async mockReceive(t,e,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(t,e,n,i);if(o){const e=this.remoteSDP.toString(),n=this.logSDPExchange(e,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:e});const i=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(i.sdp,r,t);null==n||n(o||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:o}),gR.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," by exchanging SDP."))}else gR.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," no need to exchange SDP."))}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(t.toString()))}}async stopReceiving(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(t);const e=this.remoteSDP.toString(),n=this.logSDPExchange(e,"offer","remote","stopReceiving");await this.setRemoteDescription({type:"offer",sdp:e});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(t.toString()))}}async restartICE(e){try{if(this.store.p2pTransport===$I.Auto&&(this.store.p2pTransport=$I.SdRtn,Qk().supportPCSetConfiguration&&this.peerConnection.setConfiguration(t.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,Qk().supportPCSetConfiguration&&this.peerConnection.setConfiguration(t.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!e){this.restartCnt++,this.isReady=!1;const t=await this.peerConnection.createOffer({iceRestart:!0});if(!t.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const{iceParameters:e}=$M(t.sdp);return this.store.descriptionStart(),this.direction===MA.SEND_ONLY&&await this.peerConnection.setLocalDescription(t),e}if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");if(this.remoteSDP.restartICE(e),this.store.descriptionStart(),this.direction===MA.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()});const t=await this.peerConnection.createAnswer();if(!t.sdp)throw new Error("Cannot get answer sdp when trying to iceRestart.");const{iceParameters:e}=$M(t.sdp);return await this.peerConnection.setLocalDescription(t),e}await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()}),this.isReady=!0}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(t.toString()))}}close(){var t;this.peerConnection.close(),this.peerConnection.onicecandidate=null,null===(t=this.onConnectionStateChange)||void 0===t||t.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(t){return this.statsFilter.getVideoIsReady(t)}async updateEncoderConfig(t,e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),i=this.mungSendOfferSDP(n.sdp,[e],[t]);this.remoteSDP.updateRecvMedia(t,e);const r=this.remoteSDP.toString(),o=this.logSDPExchange(i,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:i}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,t.toString())}}async updateSendParameters(t,e){const n=this.peerConnection.getTransceivers().filter(e=>e.mid===t);1===n.length&&(this.isVP8Simulcast(e)?Qw()||await this.applySimulcastEncodings(n,[e]):await this.applySendEncodings(n,[e]))}setStatsRemoteVideoIsReady(t,e){this.statsFilter.setVideoIsReady2(t,e)}async replaceTrack(t,e){const n=this.peerConnection.getTransceivers().find(t=>t.mid===e);n&&await n.sender.replaceTrack(t._mediaStreamTrack)}async getSelectedCandidatePair(){const t=this.peerConnection.getReceivers();if(t.length>0&&t[0].transport&&t[0].transport.iceTransport&&t[0].transport.iceTransport.getSelectedCandidatePair&&t[0].transport.iceTransport.getSelectedCandidatePair()){const e=t[0].transport.iceTransport,{local:n,remote:i}=e.getSelectedCandidatePair();return{local:WU(WU({},SU),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port}),remote:WU(WU({},SU),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var t,e;Pi(t=["connected","completed"]).call(t,this.peerConnection.iceConnectionState)&&(this.isReady=!1),null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var t;"connected"===this.peerConnection.connectionState&&(this.restartCnt=0),null===(t=this.onConnectionStateChange)||void 0===t||t.call(this,this.peerConnection.connectionState)},this.startICECandidate()}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=t=>{var e;t.candidate?(t.candidate.candidate&&(null===(e=this.onLocalCandidate)||void 0===e||e.call(this,t.candidate.toJSON())),this.localCandidateCount+=1):gR.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount)})}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={iceServers:[]};var o;return e.iceServers?r.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(zC(e.turnServer.servers)?r.iceServers=e.turnServer.servers:(r.iceServers&&r.iceServers.push(...t.turnServerConfigToIceServers(e.turnServer.servers,n,i)),JI("USE_TURN_SERVER_OF_GATEWAY")&&r.iceServers&&e.turnServer.serversFromGateway&&r.iceServers.push(...t.turnServerConfigToIceServers(e.turnServer.serversFromGateway,n,i)),Pi(o=[$I.Relay,$I.SdRtn]).call(o,n)&&(r.iceTransportPolicy="relay"),JI("FORCE_TURN_TCP")?r.iceTransportPolicy="relay":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach(t=>{t.forceturn&&(r.iceTransportPolicy="relay")}))),JI("ENABLE_ENCODED_TRANSFORM")&&Qk().supportWebRTCEncodedTransform&&(r.encodedInsertableStreams=!0),gR.debug("P2PConnection p2pTransport is ".concat(n)),r}static turnServerConfigToIceServers(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=[],r=t.filter(t=>t.tcpport);gR.debug("P2PConnection turnServers is ".concat(r,", current index is ").concat(n));const o=r.length>n?r[n]:r[0];switch(e){case $I.SdRtn:const e=t.filter(t=>{var e;return Pi(e=t.username).call(e,"glb:")&&t.turnServerURL==t.turnServerURL}),r=e.length>n?e[n]:e[0];r&&(i.push({username:r.username,credential:r.password,credentialType:"password",urls:"turn:".concat(XO(r.turnServerURL),":").concat(r.tcpport,"?transport=udp")}),i.push({username:r.username,credential:r.password,credentialType:"password",urls:"turns:".concat(XO(r.turnServerURL),":").concat(r.tcpport,"?transport=tcp")}));break;case $I.Relay:o&&(i.push({username:o.username,credential:o.password,credentialType:"password",urls:"turn:".concat(o.turnServerURL,":").concat(o.tcpport,"?transport=udp")}),i.push({username:o.username,credential:o.password,credentialType:"password",urls:"turns:".concat(XO(o.turnServerURL),":").concat(o.tcpport,"?transport=tcp")}));break;default:o&&(i.push({username:o.username,credential:o.password,credentialType:"password",urls:"turn:".concat(o.turnServerURL,":").concat(o.tcpport,"?transport=udp")}),i.push({username:o.username,credential:o.password,credentialType:"password",urls:"turns:".concat(XO(o.turnServerURL),":").concat(o.tcpport,"?transport=tcp")}),i.push({username:o.username,credential:o.password,credentialType:"password",urls:"stun:".concat(o.turnServerURL,":").concat(o.tcpport)}))}return i}tryBindTransportEvents(t){if(t){this.transport=t,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=t=>{var e;null===(e=this.onDTLSTransportError)||void 0===e||e.call(this,"error"in t?t.error:t)};const e=t.iceTransport;e&&(e.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var n;e&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,e))},e.getSelectedCandidatePair&&(e.onselectedcandidatepairchange=()=>{if(e.getSelectedCandidatePair()){const{local:t,remote:n}=e.getSelectedCandidatePair();gR.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:t.type,protocol:t.protocol}),", remote ").concat(JSON.stringify({candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})," )"))}}))}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(t,e){var n;if(e||(e=this.peerConnection.getSenders().find(e=>e.track===t._mediaStreamTrack)),!e)return gR.warn("[".concat(t.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(t))return gR.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!Qk().supportSetRtpSenderParameters)return gR.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const i={},r={};switch(t._optimizationMode){case"motion":i.degradationPreference="maintain-framerate";break;case"detail":i.degradationPreference="maintain-resolution";break;default:i.degradationPreference="balanced"}if(t._encoderConfig){var o;const{bitrateMax:e,frameRate:n,scaleResolutionDownBy:i}=t._encoderConfig;e&&(r.maxBitrate=1e3*e),Pi(o=t._hints).call(o,_N.LOW_STREAM)&&(n&&(r.maxFramerate=ZO(n)),i&&i>=1&&(r.scaleResolutionDownBy=i))}if(JI("DSCP_TYPE")&&vC()){var s;const t=JI("DSCP_TYPE");Pi(s=["very-low","low","medium","high"]).call(s,t)&&(r.networkPriority=t)}const a=e.getParameters(),c=null===(n=a.encodings)||void 0===n?void 0:n[0];Qw()&&!c&&(i.encodings=[r]),c&&Object.assign(c,r),Object.assign(a,i),gR.debug("[".concat(t.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(a.encodings))),await e.setParameters(a)}async applySendEncodings(t,e){try{if(!Qk().supportSetRtpSenderParameters)return;if(t.length!==e.length)return;for(let n=0;n<t.length;n++){const i=t[n],r=e[n];r instanceof cM&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,i.sender)}}catch(t){gR.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(t,e,n){const i=jM.parse(t);return e.forEach((t,e)=>{const r=n[e],o=i.mediaDescriptions.find(t=>t.attributes.mid===r);o&&(XM(o,t),eV(o,t,this.store.codec))}),jM.print(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=t=>{var e;null===(e=this.onFirstAudioReceived)||void 0===e||e.call(this,t)},this.statsFilter.onFirstVideoReceived=t=>{var e;null===(e=this.onFirstVideoReceived)||void 0===e||e.call(this,t)},this.statsFilter.onFirstAudioDecoded=t=>{var e;null===(e=this.onFirstAudioDecoded)||void 0===e||e.call(this,t)},this.statsFilter.onFirstVideoDecoded=(t,e,n)=>{var i;null===(i=this.onFirstVideoDecoded)||void 0===i||i.call(this,t,e,n)},this.statsFilter.onSelectedLocalCandidateChanged=(t,e)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,t,e)},this.statsFilter.onSelectedRemoteCandidateChanged=(t,e)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,t,e)},this.statsFilter.onFirstVideoDecodedTimeout=t=>{var e;null===(e=this.onFirstVideoDecodedTimeout)||void 0===e||e.call(this,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(t,e){if(t.length===e.length)for(let a=0;a<t.length;a++){var n,i,r,o,s;const c=t[a],l=e[a];if(l instanceof cM&&!Pi(n=l._hints).call(n,_N.LOW_STREAM)&&null!==(i=l._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(r=l._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=l._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(s=l._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1&&"vp8"===this.store.codec){const t={},e={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};t.encodings=[{rid:"m",active:!0,maxBitrate:e.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:e.high}];const n=c.sender.getParameters();await c.sender.setParameters(Object.assign(n,t))}}}async applySimulcastEncodings(t,e){if(!Qw()&&t.length===e.length)for(let n=0;n<t.length;n++){const i=e[n];if(i instanceof cM&&this.isVP8Simulcast(i)){const e=t[n],r={},o={high:1e3*(i._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:o.medium,scaleResolutionDownBy:4}];const s=e.sender.getParameters();await e.sender.setParameters(Object.assign(s,r))}}}isVP8Simulcast(t){var e,n,i,r,o;return!!(t instanceof cM&&JI("SIMULCAST")&&"vp8"===this.store.codec&&!Pi(e=t._hints).call(e,_N.LOW_STREAM)&&null!==(n=t._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(i=t._encoderConfig)||void 0===i?void 0:i.bitrateMax)>200&&null!==(r=t._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=t._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(t,e,n,i){if(JI("SDP_LOGGING"))return gR.upload("[".concat(this.store.clientId,"] exchanging ").concat(n," ").concat(e," SDP during P2PConnection.").concat(i,"\n"),t),"offer"===e?t=>{this.logSDPExchange(t,"answer","local"===n?"remote":"local",i)}:void 0}async muteLocal(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const e=this.peerConnection.getTransceivers().filter(e=>e.mid&&-1!==t.indexOf(e.mid));if(e.length!==t.length)throw new Error("Transceivers' length doesn't match mids' length.");e.map(t=>{t.direction="inactive"});const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(t);const r=this.remoteSDP.toString();null==i||i(r),await this.setRemoteDescription({type:"answer",sdp:r})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(t.toString()))}}async unmuteLocal(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const e=this.peerConnection.getTransceivers().filter(e=>e.mid&&-1!==t.indexOf(e.mid));if(e.length!==t.length)throw new Error("Transceivers' length doesn't match mids' length.");e.map(async t=>{t.direction="sendonly"});const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(t);const r=this.remoteSDP.toString();null==i||i(r),await this.setRemoteDescription({type:"answer",sdp:r})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(t.toString()))}}async getRemoteSSRC(t,e){var n,i;if(e=null!==(n=e)&&void 0!==n?n:null===(i=this.currentRemoteDescription)||void 0===i?void 0:i.sdp){var r;const n=null===(r=jM.parse(e).mediaDescriptions.find(e=>e.attributes.mid===t))||void 0===r?void 0:r.attributes.ssrcs;return null==n?void 0:n[0].ssrcId}}async setRemoteDescription(t){var e;await this.peerConnection.setRemoteDescription(t),Pi(e=["connected","completed"]).call(e,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate())}mungReceiveAnswerSDP(t,e,n){const i=jM.parse(t),r=i.mediaDescriptions.find(t=>t.attributes.mid===e);return r&&n===uO.AUDIO&&"audio"===r.media.mediaType&&sV(r),jM.print(i)}},TA(FU.prototype,"establish",[$U],Object.getOwnPropertyDescriptor(FU.prototype,"establish"),FU.prototype),TA(FU.prototype,"connect",[$U],Object.getOwnPropertyDescriptor(FU.prototype,"connect"),FU.prototype),TA(FU.prototype,"receive",[$U],Object.getOwnPropertyDescriptor(FU.prototype,"receive"),FU.prototype),TA(FU.prototype,"mockReceive",[$U],Object.getOwnPropertyDescriptor(FU.prototype,"mockReceive"),FU.prototype),TA(FU.prototype,"stopReceiving",[$U],Object.getOwnPropertyDescriptor(FU.prototype,"stopReceiving"),FU.prototype),TA(FU.prototype,"restartICE",[$U],Object.getOwnPropertyDescriptor(FU.prototype,"restartICE"),FU.prototype),TA(FU.prototype,"close",[$U],Object.getOwnPropertyDescriptor(FU.prototype,"close"),FU.prototype),TA(FU.prototype,"updateEncoderConfig",[$U],Object.getOwnPropertyDescriptor(FU.prototype,"updateEncoderConfig"),FU.prototype),TA(FU.prototype,"updateSendParameters",[$U],Object.getOwnPropertyDescriptor(FU.prototype,"updateSendParameters"),FU.prototype),TA(FU.prototype,"replaceTrack",[$U],Object.getOwnPropertyDescriptor(FU.prototype,"replaceTrack"),FU.prototype),TA(FU.prototype,"muteLocal",[$U],Object.getOwnPropertyDescriptor(FU.prototype,"muteLocal"),FU.prototype),TA(FU.prototype,"unmuteLocal",[$U],Object.getOwnPropertyDescriptor(FU.prototype,"unmuteLocal"),FU.prototype),FU);function $U(t,e,n){const i=t[e];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const t=this.mutex,n=await t.lock("From P2PConnection.".concat(e));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await i.apply(this,o)}finally{n()}},n}function zU(t,e){let n=document.createElement("video"),i=document.createElement("canvas");n.setAttribute("style","display:none"),i.setAttribute("style","display:none"),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("autoplay",""),n.autoplay=!0,n.setAttribute("playsinline",""),i.width=ZO(e.width),i.height=ZO(e.height);const r=ZO(e.framerate||15);document.body.append(n),document.body.append(i);let o=t._mediaStreamTrack;n.srcObject=new MediaStream([o]),n.play();const s=i.getContext("2d");if(!s)throw new IR(SC.UNEXPECTED_ERROR,"can not get canvas context");const a=Qk(),c=i.captureStream(a.supportRequestFrame?0:r).getVideoTracks()[0];c.canvas||(c.canvas=i),i.startCapture=()=>{if(!n)return i.stopCapture&&i.stopCapture();if(n.paused&&n.play(),n.videoHeight>2&&n.videoWidth>2){const t=n.videoWidth,e=n.videoHeight/t,r=i.width*e;Math.abs(r-i.height)>=2&&(gR.debug("adjust low stream resolution","".concat(i.width,"x").concat(i.height," -> ").concat(i.width,"x").concat(r)),i.height=r)}s.drawImage(n,0,0,i.width,i.height),c.requestFrame&&c.requestFrame(),o!==t._mediaStreamTrack&&(o=t._mediaStreamTrack,n.srcObject=new MediaStream([o]))},i.stopCapture=ZN(()=>i.startCapture&&i.startCapture(),r);const l=c.stop;return c.stop=()=>{l.call(c),n&&(n.remove(),n.srcObject=null,n=null),i&&(i.width=0,i.remove(),i.stopCapture&&i.stopCapture(),i.startCapture=void 0,i.stopCapture=void 0,i=null),gR.debug("clean low stream renderer")},c}var YU=function(t){return t[t.HEIGHT=2033]="HEIGHT",t[t.FRAME_RATE=2034]="FRAME_RATE",t[t.WIDTH=2035]="WIDTH",t}(YU||{}),KU=function(t){return t[t.FRAME_RATE=2002]="FRAME_RATE",t[t.WIDTH=2003]="WIDTH",t[t.HEIGHT=2004]="HEIGHT",t[t.PACKAGE_LOST=2005]="PACKAGE_LOST",t[t.AVG_ENCODE=2007]="AVG_ENCODE",t[t.NACKS=2009]="NACKS",t[t.PLIS=2010]="PLIS",t[t.FIRS=2011]="FIRS",t[t.BITRATE=2012]="BITRATE",t[t.PACKAGE_RATE=2031]="PACKAGE_RATE",t[t.ADAPTATION=2032]="ADAPTATION",t[t.ACTUAL_ENCODED=2060]="ACTUAL_ENCODED",t[t.BANDWIDTH=2061]="BANDWIDTH",t[t.RETRANSMIT=2062]="RETRANSMIT",t[t.TARGET_ENCODED=2064]="TARGET_ENCODED",t[t.TRANSMIT=2066]="TRANSMIT",t[t.FREEZE=2082]="FREEZE",t[t.DISABLED=2095]="DISABLED",t[t.PLAYER_STATUS=2128]="PLAYER_STATUS",t[t.QP_SUM=2143]="QP_SUM",t}(KU||{}),qU=function(t){return t[t.BITRATE=2069]="BITRATE",t[t.PACKAGE_LOST=2070]="PACKAGE_LOST",t[t.PACKAGE_RATE=2071]="PACKAGE_RATE",t[t.HEIGHT=2073]="HEIGHT",t[t.FRAME_RATE=2075]="FRAME_RATE",t[t.WIDTH=2077]="WIDTH",t}(qU||{}),XU=function(t){return t[t.JITTER=-1]="JITTER",t[t.PACKAGE_LOST=2014]="PACKAGE_LOST",t[t.WIDTH=2018]="WIDTH",t[t.HEIGHT=2019]="HEIGHT",t[t.FRAME_RATE=2020]="FRAME_RATE",t[t.JITTER_BUFFER=2023]="JITTER_BUFFER",t[t.CURRENT_DELAY=2024]="CURRENT_DELAY",t[t.NACKS=2026]="NACKS",t[t.PLIS=2027]="PLIS",t[t.FIRS=2028]="FIRS",t[t.BITRATE=2029]="BITRATE",t[t.PACKAGE_RATE=2078]="PACKAGE_RATE",t[t.FREEZE=2084]="FREEZE",t[t.DISABLED=2101]="DISABLED",t[t.PLAYER_STATUS=2129]="PLAYER_STATUS",t[t.QP_SUM=2144]="QP_SUM",t[t.I_FRAME_DELAY=2149]="I_FRAME_DELAY",t}(XU||{}),JU=function(t){return t[t.FRAME_RATE_DECODE=2021]="FRAME_RATE_DECODE",t[t.FRAME_RATE_RENDER=2022]="FRAME_RATE_RENDER",t[t.FRAME_RATE_OUTPUT=2155]="FRAME_RATE_OUTPUT",t[t.FREEZE_TIME=2109]="FREEZE_TIME",t[t.FREEZE_TIME_RENDER=2147]="FREEZE_TIME_RENDER",t[t.FREEZE_DURATION=2156]="FREEZE_DURATION",t}(JU||{}),ZU=function(t){return t[t.PCM_LEVEL=2104]="PCM_LEVEL",t}(ZU||{}),QU=function(t){return t[t.PACKAGE_LOST=-1]="PACKAGE_LOST",t[t.LEVEL=2038]="LEVEL",t[t.BITRATE=2039]="BITRATE",t[t.PACKAGE_RATE=2040]="PACKAGE_RATE",t[t.AEC_RETURN_LOSS=2041]="AEC_RETURN_LOSS",t[t.AEC_RETURN_LOSS_ENH=2042]="AEC_RETURN_LOSS_ENH",t[t.FREEZE=2081]="FREEZE",t[t.DISABLED=2096]="DISABLED",t}(QU||{}),tB=function(t){return t[t.BITRATE=2044]="BITRATE",t[t.PACKAGE_LOST=2045]="PACKAGE_LOST",t[t.PACKAGE_RATE=2046]="PACKAGE_RATE",t[t.CURRENT_DELAY=2047]="CURRENT_DELAY",t[t.JITTER_BUFFER=2054]="JITTER_BUFFER",t[t.JITTER=2055]="JITTER",t[t.FREEZE=2083]="FREEZE",t[t.DISABLED=2102]="DISABLED",t[t.PCM_LEVEL=2105]="PCM_LEVEL",t[t.PLAYER_STATUS=2130]="PLAYER_STATUS",t[t.CONCEALED_SAMPLES=2148]="CONCEALED_SAMPLES",t}(tB||{}),eB=function(t){return t[t.FREEZE_TIME=-1]="FREEZE_TIME",t[t.LEVEL=2043]="LEVEL",t}(eB||{}),nB=function(t){return t[t.RTT=2006]="RTT",t[t.CONN_TYPE=801]="CONN_TYPE",t}(nB||{});const iB=1e3,rB=3;function oB(t,e,n){null!=n&&Number.isFinite(n)&&(t[e]=Math.round(Math.max(0,n)))}function sB(t){const e={[nB.CONN_TYPE]:0,[nB.RTT]:t.rtt};switch(t.selectedCandidatePair.localCandidate.candidateType){case"relay":{const n=t.selectedCandidatePair.localCandidate.relayProtocol;"udp"===n&&(e[nB.CONN_TYPE]=1),"tcp"===n&&(e[nB.CONN_TYPE]=3),"tls"===n&&(e[nB.CONN_TYPE]=4);break}case"srflx":e[nB.CONN_TYPE]=2}return e}function aB(t){let e=0;switch(t){case"none":e=0;break;case"cpu":e=1;break;case"bandwidth":e=2;break;case"other":e=3}return e}class cB extends UC{constructor(t){super(),jE(this,"store",void 0),jE(this,"uploadWRTCStatsTimer",void 0),jE(this,"uploadOutboundDenoiserStatsTimer",void 0),jE(this,"uploadExtStatsTimer",void 0),jE(this,"uploadExtUsageStatsTimer",void 0),jE(this,"uploadInboundExtStatsTimer",void 0),jE(this,"requestStats",void 0),jE(this,"requestTransportStats",void 0),jE(this,"requestLocalMedia",void 0),jE(this,"requestRemoteMedia",void 0),jE(this,"requestAllTracks",void 0),jE(this,"requestVideoIsReady",void 0),jE(this,"requestUploadStats",void 0),jE(this,"requestUpload",void 0),jE(this,"uploadOutboundStarted",!1),jE(this,"uploadInboundStarted",!1),jE(this,"uploadTransportStarted",!1),jE(this,"uploadExtensionUsageStarted",!1),jE(this,"lastRecvStats",void 0),jE(this,"lastSendStats",void 0),jE(this,"lastFullRecvStats",void 0),jE(this,"lastFullSendStats",void 0),jE(this,"needUploadRenderFreezeTime",!0),this.store=t}uploadWRTCStats(t){if(!this.requestStats||!this.requestUploadStats)return;let e,n;if(this.uploadTransportStarted&&(e=this.requestStats(),this.store.useP2P&&(n=this.requestStats(!0))),!e&&this.uploadOutboundStarted&&(e=this.requestStats()),!n&&this.uploadInboundStarted&&(n=this.requestStats(!0)),e||n){const i={};if(this.uploadTransportStarted&&e){const r=this.getTransportStats(e,n,t);r&&(i.misc=[r])}if(this.uploadOutboundStarted&&e){const n=this.getOutboundStats(e,t?this.lastSendStats:this.lastFullSendStats,t);n&&(i.outbound=[n])}if(this.uploadInboundStarted&&n){const e=this.getInboundStats(n,t?this.lastRecvStats:this.lastFullRecvStats,t);e&&(i.inbound=e)}this.requestUploadStats(i)}this.lastRecvStats=n,this.lastSendStats=e,t||(this.lastFullRecvStats=n,this.lastFullSendStats=e)}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;let t=1;this.uploadWRTCStatsTimer=window.setInterval(()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted)return this.stopUploadWRTCStats();this.uploadWRTCStats(t!==rB),++t===rB+1&&(t=1)},iB)}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0)}getTransportStats(t,e,n){if(!this.requestStats)return;if(n)return null==t.rtt?void 0:{addition:{[nB.RTT]:t.rtt,[nB.CONN_TYPE]:void 0}};const i=sB(t);if(this.store.useP2P){if(e){const t=sB(e);i[nB.CONN_TYPE]+=t[nB.CONN_TYPE]<<3}i[nB.CONN_TYPE]+=110}else i[nB.CONN_TYPE]+=100;return{addition:i}}getOutboundStats(t,e,n){if(!this.requestUploadStats||!this.requestLocalMedia)return;const i=this.requestLocalMedia();if(!i||0===i.length)return;let r,o,s;return i.forEach(i=>{let[a,{track:c,ssrcs:l}]=i;switch(a){case pO.LocalVideoLowTrack:case pO.LocalVideoTrack:if(a===pO.LocalVideoTrack){const i=function(t,e,n,i,r){const o=e.videoSend.find(e=>e.ssrc===t);if(!o)return;const s={},{sentFrame:a,inputFrame:c}=o;if(c&&a){const t=c.frameRate,e=a.frameRate;s[KU.FREEZE]=function(t,e){let n=!0;return n=!(t<=5)&&(t<=10?e<3:t<=20?e<4:e<5),n}(t,e)?1:0}if(oB(s,KU.QP_SUM,o.qpSumPerFrame),r)return s;switch(a&&(oB(s,KU.HEIGHT,a.height),oB(s,KU.WIDTH,a.width),oB(s,KU.FRAME_RATE,a.frameRate)),s[KU.DISABLED]=i._originMediaStreamTrack&&!i._originMediaStreamTrack.enabled||i._mediaStreamTrack&&!i._mediaStreamTrack.enabled?1:0,o.adaptionChangeReason){case"none":s[KU.ADAPTATION]=0;break;case"cpu":s[KU.ADAPTATION]=1;break;case"bandwidth":s[KU.ADAPTATION]=2;break;case"other":s[KU.ADAPTATION]=3}let l=0;o.adaptionChangeReason&&(l+=aB(o.adaptionChangeReason)),e.qualityLimitationReason&&(l+=aB(e.qualityLimitationReason)<<3),s[KU.ADAPTATION]=l,s[KU.PLAYER_STATUS]=UN[i._player?i._player.videoElementStatus:"uninit"],oB(s,KU.NACKS,o.nacksCount),oB(s,KU.PLIS,o.plisCount),oB(s,KU.FIRS,o.firsCount),oB(s,KU.AVG_ENCODE,o.avgEncodeMs);const u=n&&n.videoSend.find(e=>e.ssrc===t);if(u){let t=r?iB:iB*rB;u.timestamp&&o.timestamp&&(t=o.timestamp-u.timestamp),null!=u.packets&&null!=o.packets&&oB(s,KU.PACKAGE_RATE,1e3*(o.packets-u.packets)/t),null!=o.packetsLost&&null!=u.packetsLost&&oB(s,KU.PACKAGE_LOST,o.packetsLost-u.packetsLost),null!=u.bytes&&null!=o.bytes&&oB(s,KU.BITRATE,8*(o.bytes-u.bytes)/t)}return s}(l[0].ssrcId,t,e,c,n),r=n?null:function(t,e,n){const i=e.videoSend.find(e=>e.ssrc===t);if(!i)return null;const r={},o=i.inputFrame,s=o&&o.height||n&&n.videoHeight||0,a=o&&o.width||n&&n.videoWidth||0,c=o&&o.frameRate||0;return oB(r,YU.HEIGHT,s),oB(r,YU.WIDTH,a),oB(r,YU.FRAME_RATE,c),r}(l[0].ssrcId,t,c),s=n?null:function(t){const e={};return oB(e,KU.RETRANSMIT,t.bitrate.retransmit),oB(e,KU.TARGET_ENCODED,t.bitrate.targetEncoded),oB(e,KU.ACTUAL_ENCODED,t.bitrate.actualEncoded),oB(e,KU.TRANSMIT,t.bitrate.transmit),oB(e,KU.BANDWIDTH,t.sendBandwidth),e}(t);o=Object.assign({},i,r,s)}else s=n?void 0:function(t,e,n){const i=e.videoSend.find(e=>e.ssrc===t);if(!i)return;const r={},o=i.sentFrame;if(o&&(oB(r,qU.HEIGHT,o.height),oB(r,qU.WIDTH,o.width),oB(r,qU.FRAME_RATE,o.frameRate)),n){const e=n.videoSend.find(e=>e.ssrc===t);if(e){let t=iB*rB;e.timestamp&&i.timestamp&&(t=i.timestamp-e.timestamp),null!=e.packets&&null!=i.packets&&oB(r,qU.PACKAGE_RATE,1e3*(i.packets-e.packets)/t),null!=i.packetsLost&&null!=e.packetsLost&&oB(r,qU.PACKAGE_LOST,i.packetsLost-e.packetsLost),null!=e.bytes&&null!=i.bytes&&oB(r,qU.BITRATE,8*(i.bytes-e.bytes)/t)}}return r}(l[0].ssrcId,t,e);break;case pO.LocalAudioTrack:r=n?void 0:function(t,e,n,i){const r=e.audioSend.find(e=>e.ssrc===t);if(!r)return;const o={};o[QU.DISABLED]=i._originMediaStreamTrack&&!i._originMediaStreamTrack.enabled||i._mediaStreamTrack&&!i._mediaStreamTrack.enabled?1:0;const s=100*i._source.getAccurateVolumeLevel(),a=r.inputLevel;if(null!=a){const t=Math.ceil(50*Math.log10(100*a+1));oB(o,QU.LEVEL,t)}else oB(o,QU.LEVEL,s);oB(o,ZU.PCM_LEVEL,s),oB(o,QU.AEC_RETURN_LOSS,r.aecReturnLoss),oB(o,QU.AEC_RETURN_LOSS_ENH,r.aecReturnLossEnhancement),o[QU.FREEZE]=0;const c=n&&n.audioSend.find(e=>e.ssrc===t);if(c){let t=iB*rB;c.timestamp&&r.timestamp&&(t=r.timestamp-c.timestamp),null!=c.bytes&&null!=r.bytes&&oB(o,QU.BITRATE,8*(r.bytes-c.bytes)/t),null!=c.packets&&null!=r.packets&&oB(o,QU.PACKAGE_RATE,1e3*(r.packets-c.packets)/t)}return o}(l[0].ssrcId,t,e,c)}}),{high:o,low:s,audio:r}}getInboundStats(t,e,n){if(!this.requestRemoteMedia)return;const i=this.requestRemoteMedia()||[],r=[];return i.forEach(i=>{let[o,s]=i;const a={peer:o.uid};if(s.has(uO.VIDEO)&&o.videoTrack){const i=o._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(o._videoSSRC)||!1,r=o.videoTrack?function(t,e,n,i,r,o,s){var a;const c=e.videoRecv.find(e=>e.ssrc===t);if(!c)return;const l={},{receivedFrame:u,outputFrame:d,decodeFrameRate:h}=c,p=n&&n.videoRecv.find(e=>e.ssrc===t);if(l[XU.FREEZE]=r&&kB.isRemoteVideoFreeze(i,c,p)?1:0,oB(l,JU.FRAME_RATE_DECODE,h),oB(l,XU.QP_SUM,c.qpSumPerFrame),c.framesRateFirefox&&oB(l,XU.FRAME_RATE,c.framesRateFirefox),u&&oB(l,XU.FRAME_RATE,u.frameRate),p){const t=e.timestamp-n.timestamp||(s?iB:rB*iB);null!=c.packetsLost&&null!=p.packetsLost&&oB(l,XU.PACKAGE_LOST,c.packetsLost-p.packetsLost),null!=p.bytes&&null!=c.bytes&&oB(l,XU.BITRATE,8*(c.bytes-p.bytes)/t),null!=p.packets&&null!=c.packets&&oB(l,XU.PACKAGE_RATE,1e3*(c.packets-p.packets)/t)}if(s)return l;u?(oB(l,XU.HEIGHT,u.height),oB(l,XU.WIDTH,u.width)):i&&(oB(l,XU.HEIGHT,i._videoHeight||0),oB(l,XU.WIDTH,i._videoWidth||0)),d&&oB(l,JU.FRAME_RATE_OUTPUT,d.frameRate);const f=null===(a=i._player)||void 0===a?void 0:a.rendFrameRate.toFixed(0);if(f&&oB(l,JU.FRAME_RATE_RENDER,+f),oB(l,XU.JITTER_BUFFER,c.jitterBufferMs),oB(l,XU.CURRENT_DELAY,c.currentDelayMs),oB(l,XU.FIRS,c.firsCount),oB(l,XU.NACKS,c.nacksCount),oB(l,XU.PLIS,c.plisCount),i){l[XU.DISABLED]=i._originMediaStreamTrack.enabled&&i._mediaStreamTrack.enabled?0:1;const t=i._player;if(t){const{freezeTimeCounterList:e,renderFreezeAccTime:n,videoElementStatus:i}=t;if(e&&e.length>0&&oB(l,JU.FREEZE_TIME,e.splice(0,1)[0]),o&&"visible"===IM.visibility&&i===MN.PLAYING&&Qk().supportRequestVideoFrameCallback){const e=Math.min(6e3,n);t.renderFreezeAccTime=Math.max(0,n-e),oB(l,JU.FREEZE_TIME_RENDER,e)}if("number"==typeof c.totalFreezesDuration){const t=p&&p.totalFreezesDuration?c.totalFreezesDuration-p.totalFreezesDuration:c.totalFreezesDuration;oB(l,JU.FREEZE_DURATION,1e3*t)}}}if(l[XU.PLAYER_STATUS]=UN[i._player?i._player.videoElementStatus:"uninit"],p&&void 0!==c.totalInterFrameDelay&&void 0!==c.totalSquaredInterFrameDelay&&void 0!==p.totalInterFrameDelay&&void 0!==p.totalSquaredInterFrameDelay){const t=c.totalInterFrameDelay-p.totalInterFrameDelay,e=c.totalSquaredInterFrameDelay-p.totalSquaredInterFrameDelay,n=c.framesDecodeCount-p.framesDecodeCount,i=t/n*1e3,r=Math.round(1e3*Math.sqrt((e-Math.pow(t,2)/n)/n));!isNaN(r)&&i+r>Math.max(3*i,i+150)&&(l[XU.I_FRAME_DELAY]=r)}return l}(o._videoSSRC,t,e,o.videoTrack,!0===i,this.needUploadRenderFreezeTime,n):void 0;r&&(a.video=r)}if(s.has(uO.AUDIO)&&o.audioTrack){const i=o.audioTrack?function(t,e,n,i,r){const o=e.audioRecv.find(e=>e.ssrc===t);if(!o)return;const s={},a=n&&n.audioRecv.find(e=>e.ssrc===t),{receivedFrames:c,droppedFrames:l}=o;var u,d;if(oB(s,tB.JITTER,o.jitterMs),null!=c&&null!=l&&(s[tB.FREEZE]=(d=l,0===(u=c)||100*d/u>20?1:0)),a){const t=e.timestamp-n.timestamp||(r?iB:iB*rB);null!=o.packets&&null!=a.packets&&oB(s,tB.PACKAGE_RATE,1e3*(o.packets-a.packets)/t),null!=a.bytes&&null!=o.bytes&&oB(s,tB.BITRATE,8*(o.bytes-a.bytes)/t),null!=o.packetsLost&&null!=a.packetsLost&&oB(s,tB.PACKAGE_LOST,o.packetsLost-a.packetsLost)}if(r)return s;const h=100*i._source.getAccurateVolumeLevel(),p=o.outputLevel;if(null!=p){const t=Math.ceil(50*Math.log10(100*p+1));oB(s,eB.LEVEL,t)}if(oB(s,tB.PCM_LEVEL,h),i&&(s[tB.DISABLED]=i._originMediaStreamTrack.enabled&&i._mediaStreamTrack.enabled?0:1),oB(s,tB.JITTER_BUFFER,o.jitterBufferMs),oB(s,tB.CURRENT_DELAY,o.jitterBufferMs),s[tB.PLAYER_STATUS]=UN[_P.getPlayerState(i.getTrackId())],a){const t=o.concealedSamples-a.concealedSamples;t>0&&oB(s,tB.CONCEALED_SAMPLES,t)}return s}(o._audioSSRC,t,e,o.audioTrack,n):void 0;i&&(a.audio=i)}(a.video||a.audio)&&r.push(a)}),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,r}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}stopUploadTransportStats(){this.uploadTransportStarted=!1}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval(()=>{if(!this.requestAllTracks||!this.requestUpload)return;const t=(this.requestAllTracks()||[]).find(t=>t instanceof EL);if(t&&t._external.getDenoiserStats){const e=t._external.getDenoiserStats();e&&this.requestUpload(PA.DENOISER_STATS,e)}},2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval(()=>{this.requestAllTracks&&this.requestUpload&&this.requestAllTracks().forEach(t=>{t.getProcessorStats().forEach(t=>{this.requestUpload&&this.requestUpload(t.type,t.stats)})})},2e3))}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0)}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval(()=>{this.requestUpload&&this.requestRemoteMedia&&(this.requestRemoteMedia()||[]).forEach(t=>{let[e,n]=t;n.has(uO.VIDEO)&&e.videoTrack&&e.videoTrack.getProcessorStats().forEach(t=>{this.requestUpload&&this.requestUpload(t.type,t.stats)}),n.has(uO.AUDIO)&&e.audioTrack&&e.audioTrack.getProcessorStats().forEach(t=>{this.requestUpload&&this.requestUpload(t.type,t.stats)})})},2e3))}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);const t=new Map;this.uploadExtUsageStatsTimer=window.setInterval(async()=>{const e=Date.now(),n={connectionInterval:JI("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3,details:[],lts:e};let i=[];const r=this.requestAllTracks&&this.requestAllTracks()||[];for(const t of r)!t.muted&&t.enabled&&(i=i.concat(await t.getProcessorUsage()));const o=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(const[t,c]of o)c.has(uO.VIDEO)&&t.videoTrack&&(i=i.concat(await t.videoTrack.getProcessorUsage())),c.has(uO.AUDIO)&&t.audioTrack&&(i=i.concat(await t.audioTrack.getProcessorUsage()));if(0===i.length)return;n.details=function(t,e){const n={};for(const{id:s,value:a,level:c,direction:l}of t){var i;const t=null!==(i=e.get(s))&&void 0!==i?i:0,u=2===a?t+JI("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3:t;var r,o;e.set(s,u),n[s]?(2===a&&(n[s].value=a),c>n[s].level&&(n[s].level=c),"remote"===l&&(n[s].remoteUidCount+=1),n[s].totalTs=null!==(r=e.get(s))&&void 0!==r?r:0):n[s]={value:a,level:c,remoteUidCount:"local"===l?0:1,totalTs:null!==(o=e.get(s))&&void 0!==o?o:0}}return Object.keys(n).map(t=>{const{level:e,value:i,totalTs:r}=n[t];return{id:t,level:e,value:i,totalTs:r}})}(i,t);const s=Date.now(),a=s>e?s:e+1;this.requestUpload&&this.requestUpload(PA.EXTENSION_USAGE_STATS,{usageStats:n,sendTs:a})},JI("EXTENSION_USAGE_UPLOAD_INTERVAL"))}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}}class lB{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(t,e){jE(this,"uid",void 0),jE(this,"_uintid",void 0),jE(this,"_trust_in_room_",!0),jE(this,"_trust_audio_enabled_state_",!0),jE(this,"_trust_video_enabled_state_",!0),jE(this,"_trust_audio_mute_state_",!0),jE(this,"_trust_video_mute_state_",!0),jE(this,"_audio_muted_",!1),jE(this,"_video_muted_",!1),jE(this,"_audio_enabled_",!0),jE(this,"_video_enabled_",!0),jE(this,"_audio_added_",!1),jE(this,"_video_added_",!1),jE(this,"_is_pre_created",!1),jE(this,"_video_pre_subscribed",!1),jE(this,"_audio_pre_subscribed",!1),jE(this,"_trust_video_stream_added_state_",!0),jE(this,"_trust_audio_stream_added_state_",!0),jE(this,"_audioTrack",void 0),jE(this,"_videoTrack",void 0),jE(this,"_dataChannels",[]),jE(this,"_audioSSRC",void 0),jE(this,"_videoSSRC",void 0),jE(this,"_audioOrtc",void 0),jE(this,"_videoOrtc",void 0),jE(this,"_cname",void 0),jE(this,"_rtxSsrcId",void 0),jE(this,"_videoMid",void 0),jE(this,"_audioMid",void 0),this.uid=t,this._uintid=e}}let uB=function(t){return t.SEND_ONLY="SEND_ONLY",t.RECEIVE_ONLY="RECEIVE_ONLY",t}({});function dB(t,e){var n;let i;switch(e){case pO.LocalAudioTrack:i=QA.Audio;break;case pO.LocalVideoTrack:i=Pi(n=t._hints).call(n,_N.SCREEN_TRACK)?QA.Screen:QA.High;break;case pO.LocalVideoLowTrack:i=QA.Low}return i}function hB(t){const e=Qk();if(t.some(t=>t._bypassWebAudio))throw new TC(SC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");if(!e.webAudioMediaStreamDest)throw new TC(SC.NOT_SUPPORTED,"cannot publish multiple tracks because your browser does not support audio mixing")}function pB(t,e){hB(t);const n=e||new SL;return t.forEach(t=>n.addAudioTrack(t)),n}var fB,mB,vB,gB,_B,yB,EB,bB,SB,TB,wB,CB;function IB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function RB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?IB(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}let AB=(fB=OB(uB.SEND_ONLY),mB=OB(uB.SEND_ONLY),vB=OB(),gB=OB(uB.RECEIVE_ONLY),_B=OB(uB.RECEIVE_ONLY),yB=OB(uB.RECEIVE_ONLY),EB=OB(uB.RECEIVE_ONLY),bB=OB(uB.RECEIVE_ONLY),SB=OB(uB.RECEIVE_ONLY),TB=OB(),wB=OB(uB.RECEIVE_ONLY),CB=class extends UC{get state(){return this._state}set state(t){const e=this._state;this._state=t,this.emit(mO.StateChange,e,this._state)}constructor(t,e){super(),jE(this,"isPlanB",!1),jE(this,"store",void 0),jE(this,"statsUploader",void 0),jE(this,"sendConnection",void 0),jE(this,"recvConnection",void 0),jE(this,"localTrackMap",new Map),jE(this,"remoteUserMap",new Map),jE(this,"localDataChannels",[]),jE(this,"pendingLocalTracks",[]),jE(this,"pendingRemoteTracks",[]),jE(this,"statsCollector",void 0),jE(this,"dtlsFailedCount",0),jE(this,"sendMutex",new DI("P2PChannel2-send-mutex")),jE(this,"recvMutex",new DI("P2PChannel2-recv-mutex")),jE(this,"_state",fO.Disconnected),jE(this,"_restartStates",["disconnected","failed"]),jE(this,"reconnectInterval",void 0),jE(this,"uploadUnplinkStarted",!1),jE(this,"uploadDownlinkStarted",!1),jE(this,"uplinkStateUploadInterval",void 0),jE(this,"downlinkStatsUploadInterval",void 0),jE(this,"handleMuteLocalTrack",async(t,e,n)=>{const i=await this.sendMutex.lock("Locking from P2PChannel2.handleMuteLocalTrack");try{if(!this.sendConnection||this.state!==fO.Connected)return void n(new TC(SC.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established."));const s=this.filterTobeMutedTracks(t);if(0===s.length)return void e();const a=s.find(t=>"videoLowTrack"===t[0]);a&&a[1].track._originMediaStreamTrack.stop(),await this.sendConnection.muteLocal(s.map(t=>{let[,{id:e}]=t;return e}));let c=!1;var r,o;c="video"===t.trackMediaType?!(null===(r=this.localTrackMap.get(pO.LocalAudioTrack))||void 0===r||!r.track._muted):void 0===(null===(o=this.localTrackMap.get(pO.LocalVideoTrack))||void 0===o?void 0:o.id);const l=this.createMuteMessage(s);await tI(this,mO.RequestMuteLocal,l);const u="video"===t.trackMediaType?IO.MUTE_LOCAL_VIDEO:IO.MUTE_LOCAL_AUDIO;await tI(this,mO.RequestP2PMuteLocal,{action:u,message:l,isMuteAll:c}),e()}catch(t){n(t)}finally{i()}}),jE(this,"handleUnmuteLocalTrack",async(t,e,n)=>{const i=await this.sendMutex.lock("Locking from P2PChannel2.handleUnmuteLocalTrack");try{if(!this.sendConnection||this.state!==fO.Connected)return void n(new TC(SC.INVALID_OPERATION,"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established."));const r=this.filterTobeUnmutedTracks(t);if(0===r.length)return void e();await this.sendConnection.unmuteLocal(r.map(t=>{let[,{id:e}]=t;return e}));const o=this.createUnmuteMessage(r),s="video"===t.trackMediaType?IO.UNMUTE_LOCAL_VIDEO:IO.UNMUTE_LOCAL_AUDIO;await tI(this,mO.RequestP2PMuteLocal,{action:s,message:o}),e()}catch(t){n(t)}finally{i()}}),jE(this,"handleUpdateVideoEncoder",async(t,e,n)=>{const i=await this.sendMutex.lock("Locking from P2PChannel2.handleSetVideoEncoder");try{const n=this.localTrackMap.get(pO.LocalVideoTrack);if(!this.sendConnection||!n||n.track!==t||this.state!==fO.Connected)return void e();const{id:r,track:o}=n;r&&(await this.sendConnection.updateSendParameters(r,o),await this.sendConnection.updateEncoderConfig(r,o),this.emit(mO.UpdateVideoEncoder,o)),e()}catch(t){n(t)}finally{i()}}),jE(this,"handleUpdateVideoSendParameters",async(t,e,n)=>{const i=await this.sendMutex.lock("Locking from P2PChannel2.handleUpdateVideoSendParameters");try{const n=this.localTrackMap.get(pO.LocalVideoTrack);if(!this.sendConnection||!n||n.track!==t||this.state!==fO.Connected)return void e();const{id:r,track:o}=n;r&&await this.sendConnection.updateSendParameters(r,o),e()}catch(t){n(t)}finally{i()}}),jE(this,"handleReplaceTrack",async(t,e,n,i)=>{let r;gR.debug("[".concat(this.store.clientId,"] P2PChannel2 handleReplaceTrack for [track-id-").concat(t.getTrackId(),"]")),"boolean"==typeof i&&i||(r=await this.sendMutex.lock("From P2PChannel2.handleReplaceTrack"));try{var o;const n=Array.from(this.localTrackMap.entries()).find(e=>{let[,{track:n}]=e;return t===n});if(!this.sendConnection||!n||void 0===n[1].id||this.state!==fO.Connected)return void e();if(await(null===(o=this.sendConnection)||void 0===o?void 0:o.replaceTrack(t,n[1].id)),n[0]===pO.LocalVideoTrack&&Qk().supportDualStreamEncoding){const e=this.localTrackMap.get(pO.LocalVideoLowTrack);if(e){const n=t._mediaStreamTrack.clone();e.track._originMediaStreamTrack.stop(),e.track._mediaStreamTrack=n,e.track._originMediaStreamTrack=n,await new $h((t,n)=>{this.handleReplaceTrack(e.track,t,n,!0)})}}e()}catch(t){n(t)}finally{var s;null===(s=r)||void 0===s||s()}}),jE(this,"handleGetLocalVideoStats",t=>{t(this.statsCollector.getLocalVideoTrackStats())}),jE(this,"handleGetLocalAudioStats",t=>{t(this.statsCollector.getLocalAudioTrackStats())}),jE(this,"handleGetRemoteVideoStats",t=>this.statsCollector.getRemoteVideoTrackStats(t.uid)[t.uid]),jE(this,"handleGetRemoteAudioStats",t=>this.statsCollector.getRemoteAudioTrackStats(t.uid)[t.uid]),this.store=t,this.statsCollector=e,this.statsCollector.addP2PChannel(this),this.statsUploader=new cB(t),this.bindStatsUploaderEvents(),this.reconnectInterval=window.setInterval(()=>{[this.sendConnection,this.recvConnection].forEach(t=>{t&&("disconnected"!==t.iceConnectionState&&"failed"!==t.iceConnectionState||this.handleDisconnect(t.direction))})},JI("ICE_RESTART_INTERVAL"))}async startP2PConnection(t,e){throw new TC(SC.NOT_SUPPORTED,"p2p mode does not support startP2PConnection.")}async connect(t){throw new TC(SC.NOT_SUPPORTED,"p2p mode does not support connect.")}async startP2P(t,e){let n;try{if(e){this.recvConnection&&(gR.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset recvConnection.")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),n=await this.recvMutex.lock("From P2PChannel.startP2P"),this.recvConnection=new GU(t,this.store,MA.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);const i=await this.recvConnection.establish(e);return{iceParameters:i.iceParameters,dtlsParameters:i.dtlsParameters,sdp:i.sdp}}{this.state=fO.New,this.sendConnection&&(gR.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset sendConnection.")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),n=await this.sendMutex.lock("From P2PChannel.startP2P"),this.sendConnection=new GU(t,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);const e=await this.sendConnection.establish();return{iceParameters:e.iceParameters,dtlsParameters:e.dtlsParameters,sdp:e.sdp}}}finally{n&&n()}}async p2pConnect(t){if(!this.sendConnection)throw new TC(SC.UNEXPECTED_ERROR,"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .");this.store.peerConnectionStart(),await this.sendConnection.connect(t),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=fO.Connected}async addRemoteCandidate(t,e){if(e===MA.RECEIVE_ONLY){if(!this.sendConnection)throw new TC(SC.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.sendConnection.addRemoteCandidate(t)}else{if(!this.recvConnection)throw new TC(SC.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.recvConnection.addRemoteCandidate(t)}}publish(t,e,n){var i=this;return YT((function*(){const r=yield KT(i.sendMutex.lock("From P2PChannel.publish"));try{if(!i.sendConnection||i.state!==fO.Connected){i.throwIfTrackTypeNotMatch(t);const e=t.filter(t=>-1===i.pendingLocalTracks.indexOf(t));return void(i.pendingLocalTracks=i.pendingLocalTracks.concat(e))}i.store.pubId=i.store.pubId+1,oU.markPublishStart(i.store.clientId,i.store.pubId);const o=i.filterTobePublishedTracks(t,e,n);if(0===o.length)return void(yield KT(i.tryToUnmuteAudio(t)));o.forEach(t=>{let{track:e,type:n}=t;const r=Date.now();i.store.publish(e.getTrackId(),n===pO.LocalAudioTrack?"audio":"video",r)}),i.bindLocalTrackEvents(o);const s=yield KT(i.sendConnection.send(o.map(t=>{let{track:e}=t;return e}),i.store.codec,i.store.audioCodec)),a=(yield KT(s.next())).value,c=i.createGatewayPublishMessage(o,a);try{yield c}catch(t){throw s.throw(t),(null==t?void 0:t.code)===SC.WS_ABORT&&o.forEach(t=>{let{track:e}=t;-1===i.pendingLocalTracks.indexOf(e)&&i.pendingLocalTracks.push(e)}),i.unbindLocalTrackEvents(o),t}yield KT(s.next()),o.forEach(t=>{let{type:e}=t;i.statsCollector.addLocalStats(e)}),i.statsUploader.startUploadOutboundStats(),i.assignLocalTracks(o,a),o.forEach(t=>{let{track:e,type:n}=t;const r=Date.now();i.store.publish(e.getTrackId(),n===pO.LocalAudioTrack?"audio":"video",void 0,r)}),i.startUploadUplinkState()}finally{r()}}))()}async unpublish(t){if(!this.sendConnection||this.state!==fO.Connected)return void(0===t.length?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter(e=>!Pi(t).call(t,e)));const e=this.filterTobeUnpublishedTracks(t);if(0===e.length)return;const n=e.find(t=>"videoLowTrack"===t[0]);n&&n[1].track.close();const i=this.createGatewayUnpublishMessage(e);if(await this.sendConnection.stopSending(e.map(t=>{let[,{id:e}]=t;return e})),this.withdrawLocalTracks(e),this.unbindLocalTrackEvents(e.map(t=>{let[e,{track:n}]=t;return{type:e,track:n}})),e.forEach(t=>{let[e]=t;this.statsCollector.removeLocalStats(e)}),0===this.localTrackMap.size&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===fO.Connected)return n&&n[1].track.close(),i;t.forEach(t=>{const e=this.pendingLocalTracks.indexOf(t);-1!==e&&this.pendingLocalTracks.splice(e,1)})}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);const t=()=>{const t=[],e=[];Array.from(this.localTrackMap.entries()).forEach(n=>{let[i,{track:r,ssrcs:o}]=n;const s={stream_type:dB(r,i),ssrcs:o};r._muted||!r._enabled?t.push(s):e.push(s)}),t.length>0&&t.forEach(t=>{tI(this,mO.RequestMuteLocal,[t])}),e.length>0&&e.forEach(t=>{tI(this,mO.RequestUnmuteLocal,[t])})};t(),this.uplinkStateUploadInterval=window.setInterval(()=>{t()},3e3)}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}publishLowStream(t){return YT((function*(){throw new TC(SC.NOT_SUPPORTED,"p2p mode does not support publishLowStream.")}))()}async republish(){this.pendingLocalTracks.length>0&&(gR.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await QC(this,mO.RequestRePublish,this.pendingLocalTracks),this.emit(mO.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublishLowStream(){throw new TC(SC.NOT_SUPPORTED,"p2p mode does not support unpublishLowStream.")}async subscribe(t,e,n,i){var r;if(!this.recvConnection)throw new TC(SC.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");if(null!==(r=this.remoteUserMap.get(t))&&void 0!==r&&r.has(e))return;const{track:o,mid:s,transceiver:a}=await this.recvConnection.receive(e,[{ssrcId:n}],String(t.uid),i);e===uO.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(o):(t._audioTrack=new CM(o,t.uid,t._uintid,this.store),gR.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(t._audioTrack.getTrackId()))),a&&t._audioTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoSSRC=n,t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(o):(t._videoTrack=new wM(o,t.uid,t._uintid,this.store),gR.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(t._videoTrack.getTrackId()))),a&&t._videoTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(t,t._videoTrack));const c=this.remoteUserMap.get(t);c?c.set(e,s):this.remoteUserMap.set(t,new Map([[e,s]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();const l=this.pendingRemoteTracks.findIndex(n=>{let{user:i,kind:r}=n;return i.uid===t.uid&&e===r});-1!==l&&(this.pendingRemoteTracks.splice(l,1),this.emit(mO.MediaReconnectEnd,t.uid))}async mockSubscribe(t,e,n,i){if(!this.recvConnection)throw new TC(SC.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");await this.recvConnection.mockReceive(e,[{ssrcId:n}],String(t.uid),i)}async unsubscribe(t,e,n){const i=this.pendingRemoteTracks.filter(n=>{let{user:i,kind:r}=n;return void 0!==e?i.uid===t.uid&&e===r:i.uid===t.uid});if(i.forEach(t=>{const e=this.pendingRemoteTracks.indexOf(t);this.pendingRemoteTracks.splice(e,1)}),this.recvConnection||n||i.forEach(e=>{let{kind:n}=e;var i;if(n===uO.AUDIO)null===(i=t._audioTrack)||void 0===i||i._destroy(),t._audioTrack=void 0;else if(n===uO.VIDEO){var r;null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0}}),!this.recvConnection)return;const r=this.filterTobeUnSubscribedTracks(t,e);0!==r.length&&(await this.recvConnection.stopReceiving(r.map(t=>{let[,{id:e}]=t;return e})),this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),r.forEach(t=>{let[e,{kind:i}]=t;var r,o;if(i===uO.VIDEO&&e._videoSSRC&&(null===(r=this.recvConnection)||void 0===r||r.setStatsRemoteVideoIsReady(e._videoSSRC,!1)),i===uO.VIDEO)this.unbindRemoteTrackEvents(e._videoTrack),n||(null===(o=e._videoTrack)||void 0===o||o._destroy(),e._videoTrack=void 0);else if(i===uO.AUDIO){var s;this.unbindRemoteTrackEvents(e._audioTrack),n||(null===(s=e._audioTrack)||void 0===s||s._destroy(),e._audioTrack=void 0)}}),r.forEach(t=>{let[,{kind:e}]=t;tI(this,mO.RequestP2PMuteRemote,e)}))}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);const t=()=>Array.from(this.remoteUserMap.entries()).forEach(t=>{let[,e]=t;[uO.VIDEO,uO.AUDIO].forEach(t=>{e.has(t)?tI(this,mO.RequestP2PUnmuteRemote,t):tI(this,mO.RequestP2PMuteRemote,t)})});t(),this.downlinkStatsUploadInterval=window.setInterval(()=>{t()},3e3)}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}getAllDataChannels(){return this.localDataChannels}async massSubscribe(t){throw new TC(SC.NOT_SUPPORTED,"p2p mode does not support massSubscribe.")}async massSubscribeNoLock(t){throw new TC(SC.NOT_SUPPORTED,"p2p mode does not support massSubscribeNoLock.")}async massUnsubscribe(t){throw new TC(SC.NOT_SUPPORTED,"p2p mode does not support massUnsubscribe.")}async massUnsubscribeNoLock(t){throw new TC(SC.NOT_SUPPORTED,"p2p mode does not support massUnsubscribeNoLock.")}async muteRemote(t,e){if(!this.recvConnection)return;const n=this.remoteUserMap.get(t);if(!n)return void gR.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(t.uid,"."));if(!n.get(e))return void gR.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(t.uid," media type ").concat(e,"."));const i=e===uO.VIDEO?t._videoSSRC:t._audioSSRC;void 0!==i&&this.recvConnection.setStatsRemoteVideoIsReady(i,!1)}async unmuteRemote(t,e){return this.unmuteRemoteNoLock(t,e)}async unmuteRemoteNoLock(t,e){if(!this.recvConnection)return;const n=this.remoteUserMap.get(t);n?n.get(e)||gR.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(t.uid," media type ").concat(e,".")):gR.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(t.uid,"."))}getAllTracks(t){const e=this.localTrackMap.get(pO.LocalAudioTrack);if((null==e?void 0:e.track)instanceof SL){const n=e.track;return Array.from(this.localTrackMap.entries()).filter(t=>{let[e]=t;return e!==pO.LocalAudioTrack}).filter(e=>{let[n]=e;return!(t&&n===pO.LocalVideoLowTrack)}).map(t=>{let[,{track:e}]=t;return e}).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter(e=>{let[n]=e;return!(t&&n===pO.LocalVideoLowTrack)}).map(t=>{let[,{track:e}]=t;return e})}reportPublishEvent(t,e,n,i,r){if(t){const n=this.localTrackMap.get(pO.LocalAudioTrack),o=i?this.localTrackMap.get(pO.LocalVideoLowTrack):this.localTrackMap.get(pO.LocalVideoTrack);CR.publish(this.store.sessionId,{eventElapse:oU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:e,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(_N.SCREEN_TRACK)),audio:!!n,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var o;n||(n=[]);const s=n.find(t=>t instanceof yL),a=i?null===(o=this.localTrackMap.get(pO.LocalVideoTrack))||void 0===o?void 0:o.track:n.find(t=>t instanceof cM);CR.publish(this.store.sessionId,{eventElapse:oU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:e,audioName:null==s?void 0:s.getTrackLabel(),videoName:null==a?void 0:a.getTrackLabel(),screenshare:-1!==(null==a?void 0:a._hints.indexOf(_N.SCREEN_TRACK)),audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(t,e,n,i){const r=i===uO.VIDEO?n._videoSSRC:n._audioSSRC;r&&CR.subscribe(this.store.sessionId,{succ:t,ec:e,video:i===uO.VIDEO,audio:i===uO.AUDIO,peerid:n.uid,subscribeRequestid:i===uO.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:oU.measureFromSubscribeStart(this.store.clientId,r)})}reset(){gR.debug("[".concat(this.store.clientId,"] P2PChannel2.reset")),this.sendMutex=new DI("P2PChannel2-send-mutex"),this.sendMutex=new DI("P2PChannel2-recv-mutex"),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const t=this.localTrackMap.get(pO.LocalAudioTrack);if((null==t?void 0:t.track)instanceof SL){if(t.track.trackList.length>0){const e=t.track;t.track.trackList.forEach(t=>{e.removeAudioTrack(t)})}t.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=fO.Disconnected}getStats(t){var e,n;return t?null===(n=this.recvConnection)||void 0===n?void 0:n.getStats():null===(e=this.sendConnection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(t){var e;return(null===(e=this.recvConnection)||void 0===e?void 0:e.getRemoteVideoIsReady(t))||!1}getLocalAudioVolume(){const t=this.localTrackMap.get(pO.LocalAudioTrack);if(t)return t.track.getVolumeLevel()}getLocalVideoSize(){const t=this.localTrackMap.get(pO.LocalVideoTrack);if(t)return{width:t.track.videoWidth||0,height:t.track.videoHeight||0}}getEncoderConfig(t){const e=this.localTrackMap.get(t);return e&&e.track instanceof cM||e&&e.track instanceof yL?e.track._encoderConfig:void 0}getLocalMedia(t){return this.localTrackMap.get(t)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(t,e){if(!t)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(t);return!!n&&(!e||n.has(e))}async hasRemoteMediaWithLock(t,e){if(!t)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(t);return!!n&&(!e||n.has(e))}getRemoteMedia(t){var e;const n=Array.from(pf(e=this.remoteUserMap).call(e)).find(e=>e.uid===t);return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let t=Array.from(this.remoteUserMap.entries()).map(t=>{let[e]=t;return{uid:e.uid,level:e.audioTrack?100*e.audioTrack._source.getAccurateVolumeLevel():0}});const e=this.localTrackMap.get(pO.LocalAudioTrack);return e&&t.push({level:100*e.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),t=lm(t).call(t,(t,e)=>t.level-e.level),t}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(gR.debug("[".concat(this.store.clientId,"] P2PChannel2.disconnectForReconnect closing P2PConnection")),this.state=fO.Reconnecting,JI("KEEP_LAST_FRAME")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e]=t;var n;e._videoTrack&&e._videoTrack._player&&(null===(n=e._videoTrack._player.getVideoElement())||void 0===n||n.pause(),e._videoTrack._player.isKeepLastFrame=!0,e._videoTrack._originMediaStreamTrack.stop())}),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach(t=>{var e;let[n,{track:i}]=t;switch(n){case pO.LocalVideoTrack:Pi(e=i._hints).call(e,_N.LOW_STREAM)?i.close():this.pendingLocalTracks.push(i);break;case pO.LocalAudioTrack:i instanceof SL?this.pendingLocalTracks=this.pendingLocalTracks.concat(i.trackList):this.pendingLocalTracks.push(i);case pO.LocalVideoLowTrack:}}),this.emit(mO.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e,n]=t;Array.from(pf(n).call(n)).forEach(t=>{this.setPendingRemoteMedia(e,t)}),this.emit(mO.MediaReconnectStart,e.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),gR.debug("[".concat(this.store.clientId,"] P2PChannel2 disconnected, waiting to reconnect.")))}hasPendingRemoteMedia(t,e){for(const n of this.pendingRemoteTracks){const{user:i,kind:r}=n;if((t instanceof lB?t.uid:t)===i.uid&&e===r)return!0}return!1}setPendingRemoteMedia(t,e){this.hasPendingRemoteMedia(t,e)||this.pendingRemoteTracks.push({user:t,kind:e})}async restartICE(t,e){let n,i;if(t===MA.SEND_ONLY){if(!this.sendConnection)throw new TC(SC.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.");n=await this.sendMutex.lock("From P2PChannel.restartICE"),i=this.sendConnection}else{if(!this.recvConnection)throw new TC(SC.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.");n=await this.recvMutex.lock("From P2PChannel.restartICE"),i=this.recvConnection}try{if(e){const t=await i.restartICE(e);return i.isInRestartIce=!1,t}{const t=await i.restartICE();if(t){const e=await QC(this,mO.RequestP2PRestartICE,{direction:MA.RECEIVE_ONLY,iceParameter:t});await i.restartICE(e),i.isInRestartIce=!1}}}finally{n()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const t=this.sendConnection.getStats(),e=this.localTrackMap.get(pO.LocalVideoTrack),n=this.localTrackMap.get(pO.LocalAudioTrack),i=t.videoSend.find(t=>{var n;return t.ssrc===(null==e||null===(n=e.ssrcs)||void 0===n?void 0:n[0].ssrcId)}),r=t.audioSend.find(t=>{var e;return t.ssrc===(null==n||null===(e=n.ssrcs)||void 0===e?void 0:e[0].ssrcId)});if(!i||!r)return 1;const o=eI(this,mO.NeedSignalRTT),s=i?i.rttMs:void 0,a=r?r.rttMs:void 0,c=s&&a?(s+a)/2:s||a,l=(c&&o?(c+o)/2:c||o)||0,u=100*t.sendPacketLossRate*.7/50+.3*l/1500,d=u<.17?1:u<.36?2:u<.59?3:u<.1?4:5,h=null==e?void 0:e.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(_N.SCREEN_TRACK)){const e=h._encoderConfig.bitrateMax,n=t.bitrate.actualEncoded;if(e&&n){const t=(1e3*e-n)/(1e3*e);return AR[t<.15?0:t<.3?1:t<.45?2:t<.6?3:4][d]}}return d}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const t=this.recvConnection.getStats();let e=0;return Array.from(this.remoteUserMap.entries()).forEach(n=>{let[i]=n;const r=i._audioSSRC,o=i._videoSSRC,s=t.audioRecv.find(t=>t.ssrc===r),a=t.videoRecv.find(t=>t.ssrc===o);if(!s&&!a)return void(e+=1);const c=eI(this,mO.NeedSignalRTT),l=t.rtt,u=(l&&c?(l+c)/2:l||c)||0,d=s?s.jitterMs:void 0,h=t.recvPacketLossRate;let p=.7*h*100/50+.3*u/1500;d&&(p=.6*h*100/50+.2*u/1500+.2*d/400),e+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5}),this.remoteUserMap.size>0?Math.round(e/this.remoteUserMap.size):e}async muteLocalTrack(t){return new $h((e,n)=>{this.handleMuteLocalTrack(t,e,n)})}filterTobePublishedTracks(t,e,n){const i=[],r=Qk(),o=this.getAllTracks();t=oI(t=t.filter(t=>-1===o.indexOf(t)));let s=!1,a=!1;for(const c of t){if(c instanceof cM&&(this.localTrackMap.has(pO.LocalVideoTrack)||s?new TC(SC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(i.push({track:c,type:pO.LocalVideoTrack}),s=!0),e)){const t=this.getLowVideoTrack(c,n);i.push({track:t,type:pO.LocalVideoLowTrack})}if(c instanceof yL){const t=this.localTrackMap.get(pO.LocalAudioTrack);if(t){if(!(t.track instanceof SL))throw new TC(SC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new TC(SC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");t.track.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0)}else if(a){const t=i.find(t=>{let{type:e}=t;return e===pO.LocalAudioTrack});if(!(t.track instanceof SL))throw new TC(SC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(c._bypassWebAudio)throw new TC(SC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");t.track.addAudioTrack(c)}else{if(!r.webAudioMediaStreamDest||c instanceof SL||c._bypassWebAudio)i.push({track:c,type:pO.LocalAudioTrack});else{const t=new SL;t.addAudioTrack(c),i.push({track:t,type:pO.LocalAudioTrack})}a=!0}}}return i}filterTobeUnpublishedTracks(t){const e=[],n=this.getAllTracks();t=oI(t=t.filter(t=>-1!==n.indexOf(t)));for(const i of t){if(i instanceof yL){const t=this.localTrackMap.get(pO.LocalAudioTrack);if(!t)continue;t.track instanceof SL?(t.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===t.track.trackList.length&&(e.push([pO.LocalAudioTrack,t]),t.track.close())):e.push([pO.LocalAudioTrack,t])}if(i instanceof cM){const t=this.localTrackMap.get(pO.LocalVideoTrack);if(!t)continue;e.push([pO.LocalVideoTrack,t]);const n=this.localTrackMap.get(pO.LocalVideoLowTrack);n&&e.push([pO.LocalVideoLowTrack,n])}}return e}bindLocalTrackEvents(t){t.forEach(t=>{let{track:e,type:n}=t;switch(n){case pO.LocalVideoTrack:e.addListener(gN.GET_STATS,this.handleGetLocalVideoStats),e.addListener(gN.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(gN.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(gN.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),e.addListener(gN.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),e.addListener(gN.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.addListener(gN.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(gN.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case pO.LocalAudioTrack:this.bindLocalAudioTrackEvents(e);case pO.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(t,e){t instanceof SL?t.trackList.forEach(t=>{t.addListener(gN.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(gN.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(gN.GET_STATS,this.handleGetLocalAudioStats),t.addListener(gN.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(gN.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(t.addListener(gN.GET_STATS,this.handleGetLocalAudioStats),t.addListener(gN.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(gN.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(gN.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(gN.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),e||t.addListener(gN.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(t){t||(t=Array.from(this.localTrackMap.entries()).map(t=>{let[e,{track:n}]=t;return{track:n,type:e}})),t.forEach(t=>{let{track:e,type:n}=t;switch(n){case pO.LocalVideoTrack:e.off(gN.GET_STATS,this.handleGetLocalVideoStats),e.off(gN.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(gN.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(gN.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),e.off(gN.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),e.off(gN.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(gN.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(gN.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case pO.LocalAudioTrack:this.unbindLocalAudioTrackEvents(e);case pO.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(t){t instanceof SL?t.trackList.forEach(t=>{t.off(gN.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(gN.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(gN.GET_STATS,this.handleGetLocalAudioStats),t.off(gN.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(gN.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(t.off(gN.GET_STATS,this.handleGetLocalAudioStats),t.off(gN.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(gN.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(gN.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(gN.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(gN.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(t,e){e instanceof wM&&e.addListener(gN.GET_STATS,e=>{e(this.handleGetRemoteVideoStats(t))}),e instanceof CM&&e.addListener(gN.GET_STATS,e=>{e(this.handleGetRemoteAudioStats(t))})}unbindRemoteTrackEvents(t){t&&t.removeAllListeners(gN.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e,n]=t;n.has(uO.AUDIO)&&this.unbindRemoteTrackEvents(e._audioTrack),n.has(uO.VIDEO)&&this.unbindRemoteTrackEvents(e._videoTrack)})}createGatewayPublishMessage(t,e){return t.map((t,n)=>{var i;let r,{track:o,type:s}=t;switch(s){case pO.LocalAudioTrack:r=QA.Audio;break;case pO.LocalVideoTrack:r=Pi(i=o._hints).call(i,_N.SCREEN_TRACK)?QA.Screen:QA.High;break;case pO.LocalVideoLowTrack:r=QA.Low}return{kind:s===pO.LocalAudioTrack?uO.AUDIO:uO.VIDEO,stream_type:r,mid:e[n].id,ssrcs:e[n].localSSRC,isMuted:o.muted||!o.enabled}})}createGatewayUnpublishMessage(t){return t.map(t=>{var e;let n,[i,{track:r,ssrcs:o,id:s}]=t;switch(i){case pO.LocalVideoTrack:n=Pi(e=r._hints).call(e,_N.SCREEN_TRACK)?QA.Screen:QA.High;break;case pO.LocalAudioTrack:n=QA.Audio;break;case pO.LocalVideoLowTrack:n=QA.Low}return{stream_type:n,ssrcs:o,mid:s}})}assignLocalTracks(t,e){t.forEach((t,n)=>{let{track:i,type:r}=t;this.localTrackMap.set(r,{track:i,id:e[n].id,ssrcs:e[n].localSSRC})})}withdrawLocalTracks(t){t.forEach(t=>{let[e]=t;this.localTrackMap.delete(e)})}bindConnectionEvents(t){t.onConnectionStateChange=async e=>{var n;gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: ").concat(t.name,".onConnectionStateChange(").concat(e,")")),this.emit(mO.PeerConnectionStateChange,e),"connected"!==e||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"connected"===e&&(t.isInRestartIce=!1),Pi(n=this._restartStates).call(n,e)&&!t.isInRestartIce&&("disconnected"===e&&await _I(800),"disconnected"!==t.iceConnectionState&&"failed"!==t.iceConnectionState||this.handleDisconnect(t.direction))},t.onICEConnectionStateChange=t=>{"connected"!==t||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(t,")")),CR.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:t,tag:HC.TRACER}).onSuccess(),this.emit(mO.IceConnectionStateChange,t)},t.onICETransportStateChange=t=>{gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(t,")"))},t.onDTLSTransportStateChange=t=>{gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(t,")"))},t.onDTLSTransportError=t=>{gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(t,")"))},t.onFirstAudioDecoded=t=>{var e;const n=Array.from(pf(e=this.remoteUserMap).call(e)).find(e=>e._audioSSRC===t);var i;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(i=n.audioTrack)||void 0===i||i.emit(wN.FIRST_FRAME_DECODED),CR.firstRemoteFrame(this.store.sessionId,bR.FIRST_AUDIO_DECODE,SR.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:oU.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId}))},t.onFirstAudioReceived=t=>{var e;const n=Array.from(pf(e=this.remoteUserMap).call(e)).find(e=>e._audioSSRC===t);n&&CR.firstRemoteFrame(this.store.sessionId,bR.FIRST_AUDIO_RECEIVED,SR.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:oU.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId})},t.onFirstVideoDecoded=(t,e,n)=>{this.reportVideoFirstFrameDecoded(t,e,n)},t.onFirstVideoReceived=t=>{var e;const n=Array.from(pf(e=this.remoteUserMap).call(e)).find(e=>e._videoSSRC===t);n&&CR.firstRemoteFrame(this.store.sessionId,bR.FIRST_VIDEO_RECEIVED,SR.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:oU.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId})},t.onSelectedLocalCandidateChanged=(t,e)=>{const n="relay"===t.candidateType,i="relay"===e.candidateType;"unknown"!==e.candidateType&&n===i||this.emit(mO.ConnectionTypeChange,n),gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(rx(e))," -> ").concat(JSON.stringify(rx(t)),")"))},t.onSelectedRemoteCandidateChanged=(t,e)=>{gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(rx(e))," -> ").concat(JSON.stringify(rx(t)),")"))},t.onFirstVideoDecodedTimeout=t=>{this.reportVideoFirstFrameDecoded(t,void 0,void 0,!0)},t.onLocalCandidate=e=>{this.emit(mO.LocalCandidate,{candidate:e,direction:t.direction})}}unbindConnectionEvents(t){t.onConnectionStateChange=void 0,t.onICEConnectionStateChange=void 0,t.onICETransportStateChange=void 0,t.onDTLSTransportStateChange=void 0,t.onDTLSTransportError=void 0,t.onFirstAudioDecoded=void 0,t.onFirstAudioReceived=void 0,t.onFirstVideoDecoded=void 0,t.onFirstVideoReceived=void 0,t.onSelectedLocalCandidateChanged=void 0,t.onSelectedRemoteCandidateChanged=void 0,t.onFirstVideoDecodedTimeout=void 0,t.onLocalCandidate=void 0}async handleDisconnect(t){const e=t===MA.SEND_ONLY?this.sendConnection:this.recvConnection;e&&!e.isInRestartIce&&(e.isInRestartIce=!0,gR.debug("[".concat(this.store.clientId,"] [P2PChannel-").concat(e.name,"] start use restartICE")),t===MA.SEND_ONLY?this.restartICE(t):QC(this,mO.RequestP2PRestartICE,{direction:MA.SEND_ONLY}))}filterTobeMutedTracks(t){const e=[];if(-1===this.getAllTracks().indexOf(t))return e;const n=this.localTrackMap.get(pO.LocalAudioTrack);if(t instanceof yL&&(null==n?void 0:n.track)instanceof SL)return n.track.isActive||e.push([pO.LocalAudioTrack,n]),e;const i=Array.from(this.localTrackMap.entries()).find(e=>{let[,{track:n}]=e;return t===n});if(i&&(e.push(i),i[0]===pO.LocalVideoTrack)){const t=this.localTrackMap.get(pO.LocalVideoLowTrack);t&&e.push([pO.LocalVideoLowTrack,t])}return e}filterTobeUnmutedTracks(t){const e=[],n=this.localTrackMap.get(pO.LocalAudioTrack);if(t instanceof yL&&(null==n?void 0:n.track)instanceof SL)return n.track.isActive&&e.push([pO.LocalAudioTrack,n]),e;const i=Array.from(this.localTrackMap.entries()).find(e=>{let[,{track:n}]=e;return t===n});if(i)if(i[0]===pO.LocalVideoTrack){e.push(i);const t=this.localTrackMap.get(pO.LocalVideoLowTrack);t&&e.push([pO.LocalVideoLowTrack,t])}else e.push(i);return e}createMuteMessage(t){return t.map(t=>{var e;let n,[i,{track:r,ssrcs:o,id:s}]=t;switch(i){case pO.LocalAudioTrack:n=QA.Audio;break;case pO.LocalVideoTrack:n=Pi(e=r._hints).call(e,_N.SCREEN_TRACK)?QA.Screen:QA.High;break;case pO.LocalVideoLowTrack:n=QA.Low}return{stream_type:n,ssrcs:o,mid:s}})}createUnmuteMessage(t){return t.map(t=>{var e;let n,[i,{track:r,ssrcs:o,id:s}]=t;switch(i){case pO.LocalAudioTrack:n=QA.Audio;break;case pO.LocalVideoTrack:n=Pi(e=r._hints).call(e,_N.SCREEN_TRACK)?QA.Screen:QA.High;break;case pO.LocalVideoLowTrack:n=QA.Low}return{stream_type:n,ssrcs:o,mid:s}})}filterTobeUnSubscribedTracks(t,e){const n=[],i=this.remoteUserMap.get(t);if(!i)return n;if(e){const r=i.get(e);if(!r)return n;n.push([t,{kind:e,id:r}])}else Array.from(i.entries()).forEach(e=>{let[i,r]=e;n.push([t,{kind:i,id:r}])});return n}createUnsubscribeMessage(t){const e=[];return t.forEach(t=>{let[n,{kind:i,id:r}]=t;switch(i){case uO.VIDEO:return void(n._videoSSRC&&e.push({stream_type:uO.VIDEO,ssrcId:n._videoSSRC}));case uO.AUDIO:return void(n._audioSSRC&&e.push({stream_type:uO.AUDIO,ssrcId:n._audioSSRC}))}}),e}withdrawRemoteTracks(t){t.forEach(t=>{let[e,{kind:n}]=t;const i=this.remoteUserMap.get(e);i&&(i.delete(n),0===Array.from(i.entries()).length&&this.remoteUserMap.delete(e))})}async updateBitrateLimit(t){const e=this.localTrackMap.get(pO.LocalVideoTrack),n=this.localTrackMap.get(pO.LocalVideoLowTrack);e&&await e.track.setBitrateLimit(t.uplink),n&&t.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:t.low_stream_uplink.bitrate,min_bitrate:t.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const t=this.sendConnection.peerConnectionState,e=this.recvConnection.peerConnectionState;return"connected"!==t&&"connected"!==e}return!0}async tryToUnmuteAudio(t){for(let e=0;e<t.length;e++)if(t[e]instanceof yL){const n=this.filterTobeUnmutedTracks(t[e]);if(0===n.length)continue;const i=this.createUnmuteMessage(n);return void await tI(this,mO.RequestUnmuteLocal,i)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=t=>this.getStats(t),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter(t=>{let[,{ssrcs:e}]=t;return!!e}),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=t=>{var e;return!(null===(e=this.recvConnection)||void 0===e||!e.getRemoteVideoIsReady(t))},this.statsUploader.requestUpload=(t,e)=>this.emit(mO.RequestUpload,t,e),this.statsUploader.requestUploadStats=t=>this.emit(mO.RequestUploadStats,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await _I(PI(this.dtlsFailedCount,NI)),this.emit(mO.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(pO.LocalVideoTrack)||this.pendingLocalTracks.some(t=>t instanceof cM)}throwIfTrackTypeNotMatch(t){if(t.filter(t=>t instanceof cM).length>1)throw new TC(SC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t.filter(t=>t instanceof yL).length>1&&(t.some(t=>t instanceof yL&&t._bypassWebAudio)||!Qk().webAudioMediaStreamDest))throw new TC(SC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const e of t){if(e instanceof cM&&this.pendingLocalTracks.some(t=>t instanceof cM))throw new TC(SC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e instanceof yL&&this.pendingLocalTracks.some(t=>t instanceof yL)&&(!Qk().webAudioMediaStreamDest||e._bypassWebAudio||this.pendingLocalTracks.some(t=>t instanceof yL&&t._bypassWebAudio)))throw new TC(SC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(t,e){const n=!JI("DISABLE_DUAL_STREAM_USE_ENCODING")&&Qk().supportDualStreamEncoding,i=RB(RB({},{width:160,height:120,framerate:15,bitrate:50}),e);let r;r=n?t._mediaStreamTrack.clone():zU(t,i);const o=yI(8,"track-low-"),s=new cM(r,RB(RB({},n&&{scaleResolutionDownBy:ix(i,t)}),{},{frameRate:i.framerate,bitrateMax:i.bitrate,bitrateMin:i.bitrate}),void 0,void 0,o);return s.on(SN.TRANSCEIVER_UPDATED,e=>{t._updateRtpTransceiver(e,yN.LOW_STREAM)}),s._hints.push(_N.LOW_STREAM),t.addListener(gN.NEED_CLOSE,()=>{s.close()}),s}async globalLock(){return this.recvMutex.lock("From P2PChannel2.globalLock")}reportVideoFirstFrameDecoded(t,e,n,i){var r;const o=Array.from(pf(r=this.remoteUserMap).call(r)).find(e=>e._videoSSRC===t);if(o){i||this.store.subscribe(o.uid,"video",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,s=r.subscribe.find(t=>t.userId===o.uid&&"video"===t.type);CR.firstRemoteVideoDecode(this.store.sessionId,bR.FIRST_VIDEO_DECODE,SR.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:e,videoheight:n,subscribeElapse:oU.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==s?void 0:s.subscribeEnd)||0,subscriberStart:(null==s?void 0:s.subscribeStart)||0,videoAddNotify:(null==s?void 0:s.streamAdded)||0,state:i?1:0})}}async remoteMediaSsrcChanged(t,e,n){if(!this.recvConnection)return!1;const i=this.remoteUserMap.get(t);if(!i)return!1;const r=i.get(e);if(!r)return!1;const o=await this.recvConnection.getRemoteSSRC(r);return void 0!==o&&o!==n}isPreSubScribe(t){return!1}async publishDataChannel(t){throw new TC(SC.NOT_SUPPORTED)}async unpublishDataChannel(t){throw new TC(SC.NOT_SUPPORTED)}async subscribeDataChannel(t,e){throw new TC(SC.NOT_SUPPORTED)}async unsubscribeDataChannel(t,e){throw new TC(SC.NOT_SUPPORTED)}hasPendingRemoteDataChannel(t,e){throw new TC(SC.NOT_SUPPORTED)}setPendingRemoteDataChannel(t,e){throw new TC(SC.NOT_SUPPORTED)}async preConnect(t){throw new TC(SC.NOT_SUPPORTED)}getEstablishParams(){throw new TC(SC.NOT_SUPPORTED)}async reSubscribe(t){throw new TC(SC.NOT_SUPPORTED)}async updateVideoStreamParameter(t,e){throw new TC(SC.NOT_SUPPORTED)}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach(t=>{let[e,{track:n}]=t;e===pO.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,yN.LOW_STREAM):n._updateRtpTransceiver(void 0)})}},TA(CB.prototype,"p2pConnect",[fB],Object.getOwnPropertyDescriptor(CB.prototype,"p2pConnect"),CB.prototype),TA(CB.prototype,"unpublish",[mB],Object.getOwnPropertyDescriptor(CB.prototype,"unpublish"),CB.prototype),TA(CB.prototype,"unpublishLowStream",[vB],Object.getOwnPropertyDescriptor(CB.prototype,"unpublishLowStream"),CB.prototype),TA(CB.prototype,"subscribe",[gB],Object.getOwnPropertyDescriptor(CB.prototype,"subscribe"),CB.prototype),TA(CB.prototype,"mockSubscribe",[_B],Object.getOwnPropertyDescriptor(CB.prototype,"mockSubscribe"),CB.prototype),TA(CB.prototype,"unsubscribe",[yB],Object.getOwnPropertyDescriptor(CB.prototype,"unsubscribe"),CB.prototype),TA(CB.prototype,"muteRemote",[EB],Object.getOwnPropertyDescriptor(CB.prototype,"muteRemote"),CB.prototype),TA(CB.prototype,"unmuteRemote",[bB],Object.getOwnPropertyDescriptor(CB.prototype,"unmuteRemote"),CB.prototype),TA(CB.prototype,"hasRemoteMediaWithLock",[SB],Object.getOwnPropertyDescriptor(CB.prototype,"hasRemoteMediaWithLock"),CB.prototype),TA(CB.prototype,"disconnectForReconnect",[TB],Object.getOwnPropertyDescriptor(CB.prototype,"disconnectForReconnect"),CB.prototype),TA(CB.prototype,"remoteMediaSsrcChanged",[wB],Object.getOwnPropertyDescriptor(CB.prototype,"remoteMediaSsrcChanged"),CB.prototype),CB);function OB(t){return function(e,n,i){const r=e[n];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return i.value=async function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];switch(t){case uB.SEND_ONLY:{const t=await this.sendMutex.lock("From P2PChannel2.".concat(n));try{return await r.apply(this,i)}finally{t()}}case uB.RECEIVE_ONLY:{const t=await this.recvMutex.lock("From P2PChannel2.".concat(n));try{return await r.apply(this,i)}finally{t()}}default:{const t=await this.sendMutex.lock("From P2PChannel2.".concat(n)),e=await this.recvMutex.lock("From P2PChannel2.".concat(n));try{return await r.apply(this,i)}finally{t(),e()}}}},i}}function xB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function DB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xB(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class kB{constructor(t){jE(this,"store",void 0),jE(this,"onStatsException",void 0),jE(this,"onUploadPublishDuration",void 0),jE(this,"onStatsChanged",void 0),jE(this,"localStats",new Map),jE(this,"remoteStats",new Map),jE(this,"updateStatsInterval",void 0),jE(this,"trafficStats",void 0),jE(this,"trafficStatsPeerList",[]),jE(this,"uplinkStats",void 0),jE(this,"exceptionMonitor",void 0),jE(this,"p2pChannel",void 0),jE(this,"scalabilityMode",wA.L1T1),jE(this,"updateStats",()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))}),this.store=t,this.exceptionMonitor=new iU,this.exceptionMonitor.on("exception",(t,e,n)=>{this.onStatsException&&this.onStatsException(t,e,n)})}startUpdateStats(){this.updateStatsInterval||(this.updateStatsInterval=window.setInterval(this.updateStats,1e3))}stopUpdateStats(){this.updateStatsInterval&&(window.clearInterval(this.updateStatsInterval),this.updateStatsInterval=void 0)}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(pO.LocalAudioTrack)||DB({},RN)}getLocalVideoTrackStats(){return this.localStats.get(pO.LocalVideoTrack)||DB({},AN)}getRemoteAudioTrackStats(t){const e=(t,e)=>{if(!this.trafficStats)return e;const n=this.trafficStats.peer_delay.find(e=>e.peer_uid===t);return n&&(e.publishDuration=n.B_ppad+(Date.now()-this.trafficStats.timestamp)),e},n={};if(t){var i;const r=null===(i=this.remoteStats.get(t))||void 0===i?void 0:i.audioStats;r&&(n[t]=e(t,r))}else Array.from(this.remoteStats.entries()).forEach(t=>{let[i,{audioStats:r}]=t;r&&(n[i]=e(i,r))});return n}getRemoteNetworkQualityStats(t){const e={};if(t){var n;const i=null===(n=this.remoteStats.get(t))||void 0===n?void 0:n.networkStats;i&&(e[t]=i)}else Array.from(this.remoteStats.entries()).forEach(t=>{let[n,{networkStats:i}]=t;i&&(e[n]=i)});return e}getRemoteVideoTrackStats(t){const e=(t,e)=>{if(!this.trafficStats)return e;const n=this.trafficStats.peer_delay.find(e=>e.peer_uid===t);return n&&(e.publishDuration=n.B_ppvd+(Date.now()-this.trafficStats.timestamp)),e},n={};if(t){var i;const r=null===(i=this.remoteStats.get(t))||void 0===i?void 0:i.videoStats;r&&(n[t]=e(t,r))}else Array.from(this.remoteStats.entries()).forEach(t=>{let[i,{videoStats:r}]=t;r&&(n[i]=e(i,r))});return n}getRTCStats(){let t=0,e=0,n=0,i=0;const r=this.localStats.get(pO.LocalAudioTrack);r&&(t+=r.sendBytes,e+=r.sendBitrate);const o=this.localStats.get(pO.LocalVideoTrack);o&&(t+=o.sendBytes,e+=o.sendBitrate);const s=this.localStats.get(pO.LocalVideoLowTrack);s&&(t+=s.sendBytes,e+=s.sendBitrate),this.remoteStats.forEach(t=>{let{audioStats:e,videoStats:r}=t;e&&(n+=e.receiveBytes,i+=e.receiveBitrate),r&&(n+=r.receiveBytes,i+=r.receiveBitrate)});let a=1;return this.trafficStats&&(a+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:a,SendBitrate:e,SendBytes:t,RecvBytes:n,RecvBitrate:i,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(t){this.localStats.set(t,void 0)}removeLocalStats(t){t?this.localStats.delete(t):this.localStats.clear()}addRemoteStats(t){this.remoteStats.set(t,{})}removeRemoteStats(t){t?this.remoteStats.delete(t):this.remoteStats.clear()}addP2PChannel(t){this.p2pChannel=t}updateTrafficStats(t){t.peer_delay=t.peer_delay.filter(t=>void 0!==t.B_ppad||void 0!==t.B_ppvd),t.peer_delay.filter(t=>-1===this.trafficStatsPeerList.indexOf(t.peer_uid)).forEach(t=>{var e;const n=null===(e=this.p2pChannel)||void 0===e?void 0:e.getRemoteMedia(t.peer_uid),i=null!=n&&n.videoSSRC?oU.measureFromSubscribeStart(this.store.clientId,n.videoSSRC):0,r=null!=n&&n.audioSSRC?oU.measureFromSubscribeStart(this.store.clientId,n.audioSSRC):0;void 0!==t.B_ppad&&void 0!==t.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(t.peer_uid,t.B_ppad,t.B_ppvd,i>r?i:r),this.trafficStatsPeerList.push(t.peer_uid))}),this.trafficStats=t}updateUplinkStats(t){this.uplinkStats&&this.uplinkStats.B_fir!==t.B_fir&&gR.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(t.B_fir)),this.uplinkStats=t}static isRemoteVideoFreeze(t,e,n){if(!t)return!1;const i=!!n&&e.framesDecodeFreezeTime>n.framesDecodeFreezeTime,r=!n||e.framesDecodeCount>n.framesDecodeCount;return i||!r}static isRemoteAudioFreeze(t){return!!t&&t._isFreeze()}isLocalVideoFreeze(t){return!(!t.inputFrame||!t.sentFrame)&&t.inputFrame.frameRate>5&&t.sentFrame.frameRate<3}updateLocalStats(t){Array.from(this.localStats.entries()).forEach(e=>{let[n,i]=e;switch(n){case pO.LocalVideoTrack:case pO.LocalVideoLowTrack:{const e=i,o=DB({},AN),s=t.getStats(),a=t.getLocalMedia(n);if(s){const n=s.videoSend.find(t=>t.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId));if(n){const i=t.getLocalVideoSize(),r=t.getEncoderConfig(pO.LocalVideoTrack);"H264"!==n.codec&&"H265"!==n.codec&&"VP8"!==n.codec&&"VP9"!==n.codec&&"AV1X"!==n.codec&&"AV1"!==n.codec||(o.codecType=n.codec),o.sendBytes=n.bytes,o.sendBitrate=e?8*Math.max(0,o.sendBytes-e.sendBytes):0,n.inputFrame?(o.captureFrameRate=n.inputFrame.frameRate,o.captureResolutionHeight=n.inputFrame.height,o.captureResolutionWidth=n.inputFrame.width):i&&(o.captureResolutionWidth=i.width,o.captureResolutionHeight=i.height),n.sentFrame?(o.sendFrameRate=n.sentFrame.frameRate,o.sendResolutionHeight=n.sentFrame.height,o.sendResolutionWidth=n.sentFrame.width):i&&(o.sendResolutionWidth=i.width,o.sendResolutionHeight=i.height),n.avgEncodeMs&&(o.encodeDelay=n.avgEncodeMs),r&&r.bitrateMax&&(o.targetSendBitrate=1e3*r.bitrateMax),o.sendPackets=n.packets,o.sendPacketsLost=n.packetsLost,o.sendJitterMs=n.jitterMs,o.sendRttMs=n.rttMs,o.totalDuration=e?e.totalDuration+1:1,o.totalFreezeTime=e?e.totalFreezeTime:0,this.isLocalVideoFreeze(n)&&(o.totalFreezeTime+=1),n.scalabilityMode&&this.scalabilityMode!==n.scalabilityMode&&(gR.debug("[".concat(this.store.clientId,"]: The scalabilityMode of the video sending stream is ").concat(n.scalabilityMode)),this.scalabilityMode=n.scalabilityMode)}this.trafficStats&&(o.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var r;this.localStats.set(n,o),((null==e?void 0:e.sendResolutionWidth)!==o.sendResolutionWidth||(null==e?void 0:e.sendResolutionHeight)!==o.sendResolutionHeight)&&(null===(r=this.onStatsChanged)||void 0===r||r.call(this,"resolution",{width:o.sendResolutionWidth,height:o.sendResolutionHeight})),o&&a&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,a.track,o);break}case pO.LocalAudioTrack:{const e=i,r=DB({},RN),o=t.getStats(),s=t.getLocalMedia(n);if(o){const n=o.audioSend.find(t=>t.ssrc===(null==s?void 0:s.ssrcs[0].ssrcId));if(n){if("opus"!==n.codec&&"aac"!==n.codec&&"PCMU"!==n.codec&&"PCMA"!==n.codec&&"G722"!==n.codec||(r.codecType=n.codec),n.inputLevel)r.sendVolumeLevel=Math.round(32767*n.inputLevel);else{const e=t.getLocalAudioVolume();e&&(r.sendVolumeLevel=Math.round(32767*e))}r.sendBytes=n.bytes,r.sendPackets=n.packets,r.sendPacketsLost=n.packetsLost,r.sendJitterMs=n.jitterMs,r.sendRttMs=n.rttMs,r.sendBitrate=e?8*Math.max(0,r.sendBytes-e.sendBytes):0}}this.trafficStats&&(r.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(pO.LocalAudioTrack,r),r&&s&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,s.track,r);break}}})}updateRemoteStats(t){Array.from(this.remoteStats.entries()).forEach(e=>{var n,i;let[r,{videoStats:o,audioStats:s,videoPcStats:a}]=e;const c=s,l=o,u=a,d=DB({},ON),h=DB({},DN),p=DB({},xN),{audioTrack:f,videoTrack:m,audioSSRC:v,videoSSRC:g}=t.getRemoteMedia(r);let _;_=t instanceof AB?t.getStats(!0):t.getStats();const y=null===(n=_)||void 0===n?void 0:n.audioRecv.find(t=>t.ssrc===v),E=null===(i=_)||void 0===i?void 0:i.videoRecv.find(t=>t.ssrc===g),b=this.trafficStats&&this.trafficStats.peer_delay.find(t=>t.peer_uid===r);if(y&&("opus"!==y.codec&&"aac"!==y.codec&&"PCMU"!==y.codec&&"PCMA"!==y.codec&&"G722"!==y.codec||(d.codecType=y.codec),y.outputLevel?d.receiveLevel=Math.round(32767*y.outputLevel):f&&(d.receiveLevel=Math.round(32767*f.getVolumeLevel())),d.receiveBytes=y.bytes,d.receivePackets=y.packets,d.receivePacketsLost=y.packetsLost,d.receivePacketsDiscarded=y.packetsDiscarded,d.packetLossRate=d.receivePacketsLost/(d.receivePackets+d.receivePacketsLost),d.receiveBitrate=c?8*Math.max(0,d.receiveBytes-c.receiveBytes):0,d.totalDuration=c?c.totalDuration+1:1,d.totalFreezeTime=c?c.totalFreezeTime:0,d.freezeRate=d.totalFreezeTime/d.totalDuration,d.receiveDelay=y.jitterBufferMs,d.totalDuration>10&&kB.isRemoteAudioFreeze(f)&&(d.totalFreezeTime+=1)),E){"H264"!==E.codec&&"H265"!==E.codec&&"VP8"!==E.codec&&"VP9"!==E.codec&&"AV1X"!==E.codec&&"AV1"!==E.codec||(h.codecType=E.codec),h.receiveBytes=E.bytes,h.receiveBitrate=l?8*Math.max(0,h.receiveBytes-l.receiveBytes):0,h.decodeFrameRate=E.decodeFrameRate<0?0:E.decodeFrameRate,h.renderFrameRate=E.decodeFrameRate<0?0:E.decodeFrameRate,E.outputFrame&&(h.renderFrameRate=E.outputFrame.frameRate),E.receivedFrame?(h.receiveFrameRate=E.receivedFrame.frameRate,h.receiveResolutionHeight=E.receivedFrame.height,h.receiveResolutionWidth=E.receivedFrame.width):m&&(h.receiveResolutionHeight=m._videoHeight||0,h.receiveResolutionWidth=m._videoWidth||0),void 0!==E.framesRateFirefox&&(h.receiveFrameRate=Math.round(E.framesRateFirefox)),h.receivePackets=E.packets,h.receivePacketsLost=E.packetsLost,h.packetLossRate=h.receivePacketsLost/(h.receivePackets+h.receivePacketsLost),h.totalDuration=l?l.totalDuration+1:1,h.totalFreezeTime=l?l.totalFreezeTime:0,h.receiveDelay=E.jitterBufferMs||0;const e=!!g&&t.getRemoteVideoIsReady(g);m&&e&&kB.isRemoteVideoFreeze(m,E,u)&&(h.totalFreezeTime+=1),h.freezeRate=h.totalFreezeTime/h.totalDuration}b&&(d.end2EndDelay=b.B_ad,h.end2EndDelay=b.B_vd,d.transportDelay=b.B_ed,h.transportDelay=b.B_ed,d.currentPacketLossRate=b.B_ealr4/100,h.currentPacketLossRate=b.B_evlr4/100,p.uplinkNetworkQuality=b.B_punq?b.B_punq:0,p.downlinkNetworkQuality=b.B_pdnq?b.B_pdnq:0),this.remoteStats.set(r,{audioStats:d,videoStats:h,videoPcStats:E,networkStats:p}),f&&this.exceptionMonitor.setRemoteAudioStats(f,d),m&&this.exceptionMonitor.setRemoteVideoStats(m,h)})}}class NB{constructor(){jE(this,"destChannelMediaInfos",new Map),jE(this,"srcChannelMediaInfo",void 0)}setSrcChannelInfo(t){KA(t),this.srcChannelMediaInfo=t}addDestChannelInfo(t){KA(t),this.destChannelMediaInfos.set(t.channelName,t)}removeDestChannelInfo(t){UA(t),this.destChannelMediaInfos.delete(t)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function PB(t){if(!(t instanceof NB))return new IR(SC.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();const e=t.getSrcChannelMediaInfo(),n=t.getDestChannelMediaInfo();return e?0===n.size?new IR(SC.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw():void 0:new IR(SC.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw()}function LB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function MB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?LB(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var VB;function UB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function BB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?UB(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}let jB=(VB=class t extends lO{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map(t=>t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"").filter(t=>{var e;return Pi(e=Object.keys(eR)).call(e,t)}))]}constructor(e,n){super(e,n),jE(this,"store",void 0),jE(this,"peerConnection",void 0),jE(this,"remoteSDP",void 0),jE(this,"initialOffer",void 0),jE(this,"statsFilter",void 0),jE(this,"useRTX",!1),jE(this,"localCapabilities",void 0),jE(this,"localCandidateCount",0),jE(this,"allCandidatesReceived",!1),jE(this,"establishPromise",void 0),jE(this,"mutex",new DI("P2PConnection-mutex")),this.store=n,this.peerConnection=new RTCPeerConnection(t.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.statsFilter=UU(this.peerConnection,JI("STATS_UPDATE_INTERVAL"),void 0,Qw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const t=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!t.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const e=$M(t.sdp),n=GM(t.sdp,{filterRTX:!this.useRTX,filterVideoFec:JI("FILTER_VIDEO_FEC"),filterAudioFec:JI("FILTER_AUDIO_FEC"),filterAudioCodec:["opus"]});return this.localCapabilities=n,this.initialOffer=t,BB(BB({},e),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:n},offerSDP:t.sdp})}catch(t){throw new TC(SC.GET_LOCAL_CONNECTION_PARAMS_FAILED,t.toString())}}async updateRemoteConnect(){}async connect(t){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new class{constructor(t){jE(this,"sessionDesc",void 0),jE(this,"localCapabilities",void 0),jE(this,"rtpCapabilities",void 0),jE(this,"candidates",void 0),jE(this,"iceParameters",void 0),jE(this,"dtlsParameters",void 0),jE(this,"setup",void 0),jE(this,"currentMidIndex",void 0),jE(this,"cname",void 0),t=aI(t);const{iceParameters:e,dtlsParameters:n,candidates:i,rtpCapabilities:r,setup:o,localCapabilities:s,sdkCodec:a,cname:c}=t,l=jM.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS\na=ice-lite\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:audio\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:video\n");this.rtpCapabilities=r,this.candidates=i,this.iceParameters=e,this.dtlsParameters=n,this.setup=o,this.localCapabilities=s,this.cname=c;for(let u=0;u<l.mediaDescriptions.length;u++){const t=l.mediaDescriptions[u];if(t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd,t.attributes.fingerprints=n.fingerprints,t.attributes.candidates=i,t.attributes.setup=o,"video"===t.media.mediaType){t.media.fmts=r.videoCodecs.map(t=>t.payloadType.toString(10));let e=r.videoCodecs.filter(t=>{var e,n;return null===(e=t.rtpMap)||void 0===e?void 0:Pi(n=e.encodingName.toLowerCase()).call(n,a)});0===e.length&&(e=r.videoCodecs),t.attributes.payloads=e,t.attributes.extmaps=r.videoExtensions}"audio"===t.media.mediaType&&(t.media.fmts=r.audioCodecs.map(t=>t.payloadType.toString(10)),t.attributes.payloads=r.audioCodecs,t.attributes.extmaps=r.audioExtensions),l.mediaDescriptions[u]=this.mungMediaDesc(t)}this.sessionDesc=l,this.currentMidIndex=l.mediaDescriptions.length-1}toString(){return jM.print(this.sessionDesc)}send(t,e,n){const{ssrcs:i,ssrcGroups:r}=qM(e,this.cname),o=this.sessionDesc.mediaDescriptions.find(e=>t===uO.VIDEO?"video"===e.media.mediaType:"audio"===e.media.mediaType),s=i[0].attributes.label,a=i[0].attributes.mslabel;return o.attributes.ssrcs=o.attributes.ssrcs.concat(i),o.attributes.ssrcGroups=o.attributes.ssrcGroups.concat(r),{id:s,mslabel:a}}batchSend(t){return t.map(t=>{let{kind:e,ssrcMsg:n}=t;return this.send(e,n,void 0)})}stopSending(t){this.sessionDesc.mediaDescriptions.forEach(e=>{const n=[],i=[],r=[];e.attributes.ssrcs.forEach(e=>{Pi(t).call(t,e.attributes.label||"")?r.push(e):n.push(e)}),e.attributes.ssrcGroups.forEach(t=>{var e;Pi(e=r.map(t=>t.ssrcId)).call(e,t.ssrcIds[0])||i.push(t)}),e.attributes.ssrcs=n,e.attributes.ssrcGroups=i})}mute(t){const e=this.sessionDesc.mediaDescriptions.find(e=>e.attributes.mid===t);if(!e)throw new Error("mediaDescription not found with ".concat(t," in remote SDP when calling RemoteSDP.mute."));e.attributes.direction="inactive"}unmute(t){const e=this.sessionDesc.mediaDescriptions.find(e=>e.attributes.mid===t);if(!e)throw new Error("mediaDescription not found with ".concat(t," in remote SDP when calling RemoteSDP.unmute."));e.attributes.direction="sendonly"}receive(t,e,n){t.forEach((t,e)=>{const n=t._mediaStreamTrack,i=this.sessionDesc.mediaDescriptions.findIndex(t=>t.attributes.mid===n.kind),r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=r})}stopReceiving(t){}updateCandidates(t){t===dO.TCP?this.candidates.forEach(t=>{-1===this.candidates.findIndex(e=>"tcp"===e.transport&&e.connectionAddress===t.connectionAddress&&e.port===t.port)&&this.candidates.push(MB(MB({},t),{},{foundation:"tcpcandidate",priority:Number(t.priority)-1+"",transport:"tcp",port:Number(t.port)+90+""}))}):this.candidates=this.candidates.filter(t=>"tcp"!==t.transport);for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}restartICE(t){t=aI(t),this.iceParameters=t,this.sessionDesc.mediaDescriptions.forEach(e=>{e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd})}predictReceivingMids(t){const e=[];for(let n=0;n<t;n++)e.push((this.currentMidIndex+n+1).toString(10));return e}mungRecvMediaDsec(t,e){const n=aI(t);return XM(n,e),ZM(n,e),n}updateRecvMedia(t,e){const n=this.sessionDesc.mediaDescriptions.findIndex(e=>e.attributes.mid===t);if(-1!==n){const t=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],e);this.sessionDesc.mediaDescriptions[n]=t}}bumpMid(t){this.currentMidIndex+=t}updateTrackLabel(t,e,n){const i=this.sessionDesc.mediaDescriptions.find(e=>t===uO.VIDEO?"video"===e.attributes.mid:"audio"===e.attributes.mid);if(i){const t=i.attributes.ssrcs.find(t=>t.attributes.label===e);var r;t&&(t.attributes.label=n,null===(r=t.attributes.msid)||void 0===r||r.replace(e,n))}}mungMediaDesc(t){const e=aI(t);return JM(e),function(t){const e=t.attributes.extmaps.find(t=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===t.extensionName);e&&t.attributes.extmaps.splice(t.attributes.extmaps.indexOf(e),1),t.attributes.payloads.forEach(t=>{const e=t.rtcpFeedbacks.findIndex(t=>"transport-cc"===t.type);-1!==e&&t.rtcpFeedbacks.splice(e,1)})}(e),e}getSSRC(t){for(const e of this.sessionDesc.mediaDescriptions)for(const n of e.attributes.ssrcs)if(n.attributes.label===t)return[n]}}(BB(BB({},t),{},{rtpCapabilities:t.rtpCapabilities.send,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec}));const e=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:"answer",sdp:e})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(t.toString()))}}async updateRemoteRTPCapabilities(t,e){throw new TC(SC.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}getPreMedia(t){}send(t,e){var n=this;return YT((function*(){const i=yield KT(n.mutex.lock());try{if(!n.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const r=t.map(t=>n.peerConnection.addTrack(t._mediaStreamTrack)),o=yield KT(n.peerConnection.createOffer()),s=jM.parse(o.sdp),a=t.map(t=>{const e=t._mediaStreamTrack,i=s.mediaDescriptions.find(t=>t.attributes.mid===e.kind);if(!i)throw new Error("Cannot extract ssrc from mediaDescription.");return function(t,e,n){const i=t.attributes.ssrcs.filter(t=>t.attributes.label===e),r=t.attributes.ssrcGroups;if(0===i.length)throw new Error("Cannot extract ssrc from plan-b SDP.");if(r&&i.length>1){const t=r.find(t=>-1!==t.ssrcIds.indexOf(i[0].ssrcId));return t?[{ssrcId:t.ssrcIds[0],rtx:n?t.ssrcIds[1]:void 0}]:[{ssrcId:i[0].ssrcId}]}return[{ssrcId:i[0].ssrcId}]}(i,e.id,n.useRTX)});let c;try{c=yield a}catch(t){throw r.forEach(t=>{Jw()&&t.replaceTrack(null),n.peerConnection.removeTrack(t)}),t}const l=n.mungSendOfferSDP(o.sdp,t);n.remoteSDP.receive(t,e,c);const u=n.remoteSDP.toString();return yield KT(n.peerConnection.setLocalDescription({type:"offer",sdp:l})),yield KT(n.applySendEncodings(r,t)),yield KT(n.peerConnection.setRemoteDescription({type:"answer",sdp:u})),t.map((t,e)=>{const n=t._mediaStreamTrack.id;return{localSSRC:a[e],id:n}})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(t.toString()))}finally{i()}}))()}async stopSending(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const e=this.peerConnection.getSenders().filter(e=>{var n;return-1!==t.indexOf((null===(n=e.track)||void 0===n?void 0:n.id)||"")});if(e.length!==t.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");e.map(t=>{Jw()&&t.replaceTrack(null),this.peerConnection.removeTrack(t)});const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(t);const i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(t.toString()))}}async receive(t,e,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));const{id:n,mslabel:r}=this.remoteSDP.send(t,e,i),o=new $h((e,i)=>{const o=setTimeout(()=>{i(new Error("Cannot receive track, id: ".concat(n)))},1e4),s=i=>{const a=$w();if(("Safari"===a.name&&11===Number(a.version)||tC())&&i.track.id!==n&&i.streams[0].id===r){var c;const r=i.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(t,n,i.track.id),this.peerConnection.removeEventListener("track",s),clearTimeout(o),void e(r)}if(i.track.id===n)return this.peerConnection.removeEventListener("track",s),clearTimeout(o),void e(i.track)};this.peerConnection.addEventListener("track",s)}),s=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:s});const a=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(a),{track:await o,id:n}}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(t.toString()))}}async stopReceiving(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(t);const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const n=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(n)}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(t.toString()))}}async muteRemote(t){}async unmuteRemote(t){}async muteLocal(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const e=this.peerConnection.getSenders().filter(e=>{var n;return-1!==t.indexOf((null===(n=e.track)||void 0===n?void 0:n.id)||"")});if(e.length!==t.length)throw new Error("sender' length doesn't match mids' length.");e.map(t=>{if(Jw()&&t.track)t.track.enabled=!1;else{const e=t.getParameters();e.encodings.forEach(t=>t.active=!1),t.setParameters(e)}})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(t.toString()))}}async unmuteLocal(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const e=this.peerConnection.getSenders().filter(e=>{var n;return-1!==t.indexOf((null===(n=e.track)||void 0===n?void 0:n.id)||"")});if(e.length!==t.length)throw new Error("Senders' length doesn't match mids' length.");e.map(async t=>{if(Jw()&&t.track)t.track.enabled=!0;else{const e=t.getParameters();e.encodings.forEach(t=>t.active=!0),await t.setParameters(e)}});const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n);const i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(t.toString()))}}restartICE(t){var e=this;return YT((function*(){const n=yield KT(e.mutex.lock("From P2PConnection.restartICE"));try{if(!e.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(Qk().supportPCSetConfiguration){const n=e.peerConnection.getConfiguration(),i=t===dO.RELAY?"relay":"all";n.iceTransportPolicy!==i&&(gR.debug("[".concat(e.store.clientId,"] restartICE change iceTransportPolicy from [").concat(n.iceTransportPolicy,"] to [").concat(i,"]")),n.iceTransportPolicy=i,e.peerConnection.setConfiguration(n))}else if(t===dO.RELAY)return;t!==dO.RELAY&&e.remoteSDP.updateCandidates(t);const i=yield KT(e.peerConnection.createOffer({iceRestart:!0}));if(!i.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const r=$M(i.sdp),{remoteIceParameters:o}=yield r.iceParameters;e.remoteSDP.restartICE(o);const s=e.remoteSDP.toString();yield KT(e.peerConnection.setLocalDescription(i)),yield KT(e.peerConnection.setRemoteDescription({type:"answer",sdp:s}))}catch(t){gR.warning("[".concat(e.store.clientId,"] restart ICE failed, abort operation"),t)}finally{n()}}))()}close(){var t;this.peerConnection.close(),null===(t=this.onConnectionStateChange)||void 0===t||t.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(t){return this.statsFilter.getVideoIsReady(t)}async updateEncoderConfig(t,e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const t=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(t.sdp,[e]);this.remoteSDP.updateRecvMedia(e._mediaStreamTrack.kind,e);const i=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:"offer",sdp:n}),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,t.toString())}}async updateSendParameters(t,e){const n=this.peerConnection.getSenders().filter(e=>{var n;return(null===(n=e.track)||void 0===n?void 0:n.id)===t});1===n.length&&await this.applySendEncodings(n,[e])}setStatsRemoteVideoIsReady(t,e){this.statsFilter.setVideoIsReady2(t,e)}async replaceTrack(t,e){const n=this.peerConnection.getSenders().find(t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e});n&&await n.replaceTrack(t._mediaStreamTrack)}createDataChannels(t,e){throw new TC(SC.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}stopDataChannels(t){throw new TC(SC.NOT_SUPPORTED,"Planb mode does not support stopDataChannels.")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var t;null===(t=this.onICEConnectionStateChange)||void 0===t||t.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var t;null===(t=this.onConnectionStateChange)||void 0===t||t.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=t=>{t.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,gR.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,gR.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},JI("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(e){const n={iceServers:[],sdpSemantics:"plan-b"};return e.iceServers?n.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(zC(e.turnServer.servers)?n.iceServers=e.turnServer.servers:(n.iceServers&&n.iceServers.push(...t.turnServerConfigToIceServers(e.turnServer.servers)),JI("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&e.turnServer.serversFromGateway&&n.iceServers.push(...t.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach(t=>{t.forceturn&&(n.iceTransportPolicy="relay")}))),n}static turnServerConfigToIceServers(t){const e=[];return t.forEach(t=>{t.security?t.tcpport&&e.push({username:t.username,credential:t.password,credentialType:"password",urls:"turns:".concat(t.turnServerURL,":").concat(t.tcpport,"?transport=tcp")}):(t.udpport&&e.push({username:t.username,credential:t.password,credentialType:"password",urls:"turn:".concat(t.turnServerURL,":").concat(t.udpport,"?transport=udp")}),t.tcpport&&e.push({username:t.username,credential:t.password,credentialType:"password",urls:"turn:".concat(t.turnServerURL,":").concat(t.tcpport,"?transport=tcp")}))}),e}async updateRtpSenderEncodings(t,e){var n;if(e||(e=this.peerConnection.getSenders().find(e=>{var n;return(null===(n=e.track)||void 0===n?void 0:n.id)===t._mediaStreamTrack.id})),!e)return gR.warn("[".concat(t.getTrackId(),"] no rtpSender found}"));if(!Qk().supportSetRtpSenderParameters)return gR.warn("Browser not support set rtp-sender parameters");const i={},r={};if(t instanceof cM)switch(t._optimizationMode){case"motion":i.degradationPreference="maintain-framerate";break;case"detail":i.degradationPreference="maintain-resolution";break;default:i.degradationPreference="balanced"}if(JI("DSCP_TYPE")&&vC()){var o;const t=JI("DSCP_TYPE");Pi(o=["very-low","low","medium","high"]).call(o,t)&&(r.networkPriority=t)}const s=e.getParameters(),a=null===(n=s.encodings)||void 0===n?void 0:n[0];a&&Object.assign(a,r),Object.assign(s,i),gR.debug("[".concat(t.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(s.encodings))),await e.setParameters(s)}async applySendEncodings(t,e){try{if(!Qk().supportSetRtpSenderParameters)return;if(t.length!==e.length)return;for(let n=0;n<t.length;n++){const i=t[n],r=e[n];i&&r&&await this.updateRtpSenderEncodings(r,i)}}catch(t){gR.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(t,e){const n=jM.parse(t);return e.forEach((t,e)=>{const i=t._mediaStreamTrack,r=n.mediaDescriptions.find(t=>t.attributes.mid===i.kind);r&&XM(r,t)}),jM.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=t=>{var e;null===(e=this.onFirstAudioReceived)||void 0===e||e.call(this,t)},this.statsFilter.onFirstVideoReceived=t=>{var e;null===(e=this.onFirstVideoReceived)||void 0===e||e.call(this,t)},this.statsFilter.onFirstAudioDecoded=t=>{var e;null===(e=this.onFirstAudioDecoded)||void 0===e||e.call(this,t)},this.statsFilter.onFirstVideoDecoded=(t,e,n)=>{var i;null===(i=this.onFirstVideoDecoded)||void 0===i||i.call(this,t,e,n)},this.statsFilter.onSelectedLocalCandidateChanged=(t,e)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,t,e)},this.statsFilter.onSelectedRemoteCandidateChanged=(t,e)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,t,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const e=this.remoteSDP.batchSend(t).map((e,n)=>{let{id:i,mslabel:r}=e;const{kind:o}=t[n];return new $h((t,e)=>{const n=setTimeout(()=>{e(new Error("Cannot receive track, id: ".concat(i)))},1e4),s=e=>{const a=$w();if("Safari"===a.name&&11===Number(a.version)&&e.track.id!==i&&e.streams[0].id===r){var c;const r=e.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(o,i,e.track.id),this.peerConnection.removeEventListener("track",s),clearTimeout(n),void t({track:r,id:i})}if(e.track.id===i)return this.peerConnection.removeEventListener("track",s),clearTimeout(n),void t({track:e.track,id:i})};this.peerConnection.addEventListener("track",s)})}),n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:n});const i=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(i),await $h.all(e)}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(t.toString()))}}async getRemoteSSRC(t){if(!this.remoteSDP)return;const e=this.remoteSDP.getSSRC(t);return null==e?void 0:e[0].ssrcId}setConfiguration(e){if(Qk().supportPCSetConfiguration){const n=t.resolvePCConfiguration(e);this.peerConnection.setConfiguration(n)}}},TA(VB.prototype,"connect",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"connect"),VB.prototype),TA(VB.prototype,"stopSending",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"stopSending"),VB.prototype),TA(VB.prototype,"receive",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"receive"),VB.prototype),TA(VB.prototype,"stopReceiving",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"stopReceiving"),VB.prototype),TA(VB.prototype,"muteRemote",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"muteRemote"),VB.prototype),TA(VB.prototype,"unmuteRemote",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"unmuteRemote"),VB.prototype),TA(VB.prototype,"muteLocal",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"muteLocal"),VB.prototype),TA(VB.prototype,"unmuteLocal",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"unmuteLocal"),VB.prototype),TA(VB.prototype,"close",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"close"),VB.prototype),TA(VB.prototype,"updateEncoderConfig",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"updateEncoderConfig"),VB.prototype),TA(VB.prototype,"updateSendParameters",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"updateSendParameters"),VB.prototype),TA(VB.prototype,"replaceTrack",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"replaceTrack"),VB.prototype),TA(VB.prototype,"getRemoteSSRC",[FB],Object.getOwnPropertyDescriptor(VB.prototype,"getRemoteSSRC"),VB.prototype),VB);function FB(t,e,n){const i=t[e];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const t=this.mutex,n=await t.lock("Locking from P2PConnection.".concat(e));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await i.apply(this,o)}finally{n()}},n}function HB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function WB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?HB(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const GB="9",$B=4e4;class zB{get localCapabilities(){return aI(this._localCapabilities)}get rtpCapabilities(){return aI(this._rtpCapabilities)}get candidates(){return aI(this._candidates)}get iceParameters(){return aI(this._iceParameters)}get dtlsParameters(){return aI(this._dtlsParameters)}constructor(t){jE(this,"sessionDesc",void 0),jE(this,"_localCapabilities",void 0),jE(this,"_rtpCapabilities",void 0),jE(this,"_candidates",void 0),jE(this,"_iceParameters",void 0),jE(this,"_dtlsParameters",void 0),jE(this,"setup",void 0),jE(this,"currentMidIndex",void 0),jE(this,"cname",void 0),jE(this,"firefoxSsrcMidMap",new Map),t=aI(t);const{iceParameters:e,dtlsParameters:n,candidates:i,rtpCapabilities:r,setup:o,localCapabilities:s,cname:a}=t;this._rtpCapabilities=r,this._candidates=i,this._iceParameters=e,this._dtlsParameters=n,this._localCapabilities=s,this.setup=o,this.cname=a,this.sessionDesc=this.updateRemoteRTPCapabilities(r),this.currentMidIndex=this.sessionDesc.mediaDescriptions.length-1}preloadRemoteMedia(t){const e=this.candidates,n=this.dtlsParameters,i=this.iceParameters,r=this.rtpCapabilities.send;let o=this.sessionDesc.mediaDescriptions.length-1;for(let s=1;s<t;s++){const t=2*s+2e4,a=2*s+$B,{ssrcs:c,ssrcGroups:l}=qM([{ssrcId:t}],this.cname),{ssrcs:u,ssrcGroups:d}=qM([{ssrcId:a,rtx:JI("USE_SUB_RTX")?a+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:GB,protos:["UDP","TLS","RTP","SAVPF"],fmts:r.videoCodecs.map(t=>t.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:i.iceUfrag,icePwd:i.icePwd,unrecognized:[],candidates:e,extmaps:r.videoExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:u,ssrcGroups:d,rtcpFeedbackWildcards:[],payloads:r.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(++o)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:GB,protos:["UDP","TLS","RTP","SAVPF"],fmts:r.audioCodecs.map(t=>t.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:i.iceUfrag,icePwd:i.icePwd,unrecognized:[],candidates:e,extmaps:r.audioExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:c,ssrcGroups:l,rtcpFeedbackWildcards:[],payloads:r.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(++o)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return jM.print(this.sessionDesc)}send(t,e,n,i){const{ssrcs:r,ssrcGroups:o}=qM(e,this.cname,JI("SYNC_GROUP")?n:void 0),s=this.findPreloadMediaDesc(r);if(s){if(Qw()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,s.attributes.mid),i&&(i.twcc||i.remb)){const t=this.sessionDesc.mediaDescriptions.indexOf(s);return this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(s,i),{mid:s.attributes.mid,needExchangeSDP:!0}}return{mid:s.attributes.mid,needExchangeSDP:!1}}{const e=this.findAvailableMediaIndex(t,r);let n;return-1===e||1===e&&(Jw()||function(){const t=$w();return!(t.name!==Fw.CHROME||!t.osVersion)&&Number(t.version)<=90}())||0===e&&JI("USE_SUB_RTX")||cC()?(n=this.createOrRecycleSendMedia(t,r,o,"sendonly",i),this.updateBundleMids()):(n=aI(this.sessionDesc.mediaDescriptions[e]),n.attributes.direction="sendonly",n.attributes.ssrcs=r,n.attributes.ssrcGroups=o,this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(n,i)),Qw()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,n.attributes.mid),{mid:n.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:t,needExchangeSDP:e}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:t.attributes.mid,needExchangeSDP:e}}batchSend(t){const e=t.map(t=>{let{kind:e,ssrcMsg:n,mslabel:i}=t;return this.send(e,n,i)}),n=[];let i=!1;return e.forEach(t=>{let{mid:e,needExchangeSDP:r}=t;r&&(i=!0),n.push(e)}),{mids:n,needExchangeSDP:i}}stopSending(t){const e=this.sessionDesc.mediaDescriptions.filter(e=>e.attributes.mid&&-1!==t.indexOf(e.attributes.mid));if(e.length!==t.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");e.forEach(t=>{"0"===t.attributes.mid||Qw()||cC()?t.attributes.ssrcs=[]:(t.attributes.ssrcs=[],t.attributes.direction="inactive",t.media.port="0")}),this.updateBundleMids()}mute(t){const e=this.sessionDesc.mediaDescriptions.find(e=>e.attributes.mid===t);if(!e)throw new Error("mediaDescription not found with ".concat(t," in remote SDP when calling RemoteSDP.mute."));e.attributes.direction="inactive"}unmute(t){const e=this.sessionDesc.mediaDescriptions.find(e=>e.attributes.mid===t);if(!e)throw new Error("mediaDescription not found with ".concat(t," in remote SDP when calling RemoteSDP.unmute."));e.attributes.direction="sendonly"}muteRemote(t){const e=this.sessionDesc.mediaDescriptions.filter(e=>Pi(t).call(t,e.attributes.mid||""));if(e.length!==t.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");e.forEach(t=>{t.attributes.direction="inactive"})}unmuteRemote(t){const e=this.sessionDesc.mediaDescriptions.filter(e=>Pi(t).call(t,e.attributes.mid||""));if(e.length!==t.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");e.forEach(t=>{t.attributes.direction="recvonly"})}receive(t,e,n,i){t.forEach((t,r)=>{this.createOrRecycleRecvMedia(t,[],"recvonly",e,n,i[r])}),this.updateBundleMids()}stopReceiving(t){const e=this.sessionDesc.mediaDescriptions.filter(e=>-1!==t.indexOf(e.attributes.mid));if(e.length!==t.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");e.forEach(t=>{t.media.port="0",t.attributes.direction="inactive"}),this.updateBundleMids()}updateRemoteRTPCapabilities(t){const e=this.sessionDesc||jM.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=ice-lite\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n");this._rtpCapabilities=t;const n=this.rtpCapabilities.send,i=this.localCapabilities.send;for(const r of e.mediaDescriptions){if(r.attributes.iceUfrag=this._iceParameters.iceUfrag,r.attributes.icePwd=this._iceParameters.icePwd,r.attributes.fingerprints=this._dtlsParameters.fingerprints,r.attributes.candidates=this._candidates,r.attributes.setup=this.setup,"application"===r.media.mediaType&&(r.attributes.sctpPort="5000"),"video"===r.media.mediaType)if(0===n.videoCodecs.length){const t=i.videoCodecs.filter(t=>{var e,n;return null===(e=t.rtpMap)||void 0===e?void 0:Pi(n=e.encodingName.toLowerCase()).call(n,"vp8")})||[i.videoCodecs[0]];r.media.fmts=t.map(t=>t.payloadType.toString(10)),r.attributes.payloads=t,r.attributes.extmaps=[]}else if(r.media.fmts=n.videoCodecs.map(t=>t.payloadType.toString(10)),r.attributes.payloads=n.videoCodecs,r.attributes.extmaps=n.videoExtensions,JI("PRELOAD_MEDIA_COUNT")>0){const{ssrcs:t,ssrcGroups:e}=qM([{ssrcId:$B,rtx:JI("USE_SUB_RTX")?40001:void 0}],this.cname);r.attributes.ssrcs=t,r.attributes.ssrcGroups=e}if("audio"===r.media.mediaType)if(0===n.audioCodecs.length){const t=i.audioCodecs.filter(t=>{var e,n;return null===(e=t.rtpMap)||void 0===e?void 0:Pi(n=e.encodingName.toLowerCase()).call(n,"opus")})||[i.audioCodecs[0]];r.media.fmts=t.map(t=>t.payloadType.toString(10)),r.attributes.payloads=t,r.attributes.extmaps=[]}else if(r.media.fmts=n.audioCodecs.map(t=>t.payloadType.toString(10)),r.attributes.payloads=n.audioCodecs,r.attributes.extmaps=n.audioExtensions,sV(r),JI("PRELOAD_MEDIA_COUNT")>0){const{ssrcs:t,ssrcGroups:e}=qM([{ssrcId:2e4}],this.cname);r.attributes.ssrcs=t,r.attributes.ssrcGroups=e}}return this.sessionDesc=e,this.currentMidIndex=e.mediaDescriptions.length-1,this.sessionDesc}updateCandidates(t){const e=this._candidates.filter(t=>"udp"===t.transport);if(t===dO.TCP){if(0===e.length)return;if(JI("TCP_CANDIDATE_ONLY")){const t=this._candidates.filter(t=>"tcp"===t.transport);e.forEach(e=>{-1===t.findIndex(t=>t.connectionAddress===e.connectionAddress)&&t.push(WB(WB({},e),{},{foundation:"tcpcandidate",priority:Number(e.priority)-1+"",transport:"tcp",port:Number(e.port)+90+""}))}),this._candidates=t}else{const t=[];e.forEach(e=>{t.push(WB(WB({},e),{},{foundation:"tcpcandidate",priority:Number(e.priority)-1+"",transport:"tcp",port:Number(e.port)+90+""}))}),this._candidates=[...e,...t]}}else if(t===dO.RELAY){if(0!==e.length)return;{const t=this._candidates.filter(t=>"tcp"===t.transport);t.forEach(t=>{e.push(WB(WB({},t),{},{foundation:"udpcandidate",priority:Number(t.priority)+1+"",transport:"udp",port:Number(t.port)-90+""}))}),this._candidates=[...e,...t]}}else 0===e.length?(this._candidates.filter(t=>"tcp"===t.transport).forEach(t=>{e.push(WB(WB({},t),{},{foundation:"udpcandidate",priority:Number(t.priority)+1+"",transport:"udp",port:Number(t.port)-90+""}))}),this._candidates=e):this._candidates=this._candidates.filter(t=>"tcp"!==t.transport);for(const n of this.sessionDesc.mediaDescriptions)n.attributes.candidates=this.candidates}restartICE(t){t=aI(t),this._iceParameters=t,this.sessionDesc.mediaDescriptions.forEach(e=>{e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd})}predictReceivingMids(t){const e=[];for(let n=0;n<t;n++)e.push((this.currentMidIndex+n+1).toString(10));return e}findAvailableMediaIndex(t,e){return this.sessionDesc.mediaDescriptions.findIndex(n=>{const i=n.media.mediaType===t&&"0"!==n.media.port&&("sendonly"===n.attributes.direction||"sendrecv"===n.attributes.direction)&&0===n.attributes.ssrcs.length;if(Qw()){if(i){const t=this.firefoxSsrcMidMap.get(e[0].ssrcId);return!(t||"0"!==n.attributes.mid&&"1"!==n.attributes.mid)||!(!t||t!==n.attributes.mid)}return!1}return i})}createOrRecycleDataChannel(){for(const n of this.sessionDesc.mediaDescriptions)if("application"===n.media.mediaType)return{mediaDesc:n,needExchangeSDP:!1};this.currentMidIndex+=1;const t="".concat(this.currentMidIndex),e={media:{mediaType:"application",port:GB,protos:["UDP","DTLS","SCTP"],fmts:["webrtc-datachannel"]},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,mid:"".concat(t),sctpPort:"5000"}};return this.sessionDesc.mediaDescriptions.push(e),{mediaDesc:e,needExchangeSDP:!0}}createOrRecycleRecvMedia(t,e,n,i,r,o){const s=t._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,c=aV(s,a,this.localCapabilities.send,s===uO.VIDEO?i:r),l=s===uO.VIDEO?a.videoExtensions:a.audioExtensions;this.currentMidIndex+=1;const u="".concat(this.currentMidIndex);let d={media:{mediaType:s,port:GB,protos:["UDP","TLS","RTP","SAVPF"],fmts:c.map(t=>t.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:e,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:c,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(u)}};d=this.mungRecvMediaDsec(d,t,o);const h=this.findFirstClosedMedia(s);if(h){const t=this.sessionDesc.mediaDescriptions.indexOf(h);this.sessionDesc.mediaDescriptions[t]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}updateRemoteCodec(t,e,n){const i=[...new Set(this._rtpCapabilities.recv.videoCodecs.map(t=>t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"").filter(t=>{var e;return Pi(e=Object.keys(eR)).call(e,t)}))],r=new Set(e);if(i.every(t=>r.has(t)))return gR.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(e)),!1;const o=this._rtpCapabilities.recv.videoCodecs.filter(t=>e.some(e=>{var n;return Pi(n=t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"").call(n,e)}));if(0===o.length)return gR.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(i," codecs: ").concat(e)),!1;const s=[...new Set(o.map(t=>t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||""))];let a;if(gR.debug("updateRemoteCodec, from ".concat(i," to ").concat(s)),0===t.length)a=this.sessionDesc.mediaDescriptions.filter(t=>"video"===t.media.mediaType&&"recvonly"===t.attributes.direction);else if(a=this.sessionDesc.mediaDescriptions.filter(e=>e.attributes.mid&&Pi(t).call(t,e.attributes.mid)&&"recvonly"===e.attributes.direction),a.length!==t.length)return gR.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(t,", codecs: ").concat(e)),!1;if(JI("USE_PUB_RTX")||JI("USE_SUB_RTX")){const t=cV(o,this.rtpCapabilities.recv.videoCodecs);o.push(...t)}this._rtpCapabilities.recv.videoCodecs=o;const c=this.localCapabilities.send,l=this.rtpCapabilities.recv,u=aV(uO.VIDEO,l,c,n);return a.forEach(t=>{const e=u.map(t=>t.payloadType.toString(10));gR.debug("updateRemoteCodec mid: ".concat(t.attributes.mid,", from ").concat(t.attributes.payloads," to ").concat(u)),t.attributes.payloads=u,t.media.fmts=e}),!0}createOrRecycleSendMedia(t,e,n,i,r){const o=this.rtpCapabilities.send,s=t===uO.VIDEO?o.videoCodecs:o.audioCodecs,a=t===uO.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;const c="".concat(this.currentMidIndex);let l={media:{mediaType:t,port:GB,protos:["UDP","TLS","RTP","SAVPF"],fmts:s.map(t=>t.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:a,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:e,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:s,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(c)}};l=this.mungSendMediaDesc(l,r);const u=this.findFirstClosedMedia(t);if(u){const t=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[t]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(t=>"0"!==t.media.port).map(t=>t.attributes.mid)}mungRecvMediaDsec(t,e,n){const i=aI(t);return JM(i),XM(i,e),ZM(i,e),QM(i),tV(i,n,this.localCapabilities.send),i}mungSendMediaDesc(t,e){const n=aI(t);return tV(n,e,this.localCapabilities.recv),sV(n),n}updateRecvMedia(t,e){const n=this.sessionDesc.mediaDescriptions.findIndex(e=>e.attributes.mid===t);if(-1!==n){const t=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],e);this.sessionDesc.mediaDescriptions[n]=t}}bumpMid(t){this.currentMidIndex+=t}findFirstClosedMedia(t){return this.sessionDesc.mediaDescriptions.find(e=>Qw()?"0"===e.media.port&&e.media.mediaType===t:"0"===e.media.port)}findPreloadMediaDesc(t){return this.sessionDesc.mediaDescriptions.find(e=>{var n;return(null===(n=e.attributes)||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId)===t[0].ssrcId})}getSSRC(t){var e;return null===(e=this.sessionDesc.mediaDescriptions.find(e=>e.attributes.mid===t))||void 0===e?void 0:e.attributes.ssrcs}}function YB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function KB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?YB(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}let qB=function(t){return t.BANDWIDTH="bandwidth",t.CPU="cpu",t.NONE="none",t.OTHER="other",t}({});var XB=function(t){return t[t.DOWN=0]="DOWN",t[t.UP=1]="UP",t}(XB||{});const JB=new Map;function ZB(t,e,n,i){let{scale:r}=t;if(0===r&&i===XB.UP||r>=e.length-1&&i===XB.DOWN)return t;let o=KB(KB({},t),{},{scale:i===XB.DOWN?++r:--r});switch(n){case"maintain-framerate":o=KB(KB({},o),e[r].motion);break;case"maintain-resolution":o=KB(KB({},o),e[r].detail);break;case"balanced":o=KB(KB({},o),e[r].balanced)}return o}function QB(t,e){if(e){const n={overUse:0,underUse:0,adaptationList:tj(e)};JB.set(t,n)}else JB.delete(t)}function tj(t){const e=KB({},t),{bitrateMax:n,frameRate:i,scaleResolutionDownBy:r,bitrateMin:o}=e,{MIN_FRAME_RATE:s,MAX_THRESHOLD_FRAMERATE:a,MAX_SCALE:c,BITRATE_MIN_THRESHOLD:l,BITRATE_MAX_THRESHOLD:u,BWE_SCALE_UP_THRESHOLD:d,BWE_SCALE_DOWN_THRESHOLD:h,PERF_SCALE_DOWN_THRESHOLD:p,PERF_SCALE_UP_THRESHOLD:f,BALANCE_BITRATE_FACTOR:m,BALANCE_FRAMERATE_FACTOR:v,BALANCE_RESOLUTION_FACTOR:g,MOTION_RESOLUTION_FACTOR:_,MOTION_BITRATE_FACTOR:y,DETAIL_FRAMERATE_FACTOR:E,DETAIL_BITRATE_FACTOR:b}=YI,S=Math.min(e.frameRate,a),T=[{scale:0,threshold:{bwe_down:Math.round(Math.pow(h,1)*n),bwe_up:n,fps_down:Math.round(Math.pow(p,1)*S),fps_up:i},balanced:{scaleResolutionDownBy:1,frameRate:i,bitrateMax:n,bitrateMin:o},motion:{scaleResolutionDownBy:1,frameRate:i,bitrateMax:n,bitrateMin:o},detail:{scaleResolutionDownBy:1,frameRate:i,bitrateMax:n,bitrateMin:o}}];for(let w=1;w<=c;w++){const t={bwe_up:Math.round(Math.pow(d,w)*n),bwe_down:Math.round(Math.pow(h,w+1)*n),fps_up:Math.round(Math.pow(f,w)*S),fps_down:Math.round(Math.pow(p,w+1)*S)},e={scaleResolutionDownBy:r/Math.pow(g,w),frameRate:Math.max(Math.round(Math.pow(v,w)*i),s),bitrateMax:Math.max(Math.round(Math.pow(m,w)*n),u),bitrateMin:Math.max(Math.round(Math.pow(m,w)*o),l)},a={scaleResolutionDownBy:r/Math.pow(_,w),frameRate:i,bitrateMax:Math.max(Math.round(Math.pow(y,w)*n),u),bitrateMin:Math.max(Math.round(Math.pow(y,w)*o),l)},c={scaleResolutionDownBy:1,frameRate:Math.max(Math.round(Math.pow(E,w)*i),s),bitrateMax:Math.max(Math.round(Math.pow(b,w)*n),u),bitrateMin:Math.max(Math.round(Math.pow(b,w)*o),l)};T.push({scale:w,threshold:t,balanced:e,motion:a,detail:c})}return T}function ej(t,e,n,i,r,o){const s=JB.get(t)||{overUse:0,underUse:0,adaptationList:tj(r)},{adaptationList:a}=s;JB.set(t,s);const{OVERUSE_TIMES_THRESHOLD:c,UNDERUSE_TIMES_THRESHOLD:l}=YI,{scale:u}=i;let d,h;return"number"==typeof e&&e>0&&function(t,e,n,i){if(e>=n.length)return!1;let{threshold:{fps_down:r}}=n[e];return JI("FORCE_AG_HIGH_FRAMERATE")&&"maintain-framerate"===i&&(r=n[0].threshold.fps_down),t<r}(e,u,a,o)&&(s.overUse++,h=qB.CPU,s.overUse>c)||"number"==typeof n&&n>0&&function(t,e,n){if(e>=n.length)return!1;const{threshold:{bwe_down:i}}=n[e];return t<i}(n,u,a)&&(s.overUse++,h=qB.BANDWIDTH,s.overUse>c)?(s.overUse=0,s.underUse=0,d=ZB(i,a,o,XB.DOWN),[d,h]):("number"==typeof e&&e>0&&"number"==typeof n&&n>0&&function(t,e,n,i){if(0===e)return;let{threshold:{fps_up:r}}=n[e];return JI("FORCE_AG_HIGH_FRAMERATE")&&"maintain-framerate"===i&&(r=n[1].threshold.fps_up),t>r}(e,u,a,o)&&function(t,e,n){if(0===e)return;const{threshold:{bwe_up:i}}=n[e];return t>i}(n,u,a)&&(s.underUse++,s.underUse>l&&(s.overUse=0,s.underUse=0,d=ZB(i,a,o,XB.UP),0===d.scale&&(h=qB.NONE))),[d,h])}function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ij(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nj(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rj(t){var e;return!!JI("ENABLE_AG_ADAPTATION")&&!!(t instanceof lM||Pi(e=t._hints).call(e,_N.CUSTOM_TRACK))&&(!!JI("FORCE_SUPPORT_AG_ADAPTATION")||!!(function(t){const e=$w();if(e.os!==jw.IOS||!e.osVersion)return!1;const n=e.osVersion.split(".");return Number(n[0])>=t}(14)&&oC(17,4,!0)||rC(14)&&sC(17,4,!0)))}const oj=new Map;function sj(t,e){const n=oj.get(t);if(n){const{timer:e}=n;window.clearTimeout(e),oj.delete(t)}e.qualityLimitationReason=qB.NONE,QB(t)}var aj;function cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function lj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cj(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}let uj=(aj=class t extends lO{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var t,e;return null!==(t=null===(e=this.peerConnection.getReceivers()[0])||void 0===e||null===(e=e.transport)||void 0===e?void 0:e.state)&&void 0!==t?t:null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map(t=>t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"").filter(t=>{var e;return Pi(e=Object.keys(eR)).call(e,t)}))]}constructor(e,n){super(e,n),jE(this,"store",void 0),jE(this,"peerConnection",void 0),jE(this,"id",yI(5,"connection-")),jE(this,"remoteSDP",void 0),jE(this,"initialOffer",void 0),jE(this,"transportEventReceiver",void 0),jE(this,"statsFilter",void 0),jE(this,"extension",{useXR:JI("USE_XR")}),jE(this,"localCapabilities",void 0),jE(this,"remoteCodecs",void 0),jE(this,"localCandidateCount",0),jE(this,"allCandidatesReceived",!1),jE(this,"isPreallocation",!1),jE(this,"preSSRCMap",new Map),jE(this,"dataStreamChannelMap",new Map),jE(this,"establishPromise",void 0),jE(this,"recoveredDataChannelIds",[]),jE(this,"currentDataChannelId",1),jE(this,"mutex",new DI("P2PConnection-mutex")),jE(this,"qualityLimitationReason",qB.NONE),this.store=n,this.peerConnection=new RTCPeerConnection(t.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.statsFilter=UU(this.peerConnection,JI("STATS_UPDATE_INTERVAL"),void 0,Qw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}getPreMedia(t){const e=this.preSSRCMap.get(t);if(void 0!==e){const t=this.peerConnection.getTransceivers().find(t=>t.mid===e);if(t)return{transceiver:t,track:t.receiver.track,id:e}}}async updateRemoteRTPCapabilities(t,e){if(this.remoteCodecs=e,this.remoteSDP)if(this.remoteSDP.updateRemoteCodec(t,e,this.store.codec)){const t=await this.peerConnection.createOffer(),e=this.logSDPExchange(t.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(t);const n=this.remoteSDP.toString();null==e||e(n),await this.peerConnection.setRemoteDescription({type:"answer",sdp:n})}else gR.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.");else gR.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(e))}async establish(){try{this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"});const t=await this.peerConnection.createOffer();if(!t.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const e=$M(t.sdp),n=await nV({filterRTX:!JI("USE_PUB_RTX")&&!JI("USE_SUB_RTX"),filterVideoFec:JI("FILTER_VIDEO_FEC"),filterAudioFec:JI("FILTER_AUDIO_FEC"),filterVideoCodec:JI("FILTER_VIDEO_CODEC")},this.extension);return this.localCapabilities=oV(n),this.initialOffer=t,lj(lj({},e),{},{rtpCapabilities:n,offerSDP:t.sdp})}catch(t){throw new TC(SC.GET_LOCAL_CONNECTION_PARAMS_FAILED,t.toString())}}async connect(t){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new zB(lj(lj({},t),{},{localCapabilities:this.localCapabilities})),t.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const e=this.remoteSDP.toString(),n=uV(this.initialOffer.sdp,this.extension),i=this.logSDPExchange(n||"","offer","local","connect");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:"offer",sdp:n}),null==i||i(e),await this.peerConnection.setRemoteDescription({type:"answer",sdp:e});const r=this.peerConnection.getTransceivers()[0];if(null!=r&&r.receiver&&this.tryBindTransportEvents(r.receiver),JI("PRELOAD_MEDIA_COUNT")>0){this.remoteSDP.preloadRemoteMedia(JI("PRELOAD_MEDIA_COUNT"));const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e)}const{preSSRCs:o}=t;if(Array.isArray(o)&&o.length>0){const{mids:t}=this.remoteSDP.batchSend(o.map(t=>({kind:t.kind,ssrcMsg:[{ssrcId:t.ssrcId,rtx:t.rtx}],mslabel:t.mslabel})));t.forEach((t,e)=>{this.preSSRCMap.set(o[e].ssrcId,t)}),await lV(this.peerConnection,this.remoteSDP,this.extension),gR.debug("[".concat(this.store.clientId,"] [P2PConnection] pre-batchReceive exchange SDP."))}}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(t.toString()))}}async updateRemoteConnect(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateRemoteConnect before remote SDP created");const{rtpCapabilities:e}=t;this.remoteSDP.updateRemoteRTPCapabilities(e),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const{preSSRCs:n}=t;if(Array.isArray(n)&&n.length>0){const{mids:t}=this.remoteSDP.batchSend(n.map(t=>Object.assign({},{kind:t.kind,ssrcMsg:[{ssrcId:t.ssrcId,rtx:t.rtx}],mslabel:t.mslabel})));t.forEach((t,e)=>{this.preSSRCMap.set(n[e].ssrcId,t)})}await lV(this.peerConnection,this.remoteSDP,this.extension),gR.debug("[P2PConnection] updateRemoteRTPCapabilities by exchanging SDP.")}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.updateRemoteConnect failed; ".concat(t.toString()))}}send(t,e,n){var i=this;return YT((function*(){const r=yield KT(i.mutex.lock("From P2PConnection.send"));try{if(!i.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const o=[];t.forEach(t=>{const e=i.peerConnection.addTransceiver(t._mediaStreamTrack,{direction:"sendonly"});o.push(e),t._updateRtpTransceiver(e)}),Qw()&&!0===JI("SIMULCAST")&&(yield KT(i.applySimulcastForFirefox(o,t)));const s=yield KT(i.peerConnection.createOffer()),a=i.remoteSDP.predictReceivingMids(t.length),c=i.mungSendOfferSDP(s.sdp,t,a),l=jM.parse(c),u=a.map(t=>{const e=l.mediaDescriptions.find(e=>e.attributes.mid===t);if(!e)throw new Error("Cannot extract ssrc from mediaDescription.");return zM(e,JI("USE_PUB_RTX"))});let d;try{d=yield u}catch(r){d=[],i.remoteSDP.receive(t,e,n,d);const o=i.remoteSDP.toString();throw yield KT(i.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield KT(i.peerConnection.setRemoteDescription({type:"answer",sdp:o})),yield KT(i.stopSending(a,!0)),r}i.remoteSDP.receive(t,e,n,d);const h=i.remoteSDP.toString(),p=i.logSDPExchange(c,"offer","local","send");return yield KT(i.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield KT(i.applySimulcastEncodings(o,t)),yield KT(i.applySendEncodings(o,t)),null==p||p(h),yield KT(i.peerConnection.setRemoteDescription({type:"answer",sdp:h})),o.map((t,e)=>{const n=a[e];return{localSSRC:u[e],id:n,transceiver:t}})}catch(t){throw t instanceof TC?t:new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(t.toString()))}finally{r()}}))()}async createDataChannels(t,e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.createDataChannels before remote SDP created");let n=this.dataStreamChannelMap.get(t);if(n&&"open"===n.readyState)gR.debug("[P2PConnection] Channels are already available and can be reused directly.");else{const e=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if("number"!=typeof e)throw new Error("create DataChannel error, because cannot get dc id");n=this.peerConnection.createDataChannel("datastream-channel",{id:e,negotiated:!0,ordered:!1,maxRetransmits:JI("DATASTREAM_MAX_RETRANSMITS")}),n.binaryType="arraybuffer",this.dataStreamChannelMap.set(t,n)}e.forEach(t=>{t._updateOriginDataChannel(n)});const{needExchangeSDP:i}=this.remoteSDP.sendDataChannel();if(i){const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),gR.debug("[P2PConnection] createDataChannels by exchanging SDP.")}else gR.debug("[P2PConnection] createDataChannels no need to exchange SDP.");return}catch(t){throw t instanceof TC?t:new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.createDataChannels failed; ".concat(t.toString()))}}async stopDataChannels(t){try{const e=this.dataStreamChannelMap.get(t);return e&&(e.id&&this.recoveredDataChannelIds.push(e.id),e.close()),void this.dataStreamChannelMap.delete(t)}catch(t){throw t instanceof TC?t:new TC(SC.DATACHANNEL_FAILED,"P2PConnection.stopDataChannels failed; ".concat(t.toString()))}}async stopSending(t,e){const n=e?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const e=this.peerConnection.getTransceivers().filter(e=>-1!==t.indexOf(e.mid));if(e.length!==t.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");e.map(t=>{var e;sj(this.id+t.mid,this),t.direction="inactive",null===(e=t.stop)||void 0===e||e.call(t)});const i=await this.peerConnection.createOffer(),r=this.logSDPExchange(i.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(i),this.remoteSDP.stopReceiving(t);const o=this.remoteSDP.toString();null==r||r(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(t.toString()))}finally{n&&n()}}async receive(t,e,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(t," before remoteSDP created."));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(t,e,n,i);o&&(await lV(this.peerConnection,this.remoteSDP,this.extension),gR.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(t," by exchanging SDP.")));const s=this.peerConnection.getTransceivers().find(t=>t.mid===r);if(!s)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:s.receiver.track,id:r,transceiver:s}}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(t.toString()))}}async batchReceive(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const{mids:e,needExchangeSDP:n}=this.remoteSDP.batchSend(t);return n&&(await lV(this.peerConnection,this.remoteSDP,this.extension),gR.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive by exchanging SDP."))),e.map(t=>{const e=this.peerConnection.getTransceivers().find(e=>e.mid===t);if(!e)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:e.receiver.track,id:t,transceiver:e}})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(t.toString()))}}async stopReceiving(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");t.forEach(t=>{Array.from(this.preSSRCMap.entries()).some(e=>{let[n,i]=e;if(i===t)return this.preSSRCMap.delete(n),!0})}),this.remoteSDP.stopSending(t);const e=this.remoteSDP.toString(),n=this.logSDPExchange(e,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(t.toString()))}}async muteRemote(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(t," before remote SDP created."));this.remoteSDP.mute(t);const e=this.remoteSDP.toString(),n=this.logSDPExchange(e,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(t.toString()))}}async unmuteRemote(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(t," before remote SDP created."));this.remoteSDP.unmute(t);const e=this.remoteSDP.toString(),n=this.logSDPExchange(e,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(t.toString()))}}async muteLocal(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const e=this.peerConnection.getTransceivers().filter(e=>e.mid&&-1!==t.indexOf(e.mid));if(e.length!==t.length)throw new Error("Transceivers' length doesn't match mids' length.");e.map(t=>{t.direction="inactive"});const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(t);const r=this.remoteSDP.toString();null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(t.toString()))}}async unmuteLocal(t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const e=this.peerConnection.getTransceivers().filter(e=>e.mid&&-1!==t.indexOf(e.mid));if(e.length!==t.length)throw new Error("Transceivers' length doesn't match mids' length.");e.map(async(t,e)=>{t.direction="sendonly"});const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(t);const r=this.remoteSDP.toString();null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(t.toString()))}}restartICE(t){var e=this;return YT((function*(){const n=yield KT(e.mutex.lock("From P2PConnection.restartICE"));try{if(!e.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(Qk().supportPCSetConfiguration){const n=e.peerConnection.getConfiguration(),i=t===dO.RELAY?"relay":"all";n.iceTransportPolicy!==i&&(gR.debug("[".concat(e.store.clientId,"] restartICE change iceTransportPolicy from [").concat(n.iceTransportPolicy,"] to [").concat(i,"]")),n.iceTransportPolicy=i,e.peerConnection.setConfiguration(n))}else if(t===dO.RELAY)return;e.remoteSDP.updateCandidates(t);const i=yield KT(e.peerConnection.createOffer({iceRestart:!0}));if(!i.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const r=$M(i.sdp),{remoteIceParameters:o}=yield r.iceParameters;e.remoteSDP.restartICE(o);const s=e.remoteSDP.toString(),a=e.logSDPExchange(i.sdp||"","offer","local","restartICE");e.store.descriptionStart(),yield KT(e.peerConnection.setLocalDescription(i)),null==a||a(s),yield KT(e.peerConnection.setRemoteDescription({type:"answer",sdp:s}))}catch(t){gR.warning("[".concat(e.store.clientId,"] restart ICE failed, abort operation"),t)}finally{n()}}))()}close(){var t;this.peerConnection.getTransceivers().forEach(t=>{sj(this.id+t.mid,this)}),this.preSSRCMap.clear(),this.peerConnection.close(),null===(t=this.onConnectionStateChange)||void 0===t||t.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}getStats(){return lj(lj({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(t){return this.statsFilter.getVideoIsReady(t)}async updateEncoderConfig(t,e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),i=this.mungSendOfferSDP(n.sdp,[e],[t]);this.remoteSDP.updateRecvMedia(t,e);const r=this.remoteSDP.toString(),o=this.logSDPExchange(i,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:i}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(t){throw new TC(SC.EXCHANGE_SDP_FAILED,t.toString())}}async updateSendParameters(t,e){const n=this.peerConnection.getTransceivers().filter(e=>e.mid===t);1===n.length&&(this.isVP8Simulcast(e)?Qw()||await this.applySimulcastEncodings(n,[e]):await this.applySendEncodings(n,[e]))}setStatsRemoteVideoIsReady(t,e){this.statsFilter.setVideoIsReady2(t,e)}async replaceTrack(t,e){const n=this.peerConnection.getTransceivers().find(t=>t.mid===e);n&&await n.sender.replaceTrack(t._mediaStreamTrack)}async getSelectedCandidatePair(){const t=this.peerConnection.getReceivers();if(t.length>0&&t[0].transport&&t[0].transport.iceTransport&&t[0].transport.iceTransport.getSelectedCandidatePair&&t[0].transport.iceTransport.getSelectedCandidatePair()){const e=t[0].transport.iceTransport,{local:n,remote:i}=e.getSelectedCandidatePair();return{local:lj(lj({},SU),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port}),remote:lj(lj({},SU),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var t;null===(t=this.onICEConnectionStateChange)||void 0===t||t.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var t;null===(t=this.onConnectionStateChange)||void 0===t||t.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=t=>{t.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,gR.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,gR.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},JI("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(e){const n={iceServers:[]};return e.iceServers?n.iceServers=e.iceServers:e.turnServer&&"off"!==e.turnServer.mode&&(zC(e.turnServer.servers)?n.iceServers=e.turnServer.servers:(n.iceServers&&n.iceServers.push(...t.turnServerConfigToIceServers(e.turnServer.servers)),JI("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&e.turnServer.serversFromGateway&&n.iceServers.push(...t.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),JI("FORCE_TURN_TCP")?n.iceTransportPolicy="relay":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach(t=>{t.forceturn&&(n.iceTransportPolicy="relay")}))),JI("ENABLE_ENCODED_TRANSFORM")&&Qk().supportWebRTCEncodedTransform&&(n.encodedInsertableStreams=!0),n}static turnServerConfigToIceServers(t){const e=[];return t.forEach(t=>{t.security?t.tcpport&&e.push({username:t.username,credential:t.password,credentialType:"password",urls:"turns:".concat(XO(t.turnServerURL),":").concat(t.tcpport,"?transport=tcp")}):(t.udpport&&!JI("FORCE_TURN_TCP")&&e.push({username:t.username,credential:t.password,credentialType:"password",urls:"turn:".concat(t.turnServerURL,":").concat(t.udpport,"?transport=udp")}),t.tcpport&&e.push({username:t.username,credential:t.password,credentialType:"password",urls:"turn:".concat(t.turnServerURL,":").concat(t.tcpport,"?transport=tcp")}))}),e}tryBindTransportEvents(t){const e=t.transport;if(e){this.transportEventReceiver=t,e.onstatechange=()=>{var t;null!=e&&e.state&&(null===(t=this.onDTLSTransportStateChange)||void 0===t||t.call(this,e.state))},e.onerror=t=>{var e;null===(e=this.onDTLSTransportError)||void 0===e||e.call(this,"error"in t?t.error:t)};const n=e.iceTransport;n&&(n.onstatechange=()=>{const t=null==e?void 0:e.iceTransport.state;var n;t&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,t))},n.getSelectedCandidatePair&&(n.onselectedcandidatepairchange=()=>{if(n.getSelectedCandidatePair()){const{local:t,remote:e}=n.getSelectedCandidatePair();gR.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:t.type,protocol:t.protocol}),", remote ").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol,address:e.address,port:e.port})," )"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(t,e){var n,i;if(!e){const n=this.peerConnection.getSenders();e=n.find(e=>e.track===t._mediaStreamTrack)}if(!e)return gR.warn("[".concat(t.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(t))return gR.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!Qk().supportSetRtpSenderParameters)return gR.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const r={},o={};switch(t._optimizationMode){case"motion":r.degradationPreference="maintain-framerate";break;case"detail":r.degradationPreference="maintain-resolution";break;case"balanced":r.degradationPreference="balanced"}const s=function(t,e){return t.getTransceivers().find(t=>t.sender.track===e||t.receiver.track===e)}(this.peerConnection,t._mediaStreamTrack),a=OP(t);if(rj(t)&&s&&e&&a&&this.getLocalVideoStats&&Pi(n=["vp8","vp9"]).call(n,this.store.codec)){var c;const n=r.degradationPreference||(Pi(c=t._hints).call(c,_N.CUSTOM_TRACK)?JI("CUSTOM_ADAPTATION_DEFAULT_MODE"):"maintain-framerate");!function(t,e,n,i,r,o){if(sj(t,n),r(e),"balanced"!==i&&"maintain-framerate"!==i&&"maintain-resolution"!==i)return;let s=-1;QB(t,e);const a=window.setInterval(()=>{const a=oj.get(t);if(!JI("ENABLE_AG_ADAPTATION")||!a)return sj(t,n),void r(e);const c=o();if(c.sendPackets>0&&c.OutgoingAvailableBandwidth>0){if(-1===s)return void(s=Date.now());if(Date.now()-s<1e3)return;const o=c.sendFrameRate,l=c.OutgoingAvailableBandwidth,[u,d]=ej(t,o,l,a.adaptationConfig,e,i);d&&(n.qualityLimitationReason=d),u&&a.adaptationConfig.scale!==u.scale&&(gR.debug("[".concat(t,"] applyAdaptation: ").concat(n.qualityLimitationReason,"\n           sendFps ").concat(o,", bwe ").concat(l,", switch from ").concat(a.adaptationConfig.scale," to ").concat(u.scale," ")),a.adaptationConfig=ij(ij({},a.adaptationConfig),u),r(u))}},JI("CHECK_LOCAL_STATS_INTERVAL")),c=ij({},e);oj.set(t,{timer:a,adaptationConfig:c,originConfig:e,adaptationFunc:r}),gR.debug("[".concat(t,"] start adaptation, originConfig: ").concat(JSON.stringify(e),", degradationPreference: ").concat(i))}(this.id+s.mid,a,this,n,t=>{e&&this.updateAdaptation(e,t)},this.getLocalVideoStats.bind(this))}if(t._encoderConfig){var l;const{bitrateMax:e,frameRate:n,scaleResolutionDownBy:i}=t._encoderConfig;e&&(o.maxBitrate=1e3*e),(Pi(l=t._hints).call(l,_N.LOW_STREAM)||t.isUseScaleResolutionDownBy)&&(n&&(o.maxFramerate=ZO(n)),i&&i>=1&&(o.scaleResolutionDownBy=i))}const{maxFramerate:u}=JI("ENCODER_CONFIG_LIMIT");if(u&&"number"==typeof u&&(o.maxFramerate=o.maxFramerate?Math.min(o.maxFramerate,u):u),JI("DSCP_TYPE")&&vC()){var d;const t=JI("DSCP_TYPE");Pi(d=["very-low","low","medium","high"]).call(d,t)&&(o.networkPriority=t)}const h=e.getParameters(),p=null===(i=h.encodings)||void 0===i?void 0:i[0];Qw()&&!p&&(r.encodings=[o]),p&&Object.assign(p,o),Object.assign(h,r),gR.debug("[".concat(t.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(h.encodings))),await e.setParameters(h),await async function(t,e,n){try{var i;if(!Qk().supportSetRtpSenderParameters)return;if(!function(t){return"vp9"===t}(t)||!JI("ENABLE_SVC"))return;const r={},o={},s=e.getParameters(),a=null===(i=s.encodings)||void 0===i?void 0:i[0];o.scalabilityMode=FM(n),a&&Object.assign(a,o),Object.assign(s,r),await e.setParameters(s),gR.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode success: ".concat(JSON.stringify(s.encodings)))}catch(t){gR.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode failed",t)}}(this.store.codec,e,JI("SVC_MODE"))}async updateAdaptation(t,e){var n,i;if(!t)return gR.debug("[updateAdaptation] no rtpSender found");if(!Qk().supportSetRtpSenderParameters)return gR.debug("[updateAdaptation] Browser not support set rtp-sender parameters");const r={},{bitrateMax:o,frameRate:s,scaleResolutionDownBy:a}=e;o&&(r.maxBitrate=1e3*o),s&&(r.maxFramerate=ZO(s)),a&&a>=1&&Pi(n=["vp8","vp9"]).call(n,this.store.codec)&&(r.scaleResolutionDownBy=a);const c=t.getParameters(),l=null===(i=c.encodings)||void 0===i?void 0:i[0];l&&Object.assign(l,r),Object.assign(c,{});try{await t.setParameters(c),gR.debug("[updateAdaptation] updateRtpSenderEncodings: ".concat(JSON.stringify(c.encodings)))}catch(e){!("transport"in t)||t.transport&&"connected"===t.transport.state?"connected"!==this.peerConnectionState?gR.debug("[updateAdaptation] peerConnection not connected}"):gR.debug("[updateAdaptation] updateRtpSenderEncodings failed",e):gR.debug("[updateAdaptation] rtpSender transport not connected}")}}async applySendEncodings(t,e){try{if(!Qk().supportSetRtpSenderParameters)return;if(t.length!==e.length)return;for(let n=0;n<t.length;n++){const i=t[n],r=e[n];r instanceof cM&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,i.sender)}}catch(t){gR.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(t,e,n){const i=jM.parse(t);return e.forEach((t,e)=>{const r=n[e],o=i.mediaDescriptions.find(t=>t.attributes.mid===r);o&&(XM(o,t),eV(o,t,this.store.codec))}),jM.print(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=t=>{var e;null===(e=this.onFirstAudioReceived)||void 0===e||e.call(this,t)},this.statsFilter.onFirstVideoReceived=t=>{var e;null===(e=this.onFirstVideoReceived)||void 0===e||e.call(this,t)},this.statsFilter.onFirstAudioDecoded=t=>{var e;null===(e=this.onFirstAudioDecoded)||void 0===e||e.call(this,t)},this.statsFilter.onFirstVideoDecoded=(t,e,n)=>{var i;null===(i=this.onFirstVideoDecoded)||void 0===i||i.call(this,t,e,n)},this.statsFilter.onSelectedLocalCandidateChanged=(t,e)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,t,e)},this.statsFilter.onSelectedRemoteCandidateChanged=(t,e)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,t,e)},this.statsFilter.onFirstVideoDecodedTimeout=t=>{var e;null===(e=this.onFirstVideoDecodedTimeout)||void 0===e||e.call(this,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(t,e){if(t.length===e.length)for(let a=0;a<t.length;a++){var n,i,r,o,s;const c=t[a],l=e[a];if(l instanceof cM&&!Pi(n=l._hints).call(n,_N.LOW_STREAM)&&null!==(i=l._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(r=l._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=l._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(s=l._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1&&"vp8"===this.store.codec){const t={},e={high:1e3*(l._encoderConfig.bitrateMax-50),medium:5e4};t.encodings=[{rid:"m",active:!0,maxBitrate:e.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:e.high}];const n=c.sender.getParameters();await c.sender.setParameters(Object.assign(n,t))}}}async applySimulcastEncodings(t,e){if(!Qw()&&t.length===e.length)for(let n=0;n<t.length;n++){const i=e[n];if(i instanceof cM&&this.isVP8Simulcast(i)){const e=t[n],r={},o={high:1e3*(i._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:o.medium,scaleResolutionDownBy:4}];const s=e.sender.getParameters();await e.sender.setParameters(Object.assign(s,r))}}}isVP8Simulcast(t){var e,n,i,r,o;return!!(t instanceof cM&&JI("SIMULCAST")&&"vp8"===this.store.codec&&!Pi(e=t._hints).call(e,_N.LOW_STREAM)&&null!==(n=t._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(i=t._encoderConfig)||void 0===i?void 0:i.bitrateMax)>200&&null!==(r=t._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=t._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(t,e,n,i){if(JI("SDP_LOGGING"))return gR.upload("[".concat(this.store.clientId,"] exchanging ").concat(n," ").concat(e," SDP during P2PConnection.").concat(i,"\n"),t),"offer"===e?t=>{this.logSDPExchange(t,"answer","local"===n?"remote":"local",i)}:void 0}async getRemoteSSRC(t){if(!this.remoteSDP)return;const e=this.remoteSDP.getSSRC(t);return e&&0!==e.length?e[0].ssrcId:void 0}setConfiguration(e){if(Qk().supportPCSetConfiguration){const n=t.resolvePCConfiguration(e);this.peerConnection.setConfiguration(n)}}},TA(aj.prototype,"updateRemoteRTPCapabilities",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"updateRemoteRTPCapabilities"),aj.prototype),TA(aj.prototype,"connect",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"connect"),aj.prototype),TA(aj.prototype,"updateRemoteConnect",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"updateRemoteConnect"),aj.prototype),TA(aj.prototype,"createDataChannels",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"createDataChannels"),aj.prototype),TA(aj.prototype,"receive",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"receive"),aj.prototype),TA(aj.prototype,"batchReceive",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"batchReceive"),aj.prototype),TA(aj.prototype,"stopReceiving",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"stopReceiving"),aj.prototype),TA(aj.prototype,"muteRemote",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"muteRemote"),aj.prototype),TA(aj.prototype,"unmuteRemote",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"unmuteRemote"),aj.prototype),TA(aj.prototype,"muteLocal",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"muteLocal"),aj.prototype),TA(aj.prototype,"unmuteLocal",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"unmuteLocal"),aj.prototype),TA(aj.prototype,"close",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"close"),aj.prototype),TA(aj.prototype,"updateEncoderConfig",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"updateEncoderConfig"),aj.prototype),TA(aj.prototype,"updateSendParameters",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"updateSendParameters"),aj.prototype),TA(aj.prototype,"replaceTrack",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"replaceTrack"),aj.prototype),TA(aj.prototype,"updateAdaptation",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"updateAdaptation"),aj.prototype),TA(aj.prototype,"getRemoteSSRC",[dj],Object.getOwnPropertyDescriptor(aj.prototype,"getRemoteSSRC"),aj.prototype),aj);function dj(t,e,n){const i=t[e];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const t=this.mutex,n=await t.lock("From P2PConnection.".concat(e));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await i.apply(this,o)}finally{n()}},n}var hj;function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function fj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pj(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mj(t){var e,n,i,r=2;for("undefined"!=typeof Symbol&&(n=XT,i=Symbol.iterator);r--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new vj(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function vj(t){function e(t){if(Object(t)!==t)return $h.reject(new TypeError(t+" is not an object."));var e=t.done;return $h.resolve(t.value).then((function(t){return{value:t,done:e}}))}return vj=function(t){this.s=t,this.n=t.next},vj.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?$h.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?$h.reject(t):e(n.apply(this.s,arguments))}},new vj(t)}let gj=(hj=class extends UC{get state(){return this._state}set state(t){const e=this._state;this._state=t,this.emit(mO.StateChange,e,this._state)}constructor(t,e){super(),jE(this,"isPlanB",void 0),jE(this,"store",void 0),jE(this,"statsUploader",void 0),jE(this,"connection",void 0),jE(this,"localTrackMap",new Map),jE(this,"remoteUserMap",new Map),jE(this,"localDataChannels",[]),jE(this,"remoteDataChannelMap",new Map),jE(this,"pendingLocalTracks",[]),jE(this,"pendingRemoteTracks",[]),jE(this,"pendingLocalDataChannels",[]),jE(this,"pendingRemoteDataChannels",[]),jE(this,"statsCollector",void 0),jE(this,"shouldForwardP2PCreation",void 0),jE(this,"iceFailedCount",0),jE(this,"dtlsFailedCount",0),jE(this,"mutex",new DI("P2PChannel-mutex")),jE(this,"_state",fO.Disconnected),jE(this,"_pcStatsUploadType",JI("NEW_ICE_RESTART")?hO.FIRST_CONNECTION:hO.OLD_FIRST_CONNECTION),jE(this,"_isInRestartIce",!1),jE(this,"_isStartRestartIce",!1),jE(this,"_restartStates",["disconnected","failed"]),jE(this,"_restartTimer",void 0),jE(this,"_isFirstConnected",!0),jE(this,"handleMuteLocalTrack",async(t,e,n)=>{const i=await this.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");try{if(!this.connection||this.state!==fO.Connected)return void n(new TC(SC.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established."));const r=this.filterTobeMutedTracks(t);if(0===r.length)return void e();const o=r.find(t=>"videoLowTrack"===t[0]);o&&o[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(r.map(t=>{let[,{id:e}]=t;return e}));const s=this.createMuteMessage(r);await tI(this,mO.RequestMuteLocal,s),e()}catch(t){n(t)}finally{i()}}),jE(this,"handleUnmuteLocalTrack",async(t,e,n)=>{const i=await this.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");try{if(!this.connection||this.state!==fO.Connected)return void n(new TC(SC.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established."));const r=this.filterTobeUnmutedTracks(t);if(0===r.length)return void e();const o=r.find(t=>"videoLowTrack"===t[0]);if(o){const e=o[1];if(e.track._originMediaStreamTrack.stop(),!JI("DISABLE_DUAL_STREAM_USE_ENCODING")&&Qk().supportDualStreamEncoding){const n=t._mediaStreamTrack.clone();e.track._mediaStreamTrack=n,e.track._originMediaStreamTrack=n}else{const n=zU(t,nI(this,mO.RequestLowStreamParameter));e.track._mediaStreamTrack=n,e.track._originMediaStreamTrack=n}await new $h((t,n)=>{this.handleReplaceTrack(e.track,t,n,!0)})}await this.connection.unmuteLocal(r.map(t=>{let[,{id:e}]=t;return e}));const s=this.createUnmuteMessage(r);await tI(this,mO.RequestUnmuteLocal,s),e()}catch(t){n(t)}finally{i()}}),jE(this,"handleUpdateVideoEncoder",async(t,e,n)=>{const i=await this.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");try{const n=this.localTrackMap.get(pO.LocalVideoTrack);if(!this.connection||!n||n.track!==t||this.state!==fO.Connected)return void e();const{id:r,track:o}=n;await this.connection.updateSendParameters(r,o),await this.connection.updateEncoderConfig(r,o),this.emit(mO.UpdateVideoEncoder,o),e()}catch(t){n(t)}finally{i()}}),jE(this,"handleUpdateVideoSendParameters",async(t,e,n)=>{const i=await this.mutex.lock("Locking from P2PChannel.handleUpdateVideoSendParameters");try{const n=this.localTrackMap.get(pO.LocalVideoTrack);if(!this.connection||!n||n.track!==t||this.state!==fO.Connected)return void e();const{id:r,track:o}=n;await this.connection.updateSendParameters(r,o),e()}catch(t){n(t)}finally{i()}}),jE(this,"handleReplaceMixingTrack",async(t,e,n,i)=>{if(!this.connection||this.state!==fO.Connected)return void e();const r=pB([t]);let o;gR.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(r.getTrackId(),"]")),"boolean"==typeof i&&i||(o=await this.mutex.lock("From P2PChannel.handleReplaceMixingTrack"));try{await this.replaceTrack(t,r),e()}catch(t){n(t)}finally{var s;null===(s=o)||void 0===s||s()}}),jE(this,"handleReplaceTrack",async(t,e,n,i)=>{let r;gR.debug("[".concat(this.store.clientId,"] P2PChannel handleReplaceTrack for [track-id-").concat(t.getTrackId(),"]")),"boolean"==typeof i&&i||(r=await this.mutex.lock("From P2PChannel.handleReplaceTrack"));try{var o;const n=Array.from(this.localTrackMap.entries()).find(e=>{let[,{track:n}]=e;return t===n});if(!this.connection||!n||this.state!==fO.Connected)return void e();if(await(null===(o=this.connection)||void 0===o?void 0:o.replaceTrack(t,n[1].id)),this.isPlanB){const e=n[1];e.id=t._mediaStreamTrack.id,this.localTrackMap.set(n[0],e)}if(n[0]===pO.LocalVideoTrack&&!JI("DISABLE_DUAL_STREAM_USE_ENCODING")&&Qk().supportDualStreamEncoding){const e=this.localTrackMap.get(pO.LocalVideoLowTrack);if(e){const n=t._mediaStreamTrack.clone();e.track._originMediaStreamTrack.stop(),e.track._mediaStreamTrack=n,e.track._originMediaStreamTrack=n,await new $h((t,n)=>{this.handleReplaceTrack(e.track,t,n,!0)})}}e()}catch(t){n(t)}finally{var s;null===(s=r)||void 0===s||s()}}),jE(this,"handleGetRTCStats",t=>{t(this.statsCollector.getRTCStats())}),jE(this,"handleGetLocalVideoStats",t=>{t(this.statsCollector.getLocalVideoTrackStats())}),jE(this,"handleGetLocalAudioStats",t=>{t(this.statsCollector.getLocalAudioTrackStats())}),jE(this,"handleGetRemoteVideoStats",t=>this.statsCollector.getRemoteVideoTrackStats(t.uid)[t.uid]),jE(this,"handleGetRemoteAudioStats",t=>this.statsCollector.getRemoteAudioTrackStats(t.uid)[t.uid]),this.store=t,this.statsCollector=e,this.statsCollector.addP2PChannel(this),this.statsUploader=new cB(this.store),this.bindStatsUploaderEvents(),this.isPlanB=!Qk().supportUnifiedPlan||JI("CHROME_FORCE_PLAN_B")&&vC(),this.shouldForwardP2PCreation=JI("FORWARD_P2P_CREATION")&&Qk().supportPCSetConfiguration&&mC(),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new jB({},this.store):new uj({},this.store),this.bindConnectionEvents(this.connection))}async startP2PConnection(t){var e;this.state=fO.New;const n=this.shouldForwardP2PCreation&&"closed"===(null===(e=this.connection)||void 0===e?void 0:e.peerConnectionState);if(this.shouldForwardP2PCreation&&!n||(n&&this.connection&&(gR.warning("[".concat(this.store.clientId,"] P2PChannel.startP2PConnection ForwardP2P closed.")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.isPlanB?new jB(t,this.store):new uj(t,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new TC(SC.UNEXPECTED_ERROR,"Cannot P2PChannel.startConnection before P2PConnection initialization .");return this._pcStatsUploadType=JI("NEW_ICE_RESTART")?hO.FIRST_CONNECTION:hO.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(t),this.connection.establishPromise}async connect(t){if(!this.connection)throw new TC(SC.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");JI("ENABLE_PREALLOC_PC")&&this.state===fO.Connected?await this.connection.updateRemoteConnect(t):(this.store.peerConnectionStart(),await this.connection.connect(t),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=fO.Connected)}updateRemoteRTPCapabilities(t){const e=Array.from(this.localTrackMap.entries()).filter(t=>{var e;let[n]=t;return Pi(e=[pO.LocalVideoLowTrack,pO.LocalVideoTrack]).call(e,n)}),n=e.map(t=>{let[,{id:e}]=t;return e}),i=e.map(t=>{let[e]=t;return e});if(this.connection instanceof uj){if(CR.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(i),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(t)}),!Pi(t).call(t,this.store.codec)){const e=["vp9","vp8","h264"].find(e=>Pi(t).call(t,e));e&&(this.store.codec=e,gR.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId," updateRemoteRTPCapabilities] default codec is not available, hence the fallback to ").concat(e,".")))}this.connection.updateRemoteRTPCapabilities(n,t)}}async getEstablishParams(){var t;if(this.connection instanceof uj&&"closed"!==this.connection.peerConnectionState&&Pi(t=[fO.New,fO.Connected]).call(t,this.state))return this.connection.establishPromise}async publishDataChannel(t){if(!this.connection||this.state!==fO.Connected){if(this.state===fO.Disconnected)throw new TC(SC.UNEXPECTED_ERROR,"PeerConnection already disconnected.");return t.forEach(t=>{var e;Pi(e=this.pendingLocalDataChannels).call(e,t)||this.pendingLocalDataChannels.push(t)}),[]}const e=this.filterTobePublishedDataChannels(t);return 0===e.length?[]:(e.forEach(t=>{const e=Date.now();this.store.publish(t.id.toString(),"datachannel",e)}),await this.connection.createDataChannels(this.store.uid,e),e.forEach(t=>{this.localDataChannels.push(t);const e=Date.now();this.store.publish(t.id+"","datachannel",void 0,e)}),t.map(t=>({streamId:t.id,ordered:t.ordered,maxRetransmits:t.maxRetransmits,metadata:t.metadata,channelId:t._originDataChannelId})))}publish(t,e,n){var i=this;return YT((function*(){const r=yield KT(i.mutex.lock("From P2PChannel.publish"));try{if(!i.connection||i.state!==fO.Connected){if(i.state===fO.Disconnected)throw new TC(SC.UNEXPECTED_ERROR,"PeerConnection already disconnected.");i.throwIfTrackTypeNotMatch(t);const e=t.filter(t=>-1===i.pendingLocalTracks.indexOf(t));return void(i.pendingLocalTracks=i.pendingLocalTracks.concat(e))}i.store.pubId=i.store.pubId+1,oU.markPublishStart(i.store.clientId,i.store.pubId);const o=i.filterTobePublishedTracks(t,e,n);if(0===o.length)return void(yield KT(i.tryToUnmuteAudio(t)));yield*qT(mj(i.doPublish(i.connection,o)))}finally{r()}}))()}doPublish(t,e){var n=this;return YT((function*(){e.forEach(t=>{let{track:e,type:i}=t;const r=Date.now();n.store.publish(e.getTrackId(),i===pO.LocalAudioTrack?"audio":"video",r)}),n.bindLocalTrackEvents(e);const i=e.map(t=>{let{track:e}=t;return e}),r=yield KT(t.send(i,n.store.codec,n.store.audioCodec)),o=(yield KT(r.next())).value,s=n.createGatewayPublishMessage(e,o);let a;try{a=yield s}catch(t){throw r.throw(t),(null==t?void 0:t.code)===SC.WS_ABORT&&e.forEach(t=>{let{track:e}=t;-1===n.pendingLocalTracks.indexOf(e)&&n.pendingLocalTracks.push(e)}),n.unbindLocalTrackEvents(e),t}const c=n.mapPubResToRemoteConfig(s,a,i),l=(yield KT(r.next(c))).value,u=JI("ENABLE_VIDEO_SEI");i.forEach(async t=>{const e=t.getRTCRtpTransceiver();e&&u&&(t.trackMediaType===uO.VIDEO?await LM(e.sender,t):t.trackMediaType===uO.AUDIO&&await async function(t){if(!Qk().supportWebRTCEncodedTransform)return void gR.warning("browser not support audio encoded transform");if(DM.has(t))return;if(!t.track)return;const e={track:t.track};if(Xw()){if(!t.createEncodedStreams)return void gR.warning("browser not support createEncodedStreams() API");let i=null;try{i=t.createEncodedStreams()}catch(t){return void gR.error("create audio-encoded-streams error",t&&t.message)}const r=new TransformStream({transform(i,r){e.controller||(e.controller=r),t.track&&t.track.id!==e.track.id&&(gR.debug("audio track changed: ".concat(e.track.id," => ").concat(t.track.id)),e.track.removeEventListener("ended",n),e.track=t.track,e.track.addEventListener("ended",n)),r.enqueue(i)}});i.readable.pipeThrough(r).pipeTo(i.writable)}else if(Jw()){if("undefined"==typeof RTCRtpScriptTransform)return void gR.warning("browser not support RTCRtpScriptTransform");const i=xM(),r=new MessageChannel;await new $h(t=>i.onmessage=e=>{"registered"===e.data&&t(void 0)});const o=new RTCRtpScriptTransform(i,{name:"tx",port:r.port2},[r.port2]);t.transform=o,await new $h(t=>i.onmessage=e=>{"started"===e.data&&t(void 0)}),r.port1.onmessage=i=>{var r;i.data.transformed&&t.track&&(null===(r=t.track)||void 0===r?void 0:r.id)!==e.track.id&&(gR.debug("audio track changed: ".concat(e.track.id," => ").concat(t.track.id)),e.track.removeEventListener("ended",n),e.track=t.track,e.track.addEventListener("ended",n))},e.worker=i}function n(){if(t.track){if(this.id!==t.track.id)return;t.track.removeEventListener("ended",n)}const e=DM.get(t);if(e){DM.delete(t);try{var i,r;null===(i=e.controller)||void 0===i||i.terminate(),null===(r=e.worker)||void 0===r||r.terminate()}catch(t){gR.warning(t&&t.message)}}}DM.set(t,e),t.track.addEventListener("ended",n)}(e.sender))}),e.forEach(t=>{let{type:e}=t;n.statsCollector.addLocalStats(e)}),n.assignLocalTracks(e,l),n.statsUploader.startUploadOutboundStats(),e.forEach(t=>{let{track:e,type:i}=t;const r=Date.now();n.store.publish(e.getTrackId(),i===pO.LocalAudioTrack?"audio":"video",void 0,r)})}))()}async updateVideoStreamParameter(t,e){const n=this.localTrackMap.get(e);if(!n)return;if(!(n.track instanceof cM))return gR.warn("[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack");if(!(this.connection instanceof uj||this.connection instanceof jB))return gR.warn("[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB");const{track:i}=n,r=function(t,e){const n={};return t.height&&t.width&&(n.scaleResolutionDownBy=ix(t,e)),n.maxFramerate=t.framerate?ZO(t.framerate):void 0,n.maxBitrate=t.bitrate?1e3*t.bitrate:void 0,n}(t,i);if(i._encoderConfig||(i._encoderConfig={}),e!==pO.LocalVideoLowTrack||!JI("DISABLE_DUAL_STREAM_USE_ENCODING")&&Qk().supportDualStreamEncoding)null!=r.scaleResolutionDownBy&&(i._encoderConfig.scaleResolutionDownBy=r.scaleResolutionDownBy);else{const e=i._originMediaStreamTrack;if(!e.canvas)return gR.warn("[".concat(i.getTrackId(),"] no canvas on track"));!function(t,e){const n=t.canvas;e.width&&(n.width=ZO(e.width)),e.height&&(n.height=ZO(e.height)),e.framerate&&(n.stopCapture&&n.stopCapture(),n.stopCapture=ZN(()=>{!n.startCapture&&n.stopCapture&&n.stopCapture(),n.startCapture&&n.startCapture()},ZO(e.framerate)))}(e,t)}null!=r.maxBitrate&&(i._encoderConfig.bitrateMax=r.maxBitrate/1e3),null!=r.maxFramerate&&(i._encoderConfig.frameRate&&"object"==typeof i._encoderConfig.frameRate?i._encoderConfig.frameRate.max=r.maxFramerate:i._encoderConfig.frameRate={max:r.maxFramerate}),gR.debug("[".concat(i.getTrackId(),"] LowStreamEncoderConfig: , ").concat(JSON.stringify(i._encoderConfig))),await this.connection.updateRtpSenderEncodings(i)}publishLowStream(t){var e=this;return YT((function*(){if(!e.connection||e.state!==fO.Connected)return;const n=yield KT(e.mutex.lock("Locking from P2PChannel.publishLowStream"));try{const r=e.localTrackMap.get(pO.LocalVideoTrack);if(!r)throw new TC(SC.UNEXPECTED_ERROR,"Could not find high stream");if(e.localTrackMap.has(pO.LocalVideoLowTrack))throw new TC(SC.UNEXPECTED_ERROR,"[".concat(e.store.clientId,"] Can't publish low stream when stream already publish"));const o=[{track:e.getLowVideoTrack(r.track,t),type:pO.LocalVideoLowTrack}];if(yield*qT(mj(e.doPublish(e.connection,o))),r.track.muted||!r.track.enabled){var i;const t=null===(i=e.localTrackMap.get(pO.LocalVideoLowTrack))||void 0===i?void 0:i.id;void 0!==t&&(yield KT(e.connection.muteLocal([t])))}}finally{n()}}))()}async republish(){this.pendingLocalTracks.length>0&&(gR.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await QC(this,mO.RequestRePublish,this.pendingLocalTracks),this.emit(mO.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(gR.debug("Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels."),await QC(this,mO.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[])}async reSubscribe(t){for(let e=this.pendingRemoteTracks.length-1;e>=0;e--){const{user:t,kind:n}=this.pendingRemoteTracks[e];(n!==uO.AUDIO||t._audio_added_&&t._audioSSRC)&&(n!==uO.VIDEO||t._video_added_&&t._videoSSRC)||this.pendingRemoteTracks.splice(e,1)}if(t)await QC(this,mO.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:e,kind:n}of this.pendingRemoteTracks)await this.subscribe(e,n,n===uO.VIDEO?e._videoSSRC:e._audioSSRC);this.pendingRemoteTracks.forEach(t=>{let{user:e}=t;this.emit(mO.MediaReconnectEnd,e.uid)}),this.pendingRemoteTracks=[]}async unpublish(t){if(!this.connection||this.state!==fO.Connected)return void t.forEach(t=>{const e=this.pendingLocalTracks.indexOf(t);-1!==e&&this.pendingLocalTracks.splice(e,1)});const e=this.filterTobeUnpublishedTracks(t);if(0===e.length)return;const n=e.find(t=>"videoLowTrack"===t[0]);return n&&n[1].track.close(),this.doUnpublish(this.connection,e)}async unpublishDataChannel(t){if(!this.connection||this.state!==fO.Connected)return void t.forEach(t=>{const e=this.pendingLocalDataChannels.indexOf(t);-1!==e&&this.pendingLocalDataChannels.splice(e,1)});const e=this.filterTobeUnpublishedDataChannels(t);return 0!==e.length?(e.forEach(t=>{const e=this.localDataChannels.indexOf(t);-1!==e&&this.localDataChannels.splice(e,1)}),0===this.localDataChannels.length&&await this.connection.stopDataChannels(this.store.uid),e.map(t=>t.id)):void 0}async unpublishLowStream(){if(!this.connection||this.state!==fO.Connected)return;const t=this.localTrackMap.get(pO.LocalVideoLowTrack);if(!t)return;t.track.close();const e=[[pO.LocalVideoLowTrack,t]];return this.doUnpublish(this.connection,e)}async doUnpublish(t,e){const n=this.createGatewayUnpublishMessage(e);return await t.stopSending(e.map(t=>{let[,{id:e}]=t;return e})),this.withdrawLocalTracks(e),this.unbindLocalTrackEvents(e.map(t=>{let[e,{track:n}]=t;return{type:e,track:n}})),e.forEach(t=>{let[e]=t;this.statsCollector.removeLocalStats(e)}),0===this.localTrackMap.size&&this.statsUploader.stopUploadOutboundStats(),n}async subscribeDataChannel(t,e){if(!this.connection||this.state!==fO.Connected)throw new TC(SC.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");const n=e.filter(e=>{var n;return!(null!==(n=this.remoteDataChannelMap.get(t))&&void 0!==n&&n.get(e.id))});if(0!==n.length)return await this.connection.createDataChannels(t.uid,n),n.forEach(e=>{var n;this.remoteDataChannelMap.has(t)?null===(n=this.remoteDataChannelMap.get(t))||void 0===n||n.set(e.id,e):this.remoteDataChannelMap.set(t,new Map([[e.id,e]]));const i=this.pendingRemoteDataChannels.findIndex(n=>{let{user:i,id:r}=n;return i.uid===t.uid&&r===e.id});-1!==i&&this.pendingRemoteDataChannels.splice(i,1)}),n.map(t=>t.id)}async subscribe(t,e,n,i,r){var o;if(!this.connection||this.state!==fO.Connected)throw new TC(SC.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");if(null!==(o=this.remoteUserMap.get(t))&&void 0!==o&&o.has(e))return;let s,a,c;const l=this.connection.getPreMedia(n);if(l)gR.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] preSSRCMap has ssrcId: ").concat(n,", no need to send sub to gateway.")),c=l.transceiver,s=l.track,a=l.id;else if(r){const n=r.find(t=>{let{stream_type:n}=t;return n===e});if(!n)throw new TC(SC.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(e," for user: ").concat(t.uid," because subscribe answer from gateway does not contain stream_type: ").concat(e,"."));const i=await this.connection.receive(e,n.ssrcs,String(t._uintid),n.attributes);this.connection instanceof uj&&(c=i.transceiver),s=i.track,a=i.id}else{const r=await this.connection.receive(e,[{ssrcId:n,rtx:i}],String(t._uintid),void 0);this.connection instanceof uj&&(c=r.transceiver),s=r.track,a=r.id}e===uO.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(s):(t._audioTrack=new CM(s,t.uid,t._uintid,this.store),gR.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(t._audioTrack.getTrackId()))),c&&t._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(s):(t._videoTrack=new wM(s,t.uid,t._uintid,this.store),gR.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(t._videoTrack.getTrackId()))),c&&t._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._videoTrack)),JI("ENABLE_VIDEO_SEI")&&c&&(e==uO.VIDEO?await async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Qk().supportWebRTCEncodedTransform)return void gR.warning("browser not support video encoded transform");if(!t.track)return;if(MM.has(t)){const n=MM.get(t);return void(n&&(n.onSei=e.onSei))}const n={track:t.track,onSei:e.onSei};if(Xw()){if(!t.createEncodedStreams)return void gR.warning("browser not support createEncodedStreams() API");let e=null;try{e=t.createEncodedStreams()}catch(t){return void gR.error("create video-encoded-streams error",t&&t.message)}const r=new TransformStream({transform(e,r){n.controller||(n.controller=r),t.track&&t.track.id!==n.track.id&&(gR.debug("video track changed: ".concat(n.track.id," => ").concat(t.track.id)),n.track.removeEventListener("ended",i),n.track=t.track,n.track.addEventListener("ended",i));const o=function(t){const e=new DataView(t.data);let n=0;for(;n+4<t.data.byteLength;){if(0===e.getUint8(n+0)&&0===e.getUint8(n+1)&&0===e.getUint8(n+2)&&1===e.getUint8(n+3)&&6===e.getUint8(n+4)){let i=n+6,r=0,o=0;for(;255===(o=e.getUint8(i++));)r+=255;r+=o;const s=NM(t.data,i,r);return new Uint8Array(s)}n++}return null}(e);o&&n.onSei&&n.onSei(o),r.enqueue(e)}});e.readable.pipeThrough(r).pipeTo(e.writable)}else if(Jw()){if("undefined"==typeof RTCRtpScriptTransform)return void gR.warning("browser not support RTCRtpScriptTransform");const e=xM(),r=new MessageChannel;await new $h(t=>e.onmessage=e=>{"registered"===e.data&&t(void 0)});const o=new RTCRtpScriptTransform(e,{name:"rx",port:r.port2},[r.port2]);t.transform=o,await new $h(t=>e.onmessage=e=>{"started"===e.data&&t(void 0)}),r.port1.onmessage=e=>{var r;e.data.transformed&&t.track&&(null===(r=t.track)||void 0===r?void 0:r.id)!==n.track.id?(gR.debug("video track changed: ".concat(n.track.id," => ").concat(t.track.id)),n.track.removeEventListener("ended",i),n.track=t.track,n.track.addEventListener("ended",i)):e.data.sei&&n.onSei&&n.onSei(e.data.sei)},n.worker=e}function i(){if(t.track){if(this.id!==t.track.id)return;t.track.removeEventListener("ended",i)}!function(t){const e=MM.get(t);if(e){MM.delete(t);try{var n,i;null===(n=e.controller)||void 0===n||n.terminate(),null===(i=e.worker)||void 0===i||i.terminate()}catch(t){gR.warning(t&&t.message)}}}(t)}MM.set(t,n),t.track.addEventListener("ended",i)}(c.receiver,{onSei:e=>{var n;null===(n=t._videoTrack)||void 0===n||n._onSei(e)}}):e==uO.AUDIO&&await async function(t){if(!Qk().supportWebRTCEncodedTransform)return void gR.warning("browser not support audio encoded transform");if(kM.has(t))return;const e={track:t.track};if(Xw()){if(!t.createEncodedStreams)return void gR.warning("browser not support createEncodedStreams() API");let i=null;try{i=t.createEncodedStreams()}catch(t){return void gR.error("create audio-encoded-streams error",t&&t.message)}const r=new TransformStream({transform(i,r){e.controller||(e.controller=r),t.track&&t.track.id!==e.track.id&&(gR.debug("audio track changed: ".concat(e.track.id," => ").concat(t.track.id)),e.track.removeEventListener("ended",n),e.track=t.track,e.track.addEventListener("ended",n)),r.enqueue(i)}});i.readable.pipeThrough(r).pipeTo(i.writable)}else if(Jw()){if("undefined"==typeof RTCRtpScriptTransform)return void gR.warning("browser not support RTCRtpScriptTransform");const i=xM(),r=new MessageChannel;await new $h(t=>i.onmessage=e=>{"registered"===e.data&&t(void 0)});const o=new RTCRtpScriptTransform(i,{name:"rx",port:r.port2},[r.port2]);t.transform=o,await new $h(t=>i.onmessage=e=>{"started"===e.data&&t(void 0)}),r.port1.onmessage=i=>{var r;i.data.transformed&&t.track&&(null===(r=t.track)||void 0===r?void 0:r.id)!==e.track.id&&(gR.debug("audio track changed: ".concat(e.track.id," => ").concat(t.track.id)),e.track.removeEventListener("ended",n),e.track=t.track,e.track.addEventListener("ended",n))},e.worker=i}function n(){t.track.removeEventListener("ended",n),function(t){const e=kM.get(t);if(e){kM.delete(t);try{var n,i;null===(n=e.controller)||void 0===n||n.terminate(),null===(i=e.worker)||void 0===i||i.terminate()}catch(t){gR.warning(t&&t.message)}}}(t)}kM.set(t,e),t.track.addEventListener("ended",n)}(c.receiver));const u=this.remoteUserMap.get(t);u?u.set(e,a):this.remoteUserMap.set(t,new Map([[e,a]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats();const d=this.pendingRemoteTracks.findIndex(n=>{let{user:i,kind:r}=n;return i.uid===t.uid&&e===r});-1!==d&&(this.pendingRemoteTracks.splice(d,1),this.emit(mO.MediaReconnectEnd,t.uid))}async massSubscribe(t){return this.massSubscribeNoLock(t)}async massSubscribeNoLock(t){if(!this.connection||this.state!==fO.Connected)throw new TC(SC.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");t=t.filter(t=>{var e;let{user:n,mediaType:i}=t;return!(null!==(e=this.remoteUserMap.get(n))&&void 0!==e&&e.has(i))});const e=[],n=new Map;t.forEach(t=>{if(!this.connection)return;const i=this.connection.getPreMedia(t.ssrcId);i?n.set(t.ssrcId,i):e.push(t)});const i=await this.connection.batchReceive(e.map(t=>{let{user:e,mediaType:n,ssrcId:i,rtxSsrcId:r}=t;return{kind:n,ssrcMsg:[{ssrcId:i,rtx:r}],mslabel:String(e._uintid)}}));e.forEach((t,e)=>{n.set(t.ssrcId,i[e])}),t.forEach(t=>{let{user:e,mediaType:i,ssrcId:r}=t;const o=n.get(r);if(!o)return void gR.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] cannot find ").concat(e.uid," subscribe data,").concat(i,", ").concat(r));const{track:s,id:a,transceiver:c}=o;i===uO.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(s):(e._audioTrack=new CM(s,e.uid,e._uintid,this.store),gR.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),c&&e._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(s):(e._videoTrack=new wM(s,e.uid,e._uintid,this.store),gR.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),c&&e._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._videoTrack));const l=this.remoteUserMap.get(e);l?l.set(i,a):this.remoteUserMap.set(e,new Map([[i,a]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats();const u=this.pendingRemoteTracks.findIndex(t=>{let{user:n,kind:r}=t;return n.uid===e.uid&&i===r});-1!==u&&(this.pendingRemoteTracks.splice(u,1),this.emit(mO.MediaReconnectEnd,e.uid))})}async unsubscribe(t,e,n){const i=this.pendingRemoteTracks.filter(n=>{let{user:i,kind:r}=n;return void 0!==e?i.uid===t.uid&&e===r:i.uid===t.uid});if(i.forEach(t=>{const e=this.pendingRemoteTracks.indexOf(t);this.pendingRemoteTracks.splice(e,1)}),this.connection&&this.state===fO.Connected||n||i.forEach(e=>{let{kind:n}=e;var i;if(n===uO.AUDIO)null===(i=t._audioTrack)||void 0===i||i._destroy(),t._audioTrack=void 0;else if(n===uO.VIDEO){var r;null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0}}),!this.connection||this.state!==fO.Connected)return;const r=this.filterTobeUnSubscribedTracks(t,e);if(0===r.length)return;await this.connection.stopReceiving(r.map(t=>{let[,{id:e}]=t;return e}));const o=this.createUnsubscribeMessage(r);return this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),r.forEach(t=>{let[e,{kind:i}]=t;var r,o;if(i===uO.VIDEO&&e._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(e._videoSSRC,!1)),i===uO.VIDEO)this.unbindRemoteTrackEvents(e._videoTrack),n||(null===(o=e._videoTrack)||void 0===o||o._destroy(),e._videoTrack=void 0);else if(i===uO.AUDIO){var s;this.unbindRemoteTrackEvents(e._audioTrack),n||(null===(s=e._audioTrack)||void 0===s||s._destroy(),e._audioTrack=void 0)}}),o}async unsubscribeDataChannel(t,e){if(e.forEach(t=>{const e=this.pendingRemoteDataChannels.findIndex(e=>e.id===t.id);-1!==e&&this.pendingRemoteDataChannels.splice(e,1)}),!this.connection)return;const n=this.filterTobeUnSubscribedDataChannels(t,e);if(0===n.length)return;e.forEach(t=>{t._close()});const i=this.remoteDataChannelMap.get(t);return n.forEach(t=>{i&&i.delete(t.id)}),i&&0===i.size&&(this.remoteDataChannelMap.delete(t),await this.connection.stopDataChannels(t.uid)),n.map(t=>t.id)}async massUnsubscribe(t){return this.massUnsubscribeNoLock(t)}async massUnsubscribeNoLock(t){let e=[];for(const{user:r,mediaType:o}of t){const t=this.pendingRemoteTracks.filter(t=>{let{user:e,kind:n}=t;return void 0!==o?e.uid===r.uid&&o===n:e.uid===r.uid});t.forEach(t=>{const e=this.pendingRemoteTracks.indexOf(t);this.pendingRemoteTracks.splice(e,1)}),e=e.concat(t)}if(!this.connection||this.state!==fO.Connected)return void e.forEach(t=>{let{user:e,kind:n}=t;var i;if(n===uO.AUDIO)null===(i=e._audioTrack)||void 0===i||i._destroy(),e._audioTrack=void 0;else if(n===uO.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}});const n=Zi(t).call(t,(t,e)=>{let{user:n,mediaType:i}=e;const r=this.filterTobeUnSubscribedTracks(n,i);return t.concat(r)},[]);if(0===n.length)return;await this.connection.stopReceiving(n.map(t=>{let[,{id:e}]=t;return e}));const i=this.createUnsubscribeAllMessage(n);return this.withdrawRemoteTracks(n),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),n.forEach(t=>{let[e,{kind:n}]=t;var i,r;if(n===uO.VIDEO&&e._videoSSRC&&(null===(i=this.connection)||void 0===i||i.setStatsRemoteVideoIsReady(e._videoSSRC,!1)),n===uO.VIDEO)this.unbindRemoteTrackEvents(e._videoTrack),null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0;else if(n===uO.AUDIO){var o;this.unbindRemoteTrackEvents(e._audioTrack),null===(o=e._audioTrack)||void 0===o||o._destroy(),e._audioTrack=void 0}}),i}isPreSubScribe(t){return!(!this.connection||this.state!==fO.Connected)&&!!this.connection.getPreMedia(t)}async muteRemote(t,e){if(!this.connection)return;const n=this.remoteUserMap.get(t);if(!n)return void gR.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(t.uid,"."));if(!n.get(e))return void gR.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(t.uid," media type ").concat(e,"."));const i=e===uO.VIDEO?t._videoSSRC:t._audioSSRC;void 0!==i&&this.connection.setStatsRemoteVideoIsReady(i,!1)}async unmuteRemote(t,e){return this.unmuteRemoteNoLock(t,e)}async unmuteRemoteNoLock(t,e){if(!this.connection)return;const n=this.remoteUserMap.get(t);n?n.get(e)||gR.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(t.uid," media type ").concat(e,".")):gR.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(t.uid,"."))}getAllTracks(t){const e=this.localTrackMap.get(pO.LocalAudioTrack);if((null==e?void 0:e.track)instanceof SL){const n=e.track;return Array.from(this.localTrackMap.entries()).filter(t=>{let[e]=t;return e!==pO.LocalAudioTrack}).filter(e=>{let[n]=e;return!(t&&n===pO.LocalVideoLowTrack)}).map(t=>{let[,{track:e}]=t;return e}).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter(e=>{let[n]=e;return!(t&&n===pO.LocalVideoLowTrack)}).map(t=>{let[,{track:e}]=t;return e})}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(t,e,n,i,r){if(t){const n=this.localTrackMap.get(pO.LocalAudioTrack),o=i?this.localTrackMap.get(pO.LocalVideoLowTrack):this.localTrackMap.get(pO.LocalVideoTrack);CR.publish(this.store.sessionId,{eventElapse:oU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:e,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(_N.SCREEN_TRACK)),audio:!!n,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var o;n||(n=[]);const s=n.find(t=>t instanceof yL),a=i?null===(o=this.localTrackMap.get(pO.LocalVideoTrack))||void 0===o?void 0:o.track:n.find(t=>t instanceof cM);CR.publish(this.store.sessionId,{eventElapse:oU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:t,ec:e,audioName:null==s?void 0:s.getTrackLabel(),videoName:null==a?void 0:a.getTrackLabel(),screenshare:-1!==(null==a?void 0:a._hints.indexOf(_N.SCREEN_TRACK)),audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(t,e,n,i){const r=i===uO.VIDEO?n._videoSSRC:n._audioSSRC;r&&CR.subscribe(this.store.sessionId,{succ:t,ec:e,video:i===uO.VIDEO,audio:i===uO.AUDIO,peerid:n.uid,subscribeRequestid:r,p2pid:this.store.p2pId,eventElapse:oU.measureFromSubscribeStart(this.store.clientId,r),preSsrc:this.isPreSubScribe(r)})}reset(){gR.debug("[".concat(this.store.clientId,"] P2PChannel.reset")),this.mutex=new DI("P2PChannel-mutex"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new jB({},this.store):new uj({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const t=this.localTrackMap.get(pO.LocalAudioTrack);if((null==t?void 0:t.track)instanceof SL){if(t.track.trackList.length>0){const e=t.track;t.track.trackList.forEach(t=>{e.removeAudioTrack(t)})}t.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=fO.Disconnected}getStats(){var t;return null===(t=this.connection)||void 0===t?void 0:t.getStats()}getRemoteVideoIsReady(t){var e;return(null===(e=this.connection)||void 0===e?void 0:e.getRemoteVideoIsReady(t))||!1}getLocalAudioVolume(){const t=this.localTrackMap.get(pO.LocalAudioTrack);if(t)return t.track.getVolumeLevel()}getLocalVideoSize(){const t=this.localTrackMap.get(pO.LocalVideoTrack);if(t)return{width:t.track.videoWidth||0,height:t.track.videoHeight||0}}getEncoderConfig(t){const e=this.localTrackMap.get(t);return e&&e.track instanceof cM||e&&e.track instanceof yL?e.track._encoderConfig:void 0}getLocalMedia(t){return this.localTrackMap.get(t)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(t,e){if(!t)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(t);return!!n&&(!e||n.has(e))}async hasRemoteMediaWithLock(t,e){if(!t)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(t);return!!n&&(!e||n.has(e))}getRemoteMedia(t){var e;const n=Array.from(pf(e=this.remoteUserMap).call(e)).find(e=>e.uid===t);return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let t=Array.from(this.remoteUserMap.entries()).map(t=>{let[e]=t;return{uid:e.uid,level:e.audioTrack?100*e.audioTrack._source.getAccurateVolumeLevel():0}});const e=this.localTrackMap.get(pO.LocalAudioTrack);return e&&t.push({level:100*e.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),t=lm(t).call(t,(t,e)=>t.level-e.level),t}async disconnectForReconnect(){this.connection&&(gR.debug("[".concat(this.store.clientId,"] P2PChannel.disconnectForReconnect closing P2PConnection")),this.state=fO.Reconnecting,JI("KEEP_LAST_FRAME")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e]=t;var n;e._videoTrack&&e._videoTrack._player&&(null===(n=e._videoTrack._player.getVideoElement())||void 0===n||n.pause(),e._videoTrack._player.isKeepLastFrame=!0,e._videoTrack._originMediaStreamTrack.stop())}),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new jB({},this.store):new uj({},this.store),this.bindConnectionEvents(this.connection)),0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach(t=>{var e;let[n,{track:i}]=t;switch(n){case pO.LocalVideoTrack:Pi(e=i._hints).call(e,_N.LOW_STREAM)?i.close():this.pendingLocalTracks.push(i);break;case pO.LocalAudioTrack:i instanceof SL?this.pendingLocalTracks=this.pendingLocalTracks.concat(i.trackList):this.pendingLocalTracks.push(i);case pO.LocalVideoLowTrack:}}),this.emit(mO.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e,n]=t;Array.from(pf(n).call(n)).forEach(t=>{this.setPendingRemoteMedia(e,t)}),this.emit(mO.MediaReconnectStart,e.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),0!==this.localDataChannels.length&&(this.localDataChannels.forEach(t=>{this.pendingLocalDataChannels.push(t)}),this.localDataChannels.length=0),0!==this.remoteDataChannelMap.size&&(Array.from(this.remoteDataChannelMap.entries()).forEach(t=>{let[e,n]=t;Array.from(pf(n).call(n)).forEach(t=>{this.setPendingRemoteDataChannel(e,t)})}),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),gR.debug("[".concat(this.store.clientId,"] P2PChannel disconnected, waiting to reconnect.")))}hasPendingRemoteDataChannel(t,e){for(const n of this.pendingRemoteDataChannels){const{user:i,id:r}=n;if((t instanceof lB?t.uid:t)===i.uid&&r===e)return!0}return!1}setPendingRemoteDataChannel(t,e){this.hasPendingRemoteDataChannel(t,e)||this.pendingRemoteDataChannels.push({user:t,id:e})}hasPendingRemoteMedia(t,e){for(const n of this.pendingRemoteTracks){const{user:i,kind:r}=n;if((t instanceof lB?t.uid:t)===i.uid&&e===r)return!0}return!1}setPendingRemoteMedia(t,e){this.hasPendingRemoteMedia(t,e)||this.pendingRemoteTracks.push({user:t,kind:e})}restartICE(t){var e=this;return YT((function*(){if(!e.connection||e.state!==fO.Connected)return;const n=yield KT(e.mutex.lock("From P2PChannel.restartICE"));let i;try{i=yield KT(e.connection.restartICE(t));const r=yield KT(i.next());if(r.done)return;const o=r.value,s=yield o;switch(e.reportPCDisconnectedOrFailed(t),t){case dO.TCP:e._pcStatsUploadType=hO.TCP_RESTART;break;case dO.RELAY:e._pcStatsUploadType=hO.RELAY_RESTART;break;default:e._pcStatsUploadType=hO.OLD_RESTART}e._isInRestartIce=!0,i.next(s)}catch(t){var r;null===(r=i)||void 0===r||r.throw(t)}finally{n()}}))()}getUplinkNetworkQuality(){if(!this.connection)return 0;const t=this.connection.getStats(),e=this.localTrackMap.get(pO.LocalVideoTrack),n=this.localTrackMap.get(pO.LocalAudioTrack),i=t.videoSend.find(t=>t.ssrc===(null==e?void 0:e.ssrcs[0].ssrcId)),r=t.audioSend.find(t=>t.ssrc===(null==n?void 0:n.ssrcs[0].ssrcId));if(!i||!r)return 1;const o=eI(this,mO.NeedSignalRTT),s=i?i.rttMs:void 0,a=r?r.rttMs:void 0,c=s&&a?(s+a)/2:s||a,l=(c&&o?(c+o)/2:c||o)||0,u=100*t.sendPacketLossRate*.7/50+.3*l/1500,d=u<.17?1:u<.36?2:u<.59?3:u<.1?4:5,h=null==e?void 0:e.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(_N.SCREEN_TRACK)){const e=h._encoderConfig.bitrateMax,n=t.bitrate.actualEncoded;if(e&&n){const t=(1e3*e-n)/(1e3*e);return AR[t<.15?0:t<.3?1:t<.45?2:t<.6?3:4][d]}}return d}getDownlinkNetworkQuality(){if(!this.connection)return 0;const t=this.connection.getStats();let e=0;return Array.from(this.remoteUserMap.entries()).forEach(n=>{let[i]=n;const r=i._audioSSRC,o=i._videoSSRC,s=t.audioRecv.find(t=>t.ssrc===r),a=t.videoRecv.find(t=>t.ssrc===o);if(!s&&!a)return void(e+=1);const c=eI(this,mO.NeedSignalRTT),l=t.rtt,u=(l&&c?(l+c)/2:l||c)||0,d=s?s.jitterMs:void 0,h=t.recvPacketLossRate;let p=.7*h*100/50+.3*u/1500;d&&(p=.6*h*100/50+.2*u/1500+.2*d/400),e+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5}),this.remoteUserMap.size>0?Math.round(e/this.remoteUserMap.size):e}async muteLocalTrack(t){return new $h((e,n)=>{this.handleMuteLocalTrack(t,e,n)})}async replaceTrack(t,e){var n;if(gR.debug("[".concat(this.store.clientId,"] P2PChannel replaceTrack from [").concat(t.getTrackId(),"] to [").concat(e.getTrackId(),"]")),!this.connection||this.state!==fO.Connected)return;const i=Array.from(this.localTrackMap.entries()).find(e=>{let[,{track:n}]=e;return t===n});if(!i)return;const r=i[0];if(t!==e&&(this.unbindLocalTrackEvents([{track:t,type:r}]),this.bindLocalTrackEvents([{track:e,type:r}]),i[1].track=e),await(null===(n=this.connection)||void 0===n?void 0:n.replaceTrack(e,i[1].id)),this.isPlanB){const t=i[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(r,t)}if(r===pO.LocalVideoTrack&&!JI("DISABLE_DUAL_STREAM_USE_ENCODING")&&Qk().supportDualStreamEncoding){const e=this.localTrackMap.get(pO.LocalVideoLowTrack);if(e){const n=t._mediaStreamTrack.clone();e.track._originMediaStreamTrack.stop(),e.track._mediaStreamTrack=n,e.track._originMediaStreamTrack=n,await new $h((t,n)=>{this.handleReplaceTrack(e.track,t,n,!0)})}}}filterTobePublishedTracks(t,e,n){const i=[],r=this.getAllTracks();t=oI(t=t.filter(t=>-1===r.indexOf(t)));let o,s=!1;const a=this.localTrackMap.get(pO.LocalAudioTrack);for(const c of t){if(c instanceof cM&&(this.localTrackMap.has(pO.LocalVideoTrack)||s?new TC(SC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(i.push({track:c,type:pO.LocalVideoTrack}),s=!0),e)){const t=this.getLowVideoTrack(c,n);i.push({track:t,type:pO.LocalVideoLowTrack})}if(c instanceof yL)if(a){const t=a.track;if(t instanceof SL)hB([c]),t.addAudioTrack(c),this.bindLocalAudioTrackEvents(c,!0);else{const e=pB([t,c]);gR.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(e.getTrackId(),"]")),this.replaceTrack(t,e)}}else o instanceof SL?(hB([c]),o.addAudioTrack(c)):o=o||!c._useAudioElement&&Qk().webAudioMediaStreamDest&&!c._bypassWebAudio?pB(o?[c,o]:[c]):c}return o&&(gR.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will send audioTrack [").concat(o.getTrackId(),"]")),i.push({track:o,type:pO.LocalAudioTrack})),i}filterTobeUnpublishedTracks(t){const e=[],n=this.getAllTracks();t=oI(t=t.filter(t=>-1!==n.indexOf(t)));for(const i of t){if(i instanceof yL){const t=this.localTrackMap.get(pO.LocalAudioTrack);if(!t)continue;t.track instanceof SL?(t.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===t.track.trackList.length&&(e.push([pO.LocalAudioTrack,t]),t.track.close())):e.push([pO.LocalAudioTrack,t])}if(i instanceof cM){const t=this.localTrackMap.get(pO.LocalVideoTrack);if(!t)continue;e.push([pO.LocalVideoTrack,t]);const n=this.localTrackMap.get(pO.LocalVideoLowTrack);n&&e.push([pO.LocalVideoLowTrack,n])}}return e}filterTobePublishedDataChannels(t){return(t=oI(t)).filter(t=>-1===this.localDataChannels.findIndex(e=>e.id===t.id))}filterTobeUnpublishedDataChannels(t){return(t=(t=oI(t)).filter(t=>-1!==this.localDataChannels.indexOf(t))).filter(t=>t._originDataChannel)}bindLocalTrackEvents(t){t.forEach(t=>{let{track:e,type:n}=t;switch(n){case pO.LocalVideoTrack:e.addListener(gN.GET_STATS,this.handleGetLocalVideoStats),e.addListener(gN.GET_RTC_STATS,this.handleGetRTCStats),e.addListener(gN.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(gN.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(gN.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),e.addListener(gN.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),e.addListener(gN.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.addListener(gN.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(gN.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case pO.LocalAudioTrack:this.bindLocalAudioTrackEvents(e);case pO.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(t,e){t instanceof SL?t.trackList.forEach(t=>{t.addListener(gN.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(gN.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(gN.GET_STATS,this.handleGetLocalAudioStats),t.addListener(gN.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(gN.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(t.addListener(gN.GET_STATS,this.handleGetLocalAudioStats),t.addListener(gN.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(gN.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(gN.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(gN.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),e||(t.addListener(gN.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(gN.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)))}unbindLocalTrackEvents(t){t||(t=Array.from(this.localTrackMap.entries()).map(t=>{let[e,{track:n}]=t;return{track:n,type:e}})),t.forEach(t=>{let{track:e,type:n}=t;switch(n){case pO.LocalVideoTrack:e.off(gN.GET_STATS,this.handleGetLocalVideoStats),e.off(gN.GET_RTC_STATS,this.handleGetRTCStats),e.off(gN.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(gN.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(gN.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),e.off(gN.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),e.off(gN.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(gN.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(gN.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case pO.LocalAudioTrack:this.unbindLocalAudioTrackEvents(e);case pO.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(t){t instanceof SL?t.trackList.forEach(t=>{t.off(gN.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(gN.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(gN.GET_STATS,this.handleGetLocalAudioStats),t.off(gN.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(gN.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(t.off(gN.GET_STATS,this.handleGetLocalAudioStats),t.off(gN.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(gN.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(gN.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(gN.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),t.off(gN.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(gN.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(t,e){e instanceof wM&&e.addListener(gN.GET_STATS,e=>{e(this.handleGetRemoteVideoStats(t))}),e instanceof CM&&e.addListener(gN.GET_STATS,e=>{e(this.handleGetRemoteAudioStats(t))})}unbindRemoteTrackEvents(t){t&&t.removeAllListeners(gN.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(t=>{let[e,n]=t;n.has(uO.AUDIO)&&this.unbindRemoteTrackEvents(e._audioTrack),n.has(uO.VIDEO)&&this.unbindRemoteTrackEvents(e._videoTrack)})}createGatewayPublishMessage(t,e){return t.map((t,n)=>{var i;let r,o,{track:s,type:a}=t;switch(a){case pO.LocalAudioTrack:r=QA.Audio,o={dtx:s instanceof EL&&s._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case pO.LocalVideoTrack:r=Pi(i=s._hints).call(i,_N.SCREEN_TRACK)?QA.Screen:QA.High,o=fj(fj({},QO(s)),{},{codec:this.store.codec,svc_mode:FM()});break;case pO.LocalVideoLowTrack:r=QA.Low,o=fj(fj({},QO(s)),{},{codec:this.store.codec,svc_mode:FM()})}return{stream_type:r,attributes:o,ssrcs:e[n]}})}createGatewayUnpublishMessage(t){return t.map(t=>{var e;let n,[i,{track:r,ssrcs:o,id:s}]=t;switch(i){case pO.LocalVideoTrack:n=Pi(e=r._hints).call(e,_N.SCREEN_TRACK)?QA.Screen:QA.High;break;case pO.LocalAudioTrack:n=QA.Audio;break;case pO.LocalVideoLowTrack:n=QA.Low}return{stream_type:n,ssrcs:o,mid:s}})}assignLocalTracks(t,e){t.forEach((t,n)=>{let{track:i,type:r}=t;this.localTrackMap.set(r,{track:i,id:e[n].id,ssrcs:e[n].localSSRC})})}withdrawLocalTracks(t){t.forEach(t=>{let[e]=t;this.localTrackMap.delete(e)})}bindConnectionEvents(t){t.onConnectionStateChange=async e=>{if(gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(e,")")),this.emit(mO.PeerConnectionStateChange,e),"connected"!==e||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"connected"===e&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),JI("NEW_ICE_RESTART")){var n;if(Pi(n=this._restartStates).call(n,e)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const e=e=>{"disconnected"!==t.iceConnectionState&&"checking"!==t.iceConnectionState&&"failed"!==t.iceConnectionState||(gR.debug("[".concat(this.store.clientId,"] [P2PChannel] start use restartICE, type is ").concat(e)),"CONNECTED"===eI(this,mO.QueryClientConnectionState)&&this.emit(mO.RequestRestartICE,e))},n=()=>{"disconnected"!==t.iceConnectionState&&"checking"!==t.iceConnectionState&&"failed"!==t.iceConnectionState||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),gR.debug("[".concat(this.store.clientId,"] P2PConnection disconnected timeout, force reconnect")),setTimeout(()=>this.emit(mO.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},i=JI("ICE_RESTART_INTERVAL");return void(this._restartTimer=window.setTimeout(()=>{if(JI("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE")&&Qk().supportPCSetConfiguration)e(dO.RELAY),this._restartTimer=window.setTimeout(n,i);else if(Qw())e(dO.UDP),this._restartTimer=window.setTimeout(n,4e3);else{if(e(dO.TCP),Qk().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout(()=>{e(dO.RELAY),this._restartTimer=window.setTimeout(n,i)},i));this._restartTimer=window.setTimeout(n,i)}},800))}}else{if("disconnected"===e&&"disconnected"===t.iceConnectionState)return setTimeout(()=>{"disconnected"===t.iceConnectionState&&JI("ICE_RESTART")&&"CONNECTED"===eI(this,mO.QueryClientConnectionState)&&this.emit(mO.RequestRestartICE)},800),void setTimeout(()=>{"disconnected"===t.peerConnectionState&&(gR.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection disconnected timeout 4000ms, force reconnect")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout(()=>this.emit(mO.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},4e3);"failed"===e&&(gR.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection state failed, force reconnect")),this.reportPCDisconnectedOrFailed(),setTimeout(()=>this.emit(mO.P2PLost),0),this.iceFailedCount+=1,await this.requestReconnect())}},t.onICEConnectionStateChange=t=>{"connected"!==t||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(t,")")),CR.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:t,tag:HC.TRACER}).onSuccess(),this.emit(mO.IceConnectionStateChange,t)},t.onICETransportStateChange=t=>{gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(t,")"))},t.onDTLSTransportStateChange=t=>{gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(t,")"))},t.onDTLSTransportError=t=>{gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(t,")"))},t.onFirstAudioDecoded=t=>{var e;const n=Array.from(pf(e=this.remoteUserMap).call(e)).find(e=>e._audioSSRC===t);var i;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(i=n.audioTrack)||void 0===i||i.emit(wN.FIRST_FRAME_DECODED),CR.firstRemoteFrame(this.store.sessionId,bR.FIRST_AUDIO_DECODE,SR.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:oU.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId}))},t.onFirstAudioReceived=t=>{var e;const n=Array.from(pf(e=this.remoteUserMap).call(e)).find(e=>e._audioSSRC===t);n&&CR.firstRemoteFrame(this.store.sessionId,bR.FIRST_AUDIO_RECEIVED,SR.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:oU.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId})},t.onFirstVideoDecoded=(t,e,n)=>{this.reportVideoFirstFrameDecoded(t,e,n)},t.onFirstVideoReceived=t=>{var e;const n=Array.from(pf(e=this.remoteUserMap).call(e)).find(e=>e._videoSSRC===t);n&&CR.firstRemoteFrame(this.store.sessionId,bR.FIRST_VIDEO_RECEIVED,SR.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:oU.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId})},t.onSelectedLocalCandidateChanged=(t,e)=>{const n="relay"===t.candidateType,i="relay"===e.candidateType;"unknown"!==e.candidateType&&n===i||this.emit(mO.ConnectionTypeChange,n),gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(rx(e))," -> ").concat(JSON.stringify(rx(t)),")"))},t.onSelectedRemoteCandidateChanged=(t,e)=>{gR.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(rx(e))," -> ").concat(JSON.stringify(rx(t)),")"))},t.onFirstVideoDecodedTimeout=t=>{this.reportVideoFirstFrameDecoded(t,void 0,void 0,!0)},t.getLocalVideoStats=()=>{const t=this.statsCollector.getLocalVideoTrackStats(),e=this.statsCollector.getRTCStats();return fj(fj({},t),e)}}unbindConnectionEvents(t){t.onConnectionStateChange=void 0,t.onICEConnectionStateChange=void 0,t.onICETransportStateChange=void 0,t.onDTLSTransportStateChange=void 0,t.onDTLSTransportError=void 0,t.onFirstAudioDecoded=void 0,t.onFirstAudioReceived=void 0,t.onFirstVideoDecoded=void 0,t.onFirstVideoReceived=void 0,t.onSelectedLocalCandidateChanged=void 0,t.onSelectedRemoteCandidateChanged=void 0,t.onFirstVideoDecodedTimeout=void 0,t.getLocalVideoStats=void 0}filterTobeMutedTracks(t){const e=[];if(-1===this.getAllTracks().indexOf(t))return e;const n=this.localTrackMap.get(pO.LocalAudioTrack);if(t instanceof yL&&(null==n?void 0:n.track)instanceof SL)return n.track.isActive||e.push([pO.LocalAudioTrack,n]),e;const i=Array.from(this.localTrackMap.entries()).find(e=>{let[,{track:n}]=e;return t===n});if(i&&(e.push(i),i[0]===pO.LocalVideoTrack)){const t=this.localTrackMap.get(pO.LocalVideoLowTrack);t&&e.push([pO.LocalVideoLowTrack,t])}return e}filterTobeUnmutedTracks(t){const e=[],n=this.localTrackMap.get(pO.LocalAudioTrack);if(t instanceof yL&&(null==n?void 0:n.track)instanceof SL)return n.track.isActive&&e.push([pO.LocalAudioTrack,n]),e;const i=Array.from(this.localTrackMap.entries()).find(e=>{let[,{track:n}]=e;return t===n});if(i)if(i[0]===pO.LocalVideoTrack){e.push(i);const t=this.localTrackMap.get(pO.LocalVideoLowTrack);t&&e.push([pO.LocalVideoLowTrack,t])}else e.push(i);return e}createMuteMessage(t){return t.map(t=>{var e;let n,[i,{track:r,ssrcs:o,id:s}]=t;switch(i){case pO.LocalAudioTrack:n=QA.Audio;break;case pO.LocalVideoTrack:n=Pi(e=r._hints).call(e,_N.SCREEN_TRACK)?QA.Screen:QA.High;break;case pO.LocalVideoLowTrack:n=QA.Low}return{stream_type:n,ssrcs:o,mid:s}})}createUnmuteMessage(t){return t.map(t=>{var e;let n,[i,{track:r,ssrcs:o,id:s}]=t;switch(i){case pO.LocalAudioTrack:n=QA.Audio;break;case pO.LocalVideoTrack:n=Pi(e=r._hints).call(e,_N.SCREEN_TRACK)?QA.Screen:QA.High;break;case pO.LocalVideoLowTrack:n=QA.Low}return{stream_type:n,ssrcs:o,mid:s}})}filterTobeUnSubscribedTracks(t,e){const n=[],i=this.remoteUserMap.get(t);if(!i)return n;if(e){const r=i.get(e);if(!r)return n;n.push([t,{kind:e,id:r}])}else Array.from(i.entries()).forEach(e=>{let[i,r]=e;n.push([t,{kind:i,id:r}])});return n}filterTobeUnSubscribedDataChannels(t,e){const n=[];return e.forEach(e=>{var i;null!==(i=this.remoteDataChannelMap.get(t))&&void 0!==i&&i.has(e.id)&&n.push(e)}),n}createUnsubscribeMessage(t){const e=[];return t.forEach(t=>{let[n,{kind:i,id:r}]=t;switch(i){case uO.VIDEO:return void(n._videoSSRC&&e.push({stream_type:uO.VIDEO,ssrcId:n._videoSSRC}));case uO.AUDIO:return void(n._audioSSRC&&e.push({stream_type:uO.AUDIO,ssrcId:n._audioSSRC}))}}),e}createUnsubscribeAllMessage(t){const e=new Map;return t.forEach(t=>{let[n,{kind:i}]=t;if(e.has(n)){let t=e.get(n);i===uO.VIDEO?t|=nO.Video:t|=nO.Audio,e.set(n,t)}else i===uO.VIDEO?e.set(n,nO.Video):e.set(n,nO.Audio)}),{users:Array.from(e.entries()).map(t=>{let[e,n]=t;return{stream_id:e.uid,stream_type:n}})}}withdrawRemoteTracks(t){t.forEach(t=>{let[e,{kind:n}]=t;const i=this.remoteUserMap.get(e);i&&(i.delete(n),0===Array.from(i.entries()).length&&this.remoteUserMap.delete(e))})}async updateBitrateLimit(t){const e=this.localTrackMap.get(pO.LocalVideoTrack),n=this.localTrackMap.get(pO.LocalVideoLowTrack);e&&await e.track.setBitrateLimit(t.uplink),n&&t.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:t.low_stream_uplink.bitrate,min_bitrate:t.low_stream_uplink.bitrate||0})}isP2PDisconnected(){return!this.connection||"connected"!==this.connection.peerConnectionState}mapPubResToRemoteConfig(t,e,n){return t.map((t,i)=>{var r;let{stream_type:o}=t;const s=null===(r=e.find(t=>{let{stream_type:e}=t;return o===e}))||void 0===r?void 0:r.attributes;if(s&&JI("DISABLE_SCREEN_SHARE_REMB")){const t=n[i]._hints;(Pi(t).call(t,_N.SCREEN_TRACK)||Pi(t).call(t,_N.SCREEN_LOW_TRACK))&&(s.remb=!1,gR.debug("disable remb for screen share, hints:",t))}return s})}async tryToUnmuteAudio(t){for(let n=0;n<t.length;n++)if(t[n]instanceof yL){var e;const i=this.filterTobeUnmutedTracks(t[n]);if(0===i.length)continue;await(null===(e=this.connection)||void 0===e?void 0:e.unmuteLocal(i.map(t=>{let[,{id:e}]=t;return e})));const r=this.createUnmuteMessage(i);return void await tI(this,mO.RequestUnmuteLocal,r)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=t=>{var e;return!(null===(e=this.connection)||void 0===e||!e.getRemoteVideoIsReady(t))},this.statsUploader.requestUpload=(t,e)=>this.emit(mO.RequestUpload,t,e),this.statsUploader.requestUploadStats=t=>this.emit(mO.RequestUploadStats,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await _I(PI(this.dtlsFailedCount,NI)),this.emit(mO.RequestReconnect)}async reconnectP2P(){const t=Array.from(this.localTrackMap.entries()),e=this.createGatewayUnpublishMessage(t);Array.from(this.remoteUserMap.entries()),e.length>0&&await QC(this,mO.RequestUnpublishForReconnectPC,e),this.disconnectForReconnect(),this.emit(mO.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(pO.LocalVideoTrack)||this.pendingLocalTracks.some(t=>t instanceof cM)}throwIfTrackTypeNotMatch(t){if(t.filter(t=>t instanceof cM).length>1)throw new TC(SC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t.filter(t=>t instanceof yL).length>1&&(t.some(t=>t instanceof yL&&t._bypassWebAudio)||!Qk().webAudioMediaStreamDest))throw new TC(SC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const e of t){if(e instanceof cM&&this.pendingLocalTracks.some(t=>t instanceof cM))throw new TC(SC.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e instanceof yL&&this.pendingLocalTracks.some(t=>t instanceof yL)&&(!Qk().webAudioMediaStreamDest||e._bypassWebAudio||this.pendingLocalTracks.some(t=>t instanceof yL&&t._bypassWebAudio)))throw new TC(SC.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(t,e){var n;const i=!JI("DISABLE_DUAL_STREAM_USE_ENCODING")&&Qk().supportDualStreamEncoding,r=fj(fj({},{width:160,height:120,framerate:15,bitrate:50}),e);let o;o=i?t._mediaStreamTrack.clone():zU(t,r);const s=yI(8,"track-low-"),a=new cM(o,fj(fj({},i&&{scaleResolutionDownBy:ix(r,t)}),{},{frameRate:r.framerate,bitrateMax:r.bitrate,bitrateMin:r.bitrate}),void 0,void 0,s);return a.on(SN.TRANSCEIVER_UPDATED,e=>{t._updateRtpTransceiver(e,yN.LOW_STREAM)}),a._hints.push(_N.LOW_STREAM),Pi(n=t._hints).call(n,_N.SCREEN_TRACK)&&a._hints.push(_N.SCREEN_LOW_TRACK),t.on("sei-to-send",t=>{a.emit("sei-to-send",t)}),t.addListener(gN.NEED_CLOSE,()=>{a.close()}),a}async globalLock(){return this.mutex.lock("From P2PChannel.globalLock")}async reportPCStats(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.connection&&this.connection instanceof uj){var r,o,s,a;const c=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:l,dtlsTransportState:u,peerConnectionState:d}=this.connection,{local:h,remote:p}=await this.connection.getSelectedCandidatePair();CR.pcStats(this.store.sessionId,{startTime:c,eventElapse:t-c||0,iceconnectionsate:l,dtlsstate:u,connectionstate:d,intSucc:e?1:2,error:i,selectedLocalCandidateProtocol:null!==(r=null==h?void 0:h.protocol)&&void 0!==r?r:"",selectedLocalCandidateType:null!==(o=h.candidateType)&&void 0!==o?o:"",selectedLocalCandidateAddress:"".concat(h.address,":").concat(h.port),selectedRemoteCandidateProtocol:null!==(s=p.protocol)&&void 0!==s?s:"",selectedRemoteCandidateType:null!==(a=p.candidateType)&&void 0!==a?a:"",selectedRemoteCandidateAddress:"".concat(p.address,":").concat(p.port),restartCnt:n,preallocation:this.connection.isPreallocation})}}reportVideoFirstFrameDecoded(t,e,n,i){var r;const o=Array.from(pf(r=this.remoteUserMap).call(r)).find(e=>e._videoSSRC===t);if(o){i||this.store.subscribe(o.uid,"video",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,s=r.subscribe.find(t=>t.userId===o.uid&&"video"===t.type);CR.firstRemoteVideoDecode(this.store.sessionId,bR.FIRST_VIDEO_DECODE,SR.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:e,videoheight:n,subscribeElapse:oU.measureFromSubscribeStart(this.store.clientId,t),subscribeRequestid:t,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==s?void 0:s.subscribeEnd)||0,subscriberStart:(null==s?void 0:s.subscribeStart)||0,videoAddNotify:(null==s?void 0:s.streamAdded)||0,state:i?1:0,firstFrame:(null==s?void 0:s.firstFrame)||0})}}async remoteMediaSsrcChanged(t,e,n){if(!this.connection)return!1;const i=this.remoteUserMap.get(t);if(!i)return!1;const r=i.get(e);if(!r)return!1;const o=await this.connection.getRemoteSSRC(r);return void 0!==o&&o!==n}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach(t=>{let[e,{track:n}]=t;e===pO.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,yN.LOW_STREAM):n._updateRtpTransceiver(void 0)})}reportPCDisconnectedOrFailed(t){this.connection&&this.connection instanceof uj&&("disconnected"!==this.connection.iceConnectionState&&"checking"!==this.connection.iceConnectionState&&"failed"!==this.connection.iceConnectionState||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===hO.TCP_RESTART&&t===dO.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,hO.DISCONNECTED_OR_FAILED)))}},TA(hj.prototype,"startP2PConnection",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"startP2PConnection"),hj.prototype),TA(hj.prototype,"connect",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"connect"),hj.prototype),TA(hj.prototype,"updateRemoteRTPCapabilities",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"updateRemoteRTPCapabilities"),hj.prototype),TA(hj.prototype,"publishDataChannel",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"publishDataChannel"),hj.prototype),TA(hj.prototype,"unpublish",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"unpublish"),hj.prototype),TA(hj.prototype,"unpublishDataChannel",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"unpublishDataChannel"),hj.prototype),TA(hj.prototype,"unpublishLowStream",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"unpublishLowStream"),hj.prototype),TA(hj.prototype,"subscribeDataChannel",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"subscribeDataChannel"),hj.prototype),TA(hj.prototype,"subscribe",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"subscribe"),hj.prototype),TA(hj.prototype,"massSubscribe",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"massSubscribe"),hj.prototype),TA(hj.prototype,"unsubscribe",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"unsubscribe"),hj.prototype),TA(hj.prototype,"unsubscribeDataChannel",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"unsubscribeDataChannel"),hj.prototype),TA(hj.prototype,"massUnsubscribe",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"massUnsubscribe"),hj.prototype),TA(hj.prototype,"muteRemote",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"muteRemote"),hj.prototype),TA(hj.prototype,"unmuteRemote",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"unmuteRemote"),hj.prototype),TA(hj.prototype,"hasRemoteMediaWithLock",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"hasRemoteMediaWithLock"),hj.prototype),TA(hj.prototype,"disconnectForReconnect",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"disconnectForReconnect"),hj.prototype),TA(hj.prototype,"updateBitrateLimit",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"updateBitrateLimit"),hj.prototype),TA(hj.prototype,"remoteMediaSsrcChanged",[_j],Object.getOwnPropertyDescriptor(hj.prototype,"remoteMediaSsrcChanged"),hj.prototype),hj);function _j(t,e,n){const i=t[e];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const t=this.mutex,n=await t.lock("From P2PChannel.".concat(e));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await i.apply(this,o)}finally{n()}},n}const yj={};function Ej(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&gR.debug("install service ".concat(t.name)),yj[t.name]=t}function bj(t){const e=yj[t];if(!e)throw new TC(SC.INVALID_OPERATION,"".concat(t," not found, please use AgoraRTC.use(").concat(t,"Service) to load it first"));return e}function Sj(t,e){return bj("DataStream").create(t,e)}function Tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function wj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tj(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const Cj=Date.now(),Ij=20,Rj=new Map,Aj=new Map;async function Oj(t){const e=Rj.get(t),n=Array.isArray(e)&&e[e.length-1],i=Aj.get(t);if(!n)return void(i.isSyncing=!1);const r={uid:n.uid,payload:n.payload};0===i.firstRecvTs&&(i.firstRecvTs=n.recvTs,i.firstSendTs=n.sendTs);const o=n.sendTs-i.firstSendTs,s=o-(Date.now()-i.firstRecvTs);s>0&&(i.firstRecvTs=Date.now()-o);let a=n.mediaDelay+s;a<=0?(e.pop(),xj(n.context,r),a=0):a=Math.min(a,Ij),setTimeout(()=>e.length&&Oj(t),a)}function xj(t,e){t.safeEmit(qC.STREAM_MESSAGE,e.uid,e.payload),t.onStreamMessage&&t.onStreamMessage(e)}function Dj(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(!t.syncWithAudio)return xj(n,{uid:t.uid,payload:t.payload});const i="".concat(n.id,"-").concat(t.uid),r=Rj.get(i)||[],o=r.findIndex(e=>t.sendTs>=e.sendTs),s=wj(wj({},t),{},{context:n,mediaDelay:e,recvTs:Date.now()});-1===o?r.push(s):r.splice(o,0,s),Rj.set(i,r);let a=!1;var c;Aj.has(i)?a=!(null===(c=Aj.get(i))||void 0===c||!c.isSyncing):Aj.set(i,{isSyncing:a,firstRecvTs:0,firstSendTs:0}),a||Oj(i)}const kj=$w().name;function Nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Pj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nj(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const Lj="websdk_ng_cache_parameter",Mj=JI("MAX_PRELOAD_ASYNC_LENGTH"),Vj=1e4,Uj=new Map,Bj=[];let jj=null,Fj=0,Hj=0;const Wj=new Map,Gj=function(t,e){const n=[];let i=0;const r=async()=>{const t=n.shift();t&&await t(),n.length>0&&i<e?r():i--};return async function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return new $h(async(o,a)=>{n.push(async()=>{try{const e=await t(...s);o(e)}catch(t){a(t)}}),i<e&&(i++,r())})}}(zj,Mj),$j=Pw.CancelToken.source();async function zj(t,e,n,i,r,o){try{if(!JI("ENABLE_PRELOAD"))return;if(!Qk().supportWebCrypto)return void uI(()=>{gR.warn("Your browser does not support preloading, this feature  be run in a secure environment")},"preload_webcrypto_not_supported");if(!n&&null!==n)throw new TC(SC.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&AC(n,"token",1,2047),AC(t,"appid",1,2047),UA(e),i&&BA(i);const s=EI();gR.debug("preload channel ".concat(e,", uid is ").concat(i));const a={appId:t,cname:e,token:n||t,uid:"string"!=typeof i?i:null,sid:s,proxyServer:r};let c,l;"string"==typeof i?(a.stringUid=i,[l,c]=await $h.all([KV(i,{sid:s,appId:t},$j.token),XV(Pj(Pj({},a),{},{token:n||t,uid:0}),$j.token)]),a.uid=l.uid,c.gatewayInfo.uid=a.uid,c.gatewayInfo.res.uid=a.uid):(o&&(a.stringUid=o),c=await XV(a,$j.token));const u={sid:s,appId:t,cname:e,token:n||t,uid:a.stringUid||i,intUid:a.uid||c.gatewayInfo.uid,stringUid:a.stringUid,ts:Date.now(),sua:l,ap:c};await async function(t){let e;try{t.uid&&Kj({appId:t.appId,cname:t.cname,token:t.token,uid:t.uid,stringUid:t.stringUid});const n=tF(t),i=await async function(t,e){try{const n=await window.crypto.subtle.importKey("raw",pI(e),"AES-GCM",!1,["encrypt"]),i=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(1)},n,dI(window.btoa(JSON.stringify(t))));return hI(new Uint8Array(i))}catch(t){return}}(t,t.token||t.appId);if(!i)return;e=Zj(Lj);const r=e?JSON.parse(e):[];r.push({[n]:i}),r.length>JI("AP_CACHE_NUM")&&r.shift(),Qj(Lj,JSON.stringify(r))}catch(t){gR.warn("Error caching server parameters:",t.message),Qj(Lj,"")}}(u),Fj++}catch(t){throw Hj++,function(t){jj||(jj=window.setTimeout(()=>{let e="";Wj.forEach((t,n)=>{e+="".concat(n,": ").concat(t," ;")}),CR.reportApiInvoke(null,{name:FC.PRELOAD,options:{success:Fj,failed:Hj,err:e}}).onError(t),Fj=0,Hj=0,Wj.clear(),jj=null},Vj));const e=Wj.get(t.code)||0;Wj.set(t.code,e+1)}(t),t}}async function Yj(t){try{if(JI("AP_REQUEST_DETAIL"))return;const e=Kj(t);if(!e||"disabled"!==t.cloudProxyServer)return;const n=await async function(t,e){try{const n=await window.crypto.subtle.importKey("raw",pI(e),"AES-GCM",!1,["decrypt"]),i=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(1)},n,dI(t));return JSON.parse(window.atob(hI(new Uint8Array(i))))}catch(t){return}}(e,t.token||t.appId);if(!n)return;if(!function(t,e){const n=t.cname===e.cname&&t.appId===e.appId&&t.token===e.token;return!!n&&(e.stringUid?t.stringUid===e.stringUid:"number"==typeof e.uid?t.uid===e.uid:t.uid==e.uid)}(n,t))return;if(n&&Date.now()-n.ts<JI("AP_CACHE_LIFETIME"))return n}catch(t){gR.warn("Error get preloadInfo",t.message)}}function Kj(t){let e;try{if(e=Zj(Lj),!e)return;const n=JSON.parse(e),i=tF(t),r=function(t,e){for(let n=t.length-1;n>=0;n--)if(e(t[n]))return n;return-1}(n,t=>i in t);if(-1===r)return;const o=n.splice(r,1)[0];return Qj(Lj,JSON.stringify(n)),o[i]}catch(t){gR.warn("Error delete preload info: ".concat(e),t.message),Qj(Lj,"")}}function qj(t){if(t){let e=Uj.get(t);e&&(window.clearTimeout(e),e=null,Uj.delete(t)),Pi(Bj).call(Bj,t)||"disabled"!==t.cloudProxyServer||Bj.push(t)}if(Uj.size<JI("AP_CACHE_NUM")&&Bj.length>0){const t=Bj.shift();Uj.set(t,window.setTimeout(async()=>{const{appId:e,cname:n,token:i,stringUid:r,uid:o,proxyServer:s}=t;try{await Gj(e,n,i,o,s,r),Uj.has(t)&&qj(t)}catch(e){gR.warn("update preload failed",e.message),Xj(t)}},JI("AP_UPDATE_INTERVAL")))}}function Xj(t){const e=Bj.indexOf(t);-1!==e&&Bj.splice(e,1);let n=Uj.get(t);n&&(window.clearTimeout(n),n=null,Uj.delete(t),qj())}function Jj(t,e){const n=t.sua,i=t.ap;e&&n&&CR.reqUserAccount(t.sid,{lts:n.requestTime,elapse:n.elapse,success:!0,serverAddr:n.url,stringUid:e,uid:t.intUid,errorCode:null,extend:n.req}),CR.reportResourceTiming(t.ap.url,t.sid),CR.joinWebProxyAP(t.sid,{lts:i.requestTime,elapse:i.elapse,sucess:1,apServerAddr:i.url,turnServerAddrList:i.proxyInfo.addresses.map(t=>t.ip).join(","),eventType:"disabled",unilbsServerIds:[YO.CHOOSE_SERVER,YO.CLOUD_PROXY_FALLBACK].toString()}),CR.joinChooseServer(t.sid,{lts:i.requestTime,elapse:i.elapse,succ:!0,csAddr:i.url,opid:i.opid,serverList:i.gatewayInfo.gatewayAddrs.map(t=>t.address),ec:null,cid:i.gatewayInfo.cid.toString(),uid:i.gatewayInfo.uid.toString(),csIp:i.gatewayInfo.csIp,unilbsServerIds:[YO.CHOOSE_SERVER].toString(),isHttp3:i.isHttp3})}function Zj(t){return window.atob(window.localStorage.getItem(t)||"")}function Qj(t,e){window.localStorage.setItem(t,window.btoa(e))}function tF(t){let e="".concat(t.appId,"_").concat(t.cname);return"string"==typeof t.uid&&(e+="_s_".concat(t.uid)),"number"==typeof t.uid&&(e+="_".concat(t.uid)),t.token&&(e+="_".concat(t.token)),AI(e)}function eF(t){let e=function(){const t=oF.pop();return t?(t.offset=t.limit=0,t):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(t,e){let n=t.appId;void 0!==n&&(vF(e,10),hF(e,n));let i=t.cid;void 0!==i&&(vF(e,16),vF(e,i));let r=t.cname;void 0!==r&&(vF(e,26),hF(e,r));let o=t.deviceId;void 0!==o&&(vF(e,34),hF(e,o));let s=t.elapse;void 0!==s&&(vF(e,40),_F(e,s));let a=t.fileSize;void 0!==a&&(vF(e,48),_F(e,rF(a)));let c=t.height;void 0!==c&&(vF(e,56),_F(e,rF(c)));let l=t.jpg;void 0!==l&&(vF(e,66),vF(e,l.length),uF(e,l));let u=t.networkType;void 0!==u&&(vF(e,72),_F(e,rF(u)));let d=t.osType;void 0!==d&&(vF(e,80),_F(e,rF(d)));let h=t.requestId;void 0!==h&&(vF(e,90),hF(e,h));let p=t.sdkVersion;void 0!==p&&(vF(e,98),hF(e,p));let f=t.sequence;void 0!==f&&(vF(e,104),_F(e,rF(f)));let m=t.sid;void 0!==m&&(vF(e,114),hF(e,m));let v=t.timestamp;void 0!==v&&(vF(e,120),_F(e,v));let g=t.uid;void 0!==g&&(vF(e,128),vF(e,g));let _=t.vid;void 0!==_&&(vF(e,136),vF(e,_));let y=t.width;void 0!==y&&(vF(e,144),_F(e,rF(y)));let E=t.service;void 0!==E&&(vF(e,152),vF(e,E));let b=t.callbackData;void 0!==b&&(vF(e,162),vF(e,b.length),uF(e,b));let S=t.ticket;void 0!==S&&(vF(e,170),hF(e,S));let T=t.vendorConfigs;void 0!==T&&(vF(e,178),hF(e,T))}(t,e),function(t){let e=t.bytes,n=t.limit;return e.length===n?e:e.subarray(0,n)}(e)}function nF(t){return function(t){let e={};t:for(;!aF(t);){let n=mF(t);switch(n>>>3){case 0:break t;case 1:e.code=mF(t);break;case 2:e.msg=dF(t,mF(t));break;case 3:e.requestId=dF(t,mF(t));break;case 4:e.timestamp=gF(t,!1);break;default:iF(t,7&n)}}return e}({bytes:e=t,offset:0,limit:e.length});var e}function iF(t,e){switch(e){case 0:for(;128&pF(t););break;case 2:sF(t,mF(t));break;case 5:sF(t,4);break;case 1:sF(t,8);break;default:throw new Error("Unimplemented type: "+e)}}function rF(t){return{low:t|=0,high:t>>31,unsigned:t>=0}}let oF=[];function sF(t,e){if(t.offset+e>t.limit)throw new Error("Skip past limit");t.offset+=e}function aF(t){return t.offset>=t.limit}function cF(t,e){let n=t.bytes,i=t.offset,r=t.limit,o=i+e;if(o>n.length){let e=new Uint8Array(2*o);e.set(n),t.bytes=e}return t.offset=o,o>r&&(t.limit=o),i}function lF(t,e){let n=t.offset;if(n+e>t.limit)throw new Error("Read past limit");return t.offset+=e,n}function uF(t,e){let n=cF(t,e.length);t.bytes.set(e,n)}function dF(t,e){let n=lF(t,e),i=String.fromCharCode,r=t.bytes,o="",s="";for(let a=0;a<e;a++){let t,c,l,u,d=r[a+n];0==(128&d)?s+=i(d):192==(224&d)?a+1>=e?s+=o:(t=r[a+n+1],128!=(192&t)?s+=o:(u=(31&d)<<6|63&t,u<128?s+=o:(s+=i(u),a++))):224==(240&d)?a+2>=e?s+=o:(t=r[a+n+1],c=r[a+n+2],32896!=(49344&(t|c<<8))?s+=o:(u=(15&d)<<12|(63&t)<<6|63&c,u<2048||u>=55296&&u<=57343?s+=o:(s+=i(u),a+=2))):240==(248&d)?a+3>=e?s+=o:(t=r[a+n+1],c=r[a+n+2],l=r[a+n+3],8421504!=(12632256&(t|c<<8|l<<16))?s+=o:(u=(7&d)<<18|(63&t)<<12|(63&c)<<6|63&l,u<65536||u>1114111?s+=o:(u-=65536,s+=i(55296+(u>>10),56320+(1023&u)),a+=3))):s+=o}return s}function hF(t,e){let n=e.length,i=0;for(let s=0;s<n;s++){let t=e.charCodeAt(s);t>=55296&&t<=56319&&s+1<n&&(t=(t<<10)+e.charCodeAt(++s)-56613888),i+=t<128?1:t<2048?2:t<65536?3:4}vF(t,i);let r=cF(t,i),o=t.bytes;for(let s=0;s<n;s++){let t=e.charCodeAt(s);t>=55296&&t<=56319&&s+1<n&&(t=(t<<10)+e.charCodeAt(++s)-56613888),t<128?o[r++]=t:(t<2048?o[r++]=t>>6&31|192:(t<65536?o[r++]=t>>12&15|224:(o[r++]=t>>18&7|240,o[r++]=t>>12&63|128),o[r++]=t>>6&63|128),o[r++]=63&t|128)}}function pF(t){return t.bytes[lF(t,1)]}function fF(t,e){let n=cF(t,1);t.bytes[n]=e}function mF(t){let e,n=0,i=0;do{e=pF(t),n<32&&(i|=(127&e)<<n),n+=7}while(128&e);return i}function vF(t,e){for(e>>>=0;e>=128;)fF(t,127&e|128),e>>>=7;fF(t,e)}function gF(t,e){let n,i=0,r=0,o=0;return n=pF(t),i=127&n,128&n&&(n=pF(t),i|=(127&n)<<7,128&n&&(n=pF(t),i|=(127&n)<<14,128&n&&(n=pF(t),i|=(127&n)<<21,128&n&&(n=pF(t),r=127&n,128&n&&(n=pF(t),r|=(127&n)<<7,128&n&&(n=pF(t),r|=(127&n)<<14,128&n&&(n=pF(t),r|=(127&n)<<21,128&n&&(n=pF(t),o=127&n,128&n&&(n=pF(t),o|=(127&n)<<7))))))))),{low:i|r<<28,high:r>>>4|o<<24,unsigned:e}}function _F(t,e){let n=e.low>>>0,i=(e.low>>>28|e.high<<4)>>>0,r=e.high>>>24,o=0===r?0===i?n<16384?n<128?1:2:n<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:r<128?9:10,s=cF(t,o),a=t.bytes;switch(o){case 10:a[s+9]=r>>>7&1;case 9:a[s+8]=9!==o?128|r:127&r;case 8:a[s+7]=8!==o?i>>>21|128:i>>>21&127;case 7:a[s+6]=7!==o?i>>>14|128:i>>>14&127;case 6:a[s+5]=6!==o?i>>>7|128:i>>>7&127;case 5:a[s+4]=5!==o?128|i:127&i;case 4:a[s+3]=4!==o?n>>>21|128:n>>>21&127;case 3:a[s+2]=3!==o?n>>>14|128:n>>>14&127;case 2:a[s+1]=2!==o?n>>>7|128:n>>>7&127;case 1:a[s]=1!==o?128|n:127&n}}const yF={},EF={},bF=4294967296,SF=bF*bF,TF=SF/2,wF=OF(0,!0),CF=OF(0),IF=xF(0,-2147483648,!1),RF=xF(-1,2147483647,!1),AF=xF(-1,-1,!0);function OF(t,e){let n,i,r;return e?(r=0<=(t>>>=0)&&t<256)&&(i=EF[t],i)?i:(n=xF(t,0,!0),r&&(EF[t]=n),n):(r=-128<=(t|=0)&&t<128)&&(i=yF[t],i)?i:(n=xF(t,t<0?-1:0,!1),r&&(yF[t]=n),n)}function xF(t,e,n){return{low:0|t,high:0|e,unsigned:!!n}}function DF(t,e){if(isNaN(t))return e?wF:CF;if(e){if(t<0)return wF;if(t>=SF)return AF}else{if(t<=-TF)return IF;if(t+1>=TF)return RF}return t<0?e?wF:CF:xF(t%bF|0,t/bF|0,e)}function kF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}class NF extends UC{get connectionState(){return this._connectionState}set connectionState(t){if(this._connectionState===t)return;const e=this._connectionState;this._connectionState=t,this.emit(SO.CONNECTION_STATE_CHANGE,t,e)}get quality(){return this._quality}set quality(t){this._quality=t>1?1:t<.1?.1:t,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this._qualityRatio},6e4))}constructor(t){var e;super(),jE(this,"name","AgoraRTCImageModeration"),jE(this,"_connectionState",bO.CONNECTING),jE(this,"_sequence",0),jE(this,"_moderationStartTime",void 0),jE(this,"_workerConnection",void 0),jE(this,"_workerMessageLengthLimit",void 0),jE(this,"_qualityRatio",void 0),jE(this,"_connectInfo",void 0),jE(this,"_cancelTokenSource",Pw.CancelToken.source()),jE(this,"_retryConfig",void 0),jE(this,"_moderationInterval",void 0),jE(this,"_moderationTimer",null),jE(this,"_moderationMode",1),jE(this,"_quality",1),jE(this,"_qualityTimer",null),jE(this,"_ticket",void 0),jE(this,"_moderationIntervalMinimum",void 0),jE(this,"_uploadFailedNum",0),jE(this,"_uploadNum",0),jE(this,"_uploadTimer",null),jE(this,"_extraInfo",void 0),jE(this,"_vendor",""),jE(this,"_encoder",new TextEncoder),jE(this,"_moderationId",void 0),jE(this,"inspectImage",()=>{if(this.connectionState!==bO.CONNECTED)throw new IR(SC.OPERATION_ABORTED,"image moderation service connection status is ".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval(()=>{this.connectionState===bO.CONNECTED?this.requestToInspectImage():gR.debug("[".concat(this._moderationId,"] Moderation State is not connected , "),this.connectionState)},this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()}),this._moderationId=yI(5,"image-moderation-"),this._workerMessageLengthLimit=JI("IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT"),this._moderationIntervalMinimum=JI("IMAGE_MODERATION_INTERVAL_MINIMUM"),this._moderationInterval=null!==(e=t.interval)&&void 0!==e?e:1e3,t.extraInfo&&(this._extraInfo=this._encoder.encode(t.extraInfo)),t.vendor&&(this._vendor=t.vendor),this._qualityRatio=JI("IMAGE_MODERATION_QUALITY_RATIO"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new $O("worker-"+this._moderationId,NI),this.on(SO.STATE_CHANGE,(t,e)=>{gR.debug("[".concat(this._moderationId,"] Moderation operation :").concat(TO[t]," ").concat(e||""))}),this.handleWorkerEvents()}async init(t,e){this.emit(SO.STATE_CHANGE,TO.CONNECT_AP),this._connectInfo=t;const n=this._cancelTokenSource.token;return this._retryConfig=e,new $h((i,r)=>{this.on(SO.CONNECTION_STATE_CHANGE,(t,e)=>{t===bO.CONNECTED&&i()}),this.requestAP(t,n,e).then(t=>{this.connectWorker(t)}).catch(t=>{r(t)})})}updateConfig(t){var e;this._moderationInterval=null!==(e=t.interval)&&void 0!==e?e:1e3,t.extraInfo&&(this._extraInfo=this._encoder.encode(t.extraInfo)),t.vendor&&(this._vendor=t.vendor),gR.debug("[".concat(this._moderationId,"] updateConfig: ").concat(JSON.stringify(t))),this.connectionState===bO.CONNECTED&&this.inspectImage()}async requestAP(t,e,n){const i=JI("WEBCS_DOMAIN").map(t=>"https://".concat(t,"/api/v1")),r=await function(t,e,n,i){let{appId:r,areaCode:o,cname:s,sid:a,token:c,uid:l}=e;FV++;const u="moderation_plugin",d={service_name:u,json_body:JSON.stringify({appId:r,areaCode:o,cname:s,command:"allocateEdge",requestId:FV,seq:FV,sid:a,appToken:c,ts:Date.now(),uid:l+""})};let h,p,f=t[0];return LI(async()=>{h=Date.now();const t=await yV(f,{data:d,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(p=Date.now()-h,0!==t.code){const e=new IR(SC.UNEXPECTED_RESPONSE,"moderation plugin ap error, code"+t.code,{retry:!0,responseTime:p});throw gR.error(e.toString()),e}const e=JSON.parse(t.json_body);if(200!==e.code){const t=new IR(SC.UNEXPECTED_RESPONSE,"moderation plugin ap error, code: ".concat(e.code,", reason: ").concat(e.reason),{code:e.code,responseTime:p});throw gR.error(t.toString()),t}if(!e.servers||!Array.isArray(e.servers)||0===e.servers.length){const t=new IR(SC.UNEXPECTED_RESPONSE,"moderation plugin ap empty server",{code:e.code,responseTime:p});throw gR.error(t.toString()),t}if(!e.servers.some(t=>!!t.wss)){const t=new IR(SC.UNEXPECTED_RESPONSE,"moderation plugin ap empty port",{code:e.code,responseTime:p});throw gR.error(t.toString()),t}const i=JI("IMAGE_MODERATION_WORKER_HOST");return{addressList:e.servers.map(t=>{let{address:e,wss:n}=t;if(e&&n)return"wss://".concat(e.replace(/\./g,"-"),".").concat(i,":").concat(n,"/moderation")}).filter(t=>!!t),workerToken:e.workerToken,vid:e.vid,ticket:e.appTicket,responseTime:p}},(e,n)=>(CR.apworkerEvent(a,{success:!0,sc:200,serviceName:u,responseDetail:JSON.stringify(e.addressList),firstSuccess:0===n,responseTime:p,serverIp:t[n%t.length]}),!1),(e,n)=>(CR.apworkerEvent(a,{success:!1,sc:e.data&&e.data.code||200,serviceName:u,responseTime:p,serverIp:t[n%t.length]}),!!(e.code!==SC.OPERATION_ABORTED&&e.code!==SC.UNEXPECTED_RESPONSE||e.data&&e.data.retry)&&(f=t[(n+1)%t.length],!0)),i)}(i,t,e,n);this.emit(SO.STATE_CHANGE,TO.AP_CONNECTED);const{addressList:o,ticket:s}=r;return this._ticket=s,o}async connectWorker(t){this.emit(SO.STATE_CHANGE,TO.CONNECT_WORKER),await this._workerConnection.init(t,1e4)}handleWorkerEvents(){this._workerConnection.on(VA.CONNECTED,async()=>{this.emit(SO.STATE_CHANGE,TO.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=bO.CONNECTED}),this._workerConnection.on(VA.CLOSED,()=>{this.connectionState=bO.CLOSED}),this._workerConnection.on(VA.FAILED,()=>{this.connectionState=bO.CLOSED}),this._workerConnection.on(VA.RECONNECTING,()=>{this.connectionState=this.connectionState===bO.CONNECTED?bO.RECONNECTING:bO.CONNECTING}),this._workerConnection.on(VA.ON_MESSAGE,async t=>{if(t.data instanceof ArrayBuffer){const e=nF(new Uint8Array(t.data));JI("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&gR.debug("[".concat(this._moderationId,"] Response message for worker of image moderation "),JSON.stringify(e)),this._uploadNum++,void 0===e.code||0===e.code||(this._uploadFailedNum++,gR.error("[".concat(this._moderationId,"] Error response from worke, code is ").concat(e.code,", msg is ").concat(e.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout(()=>{CR.reportApiInvoke(this._connectInfo.sid||null,{name:FC.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,e.code],tag:HC.TRACER}).onError(new IR(SC.IMAGE_MODERATION_UPLOAD_FAILED,e.msg)),this._uploadTimer=null},JI("IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL"))))}else gR.error("[".concat(this._moderationId,"] Unexpected message type from worker"))}),this._workerConnection.on(VA.WILL_RECONNECT,(t,e,n)=>{"recover"===t&&n(t),n("tryNext")}),this._workerConnection.on(VA.REQUEST_NEW_URLS,(t,e)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(t).catch(e)})}static intToLong(t){return{low:t|=0,high:t>>31,unsigned:t>=0}}async requestToInspectImage(){const t=eI(this,SO.CLIENT_LOCAL_VIDEO_TRACK),e={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(t){if(!t.isPlaying)return void(JI("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&gR.debug("Only the track being played can be inspected"));this._sequence++;const n=await this.generateRequestData(t,e);this._workerConnection.sendMessage(n,!0,!0)}else JI("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&gR.debug("Only the track being published can be inspected")}async generateRequestData(t,e){let{appId:n,cname:i,cid:r,vid:o,sid:s,uid:a}=e;const c=Date.now(),l=await t.getCurrentFrameImage("image/jpeg",this.quality),u=await xP(l,n,i),d=this._sequence+"-"+r+"-"+a+"-"+c+"-"+yI(12,""),h={appId:n,cid:r,cname:i,deviceId:"",elapse:NF.intToLong(Number(c-this._moderationStartTime)),fileSize:l.buffer.byteLength,height:l.height,width:l.width,jpg:u,networkType:6,osType:7,requestId:d,sdkVersion:"4.22.1",sequence:this._sequence,sid:s,timestamp:DF(c),uid:a,vid:o,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};void 0===this._extraInfo&&delete h.callbackData;const p=eF(h);if(p.byteLength<this._workerMessageLengthLimit){if(JI("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")){const t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kF(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kF(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},h);delete t.jpg,gR.debug("[".concat(this._moderationId,"] Request message for worker of image moderation service: "),JSON.stringify(t))}return p}{const e=this.quality*this._qualityRatio;return this.quality=e,await this.generateRequestData(t,{appId:n,cname:i,cid:r,vid:o,sid:s,uid:a})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=Pw.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=bO.CLOSED,this.emit(SO.STATE_CHANGE,TO.CLOSED)}}function PF(t){if(IC(t.interval,"interval",1e3,1/0),t&&t.extraInfo&&t.extraInfo.length>1024)throw new IR(SC.INVALID_PARAMS,"config.extraInfo length cannot exceed 1024 bytes");if(t&&t.vendor&&t.vendor.length>1024)throw new IR(SC.INVALID_PARAMS,"config.vendor length cannot exceed 1024 bytes")}const LF={name:"ImageModeration",create:function(t){let{config:e}=t;return PF(e),new NF(e)}};var MF,VF,UF,BF,jF,FF,HF,WF,GF,$F,zF,YF,KF,qF,XF,JF,ZF,QF,tH,eH,nH,iH,rH,oH,sH,aH,cH,lH,uH,dH,hH,pH,fH,mH,vH,gH,_H,yH,EH,bH,SH;function TH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function wH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?TH(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}DI.setLogger(gR);let CH=(MF=wR(),VF=wR({argsMap:(t,e)=>{if(!Array.isArray(e)){if(!(e instanceof $N))return[e];e=[e]}return e.map(t=>t?Object(t).toString():"null")}}),UF=wR({argsMap:(t,e)=>(e||(e=[]),Array.isArray(e)||e.trackMediaType!==CN.DATA?(Array.isArray(e)||(e=[e]),e.map(t=>t.getTrackId())):[e.getChannelId()])}),BF=wR({argsMap:(t,e,n,i)=>["object"==typeof e?e.uid:e,n,i]}),jF=wR({argsMap:(t,e,n)=>[e,n]}),FF=wR({argsMap:(t,e)=>e.map(t=>{let{user:e,mediaType:n}=t;return[null==e?void 0:e.uid,n]})}),HF=wR({argsMap:(t,e,n,i)=>["object"==typeof e?e.uid:e,n,i]}),WF=wR({argsMap:(t,e)=>e.map(t=>{let{user:e,mediaType:n}=t;return{uid:null==e?void 0:e.uid,mediaType:n}})}),GF=wR(),$F=wR(),zF=wR(),YF=wR(),KF=wR(),qF=wR(),XF=wR(),JF=wR(),ZF=wR(),QF=wR(),tH=wR(),eH=wR(),nH=wR(),iH=wR(),rH=wR({argsMap:(t,e)=>[e]}),oH=wR(),sH=wR(),aH=wR(),cH=wR(),lH=wR(),uH=wR(),dH=wR(),hH=wR(),pH=wR({argsMap:(t,e)=>(Array.isArray(e)||(e=[e]),[JSON.stringify(e)])}),fH=wR(),mH=wR(),vH=wR(),gH=wR(),_H=wR(),yH=wR(),EH=wR({reportResult:!0}),bH=wR(),SH=class extends UC{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var t;return(null===(t=this._config)||void 0===t?void 0:t.role)||"audience"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||"opus"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return"Client"}constructor(t){let e;if(super(),jE(this,"store",void 0),jE(this,"_uid",void 0),jE(this,"_channelName",void 0),jE(this,"_uintUid",void 0),jE(this,"_users",[]),jE(this,"_config",void 0),jE(this,"_clientId",void 0),jE(this,"_appId",void 0),jE(this,"_sessionId",null),jE(this,"_key",void 0),jE(this,"_rtmConfig",{}),jE(this,"_joinInfo",void 0),jE(this,"_gateway",void 0),jE(this,"_statsCollector",void 0),jE(this,"_configDistribute",void 0),jE(this,"_leaveMutex",new DI("client-leave")),jE(this,"_publishMutex",new DI("client-publish")),jE(this,"_renewTokenMutex",new DI("client-renewtoken")),jE(this,"_subscribeMutex",new DI("client-subscribe")),jE(this,"_encryptionMode","none"),jE(this,"_encryptionSecret",null),jE(this,"_encryptionSalt",null),jE(this,"_encryptDataStream",!1),jE(this,"_encryptDataStreamKey",null),jE(this,"_encryptDataStreamIv",null),jE(this,"_proxyServer",void 0),jE(this,"_turnServer",{servers:[],mode:"auto"}),jE(this,"_cloudProxyServerMode","disabled"),jE(this,"_isDualStreamEnabled",!1),jE(this,"_defaultStreamFallbackType",void 0),jE(this,"_lowStreamParameter",void 0),jE(this,"_streamFallbackTypeCacheMap",new Map),jE(this,"_remoteStreamTypeCacheMap",new Map),jE(this,"_axiosCancelSource",Pw.CancelToken.source()),jE(this,"_audioVolumeIndicationInterval",void 0),jE(this,"_networkQualityInterval",void 0),jE(this,"_userOfflineTimeout",void 0),jE(this,"_streamRemovedTimeout",void 0),jE(this,"_liveTranscodeStreamingClient",void 0),jE(this,"_liveRawStreamingClient",void 0),jE(this,"_channelMediaRelayClient",void 0),jE(this,"_networkQualitySensitivity","normal"),jE(this,"_p2pChannel",void 0),jE(this,"_useLocalAccessPoint",!1),jE(this,"_setLocalAPVersion",void 0),jE(this,"_joinAndNotLeaveYet",!1),jE(this,"_numberOfJoinCount",0),jE(this,"_remoteDefaultVideoStreamType",void 0),jE(this,"_inspect",void 0),jE(this,"_moderation",void 0),jE(this,"_license",void 0),jE(this,"_pendingPublishedUsers",[]),jE(this,"ntpAlignErrorCount",0),jE(this,"remoteInboundOffset",0),jE(this,"_handleLocalTrackEnable",(t,e,n)=>{this.publish(t,!1).then(e).catch(n)}),jE(this,"_handleLocalTrackDisable",(t,e,n)=>{this.unpublish(t).then(e).catch(n)}),jE(this,"_handleUserOnline",t=>{if(JI("BLOCK_LOCAL_CLIENT")&&xR(t.uid,this.channelName))return void gR.debug("[".concat(t.uid,"] will be ignored in local"));this.isStringUID&&"string"!=typeof t.uid&&gR.error("[".concat(this._clientId,"] StringUID is Mixed with UintUID"));const e=this._users.find(e=>e.uid===t.uid);if(e)e._trust_in_room_=!0,e._is_pre_created&&(e._is_pre_created=!1,this.safeEmit(qC.USER_JOINED,e));else{const e=new lB(t.uid,t.uint_id||t.uid);this._users.push(e),gR.debug("[".concat(this._clientId,"] user online"),t.uid),this.safeEmit(qC.USER_JOINED,e)}}),jE(this,"_handleUserOffline",t=>{if(JI("BLOCK_LOCAL_CLIENT")&&xR(t.uid,this.channelName))return;const e=this._users.find(e=>e.uid===t.uid);e&&(this._handleRemoveStream(t),this._handleRemoveDataChannels(t),e._audio_pre_subscribed||e._video_pre_subscribed?e._is_pre_created=!0:rI(this._users,e),this._remoteStreamTypeCacheMap.delete(e.uid),this._streamFallbackTypeCacheMap.delete(e.uid),gR.debug("[".concat(this._clientId,"] user offline"),t.uid,"reason:",t.reason),this.safeEmit(qC.USER_LEAVED,e,t.reason))}),jE(this,"_handleAddAudioOrVideoStream",(t,e,n,i,r,o,s)=>{if(JI("BLOCK_LOCAL_CLIENT")&&xR(e,this.channelName))return;const a=this._users.find(t=>t.uid===e);if(!a)return void gR.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));gR.debug("[".concat(this._clientId,"] stream added with uid ").concat(e,", type ").concat(t)),this.store.subscribe(a.uid,t,void 0,void 0,void 0,Date.now());const c="audio"===t?a.hasAudio:a.hasVideo;a._uintid||(a._uintid=r||e),"audio"===t?a._trust_audio_stream_added_state_=!0:a._trust_video_stream_added_state_=!0,"audio"===t?(a._audio_added_=!0,void 0!==n&&(a._audioSSRC=n),void 0!==i&&(a._cname=i),o&&(a._audioOrtc=o)):(a._video_added_=!0,void 0!==n&&(a._videoSSRC=n),void 0!==i&&(a._cname=i),void 0!==s&&(a._rtxSsrcId=s),o&&(a._videoOrtc=o)),("audio"===t?a.hasAudio:a.hasVideo)&&!c&&(gR.info("[".concat(this._clientId,"] remote user ").concat(a.uid," published ").concat(t)),this.safeEmit(qC.USER_PUBLISHED,a,t)),"video"===t?CR.onGatewayStream(this._sessionId,bR.ON_ADD_VIDEO_STREAM,SR.ON_ADD_VIDEO_STREAM,{peer:r||e,ssrc:a._videoSSRC}):CR.onGatewayStream(this._sessionId,bR.ON_ADD_AUDIO_STREAM,SR.ON_ADD_AUDIO_STREAM,{peer:r||e,ssrc:a._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(a,t,n).then(e=>{if(e&&(gR.debug("[".concat(this._clientId,"] resubscribe ").concat(t," for user ").concat(a.uid," after rejoin because SSRC id changed.")),this._p2pChannel instanceof gj))return this._p2pChannel.unsubscribe(a,t,!0).then(()=>this._subscribe(a,t,!0).catch(t=>{gR.error("[".concat(this._clientId,"] resubscribe error"),t.toString())}))}),this._p2pChannel.hasPendingRemoteMedia(a,t)&&(gR.debug("[".concat(this._clientId,"] resubscribe ").concat(t," for user ").concat(a.uid," after reconnect.")),this._subscribe(a,t,!0).catch(t=>{gR.error("[".concat(this._clientId,"] resubscribe error"),t.toString())}))}),jE(this,"_handleRemoveStream",t=>{if(JI("BLOCK_LOCAL_CLIENT")&&xR(t.uid,this.channelName))return;const e=this._users.find(e=>e.uid===t.uid);if(!e)return void gR.warning("[".concat(this._clientId,"] can not find target user!(on_remove_stream)"));gR.debug("[".concat(this._clientId,"] stream removed with uid ").concat(t.uid));let n=()=>{};e.hasAudio&&e.hasVideo?n=()=>{gR.info("[".concat(this._clientId,"] remote user ").concat(e.uid," unpublished audio track")),this.safeEmit(qC.USER_UNPUBLISHED,e,"audio"),gR.info("[".concat(this._clientId,"] remote user ").concat(e.uid," unpublished video track")),this.safeEmit(qC.USER_UNPUBLISHED,e,"video")}:e.hasVideo?n=()=>{gR.info("[".concat(this._clientId,"] remote user ").concat(e.uid," unpublished video track")),this.safeEmit(qC.USER_UNPUBLISHED,e,"video")}:e.hasAudio&&(n=()=>{gR.info("[".concat(this._clientId,"] remote user ").concat(e.uid," unpublished audio track")),this.safeEmit(qC.USER_UNPUBLISHED,e,"audio")}),e._video_pre_subscribed||e._audio_pre_subscribed||(e._trust_audio_stream_added_state_=!0,e._trust_video_stream_added_state_=!0,e._audio_added_=!1,e._video_added_=!1,this._p2pChannel instanceof gj&&this._p2pChannel.unsubscribe(e).then(t=>{if(t)return this._gateway.unsubscribe(t,e.uid)}),e._audioSSRC=void 0,e._videoSSRC=void 0,e._audioOrtc=void 0,e._videoOrtc=void 0,e._rtxSsrcId=void 0),CR.onGatewayStream(this._sessionId,bR.ON_REMOVE_STREAM,SR.ON_REMOVE_STREAM,{peer:t.uint_id||t.uid}),n()}),jE(this,"_handleSetStreamLocalEnable",(t,e,n)=>{if(JI("BLOCK_LOCAL_CLIENT")&&xR(e,this.channelName))return;const i=this._users.find(t=>t.uid===e);if(!i)return void gR.error("[".concat(this._clientId,"] can not find target user!(disable_local)"));gR.debug("[".concat(this._clientId,"] local ").concat(t," ").concat(n?"enabled":"disabled"," with uid ").concat(e));const r="audio"===t?i.hasAudio:i.hasVideo;if("audio"===t){i._trust_audio_enabled_state_=!0;const t=i._audio_enabled_;if(i._audio_enabled_=n,i._audio_enabled_===t)return;{const t=i._audio_enabled_?"enable-local-audio":"disable-local-audio";gR.debug("[".concat(this._clientId,"] user-info-updated, uid: ").concat(e,", msg: ").concat(t)),this.safeEmit(qC.USER_INFO_UPDATED,e,t)}}else{i._trust_video_enabled_state_=!0;const t=i._video_enabled_;if(i._video_enabled_=n,i._video_enabled_===t)return;{const t=i._video_enabled_?"enable-local-video":"disable-local-video";gR.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),this.safeEmit(qC.USER_INFO_UPDATED,e,t)}}const o="audio"===t?i.hasAudio:i.hasVideo;return r!==o?!r&&o?(gR.info("[".concat(this._clientId,"] remote user ").concat(e," published ").concat(t)),void this.safeEmit(qC.USER_PUBLISHED,i,t)):("video"===t&&i._videoTrack&&i._videoTrack._destroy(),"audio"===t&&i._audioTrack,this._p2pChannel.muteRemote(i,t),gR.info("[".concat(this._clientId,"] remote user ").concat(e," unpublished ").concat(t)),void this.safeEmit(qC.USER_UNPUBLISHED,i,t)):void 0}),jE(this,"_handleMuteStream",(t,e,n)=>{if(JI("BLOCK_LOCAL_CLIENT")&&xR(t,this.channelName))return;gR.debug("[".concat(this._clientId,"] receive mute message"),t,e,n);const i=this._users.find(e=>e.uid===t);if(!i)return void gR.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(t));const r="audio"===e?i.hasAudio:i.hasVideo;if("audio"===e){i._trust_audio_mute_state_=!0;const e=i._audio_muted_;if(i._audio_muted_=n,i._audio_muted_===e)return;{const e=i._audio_muted_?"mute-audio":"unmute-audio";gR.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(t,", msg: ").concat(e)),this.safeEmit(qC.USER_INFO_UPDATED,t,e)}}else{i._trust_video_mute_state_=!0;const e=i._video_muted_;if(i._video_muted_=n,i._video_muted_===e)return;{const e=i._video_muted_?"mute-video":"unmute-video";gR.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(t,", msg: ").concat(e)),this.safeEmit(qC.USER_INFO_UPDATED,t,e)}}const o="audio"===e?i.hasAudio:i.hasVideo;if(r!==o){if(!r&&o)return("audio"===e?i._audioSSRC:i._videoSSRC)?(gR.info("[".concat(this._clientId,"] remote user ").concat(t," published ").concat(e)),void this.safeEmit(qC.USER_PUBLISHED,i,e)):void gR.warning("[".concat(this._clientId,"] remote user ").concat(t," receive ").concat(e," unmute message  before add stream message, ").concat(e," SSRC doesn't exist yet."));"video"===e&&i._videoTrack&&!i._video_pre_subscribed&&i._videoTrack._destroy(),"audio"===e&&i._audioTrack,this._p2pChannel.muteRemote(i,e),gR.info("[".concat(this._clientId,"] remote user ").concat(t," unpublished ").concat(e)),this.safeEmit(qC.USER_UNPUBLISHED,i,e)}}),jE(this,"_handleP2PLost",async t=>{gR.debug("[".concat(this._clientId,"] receive p2p lost"),t),parseInt(t.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():gR.warning("[".concat(this._clientId,"] P2PLost stream not found"),t)}),jE(this,"_handleTokenWillExpire",()=>{gR.debug("[".concat(this._clientId,"] received message onTokenPrivilegeWillExpire")),this.safeEmit(qC.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)}),jE(this,"_handleBeforeUnload",t=>{"beforeunload"===t.type&&void 0!==t.returnValue&&""!==t.returnValue||(this.leave(),gR.info("[".concat(this._clientId,"] auto leave onbeforeunload or pagehide")))}),jE(this,"_handleUpdateNetworkQuality",()=>{if("normal"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.safeEmit(qC.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const t={downlinkNetworkQuality:0,uplinkNetworkQuality:0};t.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),t.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(qC.NETWORK_QUALITY,t)}),jE(this,"_handleP2PAddAudioOrVideoStream",(t,e,n,i)=>{const r=this._users.find(t=>t.uid===e);if(!r)return void gR.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));gR.debug("[".concat(this._clientId,"] stream added with uid ").concat(e,", type ").concat(t)),this.store.subscribe(r.uid,t,void 0,void 0,void 0,Date.now());const o="audio"===t?r.hasAudio:r.hasVideo;"audio"===t?r._trust_audio_stream_added_state_=!0:r._trust_video_stream_added_state_=!0,"audio"===t?(r._audio_added_=!0,void 0!==n&&(r._audioSSRC=n),void 0!==i&&(r._audioMid=i)):(r._video_added_=!0,void 0!==n&&(r._videoSSRC=n),void 0!==i&&(r._videoMid=i)),("audio"===t?r.hasAudio:r.hasVideo)&&!o&&(gR.info("[".concat(this._clientId,"] remote user ").concat(r.uid," published ").concat(t)),this.safeEmit(qC.USER_PUBLISHED,r,t)),this._p2pChannel.hasPendingRemoteMedia(r,t)&&(gR.debug("[".concat(this._clientId,"] resubscribe ").concat(t," for user ").concat(r.uid," after reconnect.")),this._subscribe(r,t,!0).catch(t=>{gR.error("[".concat(this._clientId,"] resubscribe error"),t.toString())}))}),this._config=t,this._clientId=yI(5,"client-"),this.store=new tR(t.codec,t.audioCodec,t.mode,this._clientId),this.store.clientCreated(),t.proxyServer&&this.setProxyServer(t.proxyServer,!0),t.turnServer&&this.setTurnServer(t.turnServer,!0),gR.info("[".concat(this._clientId,"] Initializing AgoraRTC client v").concat(WI," build: ").concat(KI,", mode: ").concat(this.mode,", codec: ").concat(this.codec)),t.clientRoleOptions)try{KC(t.clientRoleOptions),e=Object.assign({},t.clientRoleOptions)}catch(t){gR.warning("[".concat(this._clientId,"] ").concat(t.toString()))}this._statsCollector=new kB(this.store),this._statsCollector.onStatsException=(t,e,n)=>{gR.debug("[".concat(this._clientId,"] receive exception msg, code: ").concat(t,", msg: ").concat(e,", uid: ").concat(n)),this.safeEmit(qC.EXCEPTION,{code:t,msg:e,uid:n})},this._statsCollector.onUploadPublishDuration=(t,e,n,i)=>{const r=this._users.find(e=>e.uid===t);r&&CR.peerPublishStatus(this._sessionId,{subscribeElapse:i,audioPublishDuration:e,videoPublishDuration:n,peer:r._uintid})},this.store.useP2P="p2p"===t.mode,this._gateway=new vV(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:t.websocketRetryConfig||NI,httpRetryConfig:t.httpRetryConfig||NI,forceWaitGatewayResponse:void 0===t.forceWaitGatewayResponse||t.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:t.role,clientRoleOptions:e}),this._configDistribute=new nU,this.store.useP2P?(this._p2pChannel=new AB(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new gj(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(t,e,n,i,r){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];XI("JOIN_GATEWAY_USE_443PORT_ONLY",o),XI("JOIN_GATEWAY_USE_DUAL_DOMAIN",s);const a=this._gateway.signal.websocket;return a instanceof GO&&(a.use443PortOnly=o,a.tryDoubleDomain=s),async function(t,e,n){Vw.get(t)||Vw.set(t,[]),Uw.get(t)||Uw.set(t,e),Bw.get(t)||Bw.set(t,0);const i=Vw.get(t),r=Uw.get(t);if(!i||!r)throw new Error("concurrent: deferQueue or maxConcurrency is null");if(Bw.get(t)===r){const t=Mw();i.push(t),await t.promise}Bw.set(t,Bw.get(t)+1);for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];const c=await n(...s);return Bw.set(t,Bw.get(t)-1),Bw.get(t)===r-1&&i.length>0&&(i[0].resolve(),i.shift()),0===Bw.get(t)&&(Vw.set(t,[]),Uw.set(t,0),Bw.set(t,0)),c}("client.join",JI("JOIN_MAX_CONCURRENCY"),this.join.bind(this),t,e,n,i,r)}async join(t,e,n,i,r){const o=++this._numberOfJoinCount;this.store.joinStart(),i&&(this.store.uid=i);const s="HTTPS"===(VI||VI||(VI=(window.location.protocol.split(":")[0]||"").toUpperCase(),VI)),a=HI()?window.isSecureContext:"Browser Not Support";if(!HI()&&!s||!window.isSecureContext){const t="The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser";gR.warning(t)}"DISCONNECTED"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),gR.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart))),CR.setAppId(t);try{if(!n&&null!==n)throw new IR(SC.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&AC(n,"token",1,2047),AC(t,"appid",1,2047),UA(e),i&&BA(i),r&&AC(r,"optionalInfo",1,2047)}catch(r){throw CR.reportApiInvoke(EI(),{name:FC.JOIN,options:[t,e,n,i],states:{isHttps:s,isSecureContext:a},tag:HC.TRACER}).onError(r),r}if(this._leaveMutex.isLocked&&(gR.debug("[".concat(this._clientId,"] join: waiting leave operation")),(await this._leaveMutex.lock())(),gR.debug("[".concat(this._clientId,"] join: continue"))),this._joinAndNotLeaveYet=!0,"DISCONNECTED"!==this.connectionState){const r=new IR(SC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state"));throw CR.reportApiInvoke(EI(),{name:FC.JOIN,options:[t,e,n,i],states:{isHttps:s,isSecureContext:a},tag:HC.TRACER}).onError(r),r}this._gateway.state="CONNECTING";const c=await Yj({appId:t,cname:e,uid:i,stringUid:"string"==typeof i?i:void 0,token:n||t,cloudProxyServer:this._cloudProxyServerMode});if(!this._joinAndNotLeaveYet)throw new IR(SC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));const l=(null==c?void 0:c.sid)||EI();gR.info("[".concat(this._clientId,"] start join channel ").concat(e,", join number: ").concat(o)),this._sessionId||(this._sessionId=l,this.store.sessionId=this._sessionId);const u=CR.reportApiInvoke(l,{name:FC.JOIN,options:[t,e,n,i],states:{isHttps:s,isSecureContext:a},tag:HC.TRACER}),d=wH(wH(wH({},this._rtmConfig),{},{clientId:this._clientId,appId:t,sid:this._sessionId,cname:e,uid:"string"!=typeof i?i:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:n||t,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:r,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint,preload:!!c},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType}),{},{apRequestDetail:JI("AP_REQUEST_DETAIL")||void 0});if(this._useLocalAccessPoint&&(d.setLocalAPVersion=this._setLocalAPVersion),"string"==typeof i&&(d.stringUid=i,this._uintUid?(d.uid=this._uintUid,this._uintUid=void 0):d.uid=0),"none"!==this._encryptionMode&&this._encryptionSecret){if(d.aesmode=this._encryptionMode,d.aespassword=await(async t=>{const e=function(t){const e=window.atob("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),n=new Uint8Array(new ArrayBuffer(e.length));for(let i=0;i<e.length;i+=1)n[i]=e.charCodeAt(i);return n}(),n=await window.crypto.subtle.importKey("spki",e,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),i=LC(t),r=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,i);return function(t){let e="";for(let n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return window.btoa(e)}(new Uint8Array(r))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new IR(SC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this._encryptionSalt&&(d.aessalt=this._encryptionSalt)}if(this._encryptDataStream&&("aes-128-gcm2"===this._encryptionMode||"aes-256-gcm2"===this._encryptionMode))if(this._encryptionSalt&&this._encryptionSecret)if(window.crypto.subtle){const t=new TextEncoder,e=JI("USE_PURE_ENCRYPTION_MASTER_KEY")?t.encode(d.appId+this._encryptionSecret+this._encryptionSecret):t.encode(d.appId+d.cname+this._encryptionSecret);this._encryptDataStreamIv=await async function(t,e,n){const i=await window.crypto.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits","deriveKey"]),r="aes-128-gcm2"===t?128:256,o=await window.crypto.subtle.deriveBits({name:"PBKDF2",iterations:rR,hash:"SHA-256",salt:n},i,r+iR);return new Uint8Array(o).subarray(r/8)}(this._encryptionMode,e,dI(this._encryptionSalt)),this._encryptDataStreamKey=await async function(t,e,n){const i=await window.crypto.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits","deriveKey"]),r="aes-128-gcm2"===t?128:256;return await window.crypto.subtle.deriveKey({name:"PBKDF2",iterations:rR,hash:"SHA-256",salt:n},i,{name:"AES-GCM",length:r},!0,["encrypt","decrypt"])}(this._encryptionMode,e,dI(this._encryptionSalt))}else a?gR.warning("[".concat(this._clientId,"] encrypt datastream must be running in a secure context, fallback to plain data stream")):gR.warning("[".concat(this._clientId,"] current browser do not support WebCrypto ,fallback to plain data stream")),this._encryptDataStream=!1;else this._encryptDataStream=!1,gR.debug("[".concat(this._clientId,"] no salt / secret, cannot support encrypt data stream, fallback to plain data stream"));this._startSession(this._sessionId,{channel:e,appId:t,stringUid:d.stringUid});const h=this._sessionId;setTimeout(()=>{"CONNECTING"===this.connectionState&&h===this._sessionId&&CR.joinChannelTimeout(this._sessionId,5)},5e3);try{var p;let i;const r=d.cloudProxyServer;if(Pi(p=["proxy3","proxy4","proxy5"]).call(p,r)){const t=JI("PROXY_SERVER_TYPE3");Array.isArray(t)?d.proxyServer=t[0]:d.proxyServer=t}if(CR.setProxyServer(d.proxyServer),gR.setProxyServer(d.proxyServer),this.store.requestAPStart(),c){if(gR.debug("[".concat(this._clientId,"] get serverInfo Success from Preload Cache ").concat(d.stringUid?", ".concat(d.stringUid," => ").concat(c.intUid):""," ")),d.stringUid&&!d.uid&&(d.uid=c.intUid),i={gatewayInfo:c.ap.gatewayInfo},JI("JOIN_WITH_FALLBACK_MEDIA_PROXY")&&"auto"===d.turnServer.mode)if(0===c.ap.proxyInfo.addresses.length)gR.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers");else{const t=(await nx(c.ap.proxyInfo,c.ap.gatewayInfo.uid)).map(t=>({turnServerURL:t.address,tcpport:t.tcpport||zI.tcpport,udpport:t.udpport||zI.udpport,username:t.username||zI.username,password:t.password||zI.password,forceturn:!1,security:!0}));d.turnServer={mode:"manual",servers:t}}Jj(c,d.stringUid)}else{if(d.stringUid&&!d.uid){let t;[t,i]=await $h.all([YV(d.stringUid,d,this._axiosCancelSource.token,this._config.httpRetryConfig||NI,this.store),zV(d,this._axiosCancelSource.token,this._config.httpRetryConfig||NI,!0,this.store)]),gR.debug("[".concat(this._clientId,"] getUserAccount Success ").concat(d.stringUid," => ").concat(t)),d.uid=t,i.gatewayInfo.uid=t,i.gatewayInfo.res.uid=t}else i=await zV(d,this._axiosCancelSource.token,this._config.httpRetryConfig||NI,!0,this.store);if(!this._joinAndNotLeaveYet)throw new IR(SC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"))}this.store.requestAPEnd(),setTimeout(()=>{this._configDistribute.startGetConfigDistribute(d,this._axiosCancelSource.token),this._configDistribute.on(aO.UPDATE_BITRATE_LIMIT,t=>{this._p2pChannel.updateBitrateLimit(t)})},0),this._key=n||t;const o=i.gatewayInfo,s=d.uid?d.uid:o.uid;this._joinInfo=wH(wH({},d),{},{cid:o.cid,uid:s,vid:o.vid,apResponse:o.res,apGatewayAddress:o.apGatewayAddress,uni_lbs_ip:o.uni_lbs_ip,gatewayAddrs:o.gatewayAddrs}),this.store.intUid=s;const a=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new IR(SC.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));u.onSuccess(a),this._appId=t,this._channelName=d.cname,this._uid=a,this.store.uid=a,setTimeout(()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(Jw()?"beforeunload":"pagehide",this._handleBeforeUnload),this._statsCollector.startUpdateStats()},0);const l=d.stringUid?"string uid: ".concat(d.stringUid,",uid: ").concat(d.uid):"uid: ".concat(this._uid);return gR.info("[".concat(this._clientId,"] Joining channel success: channel: ").concat(e,",").concat(l)),setTimeout(()=>{gR.startUpload()},5e3),this.store.joinEnd(),f=this,Pi(OR).call(OR,f)||OR.push(f),"disabled"===this._cloudProxyServerMode&&Qk().supportWebCrypto&&JI("ENABLE_PRELOAD")&&qj(this._joinInfo),a}catch(t){const e=Array.isArray(t)?t[0]:t;throw e&&e.code===SC.OPERATION_ABORTED?gR.warning("[".concat(this._clientId,"] join number: ").concat(o,", Joining channel failed, rollback"),e):gR.error("[".concat(this._clientId,"] join number: ").concat(o,", Joining channel failed, rollback"),e),e.code!==SC.OPERATION_ABORTED&&this._numberOfJoinCount===o&&(this._gateway.state="DISCONNECTED",this._reset()),u.onError(e),e}var f}_joinGateway(){if(!this._joinInfo||!this._key)throw new IR(SC.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!("disabled"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!JI("JOIN_WITH_FALLBACK_SIGNAL_PROXY")))}async leave(){gR.info("[".concat(this._clientId,"] Leaving channel")),window.removeEventListener(Jw()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(t){const e=OR.indexOf(t);-1!==e&&OR.splice(e,1)}(this),this._statsCollector.stopUpdateStats();const t=await this._leaveMutex.lock();if("DISCONNECTED"===this.connectionState)return gR.info("[".concat(this._clientId,"] Leaving channel repeated, success")),void t();await this._gateway.leave("CONNECTED"!==this.connectionState),gR.info("[".concat(this._clientId,"] Leaving channel success")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),t()}async publish(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Array.isArray(t)){if(!(t instanceof $N))return this._publishDataChannel(t);t=[t]}if(0===t.length)throw new IR(SC.INVALID_PARAMS,"param list is empty");const n=t;if("audience"===this._gateway.role)throw new IR(SC.INVALID_OPERATION,"audience can not publish stream");for(const r of n){if(!(r instanceof $N))throw new IR(SC.INVALID_PARAMS,"parameter is not local track");if(!r._enabled&&e)throw new IR(SC.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(r.getTrackId()))}gR.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(n.map(t=>"".concat(t.getTrackId()," "))));const i=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),e&&n.forEach(t=>{const e=this._configDistribute.getBitrateLimit();t instanceof cM&&e&&t.setBitrateLimit(e.uplink)});try{await this._publishHighStream(n),gR.info("[".concat(this._clientId,"] Publish success, id ").concat(n.map(t=>"".concat(t.getTrackId()," "))))}catch(t){throw gR.error("[".concat(this._clientId,"] publish error"),t.toString()),t}finally{i()}}async _publishDataChannel(t){IC(t.id,"id",0,65535,!0),wC(t.ordered,"ordered"),AC(t.metadata,"metadata",0,512),gR.info("[".concat(this._clientId,"] Publishing datachannels, id ").concat(t.id));const e=await this._publishMutex.lock();try{if(-1!==this._p2pChannel.getAllDataChannels().findIndex(e=>e.id===t.id))throw new IR(SC.INVALID_PARAMS,"Invalid id: ".concat(t.id,". If you want to republish the datachannel, unpublish first"));if(!this._joinInfo||void 0===this._uid)throw new IR(SC.INVALID_OPERATION,"Can't publish datachannel, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"can not publish datachannel in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&JI("FORCE_TURN")&&!JI("TURN_ENABLE_TCP")&&!JI("TURN_ENABLE_UDP"))throw new IR(SC.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");const n=function(t){return Sj(t,!1)}(t),i=await this._p2pChannel.publishDataChannel([n]);if(i.length>0){if("number"!=typeof n._originDataChannelId)throw gR.error("[".concat(this._clientId,"] can not publish with mediaType datachannel, cannot get RTCDatachannel id")),new IR(SC.CREATE_DATACHANNEL_ERROR);try{await $h.all(i.map(t=>this._uid&&this._gateway.publishDataChannel(this._uid,t,!0))),await n._waitTillOpen()}catch(t){if(t.code!==SC.DISCONNECT_P2P)throw t}}return gR.info("[".concat(this._clientId,"] Publish dataChannels success, id ").concat(n.id)),n}catch(t){throw gR.error("[".concat(this._clientId,"] publish datachannels error"),t.toString()),t}finally{e()}}async unpublish(t){if(!this._joinInfo||void 0===this._uid)throw new IR(SC.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");let e=[];if(t)if(Array.isArray(t))e=t;else{if(!(t instanceof $N))return this._unpublishDataChannel([t]);e=[t]}else this.store.useP2P||await this._unpublishDataChannel(),e=this._p2pChannel.getAllTracks(!0);gR.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(e.map(t=>"".concat(t.getTrackId()," "))," "));const n=await this._publishMutex.lock();try{if(this._p2pChannel instanceof AB){const t=await this._p2pChannel.unpublish(e);t&&await this._gateway.sendExtensionMessage(wO.UNPUBLISH,{unpubMsg:t},!0)}else{const t=await this._p2pChannel.unpublish(e);t&&await this._gateway.unpublish(t,this._uid),gR.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(e.map(t=>"".concat(t.getTrackId()))))}}catch(t){throw gR.error("[".concat(this._clientId,"] unpublish error"),t.toString()),t}finally{n&&n()}}async _unpublishDataChannel(t){void 0!==t&&0!==t.length||(t=this._p2pChannel.getAllDataChannels()),gR.info("[".concat(this._clientId,"] Unpublish datachannels, datachannels ").concat(t.map(t=>"".concat(t.id," "))," "));const e=await this._publishMutex.lock();try{const n=await this._p2pChannel.unpublishDataChannel(t);n&&await this._gateway.unpublishDataChannel(n),gR.info("[".concat(this._clientId,"] Unpublish dataChannel success,dataChannel ").concat(t.map(t=>"".concat(t.id))))}catch(t){throw gR.error("[".concat(this._clientId,"] unpublish dataChannel error"),t.toString()),t}finally{e&&e()}}async subscribe(t,e,n){if(!(t instanceof lB)){const e=this.remoteUsers.find(e=>e.uid===t);if(!e)throw new IR(SC.INVALID_REMOTE_USER,"user is not in the channel");t=e}return"datachannel"===e?this._subscribeDataChannel(t,n):this._subscribe(t,e)}async presubscribe(t,e){if(CC(e,"mediaType",["audio","video"]),this._p2pChannel instanceof AB)throw new IR(SC.INVALID_OPERATION,"can't presub at p2p mode");if(!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"can't presub when not join");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"can't presub in ".concat(this.connectionState," state"));const n=e===uO.AUDIO,i=e===uO.VIDEO,r=await this._subscribeMutex.lock();try{const{ssrcId:o,ortc:s,rtxSsrcId:a,cname:c,uint_id:l}=await this._gateway.presubscribe(t,e,!0);if(null==o)throw new IR(SC.UNEXPECTED_RESPONSE,"no ssrc id");let u=this._users.find(e=>e.uid===t);u||(u=new lB(t,l||t),u._is_pre_created=!0,this._users.push(u)),c&&(u._cname=c),u._uintid||(u._uintid=l||t),n&&(u._audioSSRC=o,u._audio_pre_subscribed=!0,s&&(u._audioOrtc=s)),i&&(u._videoSSRC=o,u._video_pre_subscribed=!0,s&&(u._videoOrtc=s),null!=a&&(u._rtxSsrcId=a)),gR.info("[".concat(this._clientId,"] presub succeed ssrc: ").concat(o)),await this._p2pChannel.subscribe(u,e,o,a,s);const d=n?u._audioTrack:u._videoTrack;if(!d)throw new IR(SC.UNEXPECTED_ERROR,"can not find remote track in user");return n&&(u._trust_audio_stream_added_state_=!0,u._audio_added_=!0),i&&(u._trust_video_stream_added_state_=!0,u._video_added_=!0),d}catch(e){throw gR.error("[".concat(this._clientId,"] presub user ").concat(t," error"),e),e}finally{r()}}async _subscribeDataChannel(t,e){var n;if(IC(e,"channelId",0,65535,!0),!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"Can't subscribe datachannel, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"Can't subscribe datachannel in ".concat(this.connectionState," state"));const i=this._users.find(e=>e===t);if(!i)throw gR.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", this user is not in the channel")),new IR(SC.INVALID_REMOTE_USER,"user is not in the channel");if(!t.hasAudio&&!t.hasVideo&&0===t._dataChannels.length)throw gR.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", user is not published")),new IR(SC.INVALID_REMOTE_USER,"user is not published");const r=null===(n=t._dataChannels)||void 0===n?void 0:n.find(t=>t.id===e);if(!r)throw gR.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType datachannel, remote datachannel is not published")),new IR(SC.REMOTE_USER_IS_NOT_PUBLISHED);const o=await this._subscribeMutex.lock();gR.info("[".concat(this._clientId,"] subscribe user ").concat(t.uid,", mediaType: datachannel"));try{const n=await this._p2pChannel.subscribeDataChannel(t,[r]);if(n&&Pi(n).call(n,r.id))try{var s;if("number"!=typeof r._originDataChannelId)throw gR.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType datachannel, cannot get RTCDatachannel")),new IR(SC.CREATE_DATACHANNEL_ERROR);const e={id:r.id,datachannelId:r._originDataChannelId,ordered:r.ordered,maxRetransmits:r.maxRetransmits,metadata:null!==(s=r.metadata)&&void 0!==s?s:""};await this._gateway.subscribeDataChannel(t.uid,e,!0),await r._waitTillOpen()}catch(e){if((null==e?void 0:e.code)!==SC.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(t,[r]),e;await this._p2pChannel.unsubscribeDataChannel(t,[r]),this._p2pChannel.setPendingRemoteDataChannel(t,r.id)}return gR.info("[".concat(this._clientId,"] subscribe success user ").concat(t.uid,", mediaType: datachannel")),r}finally{o()}}async _p2pSubscribe(t,e,n){if(CC(e,"mediaType",["audio","video"]),!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const i=this._users.find(e=>e===t);if(!i){const e=new IR(SC.INVALID_REMOTE_USER,"user is not in the channel");throw gR.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", this user is not in the channel")),e}if(!t.hasAudio&&!t.hasVideo){const e=new IR(SC.INVALID_REMOTE_USER,"user is not published");throw gR.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", user is not published")),e}if(!n&&("audio"===e&&!t.hasAudio||"video"===e&&!t.hasVideo)){const n=new IR(SC.REMOTE_USER_IS_NOT_PUBLISHED);throw gR.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType ").concat(e,", remote track is not published")),n}const r=await this._subscribeMutex.lock();gR.info("[".concat(this._clientId,"] subscribe user ").concat(t.uid,", mediaType: ").concat(e));try{if(await this._p2pChannel.hasRemoteMediaWithLock(t,e))await this._p2pChannel.unmuteRemote(t,e);else try{const n="audio"===e?t._audioSSRC:t._videoSSRC,i="audio"===e?t._audioMid:t._videoMid;this.store.subscribe(t.uid,e,Date.now()),this._p2pChannel instanceof AB&&await this._p2pChannel.subscribe(t,e,n,i)}catch(t){throw t}gR.info("[".concat(this._clientId,"] subscribe success user ").concat(t.uid,", mediaType: ").concat(e)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(t.uid,this._defaultStreamFallbackType).catch(t=>{gR.warning("[".concat(this._clientId,"] auto set fallback failed"),t)});const n="audio"===e?t._audioTrack:t._videoTrack;if(!n)throw new IR(SC.UNEXPECTED_ERROR,"can not find remote track in user object");return n}catch(e){throw gR.error("[".concat(this._clientId,"] subscribe user ").concat(t.uid," error"),e),e}finally{r()}}async _subscribe(t,e,n){if(this._p2pChannel instanceof AB)return this._p2pSubscribe(t,e);if(CC(e,"mediaType",["audio","video"]),!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const i=this._users.find(e=>e===t);if(!i){const e=new IR(SC.INVALID_REMOTE_USER,"user is not in the channel");throw gR.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", this user is not in the channel")),e}if(!t.hasAudio&&!t.hasVideo){const e=new IR(SC.INVALID_REMOTE_USER,"user is not published");throw gR.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid,", user is not published")),e}if(!(n||("audio"!==e||t.hasAudio&&void 0!==t._audioSSRC)&&("video"!==e||t.hasVideo&&void 0!==t._videoSSRC))){const n=new IR(SC.REMOTE_USER_IS_NOT_PUBLISHED);throw gR.error("[".concat(this._clientId,"] can not subscribe ").concat(t.uid," with mediaType ").concat(e,", remote track is not published")),n}let r="audio"===e?t._audioSSRC:t._videoSSRC,o="audio"===e?t._audioOrtc:t._videoOrtc,s="video"===e?t._rtxSsrcId:void 0,a={stream_type:"audio"===e?uO.AUDIO:uO.VIDEO,ssrcId:r};const c=await this._subscribeMutex.lock();gR.info("[".concat(this._clientId,"] subscribe user ").concat(t.uid,", mediaType: ").concat(e));try{if(await this._p2pChannel.hasRemoteMediaWithLock(t,e))await this._p2pChannel.unmuteRemote(t,e);else try{const i="audio"===e?t._audioSSRC:t._videoSSRC;void 0!==i&&i!==r&&(r=i,o="audio"===e?t._audioOrtc:t._videoOrtc,s="video"===e?t._rtxSsrcId:void 0,a={stream_type:"audio"===e?uO.AUDIO:uO.VIDEO,ssrcId:r}),oU.markSubscribeStart(this.store.clientId,r),this.store.subscribe(t.uid,e,Date.now()),await this._p2pChannel.subscribe(t,e,r,s,o);try{this._p2pChannel.isPreSubScribe(r)||await this._gateway.subscribe(t.uid,a,!0)}catch(n){if((null==n?void 0:n.code)!==SC.WS_ABORT)throw await this._p2pChannel.unsubscribe(t,e),n;await this._p2pChannel.unsubscribe(t,e,!0),this._p2pChannel.setPendingRemoteMedia(t,e)}this.store.subscribe(t.uid,e,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,t,e)}catch(n){throw this._p2pChannel.reportSubscribeEvent(!1,null==n?void 0:n.code,t,e),n}gR.info("[".concat(this._clientId,"] subscribe success user ").concat(t.uid,", mediaType: ").concat(e)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(t.uid,this._defaultStreamFallbackType).catch(t=>{gR.warning("[".concat(this._clientId,"] auto set fallback failed"),t)});const i="audio"===e?t._audioTrack:t._videoTrack;if(!i)throw new IR(SC.UNEXPECTED_ERROR,"can not find remote track in user object");return i}catch(e){throw gR.error("[".concat(this._clientId,"] subscribe user ").concat(t.uid," error"),e),e}finally{c()}}async massSubscribe(t){if(OC(t,"subscribeList"),!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const e=Date.now(),n=new Map,i=await this._subscribeMutex.lock();gR.info("[".concat(this._clientId,"]start massSubscribe user ").concat(t.map(t=>{let{user:e,mediaType:n}=t;return"user: ".concat(null==e?void 0:e.uid,", mediaType: ").concat(n)}).join("; ")));const r=(t=[...t]).map(t=>{let{user:e,mediaType:n}=t;return{user:e,mediaType:n}}),o=await this._p2pChannel.globalLock();try{var s;for(let e=t.length-1;e>=0;e--){const i=t[e],{user:o,mediaType:s}=i;if(CC(s,"mediaType",["audio","video"]),!o){const t=new IR(SC.INVALID_PARAMS,"user property does not exist in subscribeList item");throw gR.error("[".concat(this._clientId,"] user property does not exist in subscribeList item")),t}const a=this._users.find(t=>t===o);if(!a){const n=new IR(SC.INVALID_REMOTE_USER,"user is not in the channel");gR.error("[".concat(this._clientId,"] can not massSubscribe ").concat(o.uid,", this user is not in the channel")),r[e].error=n,t.splice(e,1);continue}if("audio"===s&&(!o.hasAudio||void 0===o._audioSSRC)||"video"===s&&(!o.hasVideo||void 0===o._videoSSRC)){const n=new IR(SC.REMOTE_USER_IS_NOT_PUBLISHED);gR.error("[".concat(this._clientId,"] can not subscribe ").concat(o.uid," with mediaType ").concat(s,", remote user is not published")),r[e].error=n,t.splice(e,1);continue}const c=nO.Video|nO.LwoVideo,l=n.get(o);if(l){if("video"===s?l&c:l&nO.Audio){t.splice(e,1),gR.warning("[".concat(this._clientId,"] repeat massSubscribe user:").concat(o.uid,", mediaType:").concat(s," twice"));continue}n.set(o,l|("video"===s?c:nO.Audio))}else n.set(o,"video"===s?c:nO.Audio)}for(let e=t.length-1;e>=0;e--){const i=t[e],{user:r,mediaType:o}=i,s=nO.Video|nO.LwoVideo;if(this._p2pChannel.hasRemoteMedia(r,o)){await this._p2pChannel.unmuteRemoteNoLock(r,o);const i=n.get(r);n.set(r,"video"===o?i^s:i^nO.Audio),t.splice(e,1)}}this.store.massSubscribe(t.map(t=>({userId:t.user.uid,type:t.mediaType})),e);let a=Zi(s=Array.from(n.entries())).call(s,(t,e)=>{let[n,i]=e;if(0===i)return t;const r={stream_id:n.uid,stream_type:i};return i&nO.Audio&&(r.audio_ssrc=n._audioSSRC),i&nO.Video&&(r.video_ssrc=n._videoSSRC),t.push(r),t},[]);try{t.length>0&&await this._p2pChannel.massSubscribeNoLock(t.map(t=>{let{user:e,mediaType:n}=t;return{user:e,mediaType:n,ssrcId:n===uO.VIDEO?e._videoSSRC:e._audioSSRC,rtxSsrcId:n===uO.VIDEO?e._rtxSsrcId:void 0}}));const n=new Map;if(a=a.filter(t=>t.video_ssrc&&!this._p2pChannel.isPreSubScribe(t.video_ssrc)||t.audio_ssrc&&!this._p2pChannel.isPreSubScribe(t.audio_ssrc)||!t.video_ssrc&&!t.audio_ssrc),a.length>0){const t=await this._gateway.subscribeAll(a,!0);((null==t?void 0:t.users)||[]).forEach(t=>{let{stream_id:e,video_error_code:i,audio_error_code:r,error_code:o}=t;(i||r||o)&&n.set(e,{video_error_code:i,audio_error_code:r,error_code:o})})}if(Array.from(n.entries()).length>0){const t=[];Array.from(n.entries()).forEach(e=>{let[n,i]=e;const r=this.remoteUsers.find(t=>t.uid===n);if(r){let e;i.error_code||i.video_error_code&&i.audio_error_code?e=void 0:i.video_error_code?e=uO.VIDEO:i.audio_error_code&&(e=uO.AUDIO),t.push({user:r,mediaType:e})}}),t.length>0&&await this._p2pChannel.massUnsubscribeNoLock(t)}for(const t of r){const e=n.get(t.user.uid);if(e){const n=e.error_code||"audio"===t.mediaType&&e.audio_error_code||"video"===t.mediaType&&e.video_error_code;if(n){const e=DO(n);gR.error("user:".concat(t.user.uid," mediaType:").concat(t.mediaType," has massSubscribe error ").concat(e.desc)),t.error=new IR(SC.SUBSCRIBE_FAILED,"code ".concat(n,": ").concat(e.desc))}}t.error||("video"===t.mediaType?t.track=t.user.videoTrack:t.track=t.user.audioTrack)}return this.store.massSubscribe(r.filter(t=>!t.error).map(t=>({userId:t.user.uid,type:t.mediaType})),void 0,Date.now()),r.forEach(t=>{var n;CR.subscribe(this.store.sessionId,{succ:!!t.error,ec:(null===(n=t.error)||void 0===n?void 0:n.code)||null,video:t.mediaType===uO.VIDEO,audio:t.mediaType===uO.AUDIO,peerid:t.user.uid,subscribeRequestid:t.mediaType===uO.VIDEO?t.user._videoSSRC:t.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-e),preSsrc:this._p2pChannel.isPreSubScribe(t.user._videoSSRC)},!0)}),gR.info("[".concat(this._clientId,"] massSubscribe success ").concat(t.map(t=>{let{user:e,mediaType:n}=t;return"user: ".concat(null==e?void 0:e.uid,", mediaType: ").concat(n)}).join("; "))),r}catch(e){throw await this._p2pChannel.massUnsubscribeNoLock(t),e}}finally{o(),i()}}async unsubscribe(t,e,n){if(!(t instanceof lB)){const e=this.remoteUsers.find(e=>e.uid===t);if(!e)throw new IR(SC.INVALID_REMOTE_USER,"user is not in the channel");t=e}if(e||this.store.useP2P){if("datachannel"===e)return this._unsubscribeDataChannel(t,n)}else await this._unsubscribeDataChannel(t,n);if(e&&CC(e,"mediaType",["audio","video"]),!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");const i=this._users.find(e=>e===t);if(!i){const e=new IR(SC.INVALID_REMOTE_USER,"user is not in the channel");throw gR.error("[".concat(this._clientId,"] can not unsubscribe ").concat(t.uid,", user is not in the channel")),e}gR.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(t.uid,", mediaType: ").concat(e));const r=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof AB)await this._p2pChannel.unsubscribe(t,e);else{const n=await this._p2pChannel.unsubscribe(t,e);n&&await this._gateway.unsubscribe(n,t.uid),e&&"audio"!==e||(t._audio_pre_subscribed=!1),e&&"video"!==e||(t._video_pre_subscribed=!1),t._is_pre_created&&rI(this._users,t),gR.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(t.uid,", mediaType: ").concat(e))}}catch(e){if(e.code===SC.DISCONNECT_P2P)return void gR.warning("disconnecting p2p, abort unsubscribe request.");throw gR.error("[".concat(this._clientId,"] unsubscribe user ").concat(t.uid," error"),e.toString()),e}finally{r()}}async _unsubscribeDataChannel(t,e){if(e&&IC(e,"id",0,65535,!0),!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"Can't unsubscribe datachannel, haven't joined yet!");const n=this._users.find(e=>e===t);if(!n){const e=new IR(SC.INVALID_REMOTE_USER,"user is not in the channel");throw gR.error("[".concat(this._clientId,"] can not unsubscribe ").concat(t.uid,", user is not in the channel")),e}let i;if("number"==typeof e){const n=t._dataChannels.find(t=>t.id===e);n&&(i=[n])}else i=t._dataChannels;if(void 0===i){const n=new IR(SC.REMOTE_USER_IS_NOT_PUBLISHED);throw gR.error("[".concat(this._clientId,"] can not unsubscribe ").concat(t.uid," with channelId ").concat(e,", remote datachannel is not published")),n}gR.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(t.uid,", mediaType: datachannel, ids: ").concat(i.map(t=>t.id)));try{const e=await this._p2pChannel.unsubscribeDataChannel(t,i);e&&await this._gateway.unsubscribeDataChannel(e,t.uid),gR.info("[".concat(this._clientId,"] unsubscribe datachannel success uid: ").concat(t.uid,", mediaType: datachannel, ids: ").concat(e))}catch(e){if(e.code===SC.DISCONNECT_P2P)return void gR.warning("disconnecting p2p, abort unsubscribe request.");throw gR.error("[".concat(this._clientId,"] unsubscribe user ").concat(t.uid," error"),e.toString()),e}}async massUnsubscribe(t){if(OC(t,"unsubscribeList"),!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");gR.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(t.map(t=>{let{user:e,mediaType:n}=t;return"user: ".concat(null==e?void 0:e.uid,", mediaType: ").concat(n,";")}).join())),t=[...t];const e=new Map;for(let n=t.length-1;n>=0;n--){const{user:i,mediaType:r}=t[n];if(!i){const t=new IR(SC.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw gR.error("[".concat(this._clientId,"] user property does not exist in unsubscribeList item")),t}CC(r,"mediaType",["video","audio",void 0]);const o=this._users.find(t=>t===i);if(!o){gR.warning("[".concat(this._clientId,"] can not unsubscribe ").concat(i.uid,", user is not in the channel")),t.splice(n,1);continue}const s=nO.Video|nO.LwoVideo;if(e.has(i)){const o=e.get(i);let a;switch(r){case"video":a=o&s;break;case"audio":a=o&nO.Audio;break;default:a=o&(nO.Audio|s)}if(a){gR.warning("[".concat(this._clientId,"] repeat massUnsubscribe user:").concat(i.uid,",mediaType:").concat(r," twice.")),t.splice(n,1);continue}r?"audio"===r?e.set(i,o|nO.Audio):"video"===r&&e.set(i,o|s):e.set(i,o|nO.Audio|s)}else r?"audio"===r?e.set(i,nO.Audio):"video"===r&&e.set(i,s):e.set(i,nO.Audio|s)}try{const e=await this._p2pChannel.massUnsubscribe(t);e&&await this._gateway.massUnsubscribe(e),gR.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(t.map(t=>{let{user:e,mediaType:n}=t;return"user: ".concat(null==e?void 0:e.uid,", mediaType: ").concat(n,";")}).join()))}catch(t){if(t.code===SC.DISCONNECT_P2P)return void gR.warning("[".concat(this._clientId,"] disconnecting p2p, abort unsubscribe request."));throw gR.error("[".concat(this._clientId,"] massUnsubscribe error"),t.toString()),t}}async setLowStreamParameter(t){!function(t){if(!t)throw new TC(SC.INVALID_PARAMS);xC(t.width)||RC(t.width,"streamParameter.width"),xC(t.height)||RC(t.height,"streamParameter.height"),xC(t.framerate)||RC(t.framerate,"streamParameter.framerate"),xC(t.bitrate)||IC(t.bitrate,"streamParameter.bitrate")}(t),(!t.width&&t.height||t.width&&!t.height)&&gR.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),gR.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(t));const e=this._configDistribute.getLowStreamConfigDistribute();if(e&&e.bitrate&&t.bitrate&&e.bitrate<t.bitrate&&(t.bitrate=e.bitrate),this._lowStreamParameter=t,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(t,pO.LocalVideoLowTrack)}async enableDualStream(){if(!Qk().supportDualStream)throw CR.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new IR(SC.NOT_SUPPORTED,"Your browser is not support dual stream");if(this._isDualStreamEnabled)throw new IR(SC.INVALID_OPERATION,"Dual stream is already enabled");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(t){throw CR.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),t}this._isDualStreamEnabled=!0,CR.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),gR.info("[".concat(this._clientId,"] enable dual stream"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this._p2pChannel.getLocalMedia(pO.LocalVideoLowTrack))try{const t=await this._p2pChannel.unpublishLowStream();t&&await this._gateway.unpublish(t,this._joinInfo.stringUid||this._joinInfo.uid)}catch(t){throw CR.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),t}this._isDualStreamEnabled=!1,CR.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),gR.info("[".concat(this._clientId,"] disable dual stream"))}}async setClientRole(t,e){if(function(t){CC(t,"role",["audience","host"])}(t),e&&KC(e),"rtc"===this.mode||"p2p"===this.mode)throw gR.warning("[".concat(this._clientId,"]").concat(this.mode," mode can not use setClientRole")),new IR(SC.INVALID_OPERATION,"".concat(this.mode," mode can not use setClientRole"));if(e&&e.level&&"host"===t)throw new IR(SC.INVALID_OPERATION,"host mode can not set audience latency level");if("audience"===t&&this._p2pChannel.hasLocalMedia())throw new IR(SC.INVALID_OPERATION,"can not set client role to audience when publishing stream");await this._gateway.setClientRole(t,e),this._config.role=t,gR.info("[".concat(this._clientId,"] set client role to ").concat(t,", level: ").concat(e&&e.level))}getRemoteInboundOffset(){var t;const e=null===(t=this._p2pChannel.getStats())||void 0===t?void 0:t.audioSend[0];if(!e||!e.timestamp)return 0;const n=e.timestamp-Date.now();return Math.abs(n)>1e3+e.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?n:0}getNtpWallTimeInMs(){return"visible"===document.visibilityState&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(t,e){if(AC(t,"proxyServer"),!e){if("DISCONNECTED"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"Set proxy server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new IR(SC.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=t,CR.setProxyServer(this._proxyServer),gR.setProxyServer(this._proxyServer),gR.info("[".concat(this._clientId,"] Set proxy server ").concat(e?"by initialize call":""," success."))}setTurnServer(t,e){if(Array.isArray(t)||(t=[t]),!e){if("DISCONNECTED"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"Set turn server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new IR(SC.INVALID_OPERATION,"You have already set the proxy")}if(zC(t))return this._turnServer={servers:t,mode:"original-manual"},void gR.info("[".concat(this._clientId,"] Set original turnserver ").concat(e?"by initialize call":""," success: ").concat(t.map(t=>t.urls).join(","),"."));t.forEach(t=>YC(t)),this._turnServer={servers:t,mode:"manual"},gR.info("[".concat(this._clientId,"] Set turnserver ").concat(e?"by initialize call":""," success."))}setLicense(t){if("DISCONNECTED"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"you should set license before join channel");if(AC(t,"license",32,32),!/^[A-Za-z\d]+$/.test(t))throw new IR(SC.INVALID_PARAMS,"license should only contains characters from A-Z a-z 0-9");this._license=t,gR.info("[".concat(this._clientId,"] set license success"),t)}startProxyServer(t){if("DISCONNECTED"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"Start proxy server before join channel");if(this._proxyServer||"manual"===this._turnServer.mode||this._useLocalAccessPoint)throw new IR(SC.INVALID_OPERATION,"You have already set the proxy");const e=[3,4,5];let n;switch(void 0===t&&(t=3),t){case 1:case 2:throw new IR(SC.NOT_SUPPORTED,"proxy mode 1/2 has been deprecated and not supported.");case 3:n="proxy3";break;case 4:n="proxy4";break;case 5:n="proxy5";break;default:throw new IR(SC.INVALID_PARAMS,"proxy server mode must be ".concat(e.join("|")))}this._cloudProxyServerMode=n,this.store.cloudProxyServerMode=n,gR.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode)}stopProxyServer(){if("DISCONNECTED"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"Stop proxy server after leave channel");CR.setProxyServer(),gR.setProxyServer(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",gR.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]}}setLocalAccessPointsV2(t){if(!t.accessPoints)throw new IR(SC.INVALID_PARAMS,"accessPoints is required.");OC(t.accessPoints.serverList,"accessPoints.serverList"),AC(t.accessPoints.domain,"accessPoints.domain");const e=(t,e)=>{IC(t,e,0,65535,!0)};let n=443;if(t.accessPoints.port&&(e(t.accessPoints.port,"accessPoints.port"),n=t.accessPoints.port),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new IR(SC.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");JI("CLOSE_AFB_FOR_LOCAL_AP")&&(XI("JOIN_WITH_FALLBACK_SIGNAL_PROXY",!1),XI("JOIN_WITH_FALLBACK_MEDIA_PROXY",!1));const i=/^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,r=t.accessPoints.domain,o=t.accessPoints.serverList.map(t=>i.test(t)?"".concat(t.replace(/\./g,"-"),".").concat(r):t),s=o.map(t=>"".concat(t,":").concat(n));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,XI("WEBCS_DOMAIN",s),XI("WEBCS_DOMAIN_BACKUP_LIST",s),XI("GATEWAY_DOMAINS",[r]),t.report&&t.report.hostname&&Array.isArray(t.report.hostname)&&t.report.hostname.length?(OC(t.report.hostname,"report.hostname"),XI("EVENT_REPORT_DOMAIN",t.report.hostname[0]),XI("EVENT_REPORT_BACKUP_DOMAIN",t.report.hostname[1]||t.report.hostname[0])):(XI("EVENT_REPORT_DOMAIN",o[0]),XI("EVENT_REPORT_BACKUP_DOMAIN",o[1]||o[0]));let a=6443;t.report&&t.report.port&&(e(t.report.port,"report.port"),a=t.report.port),XI("STATS_COLLECTOR_PORT",a),t.report?XI("ENABLE_EVENT_REPORT",!0):XI("ENABLE_EVENT_REPORT",!1);let c="";t.log&&t.log.hostname&&Array.isArray(t.log.hostname)&&t.log.hostname.length?(OC(t.log.hostname,"log.hostname"),c=t.log.hostname[0]):c=o[0];let l=6444;t.log&&t.log.port&&(e(t.log.port,"log.port"),l=t.log.port),XI("LOG_UPLOAD_SERVER","".concat(c,":").concat(l));let u=[];t.cds&&t.cds.hostname&&Array.isArray(t.cds.hostname)&&t.cds.hostname.length?(OC(t.cds.hostname,"cds.hostname"),u=t.cds.hostname):u=o;let d=443;t.cds&&t.cds.port&&(e(t.cds.port,"cds.port"),d=t.cds.port),XI("CDS_AP",u.map(t=>"".concat(t,":").concat(d))),t.cds?XI("ENABLE_CONFIG_DISTRIBUTE",!0):XI("ENABLE_CONFIG_DISTRIBUTE",!1),gR.info("set local access point v2 success")}setLocalAccessPoints(t,e){if(OC(t,"serverList"),AC(e,"domain"),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new IR(SC.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");const n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;t=t.map(t=>n.test(t)?"".concat(t.replace(/\./g,"-"),".").concat(e):t),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,XI("WEBCS_DOMAIN",t),XI("WEBCS_DOMAIN_BACKUP_LIST",t),XI("GATEWAY_DOMAINS",[e]),XI("EVENT_REPORT_DOMAIN",t[0]),XI("EVENT_REPORT_BACKUP_DOMAIN",t[1]||t[0]),XI("LOG_UPLOAD_SERVER","".concat(t[0],":6444")),gR.info("[".concat(this._clientId,"] set local access point success"))}async setRemoteDefaultVideoStreamType(t){if(CC(t,"streamType",[0,1,4,5,6,7,8,9]),this._remoteDefaultVideoStreamType=t,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(t),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(t){throw gR.error("[".concat(this._clientId,"] set default remote video stream type error"),t.toString()),t}else gR.debug("[".concat(this._clientId,"] haven't joined yet, cache remoteDefaultVideoStreamType ").concat(t))}async setRemoteVideoStreamType(t,e){CC(e,"streamType",[0,1,4,5,6,7,8,9]);try{await this._gateway.setRemoteVideoStreamType(t,e),setTimeout(()=>{const e=this._users.find(e=>e.uid===t);e&&e.videoTrack&&e.videoTrack.updateMediaStreamTrackResolution()},2e3)}catch(t){throw gR.error("[".concat(this._clientId,"] set remote video stream type error"),t.toString()),t}gR.info("[".concat(this._clientId,"] set remote ").concat(t," video stream type to ").concat(e)),this._remoteStreamTypeCacheMap.set(t,e)}async setStreamFallbackOption(t,e){CC(e,"fallbackType",[0,1,2,3,4,5,6,7,8]);try{await this._gateway.setStreamFallbackOption(t,e)}catch(t){throw gR.error("[".concat(this._clientId,"] set stream fallback option"),t.toString()),t}gR.info("[".concat(this._clientId,"] set remote ").concat(t," stream fallback type to ").concat(e)),this._streamFallbackTypeCacheMap.set(t,e)}setEncryptionConfig(t,e,n,i){!function(t){CC(t,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"])}(t),AC(e,"secret");const r=["aes-128-gcm2","aes-256-gcm2"];if(Pi(r).call(r,t)){if(!n||!(n instanceof Uint8Array&&32===n.length))throw new IR(SC.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(n)throw new IR(SC.INVALID_PARAMS,"current encrypt mode does not need salt");if(i){if(wC(i,"encryptDataStream"),!Pi(r).call(r,t))throw new IR(SC.INVALID_PARAMS,"current encrypt mode does not support data stream");this._encryptDataStream=!0}new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\"|{}\\[\\]])(?=.{8,})").test(e)||gR.warning("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      "),this._encryptionMode=t,this._encryptionSecret=e,n&&(this._encryptionSalt=hI(n))}async renewToken(t){if(AC(t,"token",1,2047),!this._key||!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"renewToken should not be called before user join");const e=this._key;this._key=t,this._joinInfo&&(this._joinInfo.token=t);const n=await this._renewTokenMutex.lock();try{if(JI("USE_NEW_TOKEN")){gR.debug("[".concat(this._clientId,"] start renew token with ticket from unilbs"));const e=await QV(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||NI);gR.debug("[".concat(this._clientId,"] get ticket from unilbs success")),await this._gateway.renewToken({token:t,ticket:e})}else gR.debug("[".concat(this._clientId,"] start renew token without ticket")),await this._gateway.renewToken({token:t});gR.debug("[".concat(this._clientId,"] renewToken success"))}catch(t){throw this._key=e,this._joinInfo.token=e,gR.error("[".concat(this._clientId,"] renewToken failed"),t.toString()),t}finally{n()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?gR.warning("you have already enabled audio volume indicator!"):this._audioVolumeIndicationInterval=window.setInterval(()=>{const t=this._p2pChannel.getAudioLevels();this.safeEmit(qC.VOLUME_INDICATOR,t)},JI("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3)}getRTCStats(){const t=this._statsCollector.getRTCStats(),e=this._gateway.getInChannelInfo();return t.Duration=Math.round(e.duration/1e3),t}async startLiveStreaming(t,e){if(!e){if("h264"!==this.codec)throw new IR(SC.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");if(!this._p2pChannel.hasLocalMedia())throw new IR(SC.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(t)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(t))throw new IR(SC.LIVE_STREAMING_TASK_CONFLICT);const n=e?jA.TRANSCODE:jA.RAW;return this._createLiveStreamingClient(n).startLiveStreamingTask(t,n)}setLiveTranscoding(t){return this._createLiveStreamingClient(jA.TRANSCODE).setTranscodingConfig(t)}async stopLiveStreaming(t){const e=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter(e=>e&&e.hasUrl(t));if(!e.length)throw new IR(SC.INVALID_PARAMS,"can not find live streaming url to stop");await $h.all(e.map(e=>e&&e.stopLiveStreamingTask(t)))}async startChannelMediaRelay(t){PB(t);const e=this._createChannelMediaRelayClient();await e.startChannelMediaRelay(t)}async updateChannelMediaRelay(t){PB(t);const e=this._createChannelMediaRelayClient();await e.updateChannelMediaRelay(t)}async stopChannelMediaRelay(){const t=this._createChannelMediaRelayClient();await t.stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}async sendStreamMessage(t){var e;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"can not send data stream, not joined");if(("string"==typeof t||t instanceof Uint8Array)&&(t={payload:t}),"string"==typeof t.payload){const e=new TextEncoder;t.payload=e.encode(t.payload)}let i=!1;if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Pi(e=["aes-128-gcm2","aes-256-gcm2"]).call(e,this._encryptionMode)&&(i=!0,t.payload=await async function(t,e,n){var i;const r=Zi(i=Array.from(n)).call(i,(t,e)=>t+e,0),o={serverTs:0,seq:sR++,length:n.length,checkSum:r},s=new Uint8Array(II(r,2)),a=new ArrayBuffer(oR),c=new DataView(a);c.setUint32(0,o.serverTs),c.setUint16(4,o.seq),c.setUint16(6,o.length),c.setUint16(8,o.checkSum);const l=16-n.length%16;n=fI(n,new Uint8Array(l));const u=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:t,tagLength:nR,additionalData:s},e,n);return fI(new Uint8Array(a),new Uint8Array(u))}(this._encryptDataStreamIv,this._encryptDataStreamKey,t.payload)),new Blob([t.payload]).size>1024)throw new IR(SC.INVALID_PARAMS,i?"encrypted stream message out of range.":"stream message out of range.");return this._gateway.signal.request(NA.DATA_STREAM,{payload:hI(t.payload),syncWithAudio:t.syncWithAudio,sendTs:Date.now()-Cj},!n)}sendMetadata(t){if(!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([t]).size>1024)throw new IR(SC.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(NA.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:hI(t)})}async sendCustomReportMessage(t){if(Array.isArray(t)||(t=[t]),t.forEach(yR),!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"can not send custom report, not joined");await CR.sendCustomReportMessage(this._joinInfo.sid,t)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(t,e){CC(e.spatialLayer,"spatialLayer",[0,1,2,3]),CC(e.temporalLayer,"temporalLayer",[0,1,2,3]);try{await this._gateway.pickSVCLayer(t,e)}catch(t){throw gR.error("[".concat(this._clientId,"] pick SVC layer failed"),t.toString()),t}}async setRTMConfig(t){const{apRTM:e=!1,rtmFlag:n}=t;if(wC(e,"apRTM"),IC(n,"rtmFlag",0),this._rtmConfig.apRTM=e,this._rtmConfig.rtmFlag=n,gR.debug("[".concat(this._clientId,"] setRTMconfig ").concat(JSON.stringify(t)," in ").concat(this.connectionState," state")),("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState)&&this._joinInfo)return this._joinInfo.apRTM=e,this._joinInfo.rtmFlag=n,this._gateway.setRTM2Flag(n)}_reset(){if(gR.debug("[".concat(this._clientId,"] reset client")),this._axiosCancelSource.cancel(),this._axiosCancelSource=Pw.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo&&Xj(this._joinInfo),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId&&CR.removeSid(this._sessionId),this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach(t=>{t._audioTrack&&t._audioTrack._destroy(),t._videoTrack&&t._videoTrack._destroy(),t._dataChannels&&(t._dataChannels.forEach(t=>t._close()),t._dataChannels.length=0)}),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),"fallback"===this._cloudProxyServerMode&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new DI("client-publish"),this._subscribeMutex=new DI("client-subscribe"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(t){}if(this._moderation)try{this.setImageModeration(!1)}catch(t){}}_startSession(t,e){var n;const i=t||EI();t?gR.debug("[".concat(this._clientId,"] new Session ").concat(i)):gR.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(i));const r=t?"":this._sessionId||"";this._sessionId=i,this.store.sessionId=i,CR.addSid(i);const o={lts:(new Date).getTime(),mode:this.mode,buildFormat:1,stringUid:(null==e?void 0:e.stringUid)||(null===(n=this._joinInfo)||void 0===n?void 0:n.stringUid),channelProfile:"live"===this.mode?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:r,clientRole:"audience"===this.role?2:1};CR.sessionInit(this._sessionId,wH({cname:e.channel,appid:e.appId},o)),this._joinInfo&&(this._joinInfo.sid=i),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=i)}async _publishHighStream(t){if(!this._joinInfo||void 0===this._uid)throw new IR(SC.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&JI("FORCE_TURN")&&!JI("TURN_ENABLE_TCP")&&!JI("TURN_ENABLE_UDP"))throw new IR(SC.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");gR.debug("[".concat(this._clientId,"] publish high stream"));try{const n=await this._p2pChannel.publish(t,this._isDualStreamEnabled,this._lowStreamParameter);if(this._p2pChannel instanceof AB){const e=(await n.next()).value;if(e){try{await this._gateway.sendExtensionMessage(wO.PUBLISH,e,!0)}catch(t){throw n.throw(t),t}await n.next()}this._p2pChannel.reportPublishEvent(!0,null)}else{const i=(await n.next()).value;if(i){var e;let r;try{r=await this._gateway.publish(this._uid,i,!0)}catch(t){if(t.code!==SC.DISCONNECT_P2P)throw n.throw(t),t}await n.next((null===(e=r)||void 0===e?void 0:e.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const e of t)e instanceof cM&&e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig),!e.muted&&e.enabled||await this._p2pChannel.muteLocalTrack(e)}}catch(e){if(this._p2pChannel.reportPublishEvent(!1,null==e?void 0:e.code,t),(null==e?void 0:e.code)===SC.WS_ABORT)return;throw e}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new IR(SC.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));gR.debug("[".concat(this._clientId,"] publish low stream"));const t=this._configDistribute.getLowStreamConfigDistribute();t&&t.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&t.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=t.bitrate));try{const t=await this._p2pChannel.publishLowStream(this._lowStreamParameter),n=(await t.next()).value;if(n){var e;let i;try{i=await this._gateway.publish(this._uid,n,!0)}catch(e){if(e.code!==SC.DISCONNECT_P2P)throw t.throw(e),e}t.next((null===(e=i)||void 0===e?void 0:e.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(t){if(this._p2pChannel.reportPublishEvent(!1,null==t?void 0:t.code,void 0,!0),(null==t?void 0:t.code)===SC.WS_ABORT)return;throw t}}_createLiveStreamingClient(t){const e=()=>{if(!this._joinInfo||!this._appId)return new IR(SC.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();const t=(e={joinInfo:this._joinInfo,appId:this._appId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig},bj("LiveStreaming").create(e));var e;return t.onLiveStreamError=(t,e)=>{CR.reportApiInvoke(this._sessionId,{name:FC.ON_LIVE_STREAM_ERROR,options:[t,e],tag:HC.TRACER}).onSuccess(),this.safeEmit(qC.LIVE_STREAMING_ERROR,t,e)},t.onLiveStreamWarning=(t,e)=>{CR.reportApiInvoke(this._sessionId,{name:FC.ON_LIVE_STREAM_WARNING,options:[t,e],tag:HC.TRACER}).onSuccess(),this.safeEmit(qC.LIVE_STREAMING_WARNING,t,e)},t.on(zA.REQUEST_WORKER_MANAGER_LIST,(t,e,n)=>{if(!this._joinInfo)return n(new IR(SC.INVALID_OPERATION,"can not find join info to get worker manager"));(async function(t,e,n,i){const r=JI("UAP_AP").slice(0,JI("AJAX_REQUEST_CONCURRENT")).map(t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1?action=uap"):"https://".concat(t,"/api/v1?action=uap"));return await kV(r,t,e,n,i)})(t,this._joinInfo,this._axiosCancelSource.token,NI).then(e).catch(n)}),t};return t===jA.RAW?(this._liveRawStreamingClient=this._liveRawStreamingClient||e(),this._liveRawStreamingClient):(this._liveTranscodeStreamingClient=this._liveTranscodeStreamingClient||e(),this._liveTranscodeStreamingClient)}_createChannelMediaRelayClient(){if(!this._joinInfo)return new IR(SC.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw();if(!this._channelMediaRelayClient){const{sendResolutionWidth:e,sendResolutionHeight:n}=this.getLocalVideoStats(),i=(t={joinInfo:this._joinInfo,clientId:this._clientId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig,resolution:{width:e,height:n}},bj("ChannelMediaRelay").create(t));i.on("state",t=>{t===JA.RELAY_STATE_FAILURE&&i&&i.dispose(),this.safeEmit(qC.CHANNEL_MEDIA_RELAY_STATE,t)}),i.on("event",t=>{this.safeEmit(qC.CHANNEL_MEDIA_RELAY_EVENT,t)}),this._channelMediaRelayClient=i,this._statsCollector.onStatsChanged=(t,e)=>{var n;"resolution"===t&&(null===(n=this._channelMediaRelayClient)||void 0===n||n.setVideoProfile(e))}}var t;return this._channelMediaRelayClient}_handleUpdateDataChannel(t,e){const{added:n,deleted:i}=t,r=[];if(e){const t=[];this._users.forEach(e=>{e._dataChannels.forEach(i=>{n.every(t=>t.uid!==e._uintid||t.stream_id!==i.id)&&t.push({uid:e._uintid,stream_id:i.id,ordered:i.ordered,max_retrans_times:i.maxRetransmits,metadata:i.metadata})})}),t.length>0&&this._handleUpdateDataChannel({added:[],deleted:t})}Array.isArray(n)&&n.length>0&&n.forEach(t=>{const{uid:n,stream_id:i,ordered:o,max_retrans_times:s,metadata:a}=t,c=this._users.find(t=>t._uintid===n);if(c){if(gR.debug("[".concat(this._clientId,"] data_channel added with uid ").concat(n)),Pi(r).call(r,c)||r.push(c),c._uintid||(c._uintid=n),-1===c._dataChannels.findIndex(e=>e.id===t.stream_id)){const t={id:i,ordered:!!o,maxRetransmits:s,metadata:a},n=function(t){return Sj(t,!0)}(t);c._dataChannels.push(n),gR.info("[".concat(this._clientId,"] remote user ").concat(c.uid," published datachannel")),e||this.safeEmit(qC.USER_PUBLISHED,c,"datachannel",t)}this._p2pChannel.hasPendingRemoteDataChannel(c,t.stream_id)&&(gR.debug("[".concat(this._clientId,"] resubscribe datachannel for user ").concat(c.uid," after reconnect.")),this._subscribeDataChannel(c,t.stream_id).catch(t=>{gR.error("[".concat(this._clientId,"] resubscribe datachannel error"),t.toString())}))}else gR.error("[".concat(this._clientId,"] can not find target user!(on_add_data_channel)"))}),e&&(this.safeEmit(qC.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(i)&&i.length>0&&i.forEach(t=>{const{uid:e,stream_id:n}=t,i=this._users.find(t=>t._uintid===e);if(!i)return void gR.error("[".concat(this._clientId,"] can not find target user!(on_delete_data_channel)"));const r=i._dataChannels.find(e=>e.id===t.stream_id);r&&(gR.debug("[".concat(this._clientId,"] data_stream delete with uid ").concat(e)),this._p2pChannel.unsubscribeDataChannel(i,[r]).then(t=>{if(i._dataChannels=i._dataChannels.filter(t=>t!==r),t)return this._gateway.unsubscribeDataChannel(t,i.uid)}),gR.info("[".concat(this._clientId,"] remote user ").concat(e," unpublished datachannel ,id:").concat(r.id)),this.safeEmit(qC.USER_UNPUBLISHED,i,"datachannel",r._config))})}_handleRemoveDataChannels(t){const e=this._users.find(e=>e.uid===t.uid);if(e){if(void 0!==e._dataChannels&&e._dataChannels.length>0){gR.debug("[".concat(this._clientId,"] datachannel removed with uid ").concat(t.uid));const n=()=>{gR.info("[".concat(this._clientId,"] remote user ").concat(e.uid," unpublished datachannel")),e._dataChannels.forEach(t=>{this.safeEmit(qC.USER_UNPUBLISHED,e,"datachannel",t._config)})};this._p2pChannel.unsubscribeDataChannel(e,e._dataChannels).then(t=>{if(t)return this._gateway.unsubscribeDataChannel(t,e.uid)}),n()}}else gR.warning("[".concat(this._clientId,"] can not find target user!(on_remove_datachannel)"))}_handleGatewayEvents(){this._gateway.on(tO.DISCONNECT_P2P,async()=>{await this._p2pChannel.disconnectForReconnect()}),this._gateway.on(tO.CONNECTION_STATE_CHANGE,(t,e,n)=>{var i;if(n===$C.FALLBACK)return;const r=()=>{this.safeEmit(qC.CONNECTION_STATE_CHANGE,t,e,n)};if(CR.reportApiInvoke(this._sessionId||(null===(i=this._gateway.joinInfo)||void 0===i?void 0:i.sid)||null,{name:FC.CONNECTION_STATE_CHANGE,options:[t,e,n],tag:HC.TRACER}).onSuccess(JSON.stringify({cur:t,prev:e,reason:n})),gR.info("[".concat(this._clientId,"] connection state change: ").concat(e," -> ").concat(t)),"DISCONNECTED"===t)return this._reset(),void r();if("RECONNECTING"===t)this._users.forEach(t=>{t._trust_in_room_=!1,t._trust_audio_enabled_state_=!1,t._trust_video_enabled_state_=!1,t._trust_audio_mute_state_=!1,t._trust_video_mute_state_=!1,t._trust_audio_stream_added_state_=!1,t._trust_video_stream_added_state_=!1,t._is_pre_created||(t._audio_pre_subscribed||(t._audioSSRC=void 0,t._audioOrtc=void 0),t._video_pre_subscribed||(t._videoSSRC=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0),t._cname=void 0)}),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if("CONNECTED"===t){var o;this._streamFallbackTypeCacheMap.forEach((t,e)=>{this._gateway.setStreamFallbackOption(e,t).catch(t=>{gR.warning("[".concat(this._clientId,"] auto set stream fallback option failed"),t)})}),this._remoteStreamTypeCacheMap.forEach((t,e)=>{this._gateway.setRemoteVideoStreamType(e,t).catch(t=>{gR.warning("[".concat(this._clientId,"] auto set remote stream type failed"),t)})}),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(o=this._joinInfo)||void 0===o?void 0:o.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then(()=>{gR.debug("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))}).catch(t=>{gR.error("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(t))}),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout(()=>{"CONNECTED"===this.connectionState&&(this._userOfflineTimeout=void 0,this._users.filter(t=>!t._trust_in_room_).forEach(t=>{gR.debug("[".concat(this._clientId,"] user offline timeout, emit user offline ").concat(t.uid)),this._handleUserOffline({uid:t.uid})}))},3e3),this._streamRemovedTimeout=window.setTimeout(()=>{"CONNECTED"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach(t=>{t._trust_audio_mute_state_||(gR.debug("[".concat(this._clientId,"] auto dispatch audio unmute event ").concat(t.uid)),this._handleMuteStream(t.uid,uO.AUDIO,!1)),t._trust_video_mute_state_||(gR.debug("[".concat(this._clientId,"] auto dispatch video unmute event ").concat(t.uid)),this._handleMuteStream(t.uid,uO.VIDEO,!1)),t._trust_audio_enabled_state_||(gR.debug("[".concat(this._clientId,"] auto dispatch enable local audio ").concat(t.uid)),this._handleSetStreamLocalEnable("audio",t.uid,!0)),t._trust_video_enabled_state_||(gR.debug("[".concat(this._clientId,"] auto dispatch enable local video ").concat(t.uid)),this._handleSetStreamLocalEnable("video",t.uid,!0)),t._trust_video_stream_added_state_||(gR.debug("[".concat(this._clientId,"] auto dispatch reset video stream added ").concat(t.uid)),this._handleResetAddStream(t,"video")),t._trust_audio_stream_added_state_||(gR.debug("[".concat(this._clientId,"] auto dispatch reset audio stream added ").concat(t.uid)),this._handleResetAddStream(t,"audio")),t._video_added_||t._audio_added_||(gR.debug("[".concat(this._clientId,"] auto dispatch stream remove ").concat(t.uid)),this._handleRemoveStream({uid:t.uid,uint_id:t._uintid}))}))},1e3))}r()}),this._gateway.on(tO.REQUEST_NEW_GATEWAY_LIST,async(t,e)=>{if(!this._joinInfo)return e(new IR(SC.UNEXPECTED_ERROR,"can not recover, no join info"));try{let e;const n=await Yj(wH(wH({},this._joinInfo),{},{uid:this._joinInfo.uid,stringUid:void 0}));n?(e=n.ap,Jj(n),this._joinInfo.preload=!0):(e=await $V(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||NI,this.store),this._joinInfo.preload=!1),this._joinInfo&&(this._joinInfo.apResponse=e.gatewayInfo.res,this._joinInfo.gatewayAddrs=e.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=e.gatewayInfo.uni_lbs_ip);const i=[];e.gatewayInfo.gatewayAddrs.forEach(t=>{let{address:e}=t;const[n,r]=e.split(":");this._joinInfo&&this._joinInfo.proxyServer?i.push({proxy:this._joinInfo.proxyServer,host:n,port:r}):i.push({host:n,port:r})}),t(i)}catch(t){e(t)}}),this._gateway.on(tO.NETWORK_QUALITY,t=>{"normal"===this._networkQualitySensitivity&&this.safeEmit(qC.NETWORK_QUALITY,t)}),this._gateway.on(tO.STREAM_TYPE_CHANGE,(t,e)=>{this.safeEmit(qC.STREAM_TYPE_CHANGED,t,e),CR.reportApiInvoke(this._sessionId,{name:FC.STREAM_TYPE_CHANGE,options:[t,e],tag:HC.TRACER}).onSuccess(JSON.stringify({uid:t,streamType:e}))}),this._gateway.on(tO.IS_P2P_DISCONNECTED,t=>{this._p2pChannel.isP2PDisconnected()?t(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?t(!1):t(!0)}),this._gateway.on(tO.REQUEST_P2P_CONNECTION_PARAMS,async(t,e,n)=>{try{let n=await this._p2pChannel.getEstablishParams();JI("ENABLE_PREALLOC_PC")&&n||(n=await this._p2pChannel.startP2PConnection(t)),e(n)}catch(t){n(t)}}),this._gateway.on(tO.JOIN_RESPONSE,(t,e)=>{if(this.store.useP2P)return;const n=YM(t.ortc,e,t.attributes.userAttributes.preSubSsrcs);this._p2pChannel.connect(n)}),this._gateway.on(tO.PRE_CONNECT_PC,async t=>{const{candidates:e,fingerprint:n}=t;if(this._joinInfo&&e.length>0&&!this._p2pChannel.isPlanB){var i;await this._p2pChannel.startP2PConnection({turnServer:this._joinInfo.turnServer});const{cert:t,cid:r}=this._joinInfo.apResponse;await this._p2pChannel.connect({iceParameters:{iceUfrag:"".concat(r,"_").concat(t),icePwd:"".concat(r,"_").concat(t)},dtlsParameters:{fingerprints:[{hashFunction:"sha-256",fingerprint:null!==(i=JI("FINGERPRINT"))&&void 0!==i?i:n}]},candidates:e,rtpCapabilities:{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},setup:"active",cname:"o/i14u9pJrxRKAsu",preallocation:!0})}})}_handleGatewaySignalEvents(){this._gateway.signal.on(LA.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(LA.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(LA.ON_ADD_AUDIO_STREAM,t=>this._handleAddAudioOrVideoStream("audio",t.uid,t.ssrcId,t.cname,t.uint_id,t.ortc)),this._gateway.signal.on(LA.ON_ADD_VIDEO_STREAM,t=>this._handleAddAudioOrVideoStream("video",t.uid,t.ssrcId,t.cname,t.uint_id,t.ortc,t.rtxSsrcId)),this._gateway.signal.on(LA.ON_REMOTE_DATASTREAM_UPDATE,t=>{this._handleUpdateDataChannel(t)}),this._gateway.signal.on(LA.ON_REMOTE_FULL_DATASTREAM_INFO,t=>{this._handleUpdateDataChannel({added:t.datastreams||[],deleted:[]},!0)}),this._gateway.signal.on(LA.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(LA.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(LA.MUTE_AUDIO,t=>this._handleMuteStream(t.uid,uO.AUDIO,!0)),this._gateway.signal.on(LA.UNMUTE_AUDIO,t=>this._handleMuteStream(t.uid,uO.AUDIO,!1)),this._gateway.signal.on(LA.MUTE_VIDEO,t=>this._handleMuteStream(t.uid,uO.VIDEO,!0)),this._gateway.signal.on(LA.UNMUTE_VIDEO,t=>this._handleMuteStream(t.uid,uO.VIDEO,!1)),this._gateway.signal.on(LA.RECEIVE_METADATA,t=>{const e=dI(t.metadata);this.safeEmit(qC.RECEIVE_METADATA,t.uid,e)}),this._gateway.signal.on(LA.ON_DATA_STREAM,async t=>{var e;if(!t)return;let n=dI(t.payload);if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Pi(e=["aes-128-gcm2","aes-256-gcm2"]).call(e,this._encryptionMode)){if(t.payload.length<oR)throw new IR(SC.UNEXPECTED_RESPONSE,"payload length ".concat(t.payload.length," is less than header length ").concat(oR));const e=await async function(t,e,n){const i=n.subarray(0,oR),r=i.slice(8,oR),o=(r[0]<<8)+r[1],s=(i[6]<<8)+i[7],a=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:t,tagLength:nR,additionalData:new Uint8Array(II(o,2))},e,n.subarray(oR));return new Uint8Array(a).subarray(0,s)}(this._encryptDataStreamIv,this._encryptDataStreamKey,n);n=e}let i=0;if(t.ordered||t.syncWithAudio){const e=this._p2pChannel.getStats(),n=this.remoteUsers.find(e=>e.uid===t.uid),r=null==e?void 0:e.audioRecv.find(t=>t.ssrc===(null==n?void 0:n._audioSSRC));i=null==r?void 0:r.jitterBufferMs}null==i&&(i=0),Dj(wH(wH({},t),{},{payload:n}),i,{id:this._clientId,onStreamMessage:"function"==typeof this.onStreamMessage?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})}),this._gateway.signal.on(LA.ON_CRYPT_ERROR,()=>{uI(()=>{gR.warning("[".concat(this._clientId,"] on crypt error")),this.safeEmit(qC.CRYPT_ERROR)},this._sessionId)}),this._gateway.signal.on(LA.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(LA.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{gR.warning("[".concat(this._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),this._gateway.leave(!0,$C.TOKEN_EXPIRE),this.safeEmit(qC.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()}),this._gateway.signal.on(LA.ON_STREAM_FALLBACK_UPDATE,t=>{gR.debug("[".concat(this._clientId,"] stream fallback peerId: ").concat(t.stream_id,", attr: ").concat(t.stream_type)),this.safeEmit(qC.STREAM_FALLBACK,t.stream_id,1===t.stream_type?"fallback":"recover")}),this._gateway.signal.on(LA.ON_PUBLISH_STREAM,t=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:t.proxy})),gR.info("[".concat(this._clientId,"] on publish stream, ").concat(JSON.stringify(t))))}),this._gateway.signal.on(LA.ENABLE_LOCAL_VIDEO,t=>{this._handleSetStreamLocalEnable("video",t.uid,!0)}),this._gateway.signal.on(LA.DISABLE_LOCAL_VIDEO,t=>{this._handleSetStreamLocalEnable("video",t.uid,!1)}),this._gateway.signal.on(kA.REQUEST_TIMEOUT,(t,e)=>{if(this._joinInfo)switch(t){case NA.PUBLISH:{if(!e)return;const t=e.ortc;if(t){var n,i;const r=t.some(t=>{let{stream_type:e}=t;return e===QA.Audio}),o=t.some(t=>{let{stream_type:e}=t;return e!==QA.Audio}),s=t.some(t=>{let{stream_type:e}=t;return e===QA.Screen||e===QA.ScreenLow});"offer"===e.state&&CR.publish(this._joinInfo.sid,{eventElapse:oU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:SC.TIMEOUT,audio:r,video:o,p2pid:e.p2p_id,publishRequestid:this.store.pubId,screenshare:s,audioName:r?null===(n=t.find(t=>{let{stream_type:e}=t;return e===QA.Audio}))||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId.toString():void 0,videoName:o?null===(i=t.find(t=>{let{stream_type:e}=t;return e!==QA.Audio}))||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId.toString():void 0})}break}case NA.SUBSCRIBE:e&&CR.subscribe(this._joinInfo.sid,{succ:!1,ec:SC.TIMEOUT,audio:e.stream_type===uO.AUDIO,video:e.stream_type===uO.VIDEO,peerid:e.stream_id,subscribeRequestid:e.ssrcId,p2pid:this.store.p2pId,eventElapse:oU.measureFromSubscribeStart(this.store.clientId,e.ssrcId),preSsrc:this._p2pChannel.isPreSubScribe(e.ssrcId)})}}),this._gateway.signal.on(LA.ON_P2P_OK,t=>{this.uid,this._uid}),this._gateway.signal.on(LA.ON_PUBLISHED_USER_LIST,t=>{if(null==t||!t.users)return;JI("BLOCK_LOCAL_CLIENT")&&(t.users=t.users.filter(t=>!xR(t.string_id||t.stream_id,this.channelName)));const e=[],n=[];for(const i of t.users){let t=this._users.find(t=>t._uintid===i.stream_id);t?t._trust_in_room_=!0:(t=new lB(i.string_id||i.stream_id,i.stream_id),this._users.push(t),0===this.getListeners(qC.PUBLISHED_USER_LIST).length&&(gR.debug("[".concat(this._clientId,"] user online"),i.stream_id),this.safeEmit(qC.USER_JOINED,t)));const r=nO.Audio&i.stream_type,o=(nO.Video|nO.LwoVideo)&i.stream_type,s=0!=(65280&i.stream_type),a=r&&t.hasAudio,c=o&&t.hasVideo;o&&(t._trust_video_stream_added_state_=!0,t._video_added_=!0,t._videoSSRC=i.video_ssrc,t._rtxSsrcId=i.video_rtx),r&&(t._trust_audio_stream_added_state_=!0,t._audio_added_=!0,t._audioSSRC=i.audio_ssrc),r&&!a&&0===this.getListeners(qC.PUBLISHED_USER_LIST).length&&(gR.info("[".concat(this._clientId,"] remote user ").concat(t.uid," published audio")),this.safeEmit(qC.USER_PUBLISHED,t,"audio")),o&&!c&&0===this.getListeners(qC.PUBLISHED_USER_LIST).length&&(gR.info("[".concat(this._clientId,"] remote user ").concat(t.uid," published video")),this.safeEmit(qC.USER_PUBLISHED,t,"video")),(r&&!a||o&&!c||s)&&e.push(t),o&&this._p2pChannel.hasPendingRemoteMedia(t,"video")&&n.push({user:t,mediaType:"video"}),r&&this._p2pChannel.hasPendingRemoteMedia(t,"audio")&&n.push({user:t,mediaType:"audio"})}n.length>0&&(gR.debug("[".concat(this._clientId,"] RE massSubscribe after reconnect ").concat(n.map(t=>"user: ".concat(t.user.uid,", mediaType: ").concat(t.mediaType)).join("; ")," ")),this.massSubscribe(n).catch(t=>{gR.error("[".concat(this._clientId,"] mass resubscribe error"),t.toString())})),this.getListeners(qC.PUBLISHED_USER_LIST).length>0?JI("ENABLE_DATASTREAM_2")?this._pendingPublishedUsers=e:(gR.info("[".concat(this._clientId,"] client emit user-list event, users: ").concat(e.map(t=>t.uid).join(", "))),this.safeEmit(qC.PUBLISHED_USER_LIST,e)):gR.info("[".concat(this._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(e.map(t=>t.uid).join(", ")))}),this._gateway.signal.on(LA.ON_RTP_CAPABILITY_CHANGE,t=>{const{video_codec:e}=t;this._p2pChannel instanceof gj&&this._p2pChannel.updateRemoteRTPCapabilities(e.map(t=>t.toLowerCase()).filter(t=>{var e;return Pi(e=Object.keys(eR)).call(e,t)}))})}_handleP2PEvents(){this._gateway.signal.on(LA.ON_USER_OFFLINE,()=>{this._p2pChannel.disconnectForReconnect()}),this._gateway.signal.on(wO.PUBLISH,(t,e,n)=>{const{uid:i}=t;t.forEach(t=>{const{kind:r,ssrcs:o,mid:s,isMuted:a}=t;this._handleP2PAddAudioOrVideoStream(r,i,o[0].ssrcId,s);const c=this._users.find(t=>t.uid===i);return c&&this._p2pChannel instanceof AB?this._p2pChannel.mockSubscribe(c,r,o[0].ssrcId,s).then(()=>{e()}).catch(n):e(),this._handleMuteStream(i,r,!!a)})}),this._gateway.signal.on(wO.CALL,async(t,e,n)=>{if(this._p2pChannel instanceof AB)try{var i;e(await this._p2pChannel.startP2P({turnServer:null===(i=this._joinInfo)||void 0===i?void 0:i.turnServer},t))}catch(t){n(t)}}),this._gateway.signal.on(kA.P2P_CONNECTION,async t=>{this._p2pChannel instanceof AB&&await this._p2pChannel.p2pConnect(t)}),this._gateway.signal.on(wO.UNPUBLISH,async(t,e,n)=>{if(this._p2pChannel instanceof AB){const{unpubMsg:i,uid:r}=t,o=this._users.find(t=>t.uid===r);if(!o)return gR.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(r)),void e();try{i.forEach(async t=>{let{stream_type:e}=t;const n=e===QA.Audio?uO.AUDIO:uO.VIDEO;await this._p2pChannel.unsubscribe(o,n),this._handleMuteStream(r,n,!0)}),e()}catch(t){n(t)}}}),this._gateway.signal.on(wO.CONTROL,async(t,e)=>{const{action:n}=t;switch(n){case IO.MUTE_LOCAL_VIDEO:this._handleMuteStream(e,uO.VIDEO,!0);break;case IO.MUTE_LOCAL_AUDIO:this._handleMuteStream(e,uO.AUDIO,!0);break;case IO.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream("video",e),this._handleMuteStream(e,uO.VIDEO,!1);break;case IO.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream("audio",e),this._handleMuteStream(e,uO.AUDIO,!1)}}),this._gateway.signal.on(wO.RESTART_ICE,async(t,e,n)=>{if(this._p2pChannel instanceof AB)try{const{direction:n,iceParameter:i}=t;n!==MA.SEND_ONLY||i?e(await this._p2pChannel.restartICE(n,i)):(this._p2pChannel.handleDisconnect(n),e())}catch(t){n(t)}}),this._gateway.signal.on(wO.CANDIDATE,t=>{if(this._p2pChannel instanceof AB){const{candidate:e,direction:n}=t;this._p2pChannel.addRemoteCandidate(e,n)}}),this._p2pChannel.on(mO.RequestP2PRestartICE,async(t,e,n)=>{try{const{direction:n}=t;e(await this._gateway.sendExtensionMessage(wO.RESTART_ICE,t,n===MA.SEND_ONLY))}catch(t){n(t)}}),this._p2pChannel.on(mO.LocalCandidate,t=>{this._gateway.sendExtensionMessage(wO.CANDIDATE,JSON.stringify(t),!0)}),this._p2pChannel.on(mO.RequestP2PMuteLocal,async(t,e,n)=>{try{await this._gateway.sendExtensionMessage(wO.CONTROL,t,!0),e()}catch(t){n(t)}}),this._p2pChannel.on(mO.RequestP2PUnmuteRemote,async(t,e,n)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(t,this._joinInfo.stringUid||this._joinInfo.uid),e()}catch(t){t.code===SC.DISCONNECT_P2P?e():n(t)}else e()}),this._p2pChannel.on(mO.RequestP2PMuteRemote,async(t,e,n)=>{if(this._joinInfo)try{await this._gateway.muteRemote(t,this._joinInfo.stringUid||this._joinInfo.uid),e()}catch(t){t.code===SC.DISCONNECT_P2P?e():n(t)}else e()}),this._p2pChannel.on(mO.StateChange,(t,e)=>{e===fO.Connected&&this._p2pChannel.republish()})}_handleP2PChannelEvents(){this._p2pChannel.on(mO.RequestMuteLocal,async(t,e,n)=>{if(this._joinInfo)try{await this._gateway.muteLocal(t,this._joinInfo.stringUid||this._joinInfo.uid),e()}catch(t){t.code===SC.DISCONNECT_P2P?e():n(t)}else e()}),this._p2pChannel.on(mO.RequestUnmuteLocal,async(t,e,n)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(t,this._joinInfo.stringUid||this._joinInfo.uid),e()}catch(t){t.code===SC.DISCONNECT_P2P?e():n(t)}else e()}),this._p2pChannel.on(mO.RequestRePublish,(t,e,n)=>{this.publish(t,!1).then(e).catch(n)}),this._p2pChannel.on(mO.RequestRePublishDataChannel,(t,e,n)=>{$h.all(t.map(async t=>{const e=await this._p2pChannel.publishDataChannel([t]);try{e.forEach(t=>{this._uid&&this._gateway.publishDataChannel(this._uid,t,!0)})}catch(t){if(t.code!==SC.DISCONNECT_P2P)throw t}})).then(e).catch(n)}),this._p2pChannel.on(mO.RequestReSubscribe,async(t,e,n)=>{try{for(const{user:e,kind:n}of t)n===uO.VIDEO?await this.subscribe(e,"video"):await this.subscribe(e,"audio");e()}catch(t){n(t)}}),this._p2pChannel.on(mO.RequestUpload,(t,e)=>{this._gateway.upload(t,e)}),this._p2pChannel.on(mO.RequestUploadStats,t=>{this._gateway.uploadWRTCStats(t)}),this._p2pChannel.on(mO.MediaReconnectStart,t=>{this.safeEmit(qC.MEDIA_RECONNECT_START,t)}),this._p2pChannel.on(mO.MediaReconnectEnd,t=>{this.safeEmit(qC.MEDIA_RECONNECT_END,t)}),this._p2pChannel.on(mO.NeedSignalRTT,t=>{t(this._gateway.getSignalRTT())}),this._p2pChannel.on(mO.RequestRestartICE,async t=>{if(this._p2pChannel instanceof AB)return;const e=await this._p2pChannel.restartICE(t),n=await e.next();if(n.done)return;const i=n.value;let r;try{r=await this._gateway.restartICE({iceParameters:i})}catch(t){return void e.throw(t)}const{iceParameters:o}=function(t){const e=t.iceParameters;return{iceParameters:{iceUfrag:e.iceUfrag,icePwd:e.icePwd}}}(r);await e.next({remoteIceParameters:o})}),this._p2pChannel.on(mO.RequestReconnect,async()=>{this._gateway.reconnect()}),this._p2pChannel.on(mO.RequestReconnectPC,async()=>{var t;const{iceParameters:e,dtlsParameters:n,rtpCapabilities:i}=await this._p2pChannel.startP2PConnection({turnServer:null===(t=this._joinInfo)||void 0===t?void 0:t.turnServer}),{gatewayEstablishParams:r,gatewayAddress:o}=await this._gateway.reconnectPC({iceParameters:e,dtlsParameters:n,rtpCapabilities:i}),s=YM(r,o);await this._p2pChannel.connect(s),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()}),this._p2pChannel.on(mO.RequestUnpublishForReconnectPC,async(t,e,n)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(t,this._uid),e()):n()}),this._p2pChannel.on(mO.P2PLost,()=>{this.safeEmit(qC.P2P_LOST,this.store.uid)}),this._p2pChannel.on(mO.UpdateVideoEncoder,t=>{t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig)}),this._p2pChannel.on(mO.ConnectionTypeChange,t=>{this.safeEmit(qC.IS_USING_CLOUD_PROXY,t)}),this._p2pChannel.on(mO.RequestLowStreamParameter,t=>{t(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})}),this._p2pChannel.on(mO.QueryClientConnectionState,t=>{t(this.connectionState)})}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(t){if(!this._joinInfo||"CONNECTED"!==this.connectionState)throw new IR(SC.INVALID_OPERATION,"[".concat(this._clientId,"] can not create content inspect, please join channel first"));if(this._inspect)throw new IR(SC.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));try{const n=(e={config:t},bj("ContentInspect").create(e));this._inspect=n,this.handleVideoInspectEvents(n);const{appId:i,cname:r,sid:o,token:s,uid:a,cid:c,vid:l}=this._joinInfo;await n.init({appId:i,areaCode:"",cname:r,sid:o,token:s,uid:a,cid:c,vid:l?Number(l):0},NI)}catch(t){throw Array.isArray(t)?t[0]:t}var e}handleVideoInspectEvents(t){t.on(_O.CONNECTION_STATE_CHANGE,(e,n)=>{if(this.safeEmit(qC.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,e,n),n===vO.CONNECTED){if("CONNECTED"!==this.connectionState)return void this.safeEmit(qC.CONTENT_INSPECT_ERROR,new IR(SC.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));t.inspectImage()}}),t.on(_O.INSPECT_RESULT,(t,e)=>{var n;if((null==e?void 0:e.code)===SC.INVALID_OPERATION&&"DISCONNECTED"===this.connectionState)return gR.debug("Stop inspect content because that has left channel"),null==this||null===(n=this._inspect)||void 0===n||n.close(),void(this._inspect=void 0);this.safeEmit(qC.CONTENT_INSPECT_RESULT,t,e)}),t.on(_O.CLIENT_LOCAL_VIDEO_TRACK,t=>{t(this.localTracks.filter(t=>"video"===t.trackMediaType)[0])})}async disableContentInspect(){if(!this._inspect)throw new IR(SC.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));try{this._inspect.close(),this._inspect=void 0}catch(t){throw Array.isArray(t)?t[0]:t}}async setImageModeration(t,e){if(wC(t,"enabled"),t){if(!e)throw new IR(SC.INVALID_PARAMS,"config is required");if(PF(e),!this._joinInfo)throw new IR(SC.INVALID_OPERATION,"can not create image moderation, please join channel first");try{if(this._moderation)this._moderation.updateConfig(e);else{const t=(n={config:e},bj("ImageModeration").create(n));this._moderation=t,this.handleImageModerationEvents(t);const{appId:i,cname:r,sid:o,token:s,uid:a,cid:c,vid:l}=this._joinInfo;await t.init({appId:i,areaCode:"",cname:r,sid:o,token:s,uid:a,cid:c,vid:l?Number(l):0},NI)}}catch(t){throw Array.isArray(t)?t[0]:t}}else{var n;if(!this._moderation)throw new IR(SC.INVALID_OPERATION,"[".concat(this._clientId,"] image moderation not started"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(t){throw Array.isArray(t)?t[0]:t}}}handleImageModerationEvents(t){t.on(SO.CONNECTION_STATE_CHANGE,(e,n)=>{if(this.safeEmit(qC.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,e,n),e===bO.CONNECTED){if("CONNECTED"!==this.connectionState)throw this.setImageModeration(!1),new IR(SC.OPERATION_ABORTED,"Image moderation was cancelled because it left the channel");t.inspectImage()}}),t.on(SO.CLIENT_LOCAL_VIDEO_TRACK,t=>{t(this.localTracks.filter(t=>"video"===t.trackMediaType)[0])})}setP2PTransport(t){if(function(t){CC(t,"transport",["default","auto","relay","sd-rtn"])}(t),"p2p"!==this.mode)throw new IR(SC.INVALID_OPERATION,"only p2p mode can set p2pTransport");this.store.p2pTransport=t,gR.info("[".concat(this._clientId,"] set client p2pTransport to ").concat(t))}getJoinChannelServiceRecords(){return gR.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(t){wC(t,"enabled"),XI("ENABLE_PUBLISH_AUDIO_FILTER",t),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(t)}_handleResetAddStream(t,e){switch(e){case"audio":t._audio_added_=!1,t._trust_audio_stream_added_state_=!0;break;case"video":t._video_added_=!1,t._trust_video_stream_added_state_=!0}}},TA(SH.prototype,"leave",[MF],Object.getOwnPropertyDescriptor(SH.prototype,"leave"),SH.prototype),TA(SH.prototype,"publish",[VF],Object.getOwnPropertyDescriptor(SH.prototype,"publish"),SH.prototype),TA(SH.prototype,"unpublish",[UF],Object.getOwnPropertyDescriptor(SH.prototype,"unpublish"),SH.prototype),TA(SH.prototype,"subscribe",[BF],Object.getOwnPropertyDescriptor(SH.prototype,"subscribe"),SH.prototype),TA(SH.prototype,"presubscribe",[jF],Object.getOwnPropertyDescriptor(SH.prototype,"presubscribe"),SH.prototype),TA(SH.prototype,"massSubscribe",[FF],Object.getOwnPropertyDescriptor(SH.prototype,"massSubscribe"),SH.prototype),TA(SH.prototype,"unsubscribe",[HF],Object.getOwnPropertyDescriptor(SH.prototype,"unsubscribe"),SH.prototype),TA(SH.prototype,"massUnsubscribe",[WF],Object.getOwnPropertyDescriptor(SH.prototype,"massUnsubscribe"),SH.prototype),TA(SH.prototype,"setLowStreamParameter",[GF],Object.getOwnPropertyDescriptor(SH.prototype,"setLowStreamParameter"),SH.prototype),TA(SH.prototype,"enableDualStream",[$F],Object.getOwnPropertyDescriptor(SH.prototype,"enableDualStream"),SH.prototype),TA(SH.prototype,"disableDualStream",[zF],Object.getOwnPropertyDescriptor(SH.prototype,"disableDualStream"),SH.prototype),TA(SH.prototype,"setClientRole",[YF],Object.getOwnPropertyDescriptor(SH.prototype,"setClientRole"),SH.prototype),TA(SH.prototype,"setProxyServer",[KF],Object.getOwnPropertyDescriptor(SH.prototype,"setProxyServer"),SH.prototype),TA(SH.prototype,"setTurnServer",[qF],Object.getOwnPropertyDescriptor(SH.prototype,"setTurnServer"),SH.prototype),TA(SH.prototype,"setLicense",[XF],Object.getOwnPropertyDescriptor(SH.prototype,"setLicense"),SH.prototype),TA(SH.prototype,"startProxyServer",[JF],Object.getOwnPropertyDescriptor(SH.prototype,"startProxyServer"),SH.prototype),TA(SH.prototype,"stopProxyServer",[ZF],Object.getOwnPropertyDescriptor(SH.prototype,"stopProxyServer"),SH.prototype),TA(SH.prototype,"setLocalAccessPointsV2",[QF],Object.getOwnPropertyDescriptor(SH.prototype,"setLocalAccessPointsV2"),SH.prototype),TA(SH.prototype,"setLocalAccessPoints",[tH],Object.getOwnPropertyDescriptor(SH.prototype,"setLocalAccessPoints"),SH.prototype),TA(SH.prototype,"setRemoteDefaultVideoStreamType",[eH],Object.getOwnPropertyDescriptor(SH.prototype,"setRemoteDefaultVideoStreamType"),SH.prototype),TA(SH.prototype,"setRemoteVideoStreamType",[nH],Object.getOwnPropertyDescriptor(SH.prototype,"setRemoteVideoStreamType"),SH.prototype),TA(SH.prototype,"setStreamFallbackOption",[iH],Object.getOwnPropertyDescriptor(SH.prototype,"setStreamFallbackOption"),SH.prototype),TA(SH.prototype,"setEncryptionConfig",[rH],Object.getOwnPropertyDescriptor(SH.prototype,"setEncryptionConfig"),SH.prototype),TA(SH.prototype,"renewToken",[oH],Object.getOwnPropertyDescriptor(SH.prototype,"renewToken"),SH.prototype),TA(SH.prototype,"enableAudioVolumeIndicator",[sH],Object.getOwnPropertyDescriptor(SH.prototype,"enableAudioVolumeIndicator"),SH.prototype),TA(SH.prototype,"startLiveStreaming",[aH],Object.getOwnPropertyDescriptor(SH.prototype,"startLiveStreaming"),SH.prototype),TA(SH.prototype,"setLiveTranscoding",[cH],Object.getOwnPropertyDescriptor(SH.prototype,"setLiveTranscoding"),SH.prototype),TA(SH.prototype,"stopLiveStreaming",[lH],Object.getOwnPropertyDescriptor(SH.prototype,"stopLiveStreaming"),SH.prototype),TA(SH.prototype,"startChannelMediaRelay",[uH],Object.getOwnPropertyDescriptor(SH.prototype,"startChannelMediaRelay"),SH.prototype),TA(SH.prototype,"updateChannelMediaRelay",[dH],Object.getOwnPropertyDescriptor(SH.prototype,"updateChannelMediaRelay"),SH.prototype),TA(SH.prototype,"stopChannelMediaRelay",[hH],Object.getOwnPropertyDescriptor(SH.prototype,"stopChannelMediaRelay"),SH.prototype),TA(SH.prototype,"sendCustomReportMessage",[pH],Object.getOwnPropertyDescriptor(SH.prototype,"sendCustomReportMessage"),SH.prototype),TA(SH.prototype,"pickSVCLayer",[fH],Object.getOwnPropertyDescriptor(SH.prototype,"pickSVCLayer"),SH.prototype),TA(SH.prototype,"setRTMConfig",[mH],Object.getOwnPropertyDescriptor(SH.prototype,"setRTMConfig"),SH.prototype),TA(SH.prototype,"enableContentInspect",[vH],Object.getOwnPropertyDescriptor(SH.prototype,"enableContentInspect"),SH.prototype),TA(SH.prototype,"disableContentInspect",[gH],Object.getOwnPropertyDescriptor(SH.prototype,"disableContentInspect"),SH.prototype),TA(SH.prototype,"setImageModeration",[_H],Object.getOwnPropertyDescriptor(SH.prototype,"setImageModeration"),SH.prototype),TA(SH.prototype,"setP2PTransport",[yH],Object.getOwnPropertyDescriptor(SH.prototype,"setP2PTransport"),SH.prototype),TA(SH.prototype,"getJoinChannelServiceRecords",[EH],Object.getOwnPropertyDescriptor(SH.prototype,"getJoinChannelServiceRecords"),SH.prototype),TA(SH.prototype,"setPublishAudioFilterEnabled",[bH],Object.getOwnPropertyDescriptor(SH.prototype,"setPublishAudioFilterEnabled"),SH.prototype),SH);class IH{constructor(t,e){jE(this,"id",0),jE(this,"element",void 0),jE(this,"peerPair",void 0),jE(this,"context",void 0),jE(this,"audioPlayerElement",void 0),jE(this,"audioTrack",void 0),IH.count+=1,this.id=IH.count,this.element=t,this.context=e}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=t=>{const e=document.createElement("audio");e.srcObject=new MediaStream([t.track]),e.play(),this.audioPlayerElement=e}}async switchSdp(){if(!this.peerPair)return;const t=async(t,e)=>{const n="offer"===e?await t.createOffer():await t.createAnswer();return await t.setLocalDescription(n),"complete"===t.iceGatheringState?t.localDescription:new $h(e=>{t.onicegatheringstatechange=()=>{"complete"===t.iceGatheringState&&e(t.localDescription)}})},e=async(t,e)=>await t.setRemoteDescription(e);try{const n=await t(this.peerPair[0],"offer");await e(this.peerPair[1],n);const i=await t(this.peerPair[1],"answer");await e(this.peerPair[0],i)}catch(t){throw new IR(SC.LOCAL_AEC_ERROR,t.toString()).print()}}async getTracksFromMediaElement(t){if(this.audioTrack)return this.audioTrack;let e;try{t instanceof HTMLVideoElement&&(t.captureStream?t.captureStream():t.mozCaptureStream()),e=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(t).connect(e)}catch(t){throw new IR(SC.LOCAL_AEC_ERROR,t.toString()).print()}if(!e)throw new IR(SC.LOCAL_AEC_ERROR,"no dest node when local aec").print();const n=e.stream.getAudioTracks()[0];return this.audioTrack=n,n}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const t=this.element,e=await this.getTracksFromMediaElement(t);this.peerPair&&this.peerPair[0].addTrack(e),await this.switchSdp()}close(){gR.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach(t=>{t.close()}),this.peerPair=void 0,this.audioPlayerElement=void 0}}var RH,AH;jE(IH,"count",0);const OH=window.AudioContext||window.webkitAudioContext,xH=new(RH=wR({report:CR}),TA((AH=class{constructor(){jE(this,"units",[]),jE(this,"context",void 0)}processExternalMediaAEC(t){if(!this._doesEnvironmentNeedAEC())return gR.debug("the system does not need to process local aec"),-1;this.context||(this.context=new OH);let e=this.units.find(e=>e&&e.getElement()===t);return e||(e=new IH(t,this.context),this.units.push(e)),e.startEchoCancellation(),gR.debug("start processing local audio echo cancellation, id is",e.id),e.id}_doesEnvironmentNeedAEC(){return $w().name!==Fw.SAFARI}}).prototype,"processExternalMediaAEC",[RH],Object.getOwnPropertyDescriptor(AH.prototype,"processExternalMediaAEC"),AH.prototype),AH);function DH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function kH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?DH(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const NH=window||document;function PH(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!NH)return;const n=rY._cspEventHandlerPointer;if(n&&e)return void console.error(n,e);const i=t=>{if(!(t&&t.blockedURI&&(rY.onSecurityPolicyViolation||rY.getListeners(EO.SECURITY_POLICY_VIOLATION).length>0)))return;const e=t.blockedURI;JI("CSP_DETECTED_HOSTNAME_LIST").some(t=>Pi(e).call(e,t))&&(rY.onSecurityPolicyViolation&&"function"==typeof rY.onSecurityPolicyViolation&&rY.onSecurityPolicyViolation(t),rY.getListeners(EO.SECURITY_POLICY_VIOLATION).length>0&&rY.safeEmit(EO.SECURITY_POLICY_VIOLATION,t))};n&&NH.removeEventListener("securitypolicyviolation",n),(e||t&&"function"==typeof t||rY.getListeners(EO.SECURITY_POLICY_VIOLATION).length>0)&&NH.addEventListener("securitypolicyviolation",i),rY._cspEventHandlerPointer=i}var LH=p,MH=SS,VH=RegExp.prototype,UH=function(t){return t===VH||LH(VH,t)?MH(t):t.flags},BH=o(UH);function jH(t){let e=t.length;for(;--e>=0;)t[e]=0}const FH=256,HH=286,WH=30,GH=15,$H=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),zH=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),YH=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),KH=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qH=new Array(576);jH(qH);const XH=new Array(60);jH(XH);const JH=new Array(512);jH(JH);const ZH=new Array(256);jH(ZH);const QH=new Array(29);jH(QH);const tW=new Array(WH);function eW(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}let nW,iW,rW;function oW(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}jH(tW);const sW=t=>t<256?JH[t]:JH[256+(t>>>7)],aW=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},cW=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,aW(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},lW=(t,e,n)=>{cW(t,n[2*e],n[2*e+1])},uW=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},dW=(t,e,n)=>{const i=new Array(16);let r,o,s=0;for(r=1;r<=GH;r++)s=s+n[r-1]<<1,i[r]=s;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=uW(i[e]++,e))}},hW=t=>{let e;for(e=0;e<HH;e++)t.dyn_ltree[2*e]=0;for(e=0;e<WH;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},pW=t=>{t.bi_valid>8?aW(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},fW=(t,e,n,i)=>{const r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]},mW=(t,e,n)=>{const i=t.heap[n];let r=n<<1;for(;r<=t.heap_len&&(r<t.heap_len&&fW(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!fW(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i},vW=(t,e,n)=>{let i,r,o,s,a=0;if(0!==t.sym_next)do{i=255&t.pending_buf[t.sym_buf+a++],i+=(255&t.pending_buf[t.sym_buf+a++])<<8,r=t.pending_buf[t.sym_buf+a++],0===i?lW(t,r,e):(o=ZH[r],lW(t,o+FH+1,e),s=$H[o],0!==s&&(r-=QH[o],cW(t,r,s)),i--,o=sW(i),lW(t,o,n),s=zH[o],0!==s&&(i-=tW[o],cW(t,i,s)))}while(a<t.sym_next);lW(t,256,e)},gW=(t,e)=>{const n=e.dyn_tree,i=e.stat_desc.static_tree,r=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,c,l=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(t.heap[++t.heap_len]=l=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,n[2*c]=1,t.depth[c]=0,t.opt_len--,r&&(t.static_len-=i[2*c+1]);for(e.max_code=l,s=t.heap_len>>1;s>=1;s--)mW(t,n,s);c=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],mW(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[2*c]=n[2*s]+n[2*a],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[2*s+1]=n[2*a+1]=c,t.heap[1]=c++,mW(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,i=e.max_code,r=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let l,u,d,h,p,f,m=0;for(h=0;h<=GH;h++)t.bl_count[h]=0;for(n[2*t.heap[t.heap_max]+1]=0,l=t.heap_max+1;l<573;l++)u=t.heap[l],h=n[2*n[2*u+1]+1]+1,h>c&&(h=c,m++),n[2*u+1]=h,u>i||(t.bl_count[h]++,p=0,u>=a&&(p=s[u-a]),f=n[2*u],t.opt_len+=f*(h+p),o&&(t.static_len+=f*(r[2*u+1]+p)));if(0!==m){do{for(h=c-1;0===t.bl_count[h];)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[c]--,m-=2}while(m>0);for(h=c;0!==h;h--)for(u=t.bl_count[h];0!==u;)d=t.heap[--l],d>i||(n[2*d+1]!==h&&(t.opt_len+=(h-n[2*d+1])*n[2*d],n[2*d+1]=h),u--)}})(t,e),dW(n,l,t.bl_count)},_W=(t,e,n)=>{let i,r,o=-1,s=e[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<c&&r===s||(a<l?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=r,0===s?(c=138,l=3):r===s?(c=6,l=3):(c=7,l=4))},yW=(t,e,n)=>{let i,r,o=-1,s=e[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<c&&r===s)){if(a<l)do{lW(t,r,t.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(lW(t,r,t.bl_tree),a--),lW(t,16,t.bl_tree),cW(t,a-3,2)):a<=10?(lW(t,17,t.bl_tree),cW(t,a-3,3)):(lW(t,18,t.bl_tree),cW(t,a-11,7));a=0,o=r,0===s?(c=138,l=3):r===s?(c=6,l=3):(c=7,l=4)}};let EW=!1;const bW=(t,e,n,i)=>{cW(t,0+(i?1:0),3),pW(t),aW(t,n),aW(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var SW=t=>{EW||((()=>{let t,e,n,i,r;const o=new Array(16);for(n=0,i=0;i<28;i++)for(QH[i]=n,t=0;t<1<<$H[i];t++)ZH[n++]=i;for(ZH[n-1]=i,r=0,i=0;i<16;i++)for(tW[i]=r,t=0;t<1<<zH[i];t++)JH[r++]=i;for(r>>=7;i<WH;i++)for(tW[i]=r<<7,t=0;t<1<<zH[i]-7;t++)JH[256+r++]=i;for(e=0;e<=GH;e++)o[e]=0;for(t=0;t<=143;)qH[2*t+1]=8,t++,o[8]++;for(;t<=255;)qH[2*t+1]=9,t++,o[9]++;for(;t<=279;)qH[2*t+1]=7,t++,o[7]++;for(;t<=287;)qH[2*t+1]=8,t++,o[8]++;for(dW(qH,287,o),t=0;t<WH;t++)XH[2*t+1]=5,XH[2*t]=uW(t,5);nW=new eW(qH,$H,257,HH,GH),iW=new eW(XH,zH,0,WH,GH),rW=new eW(new Array(0),YH,0,19,7)})(),EW=!0),t.l_desc=new oW(t.dyn_ltree,nW),t.d_desc=new oW(t.dyn_dtree,iW),t.bl_desc=new oW(t.bl_tree,rW),t.bi_buf=0,t.bi_valid=0,hW(t)},TW=(t,e,n,i)=>{let r,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<FH;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),gW(t,t.l_desc),gW(t,t.d_desc),s=(t=>{let e;for(_W(t,t.dyn_ltree,t.l_desc.max_code),_W(t,t.dyn_dtree,t.d_desc.max_code),gW(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*KH[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),r=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?bW(t,e,n,i):4===t.strategy||o===r?(cW(t,2+(i?1:0),3),vW(t,qH,XH)):(cW(t,4+(i?1:0),3),((t,e,n,i)=>{let r;for(cW(t,e-257,5),cW(t,n-1,5),cW(t,i-4,4),r=0;r<i;r++)cW(t,t.bl_tree[2*KH[r]+1],3);yW(t,t.dyn_ltree,e-1),yW(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),vW(t,t.dyn_ltree,t.dyn_dtree)),hW(t),i&&pW(t)},wW=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(ZH[n]+FH+1)]++,t.dyn_dtree[2*sW(e)]++),t.sym_next===t.sym_end),CW=t=>{cW(t,2,3),lW(t,256,qH),(t=>{16===t.bi_valid?(aW(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)},IW={_tr_init:SW,_tr_stored_block:bW,_tr_flush_block:TW,_tr_tally:wW,_tr_align:CW},RW=(t,e,n,i)=>{let r=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{r=r+e[i++]|0,o=o+r|0}while(--s);r%=65521,o%=65521}return r|o<<16|0};const AW=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var OW=(t,e,n,i)=>{const r=AW,o=i+n;t^=-1;for(let s=i;s<o;s++)t=t>>>8^r[255&(t^e[s])];return-1^t},xW={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},DW={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:kW,_tr_stored_block:NW,_tr_flush_block:PW,_tr_tally:LW,_tr_align:MW}=IW,{Z_NO_FLUSH:VW,Z_PARTIAL_FLUSH:UW,Z_FULL_FLUSH:BW,Z_FINISH:jW,Z_BLOCK:FW,Z_OK:HW,Z_STREAM_END:WW,Z_STREAM_ERROR:GW,Z_DATA_ERROR:$W,Z_BUF_ERROR:zW,Z_DEFAULT_COMPRESSION:YW,Z_FILTERED:KW,Z_HUFFMAN_ONLY:qW,Z_RLE:XW,Z_FIXED:JW,Z_DEFAULT_STRATEGY:ZW,Z_UNKNOWN:QW,Z_DEFLATED:tG}=DW,eG=286,nG=30,iG=19,rG=2*eG+1,oG=15,sG=258,aG=262,cG=42,lG=113,uG=666,dG=(t,e)=>(t.msg=xW[e],e),hG=t=>2*t-(t>4?9:0),pG=t=>{let e=t.length;for(;--e>=0;)t[e]=0},fG=t=>{let e,n,i,r=t.w_size;e=t.hash_size,i=e;do{n=t.head[--i],t.head[i]=n>=r?n-r:0}while(--e);e=r,i=e;do{n=t.prev[--i],t.prev[i]=n>=r?n-r:0}while(--e)};let mG=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const vG=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},gG=(t,e)=>{PW(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,vG(t.strm)},_G=(t,e)=>{t.pending_buf[t.pending++]=e},yG=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},EG=(t,e,n,i)=>{let r=t.avail_in;return r>i&&(r=i),0===r?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),n),1===t.state.wrap?t.adler=RW(t.adler,e,r,n):2===t.state.wrap&&(t.adler=OW(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)},bG=(t,e)=>{let n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const c=t.strstart>t.w_size-aG?t.strstart-(t.w_size-aG):0,l=t.window,u=t.w_mask,d=t.prev,h=t.strstart+sG;let p=l[o+s-1],f=l[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,l[n+s]===f&&l[n+s-1]===p&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<h);if(i=sG-(h-o),o=h-sG,i>s){if(t.match_start=e,s=i,i>=a)break;p=l[o+s-1],f=l[o+s]}}}while((e=d[e&u])>c&&0!=--r);return s<=t.lookahead?s:t.lookahead},SG=t=>{const e=t.w_size;let n,i,r;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-aG)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),fG(t),i+=e),0===t.strm.avail_in)break;if(n=EG(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=3)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=mG(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=mG(t,t.ins_h,t.window[r+3-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<aG&&0!==t.strm.avail_in)},TG=(t,e)=>{let n,i,r,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(n=65535,r=t.bi_valid+42>>3,t.strm.avail_out<r)break;if(r=t.strm.avail_out-r,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>r&&(n=r),n<o&&(0===n&&e!==jW||e===VW||n!==i+t.strm.avail_in))break;s=e===jW&&n===i+t.strm.avail_in?1:0,NW(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,vG(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(EG(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===s);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==VW&&e!==jW&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(r=t.window_size-t.strstart,t.strm.avail_in>r&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,r+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),r>t.strm.avail_in&&(r=t.strm.avail_in),r&&(EG(t.strm,t.window,t.strstart,r),t.strstart+=r,t.insert+=r>t.w_size-t.insert?t.w_size-t.insert:r),t.high_water<t.strstart&&(t.high_water=t.strstart),r=t.bi_valid+42>>3,r=t.pending_buf_size-r>65535?65535:t.pending_buf_size-r,o=r>t.w_size?t.w_size:r,i=t.strstart-t.block_start,(i>=o||(i||e===jW)&&e!==VW&&0===t.strm.avail_in&&i<=r)&&(n=i>r?r:i,s=e===jW&&0===t.strm.avail_in&&n===i?1:0,NW(t,t.block_start,n,s),t.block_start+=n,vG(t.strm)),s?3:1)},wG=(t,e)=>{let n,i;for(;;){if(t.lookahead<aG){if(SG(t),t.lookahead<aG&&e===VW)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=mG(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-aG&&(t.match_length=bG(t,n)),t.match_length>=3)if(i=LW(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=mG(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=mG(t,t.ins_h,t.window[t.strstart+1]);else i=LW(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(gG(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===jW?(gG(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(gG(t,!1),0===t.strm.avail_out)?1:2},CG=(t,e)=>{let n,i,r;for(;;){if(t.lookahead<aG){if(SG(t),t.lookahead<aG&&e===VW)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=mG(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-aG&&(t.match_length=bG(t,n),t.match_length<=5&&(t.strategy===KW||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=LW(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=mG(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(gG(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=LW(t,0,t.window[t.strstart-1]),i&&gG(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=LW(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===jW?(gG(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(gG(t,!1),0===t.strm.avail_out)?1:2};function IG(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}const RG=[new IG(0,0,0,0,TG),new IG(4,4,8,4,wG),new IG(4,5,16,8,wG),new IG(4,6,32,32,wG),new IG(4,4,16,16,CG),new IG(8,16,32,32,CG),new IG(8,16,128,128,CG),new IG(8,32,128,256,CG),new IG(32,128,258,1024,CG),new IG(32,258,258,4096,CG)];function AG(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tG,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*rG),this.dyn_dtree=new Uint16Array(2*(2*nG+1)),this.bl_tree=new Uint16Array(2*(2*iG+1)),pG(this.dyn_ltree),pG(this.dyn_dtree),pG(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(oG+1),this.heap=new Uint16Array(2*eG+1),pG(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*eG+1),pG(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const OG=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==cG&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==lG&&e.status!==uG?1:0},xG=t=>{if(OG(t))return dG(t,GW);t.total_in=t.total_out=0,t.data_type=QW;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?cG:lG,t.adler=2===e.wrap?0:1,e.last_flush=-2,kW(e),HW},DG=t=>{const e=xG(t);return e===HW&&(t=>{t.window_size=2*t.w_size,pG(t.head),t.max_lazy_match=RG[t.level].max_lazy,t.good_match=RG[t.level].good_length,t.nice_match=RG[t.level].nice_length,t.max_chain_length=RG[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),e},kG=(t,e,n,i,r,o)=>{if(!t)return GW;let s=1;if(e===YW&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>9||n!==tG||i<8||i>15||e<0||e>9||o<0||o>JW||8===i&&1!==s)return dG(t,GW);8===i&&(i=9);const a=new AG;return t.state=a,a.strm=t,a.status=cG,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=n,DG(t)};var NG=(t,e)=>{if(OG(t)||e>FW||e<0)return t?dG(t,GW):GW;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===uG&&e!==jW)return dG(t,0===t.avail_out?zW:GW);const i=n.last_flush;if(n.last_flush=e,0!==n.pending){if(vG(t),0===t.avail_out)return n.last_flush=-1,HW}else if(0===t.avail_in&&hG(e)<=hG(i)&&e!==jW)return dG(t,zW);if(n.status===uG&&0!==t.avail_in)return dG(t,zW);if(n.status===cG&&0===n.wrap&&(n.status=lG),n.status===cG){let e=tG+(n.w_bits-8<<4)<<8,i=-1;if(i=n.strategy>=qW||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=i<<6,0!==n.strstart&&(e|=32),e+=31-e%31,yG(n,e),0!==n.strstart&&(yG(n,t.adler>>>16),yG(n,65535&t.adler)),t.adler=1,n.status=lG,vG(t),0!==n.pending)return n.last_flush=-1,HW}if(57===n.status)if(t.adler=0,_G(n,31),_G(n,139),_G(n,8),n.gzhead)_G(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),_G(n,255&n.gzhead.time),_G(n,n.gzhead.time>>8&255),_G(n,n.gzhead.time>>16&255),_G(n,n.gzhead.time>>24&255),_G(n,9===n.level?2:n.strategy>=qW||n.level<2?4:0),_G(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(_G(n,255&n.gzhead.extra.length),_G(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=OW(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(_G(n,0),_G(n,0),_G(n,0),_G(n,0),_G(n,0),_G(n,9===n.level?2:n.strategy>=qW||n.level<2?4:0),_G(n,3),n.status=lG,vG(t),0!==n.pending)return n.last_flush=-1,HW;if(69===n.status){if(n.gzhead.extra){let e=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let r=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=OW(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=r,vG(t),0!==n.pending)return n.last_flush=-1,HW;e=0,i-=r}let r=new Uint8Array(n.gzhead.extra);n.pending_buf.set(r.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>e&&(t.adler=OW(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=OW(t.adler,n.pending_buf,n.pending-i,i)),vG(t),0!==n.pending)return n.last_flush=-1,HW;i=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,_G(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>i&&(t.adler=OW(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=OW(t.adler,n.pending_buf,n.pending-i,i)),vG(t),0!==n.pending)return n.last_flush=-1,HW;i=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,_G(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>i&&(t.adler=OW(t.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(vG(t),0!==n.pending))return n.last_flush=-1,HW;_G(n,255&t.adler),_G(n,t.adler>>8&255),t.adler=0}if(n.status=lG,vG(t),0!==n.pending)return n.last_flush=-1,HW}if(0!==t.avail_in||0!==n.lookahead||e!==VW&&n.status!==uG){let i=0===n.level?TG(n,e):n.strategy===qW?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(SG(t),0===t.lookahead)){if(e===VW)return 1;break}if(t.match_length=0,n=LW(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(gG(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===jW?(gG(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(gG(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===XW?((t,e)=>{let n,i,r,o;const s=t.window;for(;;){if(t.lookahead<=sG){if(SG(t),t.lookahead<=sG&&e===VW)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=t.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){o=t.strstart+sG;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=sG-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=LW(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=LW(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(gG(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===jW?(gG(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(gG(t,!1),0===t.strm.avail_out)?1:2})(n,e):RG[n.level].func(n,e);if(3!==i&&4!==i||(n.status=uG),1===i||3===i)return 0===t.avail_out&&(n.last_flush=-1),HW;if(2===i&&(e===UW?MW(n):e!==FW&&(NW(n,0,0,!1),e===BW&&(pG(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),vG(t),0===t.avail_out))return n.last_flush=-1,HW}return e!==jW?HW:n.wrap<=0?WW:(2===n.wrap?(_G(n,255&t.adler),_G(n,t.adler>>8&255),_G(n,t.adler>>16&255),_G(n,t.adler>>24&255),_G(n,255&t.total_in),_G(n,t.total_in>>8&255),_G(n,t.total_in>>16&255),_G(n,t.total_in>>24&255)):(yG(n,t.adler>>>16),yG(n,65535&t.adler)),vG(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?HW:WW)},PG=(t,e)=>{let n=e.length;if(OG(t))return GW;const i=t.state,r=i.wrap;if(2===r||1===r&&i.status!==cG||i.lookahead)return GW;if(1===r&&(t.adler=RW(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){0===r&&(pG(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(n-i.w_size,n),0),e=t,n=i.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,SG(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=mG(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=2,SG(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,i.wrap=r,HW},LG={deflateInit:(t,e)=>kG(t,e,tG,15,8,ZW),deflateInit2:kG,deflateReset:DG,deflateResetKeep:xG,deflateSetHeader:(t,e)=>OG(t)||2!==t.state.wrap?GW:(t.state.gzhead=e,HW),deflate:NG,deflateEnd:t=>{if(OG(t))return GW;const e=t.state.status;return t.state=null,e===lG?dG(t,$W):HW},deflateSetDictionary:PG,deflateInfo:"pako deflate (from Nodeca project)"};const MG=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var VG={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const e in n)MG(n,e)&&(t[e]=n[e])}}return t},flattenChunks:t=>{let e=0;for(let i=0,r=t.length;i<r;i++)e+=t[i].length;const n=new Uint8Array(e);for(let i=0,r=0,o=t.length;i<o;i++){let e=t[i];n.set(e,r),r+=e.length}return n}};let UG=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){UG=!1}const BG=new Uint8Array(256);for(let e=0;e<256;e++)BG[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;BG[254]=BG[254]=1;var jG={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,i,r,o,s=t.length,a=0;for(r=0;r<s;r++)n=t.charCodeAt(r),55296==(64512&n)&&r+1<s&&(i=t.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,r=0;o<a;r++)n=t.charCodeAt(r),55296==(64512&n)&&r+1<s&&(i=t.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},buf2string:(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,r;const o=new Array(2*n);for(r=0,i=0;i<n;){let e=t[i++];if(e<128){o[r++]=e;continue}let s=BG[e];if(s>4)o[r++]=65533,i+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&i<n;)e=e<<6|63&t[i++],s--;s>1?o[r++]=65533:e<65536?o[r++]=e:(e-=65536,o[r++]=55296|e>>10&1023,o[r++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&UG)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n})(o,r)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+BG[t[n]]>e?n:e}},FG=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const HG=Object.prototype.toString,{Z_NO_FLUSH:WG,Z_SYNC_FLUSH:GG,Z_FULL_FLUSH:$G,Z_FINISH:zG,Z_OK:YG,Z_STREAM_END:KG,Z_DEFAULT_COMPRESSION:qG,Z_DEFAULT_STRATEGY:XG,Z_DEFLATED:JG}=DW;function ZG(t){this.options=VG.assign({level:qG,method:JG,chunkSize:16384,windowBits:15,memLevel:8,strategy:XG},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FG,this.strm.avail_out=0;let n=LG.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==YG)throw new Error(xW[n]);if(e.header&&LG.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?jG.string2buf(e.dictionary):"[object ArrayBuffer]"===HG.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=LG.deflateSetDictionary(this.strm,t),n!==YG)throw new Error(xW[n]);this._dict_set=!0}}function QG(t,e){const n=new ZG(e);if(n.push(t,!0),n.err)throw n.msg||xW[n.err];return n.result}ZG.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize;let r,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?zG:WG,"string"==typeof t?n.input=jG.string2buf(t):"[object ArrayBuffer]"===HG.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(o===GG||o===$G)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(r=LG.deflate(n,o),r===KG)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=LG.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===YG;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},ZG.prototype.onData=function(t){this.chunks.push(t)},ZG.prototype.onEnd=function(t){t===YG&&(this.result=VG.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var t$={Deflate:ZG,deflate:QG,deflateRaw:function(t,e){return(e=e||{}).raw=!0,QG(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,QG(t,e)},constants:DW};const e$=16209;var n$=function(t,e){let n,i,r,o,s,a,c,l,u,d,h,p,f,m,v,g,_,y,E,b,S,T,w,C;const I=t.state;n=t.next_in,w=t.input,i=n+(t.avail_in-5),r=t.next_out,C=t.output,o=r-(e-t.avail_out),s=r+(t.avail_out-257),a=I.dmax,c=I.wsize,l=I.whave,u=I.wnext,d=I.window,h=I.hold,p=I.bits,f=I.lencode,m=I.distcode,v=(1<<I.lenbits)-1,g=(1<<I.distbits)-1;t:do{p<15&&(h+=w[n++]<<p,p+=8,h+=w[n++]<<p,p+=8),_=f[h&v];e:for(;;){if(y=_>>>24,h>>>=y,p-=y,y=_>>>16&255,0===y)C[r++]=65535&_;else{if(!(16&y)){if(0==(64&y)){_=f[(65535&_)+(h&(1<<y)-1)];continue e}if(32&y){I.mode=16191;break t}t.msg="invalid literal/length code",I.mode=e$;break t}E=65535&_,y&=15,y&&(p<y&&(h+=w[n++]<<p,p+=8),E+=h&(1<<y)-1,h>>>=y,p-=y),p<15&&(h+=w[n++]<<p,p+=8,h+=w[n++]<<p,p+=8),_=m[h&g];n:for(;;){if(y=_>>>24,h>>>=y,p-=y,y=_>>>16&255,!(16&y)){if(0==(64&y)){_=m[(65535&_)+(h&(1<<y)-1)];continue n}t.msg="invalid distance code",I.mode=e$;break t}if(b=65535&_,y&=15,p<y&&(h+=w[n++]<<p,p+=8,p<y&&(h+=w[n++]<<p,p+=8)),b+=h&(1<<y)-1,b>a){t.msg="invalid distance too far back",I.mode=e$;break t}if(h>>>=y,p-=y,y=r-o,b>y){if(y=b-y,y>l&&I.sane){t.msg="invalid distance too far back",I.mode=e$;break t}if(S=0,T=d,0===u){if(S+=c-y,y<E){E-=y;do{C[r++]=d[S++]}while(--y);S=r-b,T=C}}else if(u<y){if(S+=c+u-y,y-=u,y<E){E-=y;do{C[r++]=d[S++]}while(--y);if(S=0,u<E){y=u,E-=y;do{C[r++]=d[S++]}while(--y);S=r-b,T=C}}}else if(S+=u-y,y<E){E-=y;do{C[r++]=d[S++]}while(--y);S=r-b,T=C}for(;E>2;)C[r++]=T[S++],C[r++]=T[S++],C[r++]=T[S++],E-=3;E&&(C[r++]=T[S++],E>1&&(C[r++]=T[S++]))}else{S=r-b;do{C[r++]=C[S++],C[r++]=C[S++],C[r++]=C[S++],E-=3}while(E>2);E&&(C[r++]=C[S++],E>1&&(C[r++]=C[S++]))}break}}break}}while(n<i&&r<s);E=p>>3,n-=E,p-=E<<3,h&=(1<<p)-1,t.next_in=n,t.next_out=r,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=r<s?s-r+257:257-(r-s),I.hold=h,I.bits=p};const i$=15,r$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),o$=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),s$=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a$=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var c$=(t,e,n,i,r,o,s,a)=>{const c=a.bits;let l,u,d,h,p,f,m=0,v=0,g=0,_=0,y=0,E=0,b=0,S=0,T=0,w=0,C=null;const I=new Uint16Array(16),R=new Uint16Array(16);let A,O,x,D=null;for(m=0;m<=i$;m++)I[m]=0;for(v=0;v<i;v++)I[e[n+v]]++;for(y=c,_=i$;_>=1&&0===I[_];_--);if(y>_&&(y=_),0===_)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(g=1;g<_&&0===I[g];g++);for(y<g&&(y=g),S=1,m=1;m<=i$;m++)if(S<<=1,S-=I[m],S<0)return-1;if(S>0&&(0===t||1!==_))return-1;for(R[1]=0,m=1;m<i$;m++)R[m+1]=R[m]+I[m];for(v=0;v<i;v++)0!==e[n+v]&&(s[R[e[n+v]]++]=v);if(0===t?(C=D=s,f=20):1===t?(C=r$,D=o$,f=257):(C=s$,D=a$,f=0),w=0,v=0,m=g,p=o,E=y,b=0,d=-1,T=1<<y,h=T-1,1===t&&T>852||2===t&&T>592)return 1;for(;;){A=m-b,s[v]+1<f?(O=0,x=s[v]):s[v]>=f?(O=D[s[v]-f],x=C[s[v]-f]):(O=96,x=0),l=1<<m-b,u=1<<E,g=u;do{u-=l,r[p+(w>>b)+u]=A<<24|O<<16|x|0}while(0!==u);for(l=1<<m-1;w&l;)l>>=1;if(0!==l?(w&=l-1,w+=l):w=0,v++,0==--I[m]){if(m===_)break;m=e[n+s[v]]}if(m>y&&(w&h)!==d){for(0===b&&(b=y),p+=g,E=m-b,S=1<<E;E+b<_&&(S-=I[E+b],!(S<=0));)E++,S<<=1;if(T+=1<<E,1===t&&T>852||2===t&&T>592)return 1;d=w&h,r[d]=y<<24|E<<16|p-o|0}}return 0!==w&&(r[p+w]=m-b<<24|64<<16|0),a.bits=y,0};const{Z_FINISH:l$,Z_BLOCK:u$,Z_TREES:d$,Z_OK:h$,Z_STREAM_END:p$,Z_NEED_DICT:f$,Z_STREAM_ERROR:m$,Z_DATA_ERROR:v$,Z_MEM_ERROR:g$,Z_BUF_ERROR:_$,Z_DEFLATED:y$}=DW,E$=16180,b$=16190,S$=16191,T$=16192,w$=16194,C$=16199,I$=16200,R$=16206,A$=16209,O$=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function x$(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const D$=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<E$||e.mode>16211?1:0},k$=t=>{if(D$(t))return m$;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=E$,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,h$},N$=t=>{if(D$(t))return m$;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,k$(t)},P$=(t,e)=>{let n;if(D$(t))return m$;const i=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?m$:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,N$(t))},L$=(t,e)=>{if(!t)return m$;const n=new x$;t.state=n,n.strm=t,n.window=null,n.mode=E$;const i=P$(t,e);return i!==h$&&(t.state=null),i};let M$,V$,U$=!0;const B$=t=>{if(U$){M$=new Int32Array(512),V$=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(c$(1,t.lens,0,288,M$,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;c$(2,t.lens,0,32,V$,0,t.work,{bits:5}),U$=!1}t.lencode=M$,t.lenbits=9,t.distcode=V$,t.distbits=5},j$=(t,e,n,i)=>{let r;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(e.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(e.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0};var F$=(t,e)=>{let n,i,r,o,s,a,c,l,u,d,h,p,f,m,v,g,_,y,E,b,S,T,w=0;const C=new Uint8Array(4);let I,R;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(D$(t)||!t.output||!t.input&&0!==t.avail_in)return m$;n=t.state,n.mode===S$&&(n.mode=T$),s=t.next_out,r=t.output,c=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,l=n.hold,u=n.bits,d=a,h=c,T=h$;t:for(;;)switch(n.mode){case E$:if(0===n.wrap){n.mode=T$;break}for(;u<16;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}if(2&n.wrap&&35615===l){0===n.wbits&&(n.wbits=15),n.check=0,C[0]=255&l,C[1]=l>>>8&255,n.check=OW(n.check,C,2,0),l=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=A$;break}if((15&l)!==y$){t.msg="unknown compression method",n.mode=A$;break}if(l>>>=4,u-=4,S=8+(15&l),0===n.wbits&&(n.wbits=S),S>15||S>n.wbits){t.msg="invalid window size",n.mode=A$;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&l?16189:S$,l=0,u=0;break;case 16181:for(;u<16;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}if(n.flags=l,(255&BH(n))!==y$){t.msg="unknown compression method",n.mode=A$;break}if(57344&BH(n)){t.msg="unknown header flags set",n.mode=A$;break}n.head&&(n.head.text=l>>8&1),512&BH(n)&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,n.check=OW(n.check,C,2,0)),l=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}n.head&&(n.head.time=l),512&BH(n)&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,C[2]=l>>>16&255,C[3]=l>>>24&255,n.check=OW(n.check,C,4,0)),l=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&BH(n)&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,n.check=OW(n.check,C,2,0)),l=0,u=0,n.mode=16184;case 16184:if(1024&BH(n)){for(;u<16;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),512&BH(n)&&4&n.wrap&&(C[0]=255&l,C[1]=l>>>8&255,n.check=OW(n.check,C,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&BH(n)&&(p=n.length,p>a&&(p=a),p&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+p),S)),512&BH(n)&&4&n.wrap&&(n.check=OW(n.check,i,p,o)),a-=p,o+=p,n.length-=p),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&BH(n)){if(0===a)break t;p=0;do{S=i[o+p++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S))}while(S&&p<a);if(512&BH(n)&&4&n.wrap&&(n.check=OW(n.check,i,p,o)),a-=p,o+=p,S)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&BH(n)){if(0===a)break t;p=0;do{S=i[o+p++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S))}while(S&&p<a);if(512&BH(n)&&4&n.wrap&&(n.check=OW(n.check,i,p,o)),a-=p,o+=p,S)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&BH(n)){for(;u<16;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}if(4&n.wrap&&l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=A$;break}l=0,u=0}n.head&&(n.head.hcrc=BH(n)>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=S$;break;case 16189:for(;u<32;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}t.adler=n.check=O$(l),l=0,u=0,n.mode=b$;case b$:if(0===n.havedict)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=u,f$;t.adler=n.check=1,n.mode=S$;case S$:if(e===u$||e===d$)break t;case T$:if(n.last){l>>>=7&u,u-=7&u,n.mode=R$;break}for(;u<3;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}switch(n.last=1&l,l>>>=1,u-=1,3&l){case 0:n.mode=16193;break;case 1:if(B$(n),n.mode=C$,e===d$){l>>>=2,u-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=A$}l>>>=2,u-=2;break;case 16193:for(l>>>=7&u,u-=7&u;u<32;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=A$;break}if(n.length=65535&l,l=0,u=0,n.mode=w$,e===d$)break t;case w$:n.mode=16195;case 16195:if(p=n.length,p){if(p>a&&(p=a),p>c&&(p=c),0===p)break t;r.set(i.subarray(o,o+p),s),a-=p,o+=p,c-=p,s+=p,n.length-=p;break}n.mode=S$;break;case 16196:for(;u<14;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}if(n.nlen=257+(31&l),l>>>=5,u-=5,n.ndist=1+(31&l),l>>>=5,u-=5,n.ncode=4+(15&l),l>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=A$;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}n.lens[A[n.have++]]=7&l,l>>>=3,u-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},T=c$(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,T){t.msg="invalid code lengths set",n.mode=A$;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[l&(1<<n.lenbits)-1],v=w>>>24,g=w>>>16&255,_=65535&w,!(v<=u);){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}if(_<16)l>>>=v,u-=v,n.lens[n.have++]=_;else{if(16===_){for(R=v+2;u<R;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}if(l>>>=v,u-=v,0===n.have){t.msg="invalid bit length repeat",n.mode=A$;break}S=n.lens[n.have-1],p=3+(3&l),l>>>=2,u-=2}else if(17===_){for(R=v+3;u<R;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}l>>>=v,u-=v,S=0,p=3+(7&l),l>>>=3,u-=3}else{for(R=v+7;u<R;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}l>>>=v,u-=v,S=0,p=11+(127&l),l>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=A$;break}for(;p--;)n.lens[n.have++]=S}}if(n.mode===A$)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=A$;break}if(n.lenbits=9,I={bits:n.lenbits},T=c$(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,T){t.msg="invalid literal/lengths set",n.mode=A$;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},T=c$(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,T){t.msg="invalid distances set",n.mode=A$;break}if(n.mode=C$,e===d$)break t;case C$:n.mode=I$;case I$:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=u,n$(t,h),s=t.next_out,r=t.output,c=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,l=n.hold,u=n.bits,n.mode===S$&&(n.back=-1);break}for(n.back=0;w=n.lencode[l&(1<<n.lenbits)-1],v=w>>>24,g=w>>>16&255,_=65535&w,!(v<=u);){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}if(g&&0==(240&g)){for(y=v,E=g,b=_;w=n.lencode[b+((l&(1<<y+E)-1)>>y)],v=w>>>24,g=w>>>16&255,_=65535&w,!(y+v<=u);){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}l>>>=y,u-=y,n.back+=y}if(l>>>=v,u-=v,n.back+=v,n.length=_,0===g){n.mode=16205;break}if(32&g){n.back=-1,n.mode=S$;break}if(64&g){t.msg="invalid literal/length code",n.mode=A$;break}n.extra=15&g,n.mode=16201;case 16201:if(n.extra){for(R=n.extra;u<R;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;w=n.distcode[l&(1<<n.distbits)-1],v=w>>>24,g=w>>>16&255,_=65535&w,!(v<=u);){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}if(0==(240&g)){for(y=v,E=g,b=_;w=n.distcode[b+((l&(1<<y+E)-1)>>y)],v=w>>>24,g=w>>>16&255,_=65535&w,!(y+v<=u);){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}l>>>=y,u-=y,n.back+=y}if(l>>>=v,u-=v,n.back+=v,64&g){t.msg="invalid distance code",n.mode=A$;break}n.offset=_,n.extra=15&g,n.mode=16203;case 16203:if(n.extra){for(R=n.extra;u<R;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=A$;break}n.mode=16204;case 16204:if(0===c)break t;if(p=h-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=A$;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=r,f=s-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do{r[s++]=m[f++]}while(--p);0===n.length&&(n.mode=I$);break;case 16205:if(0===c)break t;r[s++]=n.length,c--,n.mode=I$;break;case R$:if(n.wrap){for(;u<32;){if(0===a)break t;a--,l|=i[o++]<<u,u+=8}if(h-=c,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=BH(n)?OW(n.check,r,h,s-h):RW(n.check,r,h,s-h)),h=c,4&n.wrap&&(BH(n)?l:O$(l))!==n.check){t.msg="incorrect data check",n.mode=A$;break}l=0,u=0}n.mode=16207;case 16207:if(n.wrap&&BH(n)){for(;u<32;){if(0===a)break t;a--,l+=i[o++]<<u,u+=8}if(4&n.wrap&&l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=A$;break}l=0,u=0}n.mode=16208;case 16208:T=p$;break t;case A$:T=v$;break t;case 16210:return g$;default:return m$}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=l,n.bits=u,(n.wsize||h!==t.avail_out&&n.mode<A$&&(n.mode<R$||e!==l$))&&j$(t,t.output,t.next_out,h-t.avail_out),d-=t.avail_in,h-=t.avail_out,t.total_in+=d,t.total_out+=h,n.total+=h,4&n.wrap&&h&&(t.adler=n.check=BH(n)?OW(n.check,r,h,t.next_out-h):RW(n.check,r,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===S$?128:0)+(n.mode===C$||n.mode===w$?256:0),(0===d&&0===h||e===l$)&&T===h$&&(T=_$),T},H$={inflateReset:N$,inflateReset2:P$,inflateResetKeep:k$,inflateInit:t=>L$(t,15),inflateInit2:L$,inflate:F$,inflateEnd:t=>{if(D$(t))return m$;let e=t.state;return e.window&&(e.window=null),t.state=null,h$},inflateGetHeader:(t,e)=>{if(D$(t))return m$;const n=t.state;return 0==(2&n.wrap)?m$:(n.head=e,e.done=!1,h$)},inflateSetDictionary:(t,e)=>{const n=e.length;let i,r,o;return D$(t)?m$:(i=t.state,0!==i.wrap&&i.mode!==b$?m$:i.mode===b$&&(r=1,r=RW(r,e,n,0),r!==i.check)?v$:(o=j$(t,e,n,n),o?(i.mode=16210,g$):(i.havedict=1,h$)))},inflateInfo:"pako inflate (from Nodeca project)"},W$=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const G$=Object.prototype.toString,{Z_NO_FLUSH:$$,Z_FINISH:z$,Z_OK:Y$,Z_STREAM_END:K$,Z_NEED_DICT:q$,Z_STREAM_ERROR:X$,Z_DATA_ERROR:J$,Z_MEM_ERROR:Z$}=DW;function Q$(t){this.options=VG.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new FG,this.strm.avail_out=0;let n=H$.inflateInit2(this.strm,e.windowBits);if(n!==Y$)throw new Error(xW[n]);if(this.header=new W$,H$.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=jG.string2buf(e.dictionary):"[object ArrayBuffer]"===G$.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=H$.inflateSetDictionary(this.strm,e.dictionary),n!==Y$)))throw new Error(xW[n])}function tz(t,e){const n=new Q$(e);if(n.push(t),n.err)throw n.msg||xW[n.err];return n.result}Q$.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?z$:$$,"[object ArrayBuffer]"===G$.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=H$.inflate(n,s),o===q$&&r&&(o=H$.inflateSetDictionary(n,r),o===Y$?o=H$.inflate(n,s):o===J$&&(o=q$));n.avail_in>0&&o===K$&&n.state.wrap>0&&0!==t[n.next_in];)H$.inflateReset(n),o=H$.inflate(n,s);switch(o){case X$:case J$:case q$:case Z$:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===K$))if("string"===this.options.to){let t=jG.utf8border(n.output,n.next_out),e=n.next_out-t,r=jG.buf2string(n.output,t);n.next_out=e,n.avail_out=i-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Y$||0!==a){if(o===K$)return o=H$.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Q$.prototype.onData=function(t){this.chunks.push(t)},Q$.prototype.onEnd=function(t){t===Y$&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=VG.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ez={Inflate:Q$,inflate:tz,inflateRaw:function(t,e){return(e=e||{}).raw=!0,tz(t,e)},ungzip:tz,constants:DW};const{Deflate:nz,deflate:iz,deflateRaw:rz,gzip:oz}=t$,{Inflate:sz,inflate:az,inflateRaw:cz,ungzip:lz}=ez;var uz=iz,dz=az,hz=function(t){return t[t.ONE_BYTE=0]="ONE_BYTE",t[t.TWO_BYTE=1]="TWO_BYTE",t}(hz||{});class pz{constructor(){jE(this,"_sequence",0),jE(this,"_startTime",Date.now()),jE(this,"isUseOneByte",!0)}get startTime(){const t=Date.now()-this._startTime;return t<Math.pow(2,16)?t:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(t){const e={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:t};if(t.byteLength>128){const n=new Uint8Array(4);n.set([1,0,0,0]);const i={id:0,length:4,data:n.buffer},r={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[i]};e.commonPacketHeader.extension=1,e.extension=r,e.payload=this.compress(t),e.commonPacketHeader.length=8+(e.extension.length+2)+e.payload.byteLength}else e.commonPacketHeader.length=8+e.payload.byteLength;JI("SHOW_DATASTREAM2_LOG")&&gR.debug("send data header: ".concat(JSON.stringify(e.commonPacketHeader)));const n=new ArrayBuffer(e.commonPacketHeader.length),i=new Uint8Array(n),r=new DataView(n);let o=0;if(r.setUint16(o,e.commonPacketHeader.extension<<15|e.commonPacketHeader.reserved<<14|e.commonPacketHeader.length,!0),o+=2,r.setUint32(o,e.commonPacketHeader.sequence,!0),o+=4,r.setUint16(o,e.commonStreamHeader,!0),o+=2,e.extension){const t=this.serializeExtension(e.extension);i.set(new Uint8Array(t),o),o+=t.byteLength}if(i.set(new Uint8Array(e.payload),o),o+=e.payload.byteLength,o!==e.commonPacketHeader.length)throw Error("serialize error!");return n}deserialize(t){if(t.byteLength<4)return new ArrayBuffer(0);const e=new DataView(t);let n=0;const i=e.getUint16(n,!0);n+=2;const r={length:16383&i,reserved:(16384&i)>>14,extension:(32768&i)>>15,sequence:e.getUint16(n+2,!0)<<16|e.getUint16(n,!0)};let o,s;if(n+=4,JI("SHOW_DATASTREAM2_LOG")&&gR.debug("receive data header: ".concat(JSON.stringify(r))),e.getUint16(n,!0),n+=2,r.extension){s=this.deserializeExtension(t.slice(n)),n+=2+s.length,o=t.slice(n);let e=!1;if(s.datas.length>0){const t=s.datas.find(t=>0===t.id);t&&(e=1==(1&new DataView(t.data).getUint32(0,!0)))}o=e?this.decompress(o):o}else o=t.slice(8);return o}serializeExtension(t){const{profile:e,length:n,datas:i}=t,r=new ArrayBuffer(n+2),o=new Uint8Array(r),s=new DataView(r);let a=0;if(s.setUint8(a++,e),s.setUint8(a++,n),i.forEach(t=>{e?(s.setUint8(a++,t.id),s.setUint8(a++,t.length),o.set(new Uint8Array(t.data),a),a+=t.data.byteLength):(s.setUint8(a++,t.id|t.length<<4),o.set(new Uint8Array(t.data),a),a+=t.data.byteLength)}),a!==n+2)throw Error("serialize extension error, is ".concat(a,"!==").concat(n+2));return r}deserializeExtension(t){const e=new DataView(t);let n=0;const i=e.getUint8(n);n++;const r=e.getUint8(n);n++;const o=i===hz.TWO_BYTE,s=[],a=new DataView(t,2);let c=0;for(;c<r;){let t=0,e=0,n=new ArrayBuffer(0);o?(t=a.getUint8(c),c++,e=a.getUint8(c),c++):(t=15&a.getUint8(c),e=a.getUint8(c)>>4,c++),e>0&&(n=a.buffer.slice(c+2,c+2+e),c+=n.byteLength),s.push({id:t,length:e,data:n})}if(c!==r)throw Error("parse error");return{profile:i,length:r,datas:s}}decompress(t){return dz(new Uint8Array(t))}compress(t){return uz(new Uint8Array(t))}}const fz={name:"DataStream",create:(t,e)=>{const n=e?new AM(t):new OM(t);return n.useDataStream(new pz),n}};class mz extends UC{constructor(t,e,n){super(),jE(this,"ws",void 0),jE(this,"requestId",1),jE(this,"heartBeatTimer",void 0),jE(this,"joinInfo",void 0),jE(this,"clientId",void 0),jE(this,"onOpen",()=>{this.emit("open"),this.startHeartBeatCheck()}),jE(this,"onClose",t=>{this.emit("close"),this.dispose()}),jE(this,"onMessage",t=>{const e=JSON.parse(t.data);if(!e||"serverResponse"!==e.command||!e.requestId)return e&&"serverStatus"===e.command&&e.serverStatus&&e.serverStatus.command?(this.emit("status",e.serverStatus),void this.emit(e.serverStatus.command,e.serverStatus)):void 0;this.emit("req_".concat(e.requestId),e)}),this.joinInfo=t,this.clientId=e,this.ws=new $O("cross-channel-".concat(this.clientId),n),this.ws.on(VA.RECONNECTING,()=>{this.ws.reconnectMode="retry",this.emit("reconnecting")}),this.ws.on(VA.CONNECTED,this.onOpen),this.ws.on(VA.ON_MESSAGE,this.onMessage),this.ws.on(VA.CLOSED,this.onClose)}isConnect(){return"connected"===this.ws.state}sendMessage(t){const e=this.requestId++;return t.requestId=e,t.seq=e,this.ws.sendMessage(t),e}waitStatus(t){return new $h((e,n)=>{const i=window.setTimeout(()=>{n(new IR(SC.TIMEOUT,"wait status timeout, status: ".concat(t)))},5e3);this.once(t,r=>{window.clearTimeout(i),r.state&&0!==r.state?n(new IR(SC.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(t))):e(void 0)}),this.once("dispose",()=>{window.clearTimeout(i),n(new IR(SC.WS_ABORT))})})}async request(t){if("closed"===this.ws.state)throw new IR(SC.WS_DISCONNECT);const e=()=>new $h((t,e)=>{this.ws.once(VA.CLOSED,()=>e(new IR(SC.WS_ABORT))),this.ws.once(VA.CONNECTED,t)});"connected"!==this.ws.state&&await e();const n=this.sendMessage(t),i=new $h((t,e)=>{const i=()=>{e(new IR(SC.WS_ABORT))};this.ws.once(VA.RECONNECTING,i),this.ws.once(VA.CLOSED,i),this.once("req_".concat(n),t),_I(3e3).then(()=>{this.removeAllListeners("req_".concat(n)),this.ws.off(VA.RECONNECTING,i),this.ws.off(VA.CLOSED,i),e(new IR(SC.TIMEOUT,"cross channel ws request timeout"))})}),r=await i;if(!r||200!==r.code)throw new IR(SC.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(r)));return r}async connect(t){this.ws.removeAllListeners(VA.REQUEST_NEW_URLS),this.ws.on(VA.REQUEST_NEW_URLS,e=>{e(t)}),await this.ws.init(t)}dispose(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}sendPing(t){const e=this.requestId++;return t.requestId=e,this.ws.sendMessage(t),e}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval(()=>{this.sendPing({command:"ping",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})},3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class vz extends UC{set state(t){t!==this._state&&(t!==JA.RELAY_STATE_FAILURE&&(this.errorCode=ZA.RELAY_OK),this.emit("state",t,this.errorCode),this._state=t)}get state(){return this._state}constructor(t,e,n,i,r){super(),jE(this,"joinInfo",void 0),jE(this,"sid",void 0),jE(this,"clientId",void 0),jE(this,"cancelToken",Pw.CancelToken.source()),jE(this,"workerToken",void 0),jE(this,"requestId",0),jE(this,"signal",void 0),jE(this,"prevChannelMediaConfig",void 0),jE(this,"httpRetryConfig",void 0),jE(this,"_resolution",void 0),jE(this,"_state",JA.RELAY_STATE_IDLE),jE(this,"errorCode",ZA.RELAY_OK),jE(this,"onStatus",t=>{gR.debug("[".concat(this.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(t))),t&&t.command&&("onAudioPacketReceived"===t.command&&this.emit("event",XA.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===t.command&&this.emit("event",XA.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===t.command&&(this.errorCode=ZA.SRC_TOKEN_EXPIRED,this.state=JA.RELAY_STATE_FAILURE),"onDestTokenPrivilegeDidExpire"===t.command&&(this.errorCode=ZA.DEST_TOKEN_EXPIRED,this.state=JA.RELAY_STATE_FAILURE))}),jE(this,"onReconnect",async()=>{gR.debug("[".concat(this.clientId,"] ChannelMediaSocket disconnect, reconnecting")),this.emit("event",XA.NETWORK_DISCONNECTED),this.state=JA.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch(t=>{this.state!==JA.RELAY_STATE_IDLE&&(gR.error("auto restart channel media relay failed",t.toString()),this.errorCode=ZA.SERVER_CONNECTION_LOST,this.state=JA.RELAY_STATE_FAILURE)})}),this.joinInfo=t,this.clientId=e,this.sid=EI(),this.signal=new mz(this.joinInfo,this.clientId,n),this.httpRetryConfig=i,this._resolution=r}async startChannelMediaRelay(t){if(this.state!==JA.RELAY_STATE_IDLE)throw new IR(SC.INVALID_OPERATION);this.state=JA.RELAY_STATE_CONNECTING,await this.connect(),gR.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success"));try{await this.sendStartRelayMessage(t)}catch(t){if(t.data&&t.data.serverResponse&&"SetSourceChannel"===t.data.serverResponse.command)throw new IR(SC.CROSS_CHANNEL_FAILED_JOIN_SRC);if(t.data&&t.data.serverResponse&&"SetDestChannelStatus"===t.serverResponse.command)throw new IR(SC.CROSS_CHANNEL_FAILED_JOIN_DEST);if(t.data&&t.data.serverResponse&&"StartPacketTransfer"===t.serverResponse.command)throw new IR(SC.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw t}this.prevChannelMediaConfig=t}async updateChannelMediaRelay(t){if(this.state!==JA.RELAY_STATE_RUNNING)throw new IR(SC.INVALID_OPERATION);await this.sendUpdateMessage(t),this.prevChannelMediaConfig=t}async setVideoProfile(t){if(this._resolution=t,this.state!==JA.RELAY_STATE_RUNNING)throw new IR(SC.INVALID_OPERATION);const e=this.genMessage(qA.SetVideoProfile);await this.signal.request(e),gR.debug("[".concat(this.clientId,"] startChannelMediaRelay: setVideoProfile success"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),gR.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=JA.RELAY_STATE_IDLE,this.dispose()}dispose(){gR.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=Pw.CancelToken.source(),this.state=JA.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const t=await ZV(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=t.workerToken,await this.signal.connect(t.addressList),this.emit("event",XA.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect)}async sendStartRelayMessage(t){const e=this.genMessage(qA.StopPacketTransfer);await this.signal.request(e),await this.signal.waitStatus("Normal Quit"),gR.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success"));const n=this.genMessage(qA.SetSdkProfile,t);await this.signal.request(n),gR.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success"));const i=this.genMessage(qA.SetSourceChannel,t);await this.signal.request(i),await this.signal.waitStatus("SetSourceChannelStatus"),this.emit("event",XA.PACKET_JOINED_SRC_CHANNEL),gR.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success"));const r=this.genMessage(qA.SetSourceUserId,t);await this.signal.request(r),gR.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success"));const o=this.genMessage(qA.SetDestChannel,t);await this.signal.request(o),await this.signal.waitStatus("SetDestChannelStatus"),this.emit("event",XA.PACKET_JOINED_DEST_CHANNEL),gR.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success"));const s=this.genMessage(qA.StartPacketTransfer,t);await this.signal.request(s),this.emit("event",XA.PACKET_SENT_TO_DEST_CHANNEL),this.state=JA.RELAY_STATE_RUNNING,gR.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(t){const e=this.genMessage(qA.UpdateDestChannel,t);await this.signal.request(e),this.emit("event",XA.PACKET_UPDATE_DEST_CHANNEL),gR.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"))}async sendStopRelayMessage(){const t=this.genMessage(qA.StopPacketTransfer);await this.signal.request(t),gR.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"))}genMessage(t,e){const n=[],i=[],r=[];this.requestId+=1;const o={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:WI,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};"4.22.1"===o.sdkVersion&&(o.sdkVersion="0.0.1");let s=null,a=null;switch(t){case qA.SetSdkProfile:return o.clientRequest={command:"SetSdkProfile",type:"multi_channel"},o;case qA.SetSourceChannel:if(a=e&&e.getSrcChannelMediaInfo(),!a)throw new IR(SC.UNEXPECTED_ERROR,"can not find source config");return o.clientRequest={command:"SetSourceChannel",uid:"0",channelName:a.channelName,token:a.token||this.joinInfo.appId},o;case qA.SetSourceUserId:if(a=e&&e.getSrcChannelMediaInfo(),!a)throw new IR(SC.UNEXPECTED_ERROR,"can not find source config");return o.clientRequest={command:"SetSourceUserId",uid:a.uid+""},o;case qA.SetDestChannel:if(s=e&&e.getDestChannelMediaInfo(),!s)throw new IR(SC.UNEXPECTED_ERROR,"can not find dest config");return s.forEach(t=>{n.push(t.channelName),i.push(t.uid+""),r.push(t.token||this.joinInfo.appId)}),o.clientRequest={command:"SetDestChannel",channelName:n,uid:i,token:r},o;case qA.StartPacketTransfer:return o.clientRequest={command:"StartPacketTransfer"},o;case qA.Reconnect:return o.clientRequest={command:"Reconnect"},o;case qA.StopPacketTransfer:return o.clientRequest={command:"StopPacketTransfer"},o;case qA.UpdateDestChannel:if(s=e&&e.getDestChannelMediaInfo(),!s)throw new IR(SC.UNEXPECTED_ERROR,"can not find dest config");return s.forEach(t=>{n.push(t.channelName),i.push(t.uid+""),r.push(t.token||this.joinInfo.appId)}),o.clientRequest={command:"UpdateDestChannel",channelName:n,uid:i,token:r},o;case qA.SetVideoProfile:o.clientRequest={command:"SetVideoProfile",width:this._resolution.width,height:this._resolution.height}}return o}}const gz={name:"ChannelMediaRelay",create:function(t){return new vz(t.joinInfo,t.clientId,t.websocketRetryConfig||NI,t.httpRetryConfig||NI,t.resolution)}};function _z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function yz(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_z(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class Ez extends UC{constructor(t,e,n,i){super(),jE(this,"spec",void 0),jE(this,"token",void 0),jE(this,"websocket",void 0),jE(this,"pingpongTimer",void 0),jE(this,"reconnectMode","retry"),jE(this,"serviceMode",void 0),jE(this,"reqId",0),jE(this,"commandReqId",0),jE(this,"handleWebSocketOpen",()=>{this.reconnectMode="retry",this.startPingPong()}),jE(this,"handleWebSocketMessage",t=>{if(!t.data)return;const e=JSON.parse(t.data);e.requestId?this.emit("@".concat(e.requestId,"-").concat(e.sid),e):(CR.workerEvent(this.spec.sid,{actionType:"status",serverCode:e.code,workerType:this.serviceMode===jA.TRANSCODE?1:2}),this.emit($A.PUBLISH_STREAM_STATUS,e))}),this.spec=e,this.token=t,this.serviceMode=i,this.websocket=new $O("live-streaming",n),this.websocket.on(VA.CONNECTED,this.handleWebSocketOpen),this.websocket.on(VA.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(VA.REQUEST_NEW_URLS,(t,e)=>{QC(this,$A.REQUEST_NEW_ADDRESS).then(t).catch(e)}),this.websocket.on(VA.RECONNECTING,()=>{this.websocket.reconnectMode=this.reconnectMode})}init(t){return this.websocket.init(t)}async request(t,e,n,i){this.reqId+=1,"request"===t&&(this.commandReqId+=1);const r=this.commandReqId,o=this.reqId;if(!o||!this.websocket)throw new IR(SC.UNEXPECTED_ERROR);const s=yz({command:t,sdkVersion:"4.22.1"===WI?"0.0.1":WI,seq:o,requestId:o,allocate:n,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},e);if("closed"===this.websocket.state)throw new IR(SC.WS_DISCONNECT);const a=()=>new $h((t,e)=>{this.websocket.once(VA.CLOSED,()=>e(new IR(SC.WS_ABORT))),this.websocket.once(VA.CONNECTED,t)});"connected"!==this.websocket.state&&await a(),s.clientRequest&&(s.clientRequest.workerToken=this.token);const c=new $h((t,e)=>{const n=()=>{e(new IR(SC.WS_ABORT))};this.websocket.once(VA.RECONNECTING,n),this.websocket.once(VA.CLOSED,n),this.once("@".concat(o,"-").concat(this.spec.sid),e=>{t(e)})});i&&CR.workerEvent(this.spec.sid,yz(yz({},i),{},{requestId:r,actionType:"request",payload:JSON.stringify(e.clientRequest),serverCode:0,code:0}));const l=Date.now();this.websocket.sendMessage(s);let u=null;try{u=await c}catch(i){if("closed"===this.websocket.state)throw i;return await a(),await this.request(t,e,n)}return i&&CR.workerEvent(this.spec.sid,yz(yz({},i),{},{requestId:r,actionType:"response",payload:JSON.stringify(u.serverResponse),serverCode:u.code,success:200===u.code,responseTime:Date.now()-l})),200!==u.code&&this.handleResponseError(u),u}tryNextAddress(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}close(){const t="4.22.1"===WI?"0.0.1":WI;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:t,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(t){switch(t.code){case YA.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void gR.warning("live stream response already exists stream");case YA.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case YA.LIVE_STREAM_RESPONSE_BAD_STREAM:case YA.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new IR(SC.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:t.code}).throw();case YA.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===t.serverResponse.command)return;throw new IR(SC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case YA.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new IR(SC.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:t.code}).throw();case YA.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new IR(SC.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit($A.WARNING,e,t.serverResponse.url)}case YA.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const e=new IR(SC.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit($A.WARNING,e,t.serverResponse.url)}case YA.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new IR(SC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case YA.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new IR(SC.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:t.code}).throw();case YA.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const e=new IR(SC.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit($A.WARNING,e,t.serverResponse.url)}case YA.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new IR(SC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:t.code}).throw();case YA.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new IR(SC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case YA.LIVE_STREAM_RESPONSE_WORKER_LOST:case YA.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===t.serverResponse.command)return;throw new IR(SC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case YA.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===t.serverResponse.command)return;if("UpdateTranscoding"===t.serverResponse.command||"ControlStream"===t.serverResponse.command)return new IR(SC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:t.code}).throw();throw new IR(SC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case YA.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case YA.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case YA.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case YA.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new IR(SC.LIVE_STREAMING_CDN_ERROR,"",{code:t.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(()=>{"connected"===this.websocket.state&&this.request("ping",{}).catch(bI)},6e3)}}function bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Sz(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bz(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class Tz extends UC{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NI,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NI;super(),jE(this,"onLiveStreamWarning",void 0),jE(this,"onLiveStreamError",void 0),jE(this,"spec",void 0),jE(this,"retryTimeout",1e4),jE(this,"connection",void 0),jE(this,"httpRetryConfig",void 0),jE(this,"wsRetryConfig",void 0),jE(this,"streamingTasks",new Map),jE(this,"isStartingStreamingTask",!1),jE(this,"taskMutex",new DI("live-streaming")),jE(this,"cancelToken",Pw.CancelToken.source()),jE(this,"transcodingConfig",void 0),jE(this,"uapResponse",void 0),jE(this,"lastTaskId",1),jE(this,"statusError",new Map),this.spec=t,this.httpRetryConfig=n,this.wsRetryConfig=e}async setTranscodingConfig(t){const e=Sz(Sz({},GA),t);66!==e.videoCodecProfile&&77!==e.videoCodecProfile&&100!==e.videoCodecProfile&&(gR.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(e.videoCodecProfile," -> 100")),e.videoCodecProfile=100),e.transcodingUsers||(e.transcodingUsers=e.userConfigs),e.transcodingUsers&&(e.transcodingUsers=e.transcodingUsers.map(t=>Sz(Sz(Sz({},FA),t),{},{zOrder:t.zOrder?t.zOrder+1:1}))),function(t){xC(t.width)||IC(t.width,"config.width",0,1e4),xC(t.height)||IC(t.height,"config.height",0,1e4),xC(t.videoBitrate)||IC(t.videoBitrate,"config.videoBitrate",1,1e6),xC(t.videoFrameRate)||IC(t.videoFrameRate,"config.videoFrameRate"),xC(t.lowLatency)||wC(t.lowLatency,"config.lowLatency"),xC(t.audioSampleRate)||CC(t.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),xC(t.audioBitrate)||IC(t.audioBitrate,"config.audioBitrate",1,128),xC(t.audioChannels)||CC(t.audioChannels,"config.audioChannels",[1,2,3,4,5]),xC(t.videoGop)||IC(t.videoGop,"config.videoGop"),xC(t.videoCodecProfile)||CC(t.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),xC(t.userCount)||IC(t.userCount,"config.userCount",0,17),xC(t.backgroundColor)||IC(t.backgroundColor,"config.backgroundColor",0,16777215),xC(t.userConfigExtraInfo)||AC(t.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),t.transcodingUsers&&!xC(t.transcodingUsers)&&(OC(t.transcodingUsers,"config.transcodingUsers"),t.transcodingUsers.forEach((t,e)=>{BA(t.uid),xC(t.x)||IC(t.x,"transcodingUser[".concat(e,"].x"),0,1e4),xC(t.y)||IC(t.y,"transcodingUser[".concat(e,"].y"),0,1e4),xC(t.width)||IC(t.width,"transcodingUser[".concat(e,"].width"),0,1e4),xC(t.height)||IC(t.height,"transcodingUser[".concat(e,"].height"),0,1e4),xC(t.zOrder)||IC(t.zOrder-1,"transcodingUser[".concat(e,"].zOrder"),0,100),xC(t.alpha)||IC(t.alpha,"transcodingUser[".concat(e,"].alpha"),0,1,!1)})),xC(t.watermark)||WA(t.watermark,"watermark"),xC(t.backgroundImage)||WA(t.backgroundImage,"backgroundImage"),t.images&&!xC(t.images)&&(OC(t.images,"config.images"),t.images.forEach((t,e)=>{WA(t,"images[".concat(e,"]"))}))}(e);const n=[];e.images&&n.push(...e.images.map(t=>Sz(Sz(Sz({},HA),t),{},{zOrder:255}))),e.backgroundImage&&(n.push(Sz(Sz(Sz({},HA),e.backgroundImage),{},{zOrder:0})),delete e.backgroundImage),e.watermark&&(n.push(Sz(Sz(Sz({},HA),e.watermark),{},{zOrder:255})),delete e.watermark),e.images=n,e.transcodingUsers&&(e.userConfigs=e.transcodingUsers.map(t=>Sz({},t)),e.userCount=e.transcodingUsers.length,delete e.transcodingUsers);const i=(e.userConfigs||[]).map(t=>"number"==typeof t.uid?$h.resolve(t.uid):YV(t.uid,this.spec,this.cancelToken.token,this.httpRetryConfig));if((await $h.all(i)).forEach((t,n)=>{e.userConfigs&&e.userConfigs[n]&&(e.userConfigs[n].uid=t)}),this.transcodingConfig=e,this.connection)try{var r;const t=await this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(mx(r=this.streamingTasks).call(r)).map(t=>t.taskId).join("#")});gR.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(t.code,", config:"),JSON.stringify(this.transcodingConfig))}catch(t){if(!t.data||!t.data.retry)throw t;t.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach(e=>{gR.warning("[".concat(this.spec.clientId,"] live streaming receive error"),t.toString(),"try to republish",e.url),this.startLiveStreamingTask(e.url,e.mode,t).then(()=>{gR.debug("[".concat(this.spec.clientId,"] live streaming republish ").concat(e.url," success"))}).catch(t=>{gR.error("[".concat(this.spec.clientId,"] live streaming republish failed"),e.url,t.toString()),this.onLiveStreamError&&this.onLiveStreamError(e.url,t)})})}}async startLiveStreamingTask(t,e,n){if(!this.transcodingConfig&&e===jA.TRANSCODE)throw new IR(SC.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");const i={command:"PublishStream",ts:Date.now(),url:t,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};gR.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(t,", mode: ").concat(e));const r=await this.taskMutex.lock();if(!this.connection&&n)return void r();if(this.streamingTasks.get(t)&&!n)return r(),new IR(SC.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(e))}catch(t){throw r(),t}switch(e){case jA.TRANSCODE:i.transcodingConfig=Sz({},this.transcodingConfig);case jA.RAW:}this.uapResponse&&this.uapResponse.vid&&(i.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const o=this.lastTaskId++;try{const s=new $h((e,i)=>{_I(this.retryTimeout).then(()=>{if(n)return i(n);const e=this.statusError.get(t);return e?(this.statusError.delete(t),i(e)):void 0})}),a=await $h.race([this.connection.request("request",{clientRequest:i},!0,{url:t,command:"PublishStream",workerType:e===jA.TRANSCODE?1:2,requestByUser:!n,tid:o.toString()}),s]);this.isStartingStreamingTask=!1,gR.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(a.code)),this.streamingTasks.set(t,{clientRequest:i,mode:e,url:t,taskId:o}),r()}catch(i){if(r(),this.isStartingStreamingTask=!1,!i.data||!i.data.retry||n)throw i;return i.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(t,e,i)):await this.startLiveStreamingTask(t,e,i)}}stopLiveStreamingTask(t){return new $h((e,n)=>{const i=this.streamingTasks.get(t);if(!i||!this.connection)return new IR(SC.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();const r=i.mode;i.abortTask=()=>{gR.debug("[".concat(this.spec.clientId,"] stop live streaming success(worker exception)")),this.streamingTasks.delete(t),e()},this.connection.request("request",{clientRequest:{command:"UnpublishStream",url:i.url}},!1,{url:t,command:"UnPublishStream",workerType:r===jA.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then(n=>{gR.debug("[".concat(this.spec.clientId,"] stop live streaming success, code: ").concat(n.code)),this.streamingTasks.delete(t),0===this.streamingTasks.size&&(this.connection&&this.connection.close(),this.connection=void 0),e()}).catch(n)})}resetAllTask(){var t;const e=Array.from(mx(t=this.streamingTasks).call(t));this.terminate();for(const n of e)this.startLiveStreamingTask(n.url,n.mode).catch(t=>{this.onLiveStreamError&&this.onLiveStreamError(n.url,t)})}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=Pw.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(t){if(this.connection)throw new IR(SC.UNEXPECTED_ERROR,"live streaming connection has already connected");const e=await QC(this,zA.REQUEST_WORKER_MANAGER_LIST,t);return this.uapResponse=e,this.connection=new Ez(e.workerToken,this.spec,this.wsRetryConfig,t),this.connection.on($A.WARNING,(t,e)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(e,t)),this.connection.on($A.PUBLISH_STREAM_STATUS,t=>this.handlePublishStreamServer(t)),this.connection.on($A.REQUEST_NEW_ADDRESS,(e,n)=>{if(!this.connection)return n(new IR(SC.UNEXPECTED_ERROR,"can not get new live streaming address list"));QC(this,zA.REQUEST_WORKER_MANAGER_LIST,t).then(t=>{this.uapResponse=t,e(t.addressList)}).catch(n)}),await this.connection.init(e.addressList),this.connection}handlePublishStreamServer(t){const e=t.serverStatus&&t.serverStatus.url||"empty_url",n=this.streamingTasks.get(e),i=t.reason;switch(t.code){case YA.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case YA.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case YA.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case YA.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const i=new IR(SC.LIVE_STREAMING_CDN_ERROR,"",{code:t.code});if(n)return gR.error(i.toString()),this.onLiveStreamError&&this.onLiveStreamError(e,i);if(!this.isStartingStreamingTask)return;this.statusError.set(e,i)}case YA.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new IR(SC.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,i);return this.onLiveStreamWarning&&this.onLiveStreamWarning(e,t)}case YA.LIVE_STREAM_RESPONSE_WORKER_LOST:case YA.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var r;if(!this.connection)return;this.connection.tryNextAddress();const e=Array.from(mx(r=this.streamingTasks).call(r));for(const n of e)n.abortTask?n.abortTask():(gR.warning("[".concat(this.spec.clientId,"] publish stream status code"),t.code,"try to republish",n.url),this.startLiveStreamingTask(n.url,n.mode,new IR(SC.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:t.code})).then(()=>{gR.debug("[".concat(this.spec.clientId,"] republish live stream success"),n.url)}).catch(t=>{gR.error(t.toString()),this.onLiveStreamError&&this.onLiveStreamError(n.url,t)}));return}}}hasUrl(t){return this.streamingTasks.has(t)}}const wz={name:"LiveStreaming",create:function(t){return new Tz(t.joinInfo,t.websocketRetryConfig||NI,t.httpRetryConfig||NI)}};function Cz(t){let e=Mz();return function(t,e){let n=t.appId;void 0!==n&&(Xz(e,10),Wz(e,n));let i=t.cid;void 0!==i&&(Xz(e,16),Xz(e,i));let r=t.cname;void 0!==r&&(Xz(e,26),Wz(e,r));let o=t.deviceId;void 0!==o&&(Xz(e,34),Wz(e,o));let s=t.elapse;void 0!==s&&(Xz(e,40),Jz(e,s));let a=t.fileSize;void 0!==a&&(Xz(e,48),Jz(e,Pz(a)));let c=t.height;void 0!==c&&(Xz(e,56),Jz(e,Pz(c)));let l=t.jpg;void 0!==l&&(Xz(e,66),Xz(e,l.length),function(t,e){let n=jz(t,e.length);t.bytes.set(e,n)}(e,l));let u=t.networkType;void 0!==u&&(Xz(e,72),Jz(e,Pz(u)));let d=t.osType;void 0!==d&&(Xz(e,80),Jz(e,Pz(d)));let h=t.requestId;void 0!==h&&(Xz(e,90),Wz(e,h));let p=t.sdkVersion;void 0!==p&&(Xz(e,98),Wz(e,p));let f=t.sequence;void 0!==f&&(Xz(e,104),Jz(e,Pz(f)));let m=t.sid;void 0!==m&&(Xz(e,114),Wz(e,m));let v=t.timestamp;void 0!==v&&(Xz(e,120),Jz(e,v));let g=t.uid;void 0!==g&&(Xz(e,128),Xz(e,g));let _=t.vid;void 0!==_&&(Xz(e,136),Xz(e,_));let y=t.width;void 0!==y&&(Xz(e,144),Jz(e,Pz(y)));let E=t.service;void 0!==E&&(Xz(e,152),Xz(e,E));let b=t.callbackData;void 0!==b&&(Xz(e,162),Wz(e,b));let S=t.jpgEncryption;void 0!==S&&(Xz(e,168),Xz(e,S));let T=t.requestType;void 0!==T&&(Xz(e,176),Xz(e,T));let w=t.scorePorn;void 0!==w&&(Xz(e,185),Kz(e,w));let C=t.scoreSexy;void 0!==C&&(Xz(e,193),Kz(e,C));let I=t.scoreNeutral;void 0!==I&&(Xz(e,201),Kz(e,I));let R=t.scene;void 0!==R&&(Xz(e,208),Xz(e,R));let A=t.ossFilePrefix;void 0!==A&&(Xz(e,218),Wz(e,A));let O=t.serviceVendor;if(void 0!==O)for(let x of O){Xz(e,226);let t=Mz();Az(x,t),Xz(e,t.limit),Gz(e,t),Vz(t)}}(t,e),function(t){let e=t.bytes,n=t.limit;return e.length===n?e:e.subarray(0,n)}(e)}function Iz(t){return function(t){let e={};t:for(;!Bz(t);){let n=qz(t);switch(n>>>3){case 0:break t;case 1:e.code=qz(t);break;case 2:e.msg=Hz(t,qz(t));break;case 3:{let n=Oz(t);e.data=Rz(t),t.limit=n;break}default:xz(t,7&n)}}return e}({bytes:e=t,offset:0,limit:e.length});var e}function Rz(t){let e={};t:for(;!Bz(t);){let n=qz(t);switch(n>>>3){case 0:break t;case 1:e.requestId=Hz(t,qz(t));break;case 2:e.requestType=qz(t)>>>0;break;case 3:e.scorePorn=Yz(t);break;case 4:e.scoreSexy=Yz(t);break;case 5:e.scoreNeutral=Yz(t);break;case 6:e.requestScene=qz(t)>>>0;break;case 7:e.scene=qz(t)>>>0;break;default:xz(t,7&n)}}return e}function Az(t,e){let n=t.service;void 0!==n&&(Xz(e,8),Xz(e,n));let i=t.vendor;void 0!==i&&(Xz(e,16),Xz(e,i));let r=t.token;void 0!==r&&(Xz(e,26),Wz(e,r));let o=t.callbackUrl;void 0!==o&&(Xz(e,34),Wz(e,o))}function Oz(t){let e=qz(t),n=t.limit;return t.limit=t.offset+e,n}function xz(t,e){switch(e){case 0:for(;128&$z(t););break;case 2:Uz(t,qz(t));break;case 5:Uz(t,4);break;case 1:Uz(t,8);break;default:throw new Error("Unimplemented type: "+e)}}let Dz=new Float32Array(1);new Uint8Array(Dz.buffer);let kz=new Float64Array(1),Nz=new Uint8Array(kz.buffer);function Pz(t){return{low:t|=0,high:t>>31,unsigned:t>=0}}let Lz=[];function Mz(){const t=Lz.pop();return t?(t.offset=t.limit=0,t):{bytes:new Uint8Array(64),offset:0,limit:0}}function Vz(t){Lz.push(t)}function Uz(t,e){if(t.offset+e>t.limit)throw new Error("Skip past limit");t.offset+=e}function Bz(t){return t.offset>=t.limit}function jz(t,e){let n=t.bytes,i=t.offset,r=t.limit,o=i+e;if(o>n.length){let e=new Uint8Array(2*o);e.set(n),t.bytes=e}return t.offset=o,o>r&&(t.limit=o),i}function Fz(t,e){let n=t.offset;if(n+e>t.limit)throw new Error("Read past limit");return t.offset+=e,n}function Hz(t,e){let n=Fz(t,e),i=String.fromCharCode,r=t.bytes,o="",s="";for(let a=0;a<e;a++){let t,c,l,u,d=r[a+n];0==(128&d)?s+=i(d):192==(224&d)?a+1>=e?s+=o:(t=r[a+n+1],128!=(192&t)?s+=o:(u=(31&d)<<6|63&t,u<128?s+=o:(s+=i(u),a++))):224==(240&d)?a+2>=e?s+=o:(t=r[a+n+1],c=r[a+n+2],32896!=(49344&(t|c<<8))?s+=o:(u=(15&d)<<12|(63&t)<<6|63&c,u<2048||u>=55296&&u<=57343?s+=o:(s+=i(u),a+=2))):240==(248&d)?a+3>=e?s+=o:(t=r[a+n+1],c=r[a+n+2],l=r[a+n+3],8421504!=(12632256&(t|c<<8|l<<16))?s+=o:(u=(7&d)<<18|(63&t)<<12|(63&c)<<6|63&l,u<65536||u>1114111?s+=o:(u-=65536,s+=i(55296+(u>>10),56320+(1023&u)),a+=3))):s+=o}return s}function Wz(t,e){let n=e.length,i=0;for(let s=0;s<n;s++){let t=e.charCodeAt(s);t>=55296&&t<=56319&&s+1<n&&(t=(t<<10)+e.charCodeAt(++s)-56613888),i+=t<128?1:t<2048?2:t<65536?3:4}Xz(t,i);let r=jz(t,i),o=t.bytes;for(let s=0;s<n;s++){let t=e.charCodeAt(s);t>=55296&&t<=56319&&s+1<n&&(t=(t<<10)+e.charCodeAt(++s)-56613888),t<128?o[r++]=t:(t<2048?o[r++]=t>>6&31|192:(t<65536?o[r++]=t>>12&15|224:(o[r++]=t>>18&7|240,o[r++]=t>>12&63|128),o[r++]=t>>6&63|128),o[r++]=63&t|128)}}function Gz(t,e){let n=jz(t,e.limit),i=t.bytes,r=e.bytes;for(let o=0,s=e.limit;o<s;o++)i[o+n]=r[o]}function $z(t){return t.bytes[Fz(t,1)]}function zz(t,e){let n=jz(t,1);t.bytes[n]=e}function Yz(t){let e=Fz(t,8),n=t.bytes;return Nz[0]=n[e++],Nz[1]=n[e++],Nz[2]=n[e++],Nz[3]=n[e++],Nz[4]=n[e++],Nz[5]=n[e++],Nz[6]=n[e++],Nz[7]=n[e++],kz[0]}function Kz(t,e){let n=jz(t,8),i=t.bytes;kz[0]=e,i[n++]=Nz[0],i[n++]=Nz[1],i[n++]=Nz[2],i[n++]=Nz[3],i[n++]=Nz[4],i[n++]=Nz[5],i[n++]=Nz[6],i[n++]=Nz[7]}function qz(t){let e,n=0,i=0;do{e=$z(t),n<32&&(i|=(127&e)<<n),n+=7}while(128&e);return i}function Xz(t,e){for(e>>>=0;e>=128;)zz(t,127&e|128),e>>>=7;zz(t,e)}function Jz(t,e){let n=e.low>>>0,i=(e.low>>>28|e.high<<4)>>>0,r=e.high>>>24,o=0===r?0===i?n<16384?n<128?1:2:n<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:r<128?9:10,s=jz(t,o),a=t.bytes;switch(o){case 10:a[s+9]=r>>>7&1;case 9:a[s+8]=9!==o?128|r:127&r;case 8:a[s+7]=8!==o?i>>>21|128:i>>>21&127;case 7:a[s+6]=7!==o?i>>>14|128:i>>>14&127;case 6:a[s+5]=6!==o?i>>>7|128:i>>>7&127;case 5:a[s+4]=5!==o?128|i:127&i;case 4:a[s+3]=4!==o?n>>>21|128:n>>>21&127;case 3:a[s+2]=3!==o?n>>>14|128:n>>>14&127;case 2:a[s+1]=2!==o?n>>>7|128:n>>>7&127;case 1:a[s]=1!==o?128|n:127&n}}function Zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}const Qz=new Map([["moderation",1],["supervise",2]]);function tY(t){return{low:t|=0,high:t>>31,unsigned:t>=0}}class eY extends UC{get connectionState(){return this._connectionState}set connectionState(t){if(this._connectionState===t)return;const e=this._connectionState;this._connectionState=t,this.emit(_O.CONNECTION_STATE_CHANGE,e,t)}get inspectType(){return this._inspectType}set inspectType(t){var e;this._inspectMode=Zi(e=t.map(t=>Qz.get(t)||0)).call(e,(t,e)=>t+e),this._inspectType=t}get quality(){return this._quality}set quality(t){this._quality=t>1?1:t<.1?.1:t,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this.qualityRatio},6e4))}constructor(t){super(),jE(this,"name","AgoraRTCVideoContentInspect"),jE(this,"_connectionState",vO.CONNECTING),jE(this,"_innerConnectionState",void 0),jE(this,"sequence",0),jE(this,"inspectStartTime",void 0),jE(this,"workerManagerConnection",void 0),jE(this,"workerConnection",void 0),jE(this,"workerMessageLengthLimit",void 0),jE(this,"inspectIntervalMinimum",void 0),jE(this,"qualityRatio",void 0),jE(this,"_connectInfo",void 0),jE(this,"_cancelTokenSource",Pw.CancelToken.source()),jE(this,"_retryConfig",void 0),jE(this,"wmSequence",0),jE(this,"inspectInterval",void 0),jE(this,"inspectTimer",null),jE(this,"ossFilePrefix",void 0),jE(this,"extraInfo",void 0),jE(this,"_inspectType",void 0),jE(this,"_inspectMode",void 0),jE(this,"_quality",1),jE(this,"qualityTimer",null),jE(this,"_inspectId",void 0),jE(this,"_needWorkUrlOnly",!1),jE(this,"inspectImage",()=>{if(this.connectionState!==vO.CONNECTED)throw new IR(SC.OPERATION_ABORTED,"content inspect service connection status is ".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval(()=>{this.connectionState===vO.CONNECTED?this.requestToInspectImage():gR.debug("[".concat(this._inspectId,"] Inspect State is not connected , "),this.connectionState)},this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()}),this._inspectId=yI(5,"inspect-"),this.workerMessageLengthLimit=JI("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),this.inspectIntervalMinimum=JI("VIDEO_INSPECT_INTERVAL_MINIMUM"),this.qualityRatio=JI("VIDEO_INSPECT_QUALITY_RATIO"),this.inspectInterval=t.interval,this.ossFilePrefix=t.ossFilePrefix,this.extraInfo=t.extraInfo,this.inspectType=t.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new $O("worker-manager-"+this._inspectId,NI),this.on(_O.STATE_CHANGE,(t,e)=>{this._innerConnectionState=t,gR.debug("[".concat(this._inspectId,"] Inspect operation :").concat(gO[t]," ").concat(e||""))}),this.handleWorkerManagerEvents(),this.workerConnection=new $O("worker-"+this._inspectId,NI),this.handleWorkerEvents()}async init(t,e){this.emit(_O.STATE_CHANGE,gO.CONNECT_AP),this._connectInfo=t;const n=this._cancelTokenSource.token;return this._retryConfig=e,new $h((i,r)=>{this.on(_O.CONNECTION_STATE_CHANGE,(t,e)=>{e===vO.CONNECTED&&i()}),this.requestAP(t,n,e).then(t=>{this.connectWorkerManager(t)}).catch(t=>{r(t)})})}async requestAP(t,e,n){const i=JI("WEBCS_DOMAIN").map(t=>"https://".concat(t,"/api/v1")),r=await function(t,e,n,i){let{appId:r,areaCode:o,cname:s,sid:a,token:c,uid:l}=e;FV++;const u="image_moderation_api",d={service_name:u,json_body:JSON.stringify({appId:r,areaCode:o,cname:s,command:"allocateEdge",requestId:FV,seq:FV,sid:a,token:c,ts:Date.now(),uid:l+""})};let h,p,f=t[0];return LI(async()=>{h=Date.now();const t=await yV(f,{data:d,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(p=Date.now()-h,0!==t.code){const e=new IR(SC.UNEXPECTED_RESPONSE,"image inspect ap error, code"+t.code,{retry:!0,responseTime:p});throw gR.error(e.toString()),e}const e=JSON.parse(t.json_body);if(200!==e.code){const t=new IR(SC.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(e.code,", reason: ").concat(e.reason),{code:e.code,responseTime:p});throw gR.error(t.toString()),t}if(!e.servers||!Array.isArray(e.servers)||0===e.servers.length){const t=new IR(SC.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:e.code,responseTime:p});throw gR.error(t.toString()),t}const i=JI("VIDEO_INSPECT_WORKER_MANAGER_HOST"),r=JI("VIDEO_INSPECT_WORKER_MANAGER_PORT");return{addressList:e.servers.map(t=>{let{address:e,wss:n}=t;if(e&&n)return"wss://".concat(e.replace(/\./g,"-"),".").concat(i,":").concat(r||n)}).filter(t=>!!t),workerToken:e.workerToken,vid:e.vid,responseTime:p}},(e,n)=>(CR.apworkerEvent(a,{success:!0,sc:200,serviceName:u,responseDetail:JSON.stringify(e.addressList),firstSuccess:0===n,responseTime:p,serverIp:t[n%t.length]}),!1),(e,n)=>(CR.apworkerEvent(a,{success:!1,sc:e.data&&e.data.code||200,serviceName:u,responseTime:p,serverIp:t[n%t.length]}),!!(e.code!==SC.OPERATION_ABORTED&&e.code!==SC.UNEXPECTED_RESPONSE||e.data&&e.data.retry)&&(f=t[(n+1)%t.length],!0)),i)}(i,t,e,n);this.emit(_O.STATE_CHANGE,gO.AP_CONNECTED);const{addressList:o}=r;return this.wmSequence++,o}async connectWorkerManager(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=e,this.emit(_O.STATE_CHANGE,gO.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(t,1e4)}async connectWorker(t){await this.workerConnection.init([t])}handleWorkerManagerEvents(){this.workerManagerConnection.on(VA.CONNECTED,async()=>{this.emit(_O.STATE_CHANGE,gO.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+"",sdkVersion:"4.22.1",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0)}),this.workerManagerConnection.on(VA.CLOSED,()=>{this._innerConnectionState<gO.GET_WORKER_MANAGER_RESPONSE&&gR.debug("[".concat(this._inspectId,"] Inspect worker manager is closed before connecting worker"))}),this.workerManagerConnection.on(VA.FAILED,()=>{this._innerConnectionState<gO.GET_WORKER_MANAGER_RESPONSE&&gR.debug("[".concat(this._inspectId,"] Connecting inspect worker manager is failed before connecting worker"))}),this.workerManagerConnection.on(VA.RECONNECTING,()=>{this._innerConnectionState<gO.GET_WORKER_MANAGER_RESPONSE&&gR.debug("[".concat(this._inspectId,"] Inspect worker manager is reconnecting before connecting worker"))}),this.workerManagerConnection.on(VA.ON_MESSAGE,async t=>{this.emit(_O.STATE_CHANGE,gO.GET_WORKER_MANAGER_RESPONSE);const e=this.workerManagerConnection.url;this.workerManagerConnection.close();const n=JSON.parse(t.data);if(200!==n.code)throw gR.error("[".concat(this._inspectId,"] Unexpected code ").concat(n.code," from worker manager")),new IR(SC.UNEXPECTED_RESPONSE,"response code of worker is unexpected",n);if(!(n.serverResponse&&n.serverResponse.portWss&&e))throw gR.error("[".concat(this._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(n))),new IR(SC.UNEXPECTED_RESPONSE,"response content of worker is unexpected",n);{const t=JI("VIDEO_INSPECT_WORKER_PORT")||n.serverResponse.portWss,i=e.replace(/:\d+\/?$/,":".concat(t));this.emit(_O.STATE_CHANGE,gO.CONNECT_WORKER,i),this._needWorkUrlOnly?this.emit(_O.REQUEST_NEW_WORKER_URL,i):await this.connectWorker(i)}}),this.workerManagerConnection.on(VA.WILL_RECONNECT,(t,e,n)=>{n(t)}),this.workerManagerConnection.on(VA.REQUEST_NEW_URLS,(t,e)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(t).catch(e)})}handleWorkerEvents(){this.workerConnection.on(VA.CONNECTED,async()=>{this.emit(_O.STATE_CHANGE,gO.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=vO.CONNECTED}),this.workerConnection.on(VA.ON_MESSAGE,async t=>{if(t.data instanceof ArrayBuffer){const n=Iz(new Uint8Array(t.data));if(JI("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&gR.debug("[".concat(this._inspectId,"] Response message for worker of inspect content "),JSON.stringify(n)),200===n.code){if(Array.isArray(this.inspectType)&&1===this.inspectType.length&&"supervise"===this.inspectType[0])return void this.emit(_O.INSPECT_RESULT,void 0,void 0);if(n.data&&n.data.scorePorn&&n.data.scoreSexy&&n.data.scoreNeutral){var e;const t={porn:n.data.scorePorn,sexy:n.data.scoreSexy,neutral:n.data.scoreNeutral},i=Zi(e=Object.keys(t)).call(e,(e,n)=>t[e]>t[n]?e:n,"porn"),r=Object.keys(t).find(t=>t===i);this.emit(_O.INSPECT_RESULT,r)}else this.emit(_O.INSPECT_RESULT,void 0,new IR(SC.UNEXPECTED_RESPONSE,n.code+"","There is an unexpected data on message"))}else this.emit(_O.INSPECT_RESULT,void 0,new IR(SC.UNEXPECTED_RESPONSE,n.code+"",n.msg))}else gR.error("[".concat(this._inspectId,"] Unexpected message type from worker")),this.emit(_O.INSPECT_RESULT,void 0,new IR(SC.UNEXPECTED_RESPONSE,"invalid worker message type"))}),this.workerConnection.on(VA.CLOSED,()=>{this.connectionState=vO.CLOSED}),this.workerConnection.on(VA.FAILED,()=>{this.connectionState=vO.CLOSED}),this.workerConnection.on(VA.RECONNECTING,()=>{this.connectionState=this.connectionState===vO.CONNECTED?vO.RECONNECTING:vO.CONNECTING}),this.workerConnection.on(VA.WILL_RECONNECT,(t,e,n)=>{"recover"===t&&n(t),n("tryNext")}),this.workerConnection.on(VA.REQUEST_NEW_URLS,(t,e)=>{this.workerManagerConnection.close(),this.once(_O.REQUEST_NEW_WORKER_URL,e=>{t([e])}),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(t=>{this.connectWorkerManager(t,!0)}).catch(t=>{e(t)})})}async requestToInspectImage(){this.sequence++;const t=eI(this,_O.CLIENT_LOCAL_VIDEO_TRACK),e={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(t){if(!t.isPlaying)return void this.emit(_O.INSPECT_RESULT,void 0,new IR(SC.INVALID_OPERATION,"Only the track being played can be inspected"));const n=await this.generateRequestData(t,e);this.workerConnection.sendMessage(n,!0,!0)}else this.emit(_O.INSPECT_RESULT,void 0,new IR(SC.INVALID_OPERATION,"Only the track being published can be inspected"))}async generateRequestData(t,e){let{appId:n,cname:i,cid:r,vid:o,sid:s,uid:a}=e;const c=Date.now(),l=await t.getCurrentFrameImage("image/jpeg",this.quality),u=await xP(l,n,i),d=this.sequence+"-"+r+"-"+a+"-"+c+"-"+yI(12,""),h={appId:n,cid:r,cname:i,deviceId:"",elapse:tY(Number(c-this.inspectStartTime)),fileSize:u.byteLength,jpgEncryption:2,height:l.height,width:l.width,jpg:u,networkType:6,osType:7,requestId:d,sdkVersion:"4.22.1",sequence:this.sequence,sid:s,timestamp:tY(c),uid:a,vid:o,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};void 0===this.extraInfo&&delete h.callbackData,void 0===this.ossFilePrefix&&delete h.ossFilePrefix;const p=Cz(h);if(p.byteLength<this.workerMessageLengthLimit){if(JI("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")){const t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zz(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},h);delete t.jpg,gR.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(t))}return p}{const e=this.quality*this.qualityRatio;return this.quality=e,await this.generateRequestData(t,{appId:n,cname:i,cid:r,vid:o,sid:s,uid:a})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=Pw.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=vO.CLOSED,this.emit(_O.STATE_CHANGE,gO.CLOSED)}}const nY={name:"ContentInspect",create:function(t){let{config:e}=t;return function(t){if(!t)throw new IR(SC.INVALID_PARAMS,"inspectConfig is necessary.");if(!t.inspectType||!Array.isArray(t.inspectType))throw new IR(SC.INVALID_PARAMS,"inspectConfig.inspectType is necessary and is an instance of Array.");{const e=[...new Set(t.inspectType)];e.forEach(t=>{var e;if(!Pi(e=["supervise","moderation"]).call(e,t))throw new IR(SC.INVALID_PARAMS,"".concat(t," is not a valid inspect type."))}),t.inspectType=e}if(t&&t.extraInfo&&t.extraInfo.length>1024)throw new IR(SC.INVALID_PARAMS,"inspectConfig.extraInfo length cannot exceed 1024 bytes")}(e),new eY(e)}};XI("PROCESS_ID","process-".concat(yI(8,""),"-").concat(yI(4,""),"-").concat(yI(4,""),"-").concat(yI(4,""),"-").concat(yI(12,""))),function(){let t;try{t=window.localStorage.getItem("websdk_ng_global_parameter")}catch(t){return void gR.error("Error loading sdk config",t.message)}if(t)try{const e=JSON.parse(window.atob(t)),n=Date.now();gR.debug("Loading global parameters from cache",e),Object.keys(e).forEach(t=>{if(Object.prototype.hasOwnProperty.call(qI,t)){const{value:i,expires:r}=e[t];if(r&&r<=n)return;ZI[t]=i,qI[t]=i}})}catch(r){gR.error("Error loading mutableParamsCache: ".concat(t),r.message)}}(),Array.isArray(ZI.AREAS)&&ZI.AREAS.length>0&&AV(ZI.AREAS,!0);const iY=(t,e,n)=>{gR.debug("setParameter key:".concat(t,", value:").concat(JSON.stringify(e))),XI(t,e,n)};Ej(gz,!1),Ej(wz,!1),Ej(LF,!1),Ej(nY,!1),Ej(fz,!1);const rY=function(t){const e=new UC,n=t,i={getListeners:e.getListeners.bind(e),on:(t,n)=>(function(t,e){t===EO.SECURITY_POLICY_VIOLATION&&PH(e,!0)}(t,n),e.on.bind(e)(t,n)),addListener:e.addListener.bind(e),once:e.once.bind(e),off:e.off.bind(e),removeAllListeners:e.removeAllListeners.bind(e),emit:e.emit.bind(e),safeEmit:e.safeEmit.bind(e)};return kH(kH({},n),i)}({__TRACK_LIST__:mN,VERSION:WI,BUILD:KI,ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:iY,getParameter:JI,getSupportedCodec:async function(){let t={audio:[],video:[]};try{let e=new RTCPeerConnection;const n=await async function(t){let e;return Qk().supportUnifiedPlan?(t.addTransceiver("video",{direction:"recvonly"}),t.addTransceiver("audio",{direction:"recvonly"}),e=(await t.createOffer()).sdp):e=(await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,e}(e);if(!n)return t;e.close(),e=null,t=function(t){const e={video:[],audio:[]};return t.match(/ VP8/i)&&e.video.push("VP8"),t.match(/ VP9/i)&&e.video.push("VP9"),t.match(/ AV1/i)&&e.video.push("AV1"),t.match(/ H264/i)&&e.video.push("H264"),t.match(/ H265/i)&&e.video.push("H265"),t.match(/ opus/i)&&e.audio.push("OPUS"),t.match(/ PCMU/i)&&e.audio.push("PCMU"),t.match(/ PCMA/i)&&e.audio.push("PCMA"),t.match(/ G722/i)&&e.audio.push("G722"),e}(n)}catch(t){throw new IR(SC.CREATE_OFFER_FAILED,t.toString&&t.toString()).print()}return t},checkSystemRequirements:function(){const t=CR.reportApiInvoke(null,{name:FC.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:HC.TRACER});let e=!1;try{const t=window.RTCPeerConnection,n=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,i=window.WebSocket;e=!!(t&&n&&i),e&&mC()&&nC(75)&&(new t).close()}catch(t){return gR.error("check system requirement failed: ",t),!1}let n=!1;const i=$w();i.name===Fw.CHROME&&Number(i.version)>=58&&("WebKit"!==Ww.engine.name||function(){const t=$w();if(qw()){if(t.os===jw.MAC_OS)return!0;if(t.os===jw.IOS){const t=Ww.os.version&&Ww.os.version.split(".");if(t&&14===Number(t[0])&&t[1]&&Number(t[1])>=3)return!0;if(t&&Number(t[0])>14)return!0}}return!1}())&&(n=!0),(i.name===Fw.FIREFOX&&Number(i.version)>=56||i.name===Fw.OPERA&&Number(i.version)>=45||i.name===Fw.SAFARI&&Number(i.version)>=11||"WebKit"===i.name&&(tC()||hC())&&i.osVersion&&Number(i.osVersion.split(".")[0])>=11||pC()||$w().name===Fw.QQ)&&(n=!0),gR.debug("checkSystemRequirements, api:",e,"browser",n);const r=e&&n;return t.onSuccess(r),r},getDevices:function(t){return hP.enumerateDevices(!0,!0,t)},getMicrophones:function(t){return hP.getRecordingDevices(t)},getCameras:function(t){return hP.getCamerasDevices(t)},getElectronScreenSources:rP,getPlaybackDevices:function(t){return hP.getSpeakers(t)},createClient:function(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"};const n=CR.reportApiInvoke(null,{name:FC.CREATE_CLIENT,options:[e],tag:HC.TRACER});try{!function(t){CC(t.codec,"config.codec",["vp8","vp9","av1","h264","h265"]),CC(t.mode,"config.mode",["rtc","live","p2p"]),void 0!==t.audioCodec&&CC(t.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==t.proxyServer&&AC(t.proxyServer,"config.proxyServer",1,1e4),void 0!==t.turnServer&&YC(t.turnServer),void 0!==t.httpRetryConfig&&WC(t.httpRetryConfig),void 0!==t.websocketRetryConfig&&WC(t.websocketRetryConfig)}(e)}catch(t){throw n.onError(t),t}return(oC(16,0,!0)||sC(16,0,!0))&&("vp9"===e.codec&&(e.codec="vp8",gR.debug("browser not support vp9, force use vp8")),XI("UNSUPPORTED_VIDEO_CODEC",["vp9"])),void 0===e.audioCodec&&(e.audioCodec="opus"),n.onSuccess(),new CH(wH(wH({forceWaitGatewayResponse:!0},e),{},{role:Pi(t=["rtc","p2p"]).call(t,e.mode)?"host":e.role||"audience"}))},createCameraVideoTrack:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=JI("CAMERA_CAPTURE_CONFIG"),n=CR.reportApiInvoke(null,{tag:HC.TRACER,name:FC.CREATE_CAM_VIDEO_TRACK,options:[WN({},t),e]});e&&(t.encoderConfig=e);const i=RP(t),r=yI(8,"track-cam-");let o=null;gR.info("start create camera video track with config",JSON.stringify(t),"trackId",r);try{o=(await cP({video:i},r)).getVideoTracks()[0]||null}catch(t){throw n.onError(t),t}if(!o){const t=new TC(SC.UNEXPECTED_ERROR,"can not find track in media stream");return n.onError(t),t.throw(gR)}t.optimizationMode&&uM(r,o,t,uN(t.encoderConfig));const s=new lM(o,t,i,t.scalabiltyMode?hN(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,r);return n.onSuccess(s.getTrackId()),gR.info("create camera video success, trackId:",r),s},createCustomVideoTrack:function(t){const e=CR.reportApiInvoke(null,{tag:HC.TRACER,name:FC.CREATE_CUSTOM_VIDEO_TRACK,options:[t]}),n=new cM(t.mediaStreamTrack,{width:t.width,height:t.height,frameRate:t.frameRate,bitrateMax:t.bitrateMax,bitrateMin:t.bitrateMin},t.scalabiltyMode?hN(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,yI(8,"track-cus-"),[_N.CUSTOM_TRACK]);return e.onSuccess(n.getTrackId()),gR.info("create custom video track success with config",t,"trackId",n.getTrackId()),n},createScreenVideoTrack:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"disable";const n=CR.reportApiInvoke(null,{tag:HC.TRACER,name:FC.CREATE_SCREEN_VIDEO_TRACK,options:[WN({},t),e]});t.encoderConfig?"string"==typeof t.encoderConfig||t.encoderConfig.width&&t.encoderConfig.height||(t.encoderConfig.width={max:1920},t.encoderConfig.height={max:1080}):t.encoderConfig="1080p_2";const i=function(t){const e={};t.screenSourceType&&(e.mediaSource=t.screenSourceType),t.extensionId&&Xw()&&(e.extensionId=t.extensionId);const{displaySurface:n,selfBrowserSurface:i,surfaceSwitching:r,systemAudio:o}=t;(eC(107)||iC(107)||aC(93))&&(n&&(CC(n,"displaySurface",["browser","window","monitor"]),e.displaySurface=n),i?(CC(i,"selfBrowserSurface",["exclude","include"]),e.selfBrowserSurface=i):e.selfBrowserSurface="include",r&&(CC(r,"surfaceSwitching",["exclude","include"]),e.surfaceSwitching=r)),(eC(105)||iC(105)||aC(91))&&o&&(CC(o,"systemAudio",["exclude","include"]),e.systemAudio=o),t.electronScreenSourceId&&(e.sourceId=t.electronScreenSourceId);const s=t.encoderConfig?dN(t.encoderConfig):null;return e.mandatory={chromeMediaSource:"desktop",maxWidth:s?s.width:void 0,maxHeight:s?s.height:void 0},s&&(s.frameRate&&("number"==typeof s.frameRate?(e.mandatory.maxFrameRate=s.frameRate,e.mandatory.minFrameRate=s.frameRate):(e.mandatory.maxFrameRate=s.frameRate.max||s.frameRate.ideal||s.frameRate.exact||void 0,e.mandatory.minFrameRate=s.frameRate.min||s.frameRate.ideal||s.frameRate.exact||void 0),e.frameRate=s.frameRate),s.width&&(e.width=s.width),s.height&&(e.height=s.height)),e}(t),r=yI(8,"track-scr-v-");let o=null,s=null;const a=Qk();if(!a.supportShareAudio&&"enable"===e){const t=new TC(SC.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio");return n.onError(t),t.throw(gR)}gR.info("start create screen video track with config",t,"withAudio",e,"trackId",r);try{const t=await cP({screen:i,screenAudio:"auto"===e?a.supportShareAudio:"enable"===e},r);o=t.getVideoTracks()[0]||null,s=t.getAudioTracks()[0]||null}catch(t){throw n.onError(t),t}if(!o){const t=new TC(SC.UNEXPECTED_ERROR,"can not find track in media stream");return n.onError(t),t.throw(gR)}if(!s&&"enable"===e){o&&o.stop();const t=new TC(SC.SHARE_AUDIO_NOT_ALLOWED);return n.onError(t),t.throw(gR)}t.optimizationMode||(t.optimizationMode="detail"),t.optimizationMode&&(uM(r,o,t,t.encoderConfig&&dN(t.encoderConfig)||void 0),t.encoderConfig&&"string"!=typeof t.encoderConfig&&(t.encoderConfig.bitrateMin=t.encoderConfig.bitrateMax));const c=new cM(o,t.encoderConfig?dN(t.encoderConfig):{},t.scalabiltyMode?hN(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,r,[_N.SCREEN_TRACK]);if(!s)return n.onSuccess(c.getTrackId()),gR.info("create screen video track success","video:",c.getTrackId()),c;const l=new yL(s,void 0,yI(8,"track-scr-a-"),!1);return n.onSuccess([c.getTrackId(),l.getTrackId()]),gR.info("create screen video track success","video:",c.getTrackId(),"audio:",l.getTrackId()),[c,l]},createMicrophoneAndCameraTracks:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=JI("CAMERA_CAPTURE_CONFIG"),i=CR.reportApiInvoke(null,{tag:HC.TRACER,name:FC.CREATE_MIC_AND_CAM_TRACKS,options:[t,e,n]});n&&(e.encoderConfig=n);const r=RP(e),o=AP(t),s=yI(8,"track-mic-"),a=yI(8,"track-cam-");let c=null,l=null;gR.info("start create camera video track(".concat(a,") and microphone audio track(").concat(s,") with config, audio: ").concat(JSON.stringify(t),", video: ").concat(JSON.stringify(e)));try{const t=await cP({audio:o,video:r},"".concat(s,"-").concat(a));c=t.getAudioTracks()[0],l=t.getVideoTracks()[0]}catch(t){throw i.onError(t),t}if(!c||!l){const t=new TC(SC.UNEXPECTED_ERROR,"can not find tracks in media stream");return i.onError(t),t.throw(gR)}e.optimizationMode&&uM(a,l,e,uN(e.encoderConfig));const u=new EL(c,t,o,s),d=new lM(l,e,r,e.scalabiltyMode?hN(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,a);return i.onSuccess([u.getTrackId(),d.getTrackId()]),gR.info("create camera video track(".concat(a,") and microphone audio track(").concat(s,") success")),[u,d]},createMicrophoneAudioTrack:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=CR.reportApiInvoke(null,{tag:HC.TRACER,name:FC.CREATE_MIC_AUDIO_TRACK,options:[t]}),n=AP(t),i=yI(8,"track-mic-");let r=null;gR.info("start create microphone audio track with config",JSON.stringify(t),"trackId",i);try{r=(await cP({audio:n},i)).getAudioTracks()[0]||null}catch(t){throw e.onError(t),t}if(!r){const t=new TC(SC.UNEXPECTED_ERROR,"can not find track in media stream");return e.onError(t),t.throw(gR)}const o=new EL(r,t,n,i);return e.onSuccess(o.getTrackId()),gR.info("create microphone audio track success, trackId:",i),o},createCustomAudioTrack:function(t){const e=CR.reportApiInvoke(null,{tag:HC.TRACER,name:FC.CREATE_CUSTOM_AUDIO_TRACK,options:[t]}),n=new yL(t.mediaStreamTrack,t.encoderConfig?fN(t.encoderConfig):{},yI(8,"track-cus-"),!1);return gR.info("create custom audio track success with config",t,"trackId",n.getTrackId()),e.onSuccess(n.getTrackId()),n},createBufferSourceAudioTrack:async function(t){var e;const{cacheOnlineFile:n,encoderConfig:i}=t;let{source:r}=t;const o={source:r instanceof AudioBuffer?"AudioBuffer":r instanceof File?null!==(e=File.name)&&void 0!==e?e:"File":r,cacheOnlineFile:n,encoderConfig:i},s=CR.reportApiInvoke(null,{tag:HC.TRACER,name:FC.CREATE_BUFFER_AUDIO_TRACK,options:[o]});if(JI("DISABLE_WEBAUDIO"))throw new TC(SC.NOT_SUPPORTED,"can not create BufferSourceAudioTrack when WebAudio disabled");const a=yI(8,"track-buf-");gR.info("start create buffer source audio track with config",JSON.stringify(o),"trackId",a);const c=r;if(!(r instanceof AudioBuffer))try{r=await async function(t,e){let n=null;if("string"==typeof t){const e=wL.get(t);if(e)return gR.debug("use cached audio resource: ",t),e;try{n=(await LI(()=>Pw.get(t,{responseType:"arraybuffer"}),void 0,void 0,{maxRetryCount:3})).data}catch(t){throw new TC(SC.FETCH_AUDIO_FILE_FAILED,t.toString())}}else{const e=new $h((e,n)=>{const i=new FileReader;i.onload=t=>{t.target?e(t.target.result):n(new TC(SC.READ_LOCAL_AUDIO_FILE_ERROR))},i.onerror=()=>{n(new TC(SC.READ_LOCAL_AUDIO_FILE_ERROR))},i.readAsArrayBuffer(t)});n=await e}const i=await function(t){const e=qN();return new $h((n,i)=>{e.decodeAudioData(t,t=>{n(t)},t=>{i(new TC(SC.DECODE_AUDIO_FILE_FAILED,t.toString()))})})}(n);return"string"==typeof t&&e&&wL.set(t,i),i}(r,n)}catch(t){return s.onError(t),t.throw(gR)}const l=new TL(r),u=new bL(c,l,i?fN(i):{},a);return gR.info("create buffer source audio track success, trackId:",a),s.onSuccess(u.getTrackId()),u},setAppType:function(t){if(gR.debug("setAppType: ".concat(t)),!(Number.isInteger(t)&&t>=0))throw gR.debug("Invalid appType"),new IR(SC.INVALID_PARAMS,"invalid app type",t);XI("APP_TYPE",Math.floor(t))},setLogLevel:function(t){gR.setLogLevel(t)},enableLogUpload:function(){JI("USE_NEW_LOG")?XI("UPLOAD_LOG",!0):gR.enableLogUpload()},disableLogUpload:function(){JI("USE_NEW_LOG")?XI("UPLOAD_LOG",!1):gR.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new NB},checkAudioTrackIsActive:async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=CR.reportApiInvoke(null,{tag:HC.TRACER,name:FC.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[e]});if(!(t instanceof yL||t instanceof CM)){const t=new IR(SC.INVALID_TRACK,"the parameter is not a audio track");return n.onError(t),t.throw()}e&&e<1e3&&(e=1e3);const i=t instanceof yL?t.getTrackLabel():"remote_track",r=t.getVolumeLevel();let o=r,s=r;const a=Date.now();return new $h(r=>{const c=setInterval(()=>{const l=t.getVolumeLevel();o=l>o?l:o,s=l<s?l:s;const u=o-s>1e-4,d=Date.now()-a;if(u||d>e){clearInterval(c);const e=u,s={duration:d,deviceLabel:i,maxVolumeLevel:o,result:e};gR.info("[track-".concat(t.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(s))),n.onSuccess(s),r(e)}},200)})},checkVideoTrackIsActive:async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=CR.reportApiInvoke(null,{tag:HC.TRACER,name:FC.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[e]});if(!(t instanceof cM||t instanceof wM)){const t=new IR(SC.INVALID_TRACK,"the parameter is not a video track");return n.onError(t),t.throw()}e&&e<1e3&&(e=1e3);const i=t instanceof cM?t.getTrackLabel():"remote_track",r=t.getMediaStreamTrack(!0),o=document.createElement("video");o.style.width="1px",o.style.height="1px",o.setAttribute("muted",""),o.muted=!0,o.setAttribute("playsinline",""),o.controls=!1,(Jw()||qw())&&(o.style.opacity="0.01",o.style.position="fixed",o.style.left="0",o.style.top="0",document.body.appendChild(o)),o.srcObject=new MediaStream([r]),o.play();const s=document.createElement("canvas");s.width=160,s.height=120;let a=0,c=0;try{const t=Date.now();a=await function(t,e,n,i){let r,o=0,s=null;return new $h((a,c)=>{function l(){o>i&&r&&(r(),a(o));const e=n.getContext("2d");if(!e){const t=new IR(SC.UNEXPECTED_ERROR,"can not get canvas 2d context.");return gR.error(t.toString()),void c(t)}e.drawImage(t,0,0,160,120);const l=e.getImageData(0,0,n.width,n.height),u=Math.floor(l.data.length/3);if(s){for(let t=0;t<u;t+=3)if(l.data[t]!==s[t])return o+=1,void(s=l.data);s=l.data}else s=l.data}setTimeout(()=>{r&&(r(),a(o))},e),r=ZN(()=>{l()},30)})}(o,e,s,4),c=Date.now()-t}catch(t){throw n.onError(t),t}kj===Fw.SAFARI&&(o.pause(),o.remove()),o.srcObject=null;const l=a>4,u={duration:c,changedPicNum:a,deviceLabel:i,result:l};return gR.info("[track-".concat(t.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(u))),n.onSuccess(u),l},setArea:AV,audioElementPlayCenter:_P,resumeAudioContext:function(){_P.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(t){xH.processExternalMediaAEC(t)},registerExtensions:function(t){const e=JI("PLUGIN_INFO")||[];t.forEach(t=>{"name"in t&&!Pi(e).call(e,t.name)&&e.push(t.name);const n=t;n.__registered__=!0,n.logger.hookLog=gR.extLog,n.reporter.hookApiInvoke=CR.extApiInvoke,n.parameters&&Object.keys(n.parameters).forEach(t=>{n.parameters[t]=JI(t)})}),iY("PLUGIN_INFO",e)},ChannelMediaRelayError:ZA,ChannelMediaRelayEvent:XA,ChannelMediaRelayState:JA,RemoteStreamFallbackType:bN,RemoteStreamType:EN,ConnectionDisconnectedReason:$C,AudienceLatencyLevelType:GC,AREAS:iO,preload:async function(t,e,n,i){return zj(t,e,n,i)}});return Object.defineProperties(rY,{onAudioAutoplayFailed:{get:()=>fP.onAudioAutoplayFailed,set:t=>{fP.onAudioAutoplayFailed=t}},onAutoplayFailed:{get:()=>fP.onAutoplayFailed,set:t=>{fP.onAutoplayFailed=t}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>rY._onSecurityPolicyViolation,set(t){rY._onSecurityPolicyViolation=t,PH(t)}},__CLIENT_LIST__:{get:()=>JI("SHOW_GLOBAL_CLIENT_LIST")?OR:[]}}),hP.on(LN.CAMERA_DEVICE_CHANGED,t=>{gR.info("camera device changed",JSON.stringify(t)),rY.onCameraChanged&&rY.onCameraChanged(t),rY.safeEmit(EO.CAMERA_CHANGED,t)}),hP.on(LN.RECORDING_DEVICE_CHANGED,t=>{gR.info("microphone device changed",JSON.stringify(t)),rY.onMicrophoneChanged&&rY.onMicrophoneChanged(t),rY.safeEmit(EO.MICROPHONE_CHANGED,t)}),hP.on(LN.PLAYOUT_DEVICE_CHANGED,t=>{gR.debug("playout device changed",JSON.stringify(t)),rY.onPlaybackDeviceChanged&&rY.onPlaybackDeviceChanged(t),rY.safeEmit(EO.PLAYBACK_DEVICE_CHANGED,t)}),_P.onAutoplayFailed=()=>{gR.info("detect audio element autoplay failed"),fP.onAudioAutoplayFailed&&fP.onAudioAutoplayFailed()},KN.on("autoplay-failed",()=>{gR.info("detect webaudio autoplay failed"),fP.onAudioAutoplayFailed&&fP.onAudioAutoplayFailed(),rY.safeEmit(EO.AUTOPLAY_FAILED)}),KN.on(nN.STATE_CHANGE,(t,e)=>{gR.info("audio context state changed: ".concat(e," => ").concat(t)),rY.onAudioContextStateChanged&&rY.onAudioContextStateChanged(t,e),rY.safeEmit(EO.AUDIO_CONTEXT_STATE_CHANGED,t,e)}),iI.on(ZC.NETWORK_STATE_CHANGE,(t,e)=>{gR.info("[network-indicator] network state changed, ".concat(e," => ").concat(t))}),window&&(window.__ARTC__=rY),rY}))}).call(this,n("c8ba"),n("f28c"),n("b639").Buffer)},e7d2:function(t,e,n){var i=n("4a3f");function r(t,e,n,r,o,s,a,c,l,u,d){if(0===l)return!1;var h=l;if(d>e+h&&d>r+h&&d>s+h&&d>c+h||d<e-h&&d<r-h&&d<s-h&&d<c-h||u>t+h&&u>n+h&&u>o+h&&u>a+h||u<t-h&&u<n-h&&u<o-h&&u<a-h)return!1;var p=i.cubicProjectPoint(t,e,n,r,o,s,a,c,u,d,null);return p<=h/2}e.containStroke=r},e804:function(t,e,n){"use strict";var i=n("5ca1"),r=n("f1ae");i(i.S+i.F*n("79e5")((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);while(e>t)r(n,t,arguments[t++]);return n.length=e,n}})},e853:function(t,e,n){var i=n("d3f4"),r=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},e86a:function(t,e,n){var i=n("9850"),r=n("5e76"),o=n("6d8b"),s=o.getContext,a=o.extend,c=o.retrieve2,l=o.retrieve3,u=o.trim,d={},h=0,p=5e3,f=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,m="12px sans-serif",v={};function g(t,e){v[t]=e}function _(t,e){e=e||m;var n=t+":"+e;if(d[n])return d[n];for(var i=(t+"").split("\n"),r=0,o=0,s=i.length;o<s;o++)r=Math.max(D(i[o],e).width,r);return h>p&&(h=0,d={}),h++,d[n]=r,r}function y(t,e,n,i,r,o,s,a){return s?b(t,e,n,i,r,o,s,a):E(t,e,n,i,r,o,a)}function E(t,e,n,r,o,s,a){var c=k(t,e,o,s,a),l=_(t,e);o&&(l+=o[1]+o[3]);var u=c.outerHeight,d=S(0,l,n),h=T(0,u,r),p=new i(d,h,l,u);return p.lineHeight=c.lineHeight,p}function b(t,e,n,r,o,s,a,c){var l=N(t,{rich:a,truncate:c,font:e,textAlign:n,textPadding:o,textLineHeight:s}),u=l.outerWidth,d=l.outerHeight,h=S(0,u,n),p=T(0,d,r);return new i(h,p,u,d)}function S(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function T(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function w(t,e,n){var i=e.textPosition,r=e.textDistance,o=n.x,s=n.y;r=r||0;var a=n.height,c=n.width,l=a/2,u="left",d="top";switch(i){case"left":o-=r,s+=l,u="right",d="middle";break;case"right":o+=r+c,s+=l,d="middle";break;case"top":o+=c/2,s-=r,u="center",d="bottom";break;case"bottom":o+=c/2,s+=a+r,u="center";break;case"inside":o+=c/2,s+=l,u="center",d="middle";break;case"insideLeft":o+=r,s+=l,d="middle";break;case"insideRight":o+=c-r,s+=l,u="right",d="middle";break;case"insideTop":o+=c/2,s+=r,u="center";break;case"insideBottom":o+=c/2,s+=a-r,u="center",d="bottom";break;case"insideTopLeft":o+=r,s+=r;break;case"insideTopRight":o+=c-r,s+=r,u="right";break;case"insideBottomLeft":o+=r,s+=a-r,d="bottom";break;case"insideBottomRight":o+=c-r,s+=a-r,u="right",d="bottom";break}return t=t||{},t.x=o,t.y=s,t.textAlign=u,t.textVerticalAlign=d,t}function C(t,e,n){var i={textPosition:t,textDistance:n};return w({},i,e)}function I(t,e,n,i,r){if(!e)return"";var o=(t+"").split("\n");r=R(e,n,i,r);for(var s=0,a=o.length;s<a;s++)o[s]=A(o[s],r);return o.join("\n")}function R(t,e,n,i){i=a({},i),i.font=e;n=c(n,"...");i.maxIterations=c(i.maxIterations,2);var r=i.minChar=c(i.minChar,0);i.cnCharWidth=_("",e);var o=i.ascCharWidth=_("a",e);i.placeholder=c(i.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<r&&s>=o;l++)s-=o;var u=_(n,e);return u>s&&(n="",u=0),s=t-u,i.ellipsis=n,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=t,i}function A(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return"";var o=_(t,i);if(o<=n)return t;for(var s=0;;s++){if(o<=r||s>=e.maxIterations){t+=e.ellipsis;break}var a=0===s?O(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;t=t.substr(0,a),o=_(t,i)}return""===t&&(t=e.placeholder),t}function O(t,e,n,i){for(var r=0,o=0,s=t.length;o<s&&r<e;o++){var a=t.charCodeAt(o);r+=0<=a&&a<=127?n:i}return o}function x(t){return _("",t)}function D(t,e){return v.measureText(t,e)}function k(t,e,n,i,r){null!=t&&(t+="");var o=c(i,x(e)),s=t?t.split("\n"):[],a=s.length*o,l=a,u=!0;if(n&&(l+=n[0]+n[2]),t&&r){u=!1;var d=r.outerHeight,h=r.outerWidth;if(null!=d&&l>d)t="",s=[];else if(null!=h)for(var p=R(h-(n?n[1]+n[3]:0),e,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),f=0,m=s.length;f<m;f++)s[f]=A(s[f],p)}return{lines:s,height:a,outerHeight:l,lineHeight:o,canCacheByTextString:u}}function N(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;var i,o=f.lastIndex=0;while(null!=(i=f.exec(t))){var s=i.index;s>o&&P(n,t.substring(o,s)),P(n,i[2],i[1]),o=f.lastIndex}o<t.length&&P(n,t.substring(o,t.length));var a=n.lines,u=0,d=0,h=[],p=e.textPadding,m=e.truncate,v=m&&m.outerWidth,g=m&&m.outerHeight;p&&(null!=v&&(v-=p[1]+p[3]),null!=g&&(g-=p[0]+p[2]));for(var y=0;y<a.length;y++){for(var E=a[y],b=0,S=0,T=0;T<E.tokens.length;T++){var w=E.tokens[T],C=w.styleName&&e.rich[w.styleName]||{},R=w.textPadding=C.textPadding,A=w.font=C.font||e.font,O=w.textHeight=c(C.textHeight,x(A));if(R&&(O+=R[0]+R[2]),w.height=O,w.lineHeight=l(C.textLineHeight,e.textLineHeight,O),w.textAlign=C&&C.textAlign||e.textAlign,w.textVerticalAlign=C&&C.textVerticalAlign||"middle",null!=g&&u+w.lineHeight>g)return{lines:[],width:0,height:0};w.textWidth=_(w.text,A);var D=C.textWidth,k=null==D||"auto"===D;if("string"===typeof D&&"%"===D.charAt(D.length-1))w.percentWidth=D,h.push(w),D=0;else{if(k){D=w.textWidth;var N=C.textBackgroundColor,L=N&&N.image;L&&(L=r.findExistImage(L),r.isImageReady(L)&&(D=Math.max(D,L.width*O/L.height)))}var M=R?R[1]+R[3]:0;D+=M;var V=null!=v?v-S:null;null!=V&&V<D&&(!k||V<M?(w.text="",w.textWidth=D=0):(w.text=I(w.text,V-M,A,m.ellipsis,{minChar:m.minChar}),w.textWidth=_(w.text,A),D=w.textWidth+M))}S+=w.width=D,C&&(b=Math.max(b,w.lineHeight))}E.width=S,E.lineHeight=b,u+=b,d=Math.max(d,S)}n.outerWidth=n.width=c(e.textWidth,d),n.outerHeight=n.height=c(e.textHeight,u),p&&(n.outerWidth+=p[1]+p[3],n.outerHeight+=p[0]+p[2]);for(y=0;y<h.length;y++){w=h[y];var U=w.percentWidth;w.width=parseInt(U,10)/100*d}return n}function P(t,e,n){for(var i=""===e,r=e.split("\n"),o=t.lines,s=0;s<r.length;s++){var a=r[s],c={styleName:n,text:a,isLineHolder:!a&&!i};if(s)o.push({tokens:[c]});else{var l=(o[o.length-1]||(o[0]={tokens:[]})).tokens,u=l.length;1===u&&l[0].isLineHolder?l[0]=c:(a||!u||i)&&l.push(c)}}}function L(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&u(e)||t.textFont||t.font}v.measureText=function(t,e){var n=s();return n.font=e||m,n.measureText(t)},e.DEFAULT_FONT=m,e.$override=g,e.getWidth=_,e.getBoundingRect=y,e.adjustTextX=S,e.adjustTextY=T,e.calculateTextPosition=w,e.adjustTextPositionOnRect=C,e.truncateText=I,e.getLineHeight=x,e.measureText=D,e.parsePlainText=k,e.parseRichText=N,e.makeFont=L},e887:function(t,e,n){var i=n("6d8b"),r=i.each,o=n("e1fc"),s=n("8918"),a=n("625e"),c=n("e0d3"),l=n("2306"),u=n("f47d"),d=u.createTask,h=n("cccd"),p=c.makeInner(),f=h();function m(){this.group=new o,this.uid=s.getUID("viewChart"),this.renderTask=d({plan:y,reset:E}),this.renderTask.context={view:this}}m.prototype={type:"chart",init:function(t,e){},render:function(t,e,n,i){},highlight:function(t,e,n,i){_(t.getData(),i,"emphasis")},downplay:function(t,e,n,i){_(t.getData(),i,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var v=m.prototype;function g(t,e,n){if(t&&(t.trigger(e,n),t.isGroup&&!l.isHighDownDispatcher(t)))for(var i=0,r=t.childCount();i<r;i++)g(t.childAt(i),e,n)}function _(t,e,n){var i=c.queryDataIndex(t,e),o=e&&null!=e.highlightKey?l.getHighlightDigit(e.highlightKey):null;null!=i?r(c.normalizeToArray(i),(function(e){g(t.getItemGraphicEl(e),n,o)})):t.eachItemGraphicEl((function(t){g(t,n,o)}))}function y(t){return f(t.model)}function E(t){var e=t.model,n=t.ecModel,i=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,s=t.view,a=r&&p(r).updateMethod,c=o?"incrementalPrepareRender":a&&s[a]?a:"render";return"render"!==c&&s[c](e,n,i,r),b[c]}v.updateView=v.updateLayout=v.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},a.enableClassExtend(m,["dispose"]),a.enableClassManagement(m,{registerWhenExtend:!0}),m.markUpdateMethod=function(t,e){p(t).updateMethod=e};var b={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},S=m;t.exports=S},eb6b:function(t,e,n){var i=n("6d8b"),r=n("e0d3"),o=r.makeInner,s=n("cd33"),a=n("133d"),c=i.each,l=i.curry,u=o();function d(t,e,n){var r=t.currTrigger,o=[t.x,t.y],s=t,u=t.dispatchAction||i.bind(n.dispatchAction,n),d=e.getComponent("axisPointer").coordSysAxesInfo;if(d){b(o)&&(o=a({seriesIndex:s.seriesIndex,dataIndex:s.dataIndex},e).point);var p=b(o),S=s.axesInfo,T=d.axesInfo,w="leave"===r||b(o),C={},I={},R={list:[],map:{}},A={showPointer:l(f,I),showTooltip:l(m,R)};c(d.coordSysMap,(function(t,e){var n=p||t.containPoint(o);c(d.coordSysAxesInfo[e],(function(t,e){var i=t.axis,r=y(S,t);if(!w&&n&&(!S||r)){var s=r&&r.value;null!=s||p||(s=i.pointToData(o)),null!=s&&h(t,s,A,!1,C)}}))}));var O={};return c(T,(function(t,e){var n=t.linkGroup;n&&!I[e]&&c(n.axesInfo,(function(e,i){var r=I[i];if(e!==t&&r){var o=r.value;n.mapper&&(o=t.axis.scale.parse(n.mapper(o,E(e),E(t)))),O[t.key]=o}}))})),c(O,(function(t,e){h(T[e],t,A,!0,C)})),v(I,T,C),g(R,o,t,u),_(T,u,n),C}}function h(t,e,n,r,o){var s=t.axis;if(!s.scale.isBlank()&&s.containData(e))if(t.involveSeries){var a=p(e,t),c=a.payloadBatch,l=a.snapToValue;c[0]&&null==o.seriesIndex&&i.extend(o,c[0]),!r&&t.snap&&s.containData(l)&&null!=l&&(e=l),n.showPointer(t,e,c,o),n.showTooltip(t,a,l)}else n.showPointer(t,e)}function p(t,e){var n=e.axis,i=n.dim,r=t,o=[],s=Number.MAX_VALUE,a=-1;return c(e.seriesModels,(function(e,l){var u,d,h=e.getData().mapDimension(i,!0);if(e.getAxisTooltipData){var p=e.getAxisTooltipData(h,t,n);d=p.dataIndices,u=p.nestestValue}else{if(d=e.getData().indicesOfNearest(h[0],t,"category"===n.type?.5:null),!d.length)return;u=e.getData().get(h[0],d[0])}if(null!=u&&isFinite(u)){var f=t-u,m=Math.abs(f);m<=s&&((m<s||f>=0&&a<0)&&(s=m,a=f,r=u,o.length=0),c(d,(function(t){o.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:o,snapToValue:r}}function f(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function m(t,e,n,i){var r=n.payloadBatch,o=e.axis,a=o.model,c=e.axisPointerModel;if(e.triggerTooltip&&r.length){var l=e.coordSys.model,u=s.makeKey(l),d=t.map[u];d||(d=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(d)),d.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:c.get("label.precision"),formatter:c.get("label.formatter")},seriesDataIndices:r.slice()})}}function v(t,e,n){var i=n.axesInfo=[];c(e,(function(e,n){var r=e.axisPointerModel.option,o=t[n];o?(!e.useHandle&&(r.status="show"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(r.status="hide"),"show"===r.status&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:r.value})}))}function g(t,e,n,i){if(!b(e)&&t.list.length){var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}else i({type:"hideTip"})}function _(t,e,n){var r=n.getZr(),o="axisPointerLastHighlights",s=u(r)[o]||{},a=u(r)[o]={};c(t,(function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&c(n.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t}))}));var l=[],d=[];i.each(s,(function(t,e){!a[e]&&d.push(t)})),i.each(a,(function(t,e){!s[e]&&l.push(t)})),d.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:d}),l.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:l})}function y(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}function E(t){var e=t.axis.model,n={},i=n.axisDim=t.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=e.componentIndex,n.axisName=n[i+"AxisName"]=e.name,n.axisId=n[i+"AxisId"]=e.id,n}function b(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}t.exports=d},ebd6:function(t,e,n){var i=n("cb7c"),r=n("d8e8"),o=n("2b4c")("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[o])?e:r(n)}},ebde:function(t,e,n){var i=n("11e9"),r=n("5ca1"),o=n("cb7c");r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},ec02:function(t,e,n){var i=n("6d8b"),r=n("84ce"),o=function(t,e,n,i,o){r.call(this,t,e,n),this.type=i||"value",this.position=o||"bottom"};o.prototype={constructor:o,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},i.inherits(o,r);var s=o;t.exports=s},ec30:function(t,e,n){"use strict";if(n("9e1e")){var i=n("2d00"),r=n("7726"),o=n("79e5"),s=n("5ca1"),a=n("0f88"),c=n("ed0b"),l=n("9b43"),u=n("f605"),d=n("4630"),h=n("32e9"),p=n("dcbc"),f=n("4588"),m=n("9def"),v=n("09fa"),g=n("77f1"),_=n("6a99"),y=n("69a8"),E=n("23c6"),b=n("d3f4"),S=n("4bf8"),T=n("33a4"),w=n("2aeb"),C=n("38fd"),I=n("9093").f,R=n("27ee"),A=n("ca5a"),O=n("2b4c"),x=n("0a49"),D=n("c366"),k=n("ebd6"),N=n("cadf"),P=n("84f2"),L=n("5cc5"),M=n("7a56"),V=n("36bd"),U=n("ba92"),B=n("86cc"),j=n("11e9"),F=B.f,H=j.f,W=r.RangeError,G=r.TypeError,$=r.Uint8Array,z="ArrayBuffer",Y="Shared"+z,K="BYTES_PER_ELEMENT",q="prototype",X=Array[q],J=c.ArrayBuffer,Z=c.DataView,Q=x(0),tt=x(2),et=x(3),nt=x(4),it=x(5),rt=x(6),ot=D(!0),st=D(!1),at=N.values,ct=N.keys,lt=N.entries,ut=X.lastIndexOf,dt=X.reduce,ht=X.reduceRight,pt=X.join,ft=X.sort,mt=X.slice,vt=X.toString,gt=X.toLocaleString,_t=O("iterator"),yt=O("toStringTag"),Et=A("typed_constructor"),bt=A("def_constructor"),St=a.CONSTR,Tt=a.TYPED,wt=a.VIEW,Ct="Wrong length!",It=x(1,(function(t,e){return Dt(k(t,t[bt]),e)})),Rt=o((function(){return 1===new $(new Uint16Array([1]).buffer)[0]})),At=!!$&&!!$[q].set&&o((function(){new $(1).set({})})),Ot=function(t,e){var n=f(t);if(n<0||n%e)throw W("Wrong offset!");return n},xt=function(t){if(b(t)&&Tt in t)return t;throw G(t+" is not a typed array!")},Dt=function(t,e){if(!b(t)||!(Et in t))throw G("It is not a typed array constructor!");return new t(e)},kt=function(t,e){return Nt(k(t,t[bt]),e)},Nt=function(t,e){var n=0,i=e.length,r=Dt(t,i);while(i>n)r[n]=e[n++];return r},Pt=function(t,e,n){F(t,e,{get:function(){return this._d[n]}})},Lt=function(t){var e,n,i,r,o,s,a=S(t),c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,h=R(a);if(void 0!=h&&!T(h)){for(s=h.call(a),i=[],e=0;!(o=s.next()).done;e++)i.push(o.value);a=i}for(d&&c>2&&(u=l(u,arguments[2],2)),e=0,n=m(a.length),r=Dt(this,n);n>e;e++)r[e]=d?u(a[e],e):a[e];return r},Mt=function(){var t=0,e=arguments.length,n=Dt(this,e);while(e>t)n[t]=arguments[t++];return n},Vt=!!$&&o((function(){gt.call(new $(1))})),Ut=function(){return gt.apply(Vt?mt.call(xt(this)):xt(this),arguments)},Bt={copyWithin:function(t,e){return U.call(xt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(xt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return V.apply(xt(this),arguments)},filter:function(t){return kt(this,tt(xt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return it(xt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(xt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(xt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return st(xt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(xt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return pt.apply(xt(this),arguments)},lastIndexOf:function(t){return ut.apply(xt(this),arguments)},map:function(t){return It(xt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return dt.apply(xt(this),arguments)},reduceRight:function(t){return ht.apply(xt(this),arguments)},reverse:function(){var t,e=this,n=xt(e).length,i=Math.floor(n/2),r=0;while(r<i)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return et(xt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ft.call(xt(this),t)},subarray:function(t,e){var n=xt(this),i=n.length,r=g(t,i);return new(k(n,n[bt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,m((void 0===e?i:g(e,i))-r))}},jt=function(t,e){return kt(this,mt.call(xt(this),t,e))},Ft=function(t){xt(this);var e=Ot(arguments[1],1),n=this.length,i=S(t),r=m(i.length),o=0;if(r+e>n)throw W(Ct);while(o<r)this[e+o]=i[o++]},Ht={entries:function(){return lt.call(xt(this))},keys:function(){return ct.call(xt(this))},values:function(){return at.call(xt(this))}},Wt=function(t,e){return b(t)&&t[Tt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Gt=function(t,e){return Wt(t,e=_(e,!0))?d(2,t[e]):H(t,e)},$t=function(t,e,n){return!(Wt(t,e=_(e,!0))&&b(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?F(t,e,n):(t[e]=n.value,t)};St||(j.f=Gt,B.f=$t),s(s.S+s.F*!St,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:$t}),o((function(){vt.call({})}))&&(vt=gt=function(){return pt.call(this)});var zt=p({},Bt);p(zt,Ht),h(zt,_t,Ht.values),p(zt,{slice:jt,set:Ft,constructor:function(){},toString:vt,toLocaleString:Ut}),Pt(zt,"buffer","b"),Pt(zt,"byteOffset","o"),Pt(zt,"byteLength","l"),Pt(zt,"length","e"),F(zt,yt,{get:function(){return this[Tt]}}),t.exports=function(t,e,n,c){c=!!c;var l=t+(c?"Clamped":"")+"Array",d="get"+t,p="set"+t,f=r[l],g=f||{},_=f&&C(f),y=!f||!a.ABV,S={},T=f&&f[q],R=function(t,n){var i=t._d;return i.v[d](n*e+i.o,Rt)},A=function(t,n,i){var r=t._d;c&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[p](n*e+r.o,i,Rt)},O=function(t,e){F(t,e,{get:function(){return R(this,e)},set:function(t){return A(this,e,t)},enumerable:!0})};y?(f=n((function(t,n,i,r){u(t,f,l,"_d");var o,s,a,c,d=0,p=0;if(b(n)){if(!(n instanceof J||(c=E(n))==z||c==Y))return Tt in n?Nt(f,n):Lt.call(f,n);o=n,p=Ot(i,e);var g=n.byteLength;if(void 0===r){if(g%e)throw W(Ct);if(s=g-p,s<0)throw W(Ct)}else if(s=m(r)*e,s+p>g)throw W(Ct);a=s/e}else a=v(n),s=a*e,o=new J(s);h(t,"_d",{b:o,o:p,l:s,e:a,v:new Z(o)});while(d<a)O(t,d++)})),T=f[q]=w(zt),h(T,"constructor",f)):o((function(){f(1)}))&&o((function(){new f(-1)}))&&L((function(t){new f,new f(null),new f(1.5),new f(t)}),!0)||(f=n((function(t,n,i,r){var o;return u(t,f,l),b(n)?n instanceof J||(o=E(n))==z||o==Y?void 0!==r?new g(n,Ot(i,e),r):void 0!==i?new g(n,Ot(i,e)):new g(n):Tt in n?Nt(f,n):Lt.call(f,n):new g(v(n))})),Q(_!==Function.prototype?I(g).concat(I(_)):I(g),(function(t){t in f||h(f,t,g[t])})),f[q]=T,i||(T.constructor=f));var x=T[_t],D=!!x&&("values"==x.name||void 0==x.name),k=Ht.values;h(f,Et,!0),h(T,Tt,l),h(T,wt,!0),h(T,bt,f),(c?new f(1)[yt]==l:yt in T)||F(T,yt,{get:function(){return l}}),S[l]=f,s(s.G+s.W+s.F*(f!=g),S),s(s.S,l,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o((function(){g.of.call(f,1)})),l,{from:Lt,of:Mt}),K in T||h(T,K,e),s(s.P,l,Bt),M(l),s(s.P+s.F*At,l,{set:Ft}),s(s.P+s.F*!D,l,Ht),i||T.toString==vt||(T.toString=vt),s(s.P+s.F*o((function(){new f(1).slice()})),l,{slice:jt}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()}))||!o((function(){T.toLocaleString.call([1,2])}))),l,{toLocaleString:Ut}),P[l]=D?x:k,i||D||h(T,_t,k)}}else t.exports=function(){}},ec34:function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("6d8b")),o=r.createHashMap,s=r.isString,a=r.isArray,c=r.each,l=(r.assert,n("3041")),u=l.parseXML,d=o(),h={registerMap:function(t,e,n){var i;return a(e)?i=e:e.svg?i=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),i=[{type:"geoJSON",source:e,specialAreas:n}]),c(i,(function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON");var n=p[e];n(t)})),d.set(t,i)},retrieveMap:function(t){return d.get(t)}},p={geoJSON:function(t){var e=t.source;t.geoJSON=s(e)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=u(t.source)}};t.exports=h},ec6f:function(t,e,n){var i=n("6d8b"),r=i.createHashMap,o=i.isTypedArray,s=n("625e"),a=s.enableClassCheck,c=n("93d0"),l=c.SOURCE_FORMAT_ORIGINAL,u=c.SERIES_LAYOUT_BY_COLUMN,d=c.SOURCE_FORMAT_UNKNOWN,h=c.SOURCE_FORMAT_TYPED_ARRAY,p=c.SOURCE_FORMAT_KEYED_COLUMNS;function f(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===p?{}:[]),this.sourceFormat=t.sourceFormat||d,this.seriesLayoutBy=t.seriesLayoutBy||u,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&r(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}f.seriesDataToSource=function(t){return new f({data:t,sourceFormat:o(t)?h:l,fromDataset:!1})},a(f);var m=f;t.exports=m},ed0b:function(t,e,n){"use strict";var i=n("7726"),r=n("9e1e"),o=n("2d00"),s=n("0f88"),a=n("32e9"),c=n("dcbc"),l=n("79e5"),u=n("f605"),d=n("4588"),h=n("9def"),p=n("09fa"),f=n("9093").f,m=n("86cc").f,v=n("36bd"),g=n("7f20"),_="ArrayBuffer",y="DataView",E="prototype",b="Wrong length!",S="Wrong index!",T=i[_],w=i[y],C=i.Math,I=i.RangeError,R=i.Infinity,A=T,O=C.abs,x=C.pow,D=C.floor,k=C.log,N=C.LN2,P="buffer",L="byteLength",M="byteOffset",V=r?"_b":P,U=r?"_l":L,B=r?"_o":M;function j(t,e,n){var i,r,o,s=new Array(n),a=8*n-e-1,c=(1<<a)-1,l=c>>1,u=23===e?x(2,-24)-x(2,-77):0,d=0,h=t<0||0===t&&1/t<0?1:0;for(t=O(t),t!=t||t===R?(r=t!=t?1:0,i=c):(i=D(k(t)/N),t*(o=x(2,-i))<1&&(i--,o*=2),t+=i+l>=1?u/o:u*x(2,1-l),t*o>=2&&(i++,o/=2),i+l>=c?(r=0,i=c):i+l>=1?(r=(t*o-1)*x(2,e),i+=l):(r=t*x(2,l-1)*x(2,e),i=0));e>=8;s[d++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;a>0;s[d++]=255&i,i/=256,a-=8);return s[--d]|=128*h,s}function F(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,c=n-1,l=t[c--],u=127&l;for(l>>=7;a>0;u=256*u+t[c],c--,a-=8);for(i=u&(1<<-a)-1,u>>=-a,a+=e;a>0;i=256*i+t[c],c--,a-=8);if(0===u)u=1-s;else{if(u===o)return i?NaN:l?-R:R;i+=x(2,e),u-=s}return(l?-1:1)*i*x(2,u-e)}function H(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function W(t){return[255&t]}function G(t){return[255&t,t>>8&255]}function $(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function z(t){return j(t,52,8)}function Y(t){return j(t,23,4)}function K(t,e,n){m(t[E],e,{get:function(){return this[n]}})}function q(t,e,n,i){var r=+n,o=p(r);if(o+e>t[U])throw I(S);var s=t[V]._b,a=o+t[B],c=s.slice(a,a+e);return i?c:c.reverse()}function X(t,e,n,i,r,o){var s=+n,a=p(s);if(a+e>t[U])throw I(S);for(var c=t[V]._b,l=a+t[B],u=i(+r),d=0;d<e;d++)c[l+d]=u[o?d:e-d-1]}if(s.ABV){if(!l((function(){T(1)}))||!l((function(){new T(-1)}))||l((function(){return new T,new T(1.5),new T(NaN),T.name!=_}))){T=function(t){return u(this,T),new A(p(t))};for(var J,Z=T[E]=A[E],Q=f(A),tt=0;Q.length>tt;)(J=Q[tt++])in T||a(T,J,A[J]);o||(Z.constructor=T)}var et=new w(new T(2)),nt=w[E].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||c(w[E],{setInt8:function(t,e){nt.call(this,t,e<<24>>24)},setUint8:function(t,e){nt.call(this,t,e<<24>>24)}},!0)}else T=function(t){u(this,T,_);var e=p(t);this._b=v.call(new Array(e),0),this[U]=e},w=function(t,e,n){u(this,w,y),u(t,T,y);var i=t[U],r=d(e);if(r<0||r>i)throw I("Wrong offset!");if(n=void 0===n?i-r:h(n),r+n>i)throw I(b);this[V]=t,this[B]=r,this[U]=n},r&&(K(T,L,"_l"),K(w,P,"_b"),K(w,L,"_l"),K(w,M,"_o")),c(w[E],{getInt8:function(t){return q(this,1,t)[0]<<24>>24},getUint8:function(t){return q(this,1,t)[0]},getInt16:function(t){var e=q(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=q(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return H(q(this,4,t,arguments[1]))},getUint32:function(t){return H(q(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(q(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(q(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){X(this,1,t,W,e)},setUint8:function(t,e){X(this,1,t,W,e)},setInt16:function(t,e){X(this,2,t,G,e,arguments[2])},setUint16:function(t,e){X(this,2,t,G,e,arguments[2])},setInt32:function(t,e){X(this,4,t,$,e,arguments[2])},setUint32:function(t,e){X(this,4,t,$,e,arguments[2])},setFloat32:function(t,e){X(this,4,t,Y,e,arguments[2])},setFloat64:function(t,e){X(this,8,t,z,e,arguments[2])}});g(T,_),g(w,y),a(w[E],s.VIEW,!0),e[_]=T,e[y]=w},ed21:function(t,e,n){var i=n("2cf4"),r=i.devicePixelRatio,o=n("6d8b"),s=n("4942"),a=n("9850"),c=n("04f6"),l=n("5e68"),u=n("98b7"),d=n("0da8"),h=n("22d1"),p=1e5,f=314159,m=.01,v=.001;function g(t){return parseInt(t,10)}function _(t){return!!t&&(!!t.__builtin__||"function"===typeof t.resize&&"function"===typeof t.refresh)}var y=new a(0,0,0,0),E=new a(0,0,0,0);function b(t,e,n){return y.copy(t.getBoundingRect()),t.transform&&y.applyTransform(t.transform),E.width=e,E.height=n,!y.intersect(E)}function S(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function T(t,e){for(var n=0;n<t.length;n++){var i=t[n];i.setTransform(e),e.beginPath(),i.buildPath(e,i.shape),e.clip(),i.restoreTransform(e)}}function w(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var C=function(t,e,n){this.type="canvas";var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=o.extend({},n||{}),this.dpr=n.devicePixelRatio||r,this._singleCanvas=i,this.root=t;var s=t.style;s&&(s["-webkit-tap-highlight-color"]="transparent",s["-webkit-user-select"]=s["user-select"]=s["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList=[],c=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){var u=t.width,d=t.height;null!=n.width&&(u=n.width),null!=n.height&&(d=n.height),this.dpr=n.devicePixelRatio||1,t.width=u*this.dpr,t.height=d*this.dpr,this._width=u,this._height=d;var h=new l(t,this,this.dpr);h.__builtin__=!0,h.initContext(),c[f]=h,h.zlevel=f,a.push(f),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var p=this._domRoot=w(this._width,this._height);t.appendChild(p)}this._hoverlayer=null,this._hoverElements=[]};C.prototype={constructor:C,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var i=0;i<n.length;i++){var r=n[i],o=this._layers[r];if(!o.__builtin__&&o.refresh){var s=0===i?this._backgroundColor:null;o.refresh(s)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return n.__from=t,t.__hoverMir=n,e&&n.setStyle(e),this._hoverElements.push(n),n}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,i=o.indexOf(n,e);i>=0&&n.splice(i,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var i=e[n].__from;i&&(i.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){c(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(p));var i={};n.ctx.save();for(var r=0;r<e;){var o=t[r],s=o.__from;s&&s.__zr?(r++,s.invisible||(o.transform=s.transform,o.invTransform=s.invTransform,o.__clipPaths=s.__clipPaths,this._doPaintEl(o,n,!0,i))):(t.splice(r,1),s.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(p)},_paintList:function(t,e,n){if(this._redrawId===n){e=e||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var r=this;u((function(){r._paintList(t,e,n)}))}}},_compositeManually:function(){var t=this.getLayer(f).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer((function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)}))},_doPaintList:function(t,e){for(var n=[],i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i],s=this._layers[r];s.__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&n.push(s)}for(var a=!0,c=0;c<n.length;c++){s=n[c];var l=s.ctx,u={};l.save();var d=e?s.__startIndex:s.__drawIndex,p=!e&&s.incremental&&Date.now,f=p&&Date.now(),m=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,m);else if(d===s.__startIndex){var v=t[d];v.incremental&&v.notClear&&!e||s.clear(!1,m)}-1===d&&(console.error("For some unknown reason. drawIndex is -1"),d=s.__startIndex);for(var g=d;g<s.__endIndex;g++){var _=t[g];if(this._doPaintEl(_,s,e,u),_.__dirty=_.__dirtyText=!1,p){var y=Date.now()-f;if(y>15)break}}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(a=!1),u.prevElClipPaths&&l.restore(),l.restore()}return h.wxa&&o.each(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),a},_doPaintEl:function(t,e,n,i){var r=e.ctx,o=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!o||o[0]||o[3])&&(!t.culling||!b(t,this._width,this._height))){var s=t.__clipPaths,a=i.prevElClipPaths;a&&!S(s,a)||(a&&(r.restore(),i.prevElClipPaths=null,i.prevEl=null),s&&(r.save(),T(s,r),i.prevElClipPaths=s)),t.beforeBrush&&t.beforeBrush(r),t.brush(r,i.prevEl||null),i.prevEl=t,t.afterBrush&&t.afterBrush(r)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=f);var n=this._layers[t];return n||(n=new l("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?o.merge(n,this._layerConfig[t],!0):this._layerConfig[t-m]&&o.merge(n,this._layerConfig[t-m],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n=this._layers,i=this._zlevelList,r=i.length,o=null,a=-1,c=this._domRoot;if(n[t])s("ZLevel "+t+" has been used already");else if(_(e)){if(r>0&&t>i[0]){for(a=0;a<r-1;a++)if(i[a]<t&&i[a+1]>t)break;o=n[i[a]]}if(i.splice(a+1,0,t),n[t]=e,!e.virtual)if(o){var l=o.dom;l.nextSibling?c.insertBefore(e.dom,l.nextSibling):c.appendChild(e.dom)}else c.firstChild?c.insertBefore(e.dom,c.firstChild):c.appendChild(e.dom)}else s("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var n,i,r=this._zlevelList;for(i=0;i<r.length;i++)n=r[i],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)i=o[r],n=this._layers[i],n.__builtin__&&t.call(e,n,i)},eachOtherLayer:function(t,e){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)i=o[r],n=this._layers[i],n.__builtin__||t.call(e,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var r,o=null,a=0;for(n=0;n<t.length;n++){i=t[n];var c,l=i.zlevel;r!==l&&(r=l,a=0),i.incremental?(c=this.getLayer(l+v,this._needsManuallyCompositing),c.incremental=!0,a=1):c=this.getLayer(l+(a>0?m:0),this._needsManuallyCompositing),c.__builtin__||s("ZLevel "+l+" has been used by unkown layer "+c.id),c!==o&&(c.__used=!0,c.__startIndex!==n&&(c.__dirty=!0),c.__startIndex=n,c.incremental?c.__drawIndex=-1:c.__drawIndex=n,e(n),o=c),i.__dirty&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=n))}e(n),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?o.merge(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];if(r===t||r===t+m){var s=this._layers[r];o.merge(s,n[t],!0)}}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(o.indexOf(n,t),1))},resize:function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var r in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(t,e);o.each(this._progressiveLayers,(function(n){n.resize(t,e)})),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(f).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[f].dom;var e=new l("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,i=e.dom.height,r=e.ctx;this.eachLayer((function(t){t.__builtin__?r.drawImage(t.dom,0,0,n,i):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())}))}else for(var o={},s=this.storage.getDisplayList(!0),a=0;a<s.length;a++){var c=s[a];this._doPaintEl(c,e,!0,o)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var s=this.root,a=document.defaultView.getComputedStyle(s);return(s[i]||g(a[n])||g(s.style[n]))-(g(a[r])||0)-(g(a[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),r=t.getBoundingRect(),o=t.style,s=o.shadowBlur*e,a=o.shadowOffsetX*e,c=o.shadowOffsetY*e,l=o.hasStroke()?o.lineWidth:0,u=Math.max(l/2,-a+s),h=Math.max(l/2,a+s),p=Math.max(l/2,-c+s),f=Math.max(l/2,c+s),m=r.width+u+h,v=r.height+p+f;n.width=m*e,n.height=v*e,i.scale(e,e),i.clearRect(0,0,m,v),i.dpr=e;var g={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-r.x,p-r.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(i);var _=d,y=new _({style:{x:0,y:0,image:n}});return null!=g.position&&(y.position=t.position=g.position),null!=g.rotation&&(y.rotation=t.rotation=g.rotation),null!=g.scale&&(y.scale=t.scale=g.scale),y}};var I=C;t.exports=I},ed50:function(t,e,n){"use strict";var i=n("5ca1"),r=n("2e08"),o=n("a25f"),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},eda2:function(t,e,n){var i=n("6d8b"),r=n("e86a"),o=n("3842");function s(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))}function a(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var c=i.normalizeCssArray,l=/([&<>"'])/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function d(t){return null==t?"":(t+"").replace(l,(function(t,e){return u[e]}))}var h=["a","b","c","d","e","f","g"],p=function(t,e){return"{"+t+(null==e?"":e)+"}"};function f(t,e,n){i.isArray(e)||(e=[e]);var r=e.length;if(!r)return"";for(var o=e[0].$vars||[],s=0;s<o.length;s++){var a=h[s];t=t.replace(p(a),p(a,0))}for(var c=0;c<r;c++)for(var l=0;l<o.length;l++){var u=e[c][o[l]];t=t.replace(p(h[l],c),n?d(u):u)}return t}function m(t,e,n){return i.each(e,(function(e,i){t=t.replace("{"+i+"}",n?d(e):e)})),t}function v(t,e){t=i.isString(t)?{color:t,extraCssText:e}:t||{};var n=t.color,r=t.type,o=(e=t.extraCssText,t.renderMode||"html"),s=t.markerId||"X";return n?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+d(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+d(n)+";"+(e||"")+'"></span>':{renderMode:o,content:"{marker"+s+"|}  ",style:{color:n}}:""}function g(t,e){return t+="","0000".substr(0,e-t.length)+t}function _(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=o.parseDate(e),r=n?"UTC":"",s=i["get"+r+"FullYear"](),a=i["get"+r+"Month"]()+1,c=i["get"+r+"Date"](),l=i["get"+r+"Hours"](),u=i["get"+r+"Minutes"](),d=i["get"+r+"Seconds"](),h=i["get"+r+"Milliseconds"]();return t=t.replace("MM",g(a,2)).replace("M",a).replace("yyyy",s).replace("yy",s%100).replace("dd",g(c,2)).replace("d",c).replace("hh",g(l,2)).replace("h",l).replace("mm",g(u,2)).replace("m",u).replace("ss",g(d,2)).replace("s",d).replace("SSS",g(h,3)),t}function y(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}var E=r.truncateText;function b(t){return r.getBoundingRect(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)}function S(t,e,n,i,o,s,a,c){return r.getBoundingRect(t,e,n,i,o,c,s,a)}function T(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location=t}else window.open(t,e)}e.addCommas=s,e.toCamelCase=a,e.normalizeCssArray=c,e.encodeHTML=d,e.formatTpl=f,e.formatTplSimple=m,e.getTooltipMarker=v,e.formatTime=_,e.capitalFirst=y,e.truncateText=E,e.getTextBoundingRect=b,e.getTextRect=S,e.windowOpen=T},ee1a:function(t,e,n){var i=n("6d8b"),r=i.each,o=i.isString;function s(t,e,n){n=n||{};var i,s,a,c,l=n.byIndex,u=n.stackedCoordDimension,d=!(!t||!t.get("stack"));if(r(e,(function(t,n){o(t)&&(e[n]=t={name:t}),d&&!t.isExtraCoord&&(l||i||!t.ordinalMeta||(i=t),s||"ordinal"===t.type||"time"===t.type||u&&u!==t.coordDim||(s=t))})),!s||l||i||(l=!0),s){a="__\0ecstackresult",c="__\0ecstackedover",i&&(i.createInvertedIndices=!0);var h=s.coordDim,p=s.type,f=0;r(e,(function(t){t.coordDim===h&&f++})),e.push({name:a,coordDim:h,coordDimIndex:f,type:p,isExtraCoord:!0,isCalculationCoord:!0}),f++,e.push({name:c,coordDim:c,coordDimIndex:f,type:p,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:s&&s.name,stackedByDimension:i&&i.name,isStackedByIndex:l,stackedOverDimension:c,stackResultDimension:a}}function a(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function c(t,e){return a(t,e)?t.getCalculationInfo("stackResultDimension"):e}e.enableDataStack=s,e.isDimensionStacked=a,e.getStackedDimension=c},ee1d:function(t,e,n){var i=n("5ca1");i(i.S,"Number",{isNaN:function(t){return t!=t}})},ee84:function(t,e,n){var i=n("20c8"),r=n("401b"),o=r.applyTransform,s=i.CMD,a=[[],[],[]],c=Math.sqrt,l=Math.atan2;function u(t,e){var n,i,r,u,d,h=t.data,p=s.M,f=s.C,m=s.L,v=s.R,g=s.A,_=s.Q;for(r=0,u=0;r<h.length;){switch(n=h[r++],u=r,i=0,n){case p:i=1;break;case m:i=1;break;case f:i=3;break;case _:i=2;break;case g:var y=e[4],E=e[5],b=c(e[0]*e[0]+e[1]*e[1]),S=c(e[2]*e[2]+e[3]*e[3]),T=l(-e[1]/S,e[0]/b);h[r]*=b,h[r++]+=y,h[r]*=S,h[r++]+=E,h[r++]*=b,h[r++]*=S,h[r++]+=T,h[r++]+=T,r+=2,u=r;break;case v:w[0]=h[r++],w[1]=h[r++],o(w,w,e),h[u++]=w[0],h[u++]=w[1],w[0]+=h[r++],w[1]+=h[r++],o(w,w,e),h[u++]=w[0],h[u++]=w[1]}for(d=0;d<i;d++){var w=a[d];w[0]=h[r++],w[1]=h[r++],o(w,w,e),h[u++]=w[0],h[u++]=w[1]}}}t.exports=u},ef97:function(t,e,n){var i=n("3eba");n("217b8"),n("f17f");var r=n("7f96"),o=n("87c3"),s=n("fdde");n("01ed"),i.registerVisual(r("line","circle","line")),i.registerLayout(o("line")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,s("line"))},f0c1:function(t,e,n){"use strict";var i=n("d8e8"),r=n("d3f4"),o=n("31f4"),s=[].slice,a={},c=function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),a=function(){var i=n.concat(s.call(arguments));return this instanceof a?c(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(a.prototype=e.prototype),a}},f123:function(t,e,n){var i=n("9f82"),r=i.prepareDataCoordInfo,o=i.getStackedOnPoint;function s(t,e){var n=[];return e.diff(t).add((function(t){n.push({cmd:"+",idx:t})})).update((function(t,e){n.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){n.push({cmd:"-",idx:t})})).execute(),n}function a(t,e,n,i,a,c,l,u){for(var d=s(t,e),h=[],p=[],f=[],m=[],v=[],g=[],_=[],y=r(a,e,l),E=r(c,t,u),b=0;b<d.length;b++){var S=d[b],T=!0;switch(S.cmd){case"=":var w=t.getItemLayout(S.idx),C=e.getItemLayout(S.idx1);(isNaN(w[0])||isNaN(w[1]))&&(w=C.slice()),h.push(w),p.push(C),f.push(n[S.idx]),m.push(i[S.idx1]),_.push(e.getRawIndex(S.idx1));break;case"+":var I=S.idx;h.push(a.dataToPoint([e.get(y.dataDimsForPoint[0],I),e.get(y.dataDimsForPoint[1],I)])),p.push(e.getItemLayout(I).slice()),f.push(o(y,a,e,I)),m.push(i[I]),_.push(e.getRawIndex(I));break;case"-":I=S.idx;var R=t.getRawIndex(I);R!==I?(h.push(t.getItemLayout(I)),p.push(c.dataToPoint([t.get(E.dataDimsForPoint[0],I),t.get(E.dataDimsForPoint[1],I)])),f.push(n[I]),m.push(o(E,c,t,I)),_.push(R)):T=!1}T&&(v.push(S),g.push(g.length))}g.sort((function(t,e){return _[t]-_[e]}));var A=[],O=[],x=[],D=[],k=[];for(b=0;b<g.length;b++){I=g[b];A[b]=h[I],O[b]=p[I],x[b]=f[I],D[b]=m[I],k[b]=v[I]}return{current:A,next:O,stackedOnCurrent:x,stackedOnNext:D,status:k}}t.exports=a},f17f:function(t,e,n){var i=n("4e08"),r=(i.__DEV__,n("6d8b")),o=n("e263"),s=o.fromPoints,a=n("f706"),c=n("1418"),l=n("f123"),u=n("2306"),d=n("e0d3"),h=n("d4d1"),p=h.Polyline,f=h.Polygon,m=n("e887"),v=n("9f82"),g=v.prepareDataCoordInfo,_=v.getStackedOnPoint,y=n("b0af"),E=y.createGridClipPath,b=y.createPolarClipPath;function S(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var i=t[n],r=e[n];if(i[0]!==r[0]||i[1]!==r[1])return}return!0}}function T(t,e){var n=[],i=[],r=[],o=[];return s(t,n,i),s(e,r,o),Math.max(Math.abs(n[0]-r[0]),Math.abs(n[1]-r[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function w(t){return"number"===typeof t?t:t?.5:0}function C(t,e,n){if(!n.valueDim)return[];for(var i=[],r=0,o=e.count();r<o;r++)i.push(_(n,t,e,r));return i}function I(t,e,n){for(var i=e.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],s=0;s<t.length-1;s++){var a=t[s+1],c=t[s];o.push(c);var l=[];switch(n){case"end":l[r]=a[r],l[1-r]=c[1-r],o.push(l);break;case"middle":var u=(c[r]+a[r])/2,d=[];l[r]=d[r]=u,l[1-r]=c[1-r],d[1-r]=a[1-r],o.push(l),o.push(d);break;default:l[r]=c[r],l[1-r]=a[1-r],o.push(l)}}return t[s]&&o.push(t[s]),o}function R(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var i,o,s=n.length-1;s>=0;s--){var a=n[s].dimension,c=t.dimensions[a],l=t.getDimensionInfo(c);if(i=l&&l.coordDim,"x"===i||"y"===i){o=n[s];break}}if(o){var d=e.getAxis(i),h=r.map(o.stops,(function(t){return{coord:d.toGlobalCoord(d.dataToCoord(t.value)),color:t.color}})),p=h.length,f=o.outerColors.slice();p&&h[0].coord>h[p-1].coord&&(h.reverse(),f.reverse());var m=10,v=h[0].coord-m,g=h[p-1].coord+m,_=g-v;if(_<.001)return"transparent";r.each(h,(function(t){t.offset=(t.coord-v)/_})),h.push({offset:p?h[p-1].offset:.5,color:f[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:f[0]||"transparent"});var y=new u.LinearGradient(0,0,0,0,h,!0);return y[i]=v,y[i+"2"]=g,y}}}function A(t,e,n){var i=t.get("showAllSymbol"),o="auto"===i;if(!i||o){var s=n.getAxesByScale("ordinal")[0];if(s&&(!o||!O(s,e))){var a=e.mapDimension(s.dim),c={};return r.each(s.getViewLabels(),(function(t){c[t.tickValue]=1})),function(t){return!c.hasOwnProperty(e.get(a,t))}}}}function O(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),s=0;s<r;s+=o)if(1.5*c.getSymbolSize(e,s)[t.isHorizontal()?1:0]>i)return!1;return!0}function x(t,e,n){if("cartesian2d"===t.type){var i=t.getBaseAxis().isHorizontal(),r=E(t,e,n);if(!n.get("clip",!0)){var o=r.shape,s=Math.max(o.width,o.height);i?(o.y-=s,o.height+=2*s):(o.x-=s,o.width+=2*s)}return r}return b(t,e,n)}var D=m.extend({type:"line",init:function(){var t=new u.Group,e=new a;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,n){var i=t.coordinateSystem,o=this.group,s=t.getData(),a=t.getModel("lineStyle"),c=t.getModel("areaStyle"),l=s.mapArray(s.getItemLayout),u="polar"===i.type,d=this._coordSys,h=this._symbolDraw,p=this._polyline,f=this._polygon,m=this._lineGroup,v=t.get("animation"),_=!c.isEmpty(),y=c.get("origin"),E=g(i,s,y),b=C(i,s,E),T=t.get("showSymbol"),O=T&&!u&&A(t,s,i),D=this._data;D&&D.eachItemGraphicEl((function(t,e){t.__temp&&(o.remove(t),D.setItemGraphicEl(e,null))})),T||h.remove(),o.add(m);var k,N=!u&&t.get("step");i&&i.getArea&&t.get("clip",!0)&&(k=i.getArea(),null!=k.width?(k.x-=.1,k.y-=.1,k.width+=.2,k.height+=.2):k.r0&&(k.r0-=.5,k.r1+=.5)),this._clipShapeForSymbol=k,p&&d.type===i.type&&N===this._step?(_&&!f?f=this._newPolygon(l,b,i,v):f&&!_&&(m.remove(f),f=this._polygon=null),m.setClipPath(x(i,!1,t)),T&&h.updateData(s,{isIgnore:O,clipShape:k}),s.eachItemGraphicEl((function(t){t.stopAnimation(!0)})),S(this._stackedOnPoints,b)&&S(this._points,l)||(v?this._updateAnimation(s,b,i,n,N,y):(N&&(l=I(l,i,N),b=I(b,i,N)),p.setShape({points:l}),f&&f.setShape({points:l,stackedOnPoints:b})))):(T&&h.updateData(s,{isIgnore:O,clipShape:k}),N&&(l=I(l,i,N),b=I(b,i,N)),p=this._newPolyline(l,i,v),_&&(f=this._newPolygon(l,b,i,v)),m.setClipPath(x(i,!0,t)));var P=R(s,i)||s.getVisual("color");p.useStyle(r.defaults(a.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"}));var L=t.get("smooth");if(L=w(t.get("smooth")),p.setShape({smooth:L,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),f){var M=s.getCalculationInfo("stackedOnSeries"),V=0;f.useStyle(r.defaults(c.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel"})),M&&(V=w(M.get("smooth"))),f.setShape({smooth:L,stackedOnSmooth:V,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=s,this._coordSys=i,this._stackedOnPoints=b,this._points=l,this._step=N,this._valueOrigin=y},dispose:function(){},highlight:function(t,e,n,i){var r=t.getData(),o=d.queryDataIndex(r,i);if(!(o instanceof Array)&&null!=o&&o>=0){var s=r.getItemGraphicEl(o);if(!s){var a=r.getItemLayout(o);if(!a)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(a[0],a[1]))return;s=new c(r,o),s.position=a,s.setZ(t.get("zlevel"),t.get("z")),s.ignore=isNaN(a[0])||isNaN(a[1]),s.__temp=!0,r.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else m.prototype.highlight.call(this,t,e,n,i)},downplay:function(t,e,n,i){var r=t.getData(),o=d.queryDataIndex(r,i);if(null!=o&&o>=0){var s=r.getItemGraphicEl(o);s&&(s.__temp?(r.setItemGraphicEl(o,null),this.group.remove(s)):s.downplay())}else m.prototype.downplay.call(this,t,e,n,i)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new p({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new f({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_updateAnimation:function(t,e,n,i,r,o){var s=this._polyline,a=this._polygon,c=t.hostModel,d=l(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,o),h=d.current,p=d.stackedOnCurrent,f=d.next,m=d.stackedOnNext;if(r&&(h=I(d.current,n,r),p=I(d.stackedOnCurrent,n,r),f=I(d.next,n,r),m=I(d.stackedOnNext,n,r)),T(h,f)>3e3||a&&T(p,m)>3e3)return s.setShape({points:f}),void(a&&a.setShape({points:f,stackedOnPoints:m}));s.shape.__points=d.current,s.shape.points=h,u.updateProps(s,{shape:{points:f}},c),a&&(a.setShape({points:h,stackedOnPoints:p}),u.updateProps(a,{shape:{points:f,stackedOnPoints:m}},c));for(var v=[],g=d.status,_=0;_<g.length;_++){var y=g[_].cmd;if("="===y){var E=t.getItemGraphicEl(g[_].idx1);E&&v.push({el:E,ptIdx:_})}}s.animators&&s.animators.length&&s.animators[0].during((function(){for(var t=0;t<v.length;t++){var e=v[t].el;e.attr("position",s.shape.__points[v[t].ptIdx])}}))},remove:function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(t,i){t.__temp&&(e.remove(t),n.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});t.exports=D},f1ae:function(t,e,n){"use strict";var i=n("86cc"),r=n("4630");t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},f219:function(t,e){var n="#eee",i=function(){return{axisLine:{lineStyle:{color:n}},axisTick:{lineStyle:{color:n}},axisLabel:{textStyle:{color:n}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:n}}}},r=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],o={color:r,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:n},crossStyle:{color:n},label:{color:"#000"}}},legend:{textStyle:{color:n}},textStyle:{color:n},title:{textStyle:{color:n}},toolbox:{iconStyle:{normal:{borderColor:n}}},dataZoom:{textStyle:{color:n}},visualMap:{textStyle:{color:n}},timeline:{lineStyle:{color:n},itemStyle:{normal:{color:r[1]}},label:{normal:{textStyle:{color:n}}},controlStyle:{normal:{color:n,borderColor:n}}},timeAxis:i(),logAxis:i(),valueAxis:i(),categoryAxis:i(),line:{symbol:"circle"},graph:{color:r},gauge:{title:{textStyle:{color:n}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};o.categoryAxis.splitLine.show=!1;var s=o;t.exports=s},f273:function(t,e,n){var i=n("6d8b"),r=n("2306"),o=n("fab22"),s=n("6679"),a=n("0156"),c=n("58df"),l=c.rectCoordAxisBuildSplitArea,u=c.rectCoordAxisHandleRemove,d=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine","minorSplitLine"],p=s.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,n,s){this.group.removeAll();var c=this._axisGroup;if(this._axisGroup=new r.Group,this.group.add(this._axisGroup),t.get("show")){var l=t.getCoordSysModel(),u=a.layout(l,t),f=new o(t,u);i.each(d,f.add,f),this._axisGroup.add(f.getGroup()),i.each(h,(function(e){t.get(e+".show")&&this["_"+e](t,l)}),this),r.groupTransition(c,this._axisGroup,t),p.superCall(this,"render",t,e,n,s)}},remove:function(){u(this)},_splitLine:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),a=s.get("color");a=i.isArray(a)?a:[a];for(var c=e.coordinateSystem.getRect(),l=n.isHorizontal(),u=0,d=n.getTicksCoords({tickModel:o}),h=[],p=[],f=s.getLineStyle(),m=0;m<d.length;m++){var v=n.toGlobalCoord(d[m].coord);l?(h[0]=v,h[1]=c.y,p[0]=v,p[1]=c.y+c.height):(h[0]=c.x,h[1]=v,p[0]=c.x+c.width,p[1]=v);var g=u++%a.length,_=d[m].tickValue;this._axisGroup.add(new r.Line({anid:null!=_?"line_"+d[m].tickValue:null,subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:i.defaults({stroke:a[g]},f),silent:!0}))}}},_minorSplitLine:function(t,e){var n=t.axis,i=t.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=e.coordinateSystem.getRect(),a=n.isHorizontal(),c=n.getMinorTicksCoords();if(c.length)for(var l=[],u=[],d=o.getLineStyle(),h=0;h<c.length;h++)for(var p=0;p<c[h].length;p++){var f=n.toGlobalCoord(c[h][p].coord);a?(l[0]=f,l[1]=s.y,u[0]=f,u[1]=s.y+s.height):(l[0]=s.x,l[1]=f,u[0]=s.x+s.width,u[1]=f),this._axisGroup.add(new r.Line({anid:"minor_line_"+c[h][p].tickValue,subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:d,silent:!0}))}},_splitArea:function(t,e){l(this,this._axisGroup,t,e)}});p.extend({type:"xAxis"}),p.extend({type:"yAxis"})},f279:function(t,e,n){var i=n("9850"),r=n("e263"),o=n("401b"),s=n("0655");function a(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}a.prototype={constructor:a,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],s=[-e,-e],a=[],c=[],l=this.geometries,u=0;u<l.length;u++)if("polygon"===l[u].type){var d=l[u].exterior;r.fromPoints(d,a,c),o.min(n,n,a),o.max(s,s,c)}return 0===u&&(n[0]=n[1]=s[0]=s[1]=0),this._rect=new i(n[0],n[1],s[0]-n[0],s[1]-n[1])},contain:function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var i=0,r=n.length;i<r;i++)if("polygon"===n[i].type){var o=n[i].exterior,a=n[i].interiors;if(s.contain(o,t[0],t[1])){for(var c=0;c<(a?a.length:0);c++)if(s.contain(a[c]))continue t;return!0}}return!1},transformTo:function(t,e,n,r){var s=this.getBoundingRect(),a=s.width/s.height;n?r||(r=n/a):n=a*r;for(var c=new i(t,e,n,r),l=s.calculateTransform(c),u=this.geometries,d=0;d<u.length;d++)if("polygon"===u[d].type){for(var h=u[d].exterior,p=u[d].interiors,f=0;f<h.length;f++)o.applyTransform(h[f],h[f],l);for(var m=0;m<(p?p.length:0);m++)for(f=0;f<p[m].length;f++)o.applyTransform(p[m][f],p[m][f],l)}s=this._rect,s.copy(c),this.center=[s.x+s.width/2,s.y+s.height/2]},cloneShallow:function(t){null==t&&(t=this.name);var e=new a(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};var c=a;t.exports=c},f28c:function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(t){i=s}})();var l,u=[],d=!1,h=-1;function p(){d&&l&&(d=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!d){var t=a(p);d=!0;var e=u.length;while(e){l=u,u=[];while(++h<e)l&&l[h].run();h=-1,e=u.length}l=null,d=!1,c(t)}}function m(t,e){this.fun=t,this.array=e}function v(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new m(t,e)),1!==u.length||d||a(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},f386:function(t,e,n){"use strict";n("386b")("small",(function(t){return function(){return t(this,"small","","")}}))},f400:function(t,e,n){"use strict";var i=n("c26b"),r=n("b39a"),o="Map";t.exports=n("e0b8")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(r(this,o),t);return e&&e.v},set:function(t,e){return i.def(r(this,o),0===t?0:t,e)}},i,!0)},f47d:function(t,e,n){var i=n("6d8b"),r=(i.assert,i.isArray),o=n("4e08");o.__DEV__;function s(t){return new a(t)}function a(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}var c=a.prototype;c.perform=function(t){var e,n=this._upstream,i=t&&t.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(e=this._plan(this.context));var s,a=p(this._modBy),c=this._modDataCount||0,l=p(t&&t.modBy),h=t&&t.modDataCount||0;function p(t){return!(t>=1)&&(t=1),t}a===l&&c===h||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,s=d(this,i)),this._modBy=l,this._modDataCount=h;var f=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var m=this._dueIndex,v=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!i&&(s||m<v)){var g=this._progress;if(r(g))for(var _=0;_<g.length;_++)u(this,g[_],m,v,l,h);else u(this,g,m,v,l,h)}this._dueIndex=v;var y=null!=this._settedOutputEnd?this._settedOutputEnd:v;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var l=function(){var t,e,n,i,r,o={reset:function(c,l,u,d){e=c,t=l,n=u,i=d,r=Math.ceil(i/n),o.next=n>1&&i>0?a:s}};return o;function s(){return e<t?e++:null}function a(){var o=e%r*n+Math.ceil(e/r),s=e>=t?null:o<i?o:e;return e++,s}}();function u(t,e,n,i,r,o){l.reset(n,i,r,o),t._callingProgress=e,t._callingProgress({start:n,end:i,count:i-n,next:l.next},t.context)}function d(t,e){var n,i;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&(n=t._reset(t.context),n&&n.progress&&(i=n.forceFirstProgress,n=n.progress),r(n)&&!n.length&&(n=null)),t._progress=n,t._modBy=t._modDataCount=null;var o=t._downstream;return o&&o.dirty(),i}c.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},c.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},c.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},c.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},c.getUpstream=function(){return this._upstream},c.getDownstream=function(){return this._downstream},c.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e.createTask=s},f4ff:function(t,e,n){var i=n("5ca1"),r=Math.imul;i(i.S+i.F*n("79e5")((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,e){var n=65535,i=+t,r=+e,o=n&i,s=n&r;return 0|o*s+((n&i>>>16)*s+o*(n&r>>>16)<<16>>>0)}})},f559:function(t,e,n){"use strict";var i=n("5ca1"),r=n("9def"),o=n("d2c8"),s="startsWith",a=""[s];i(i.P+i.F*n("5147")(s),"String",{startsWith:function(t){var e=o(this,t,s),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},f576:function(t,e,n){"use strict";var i=n("5ca1"),r=n("2e08"),o=n("a25f"),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},f605:function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},f6b3:function(t,e,n){var i=n("5ca1");i(i.S,"Reflect",{has:function(t,e){return e in t}})},f706:function(t,e,n){var i=n("2306"),r=n("1418"),o=n("6d8b"),s=o.isObject;function a(t){this.group=new i.Group,this._symbolCtor=t||r}var c=a.prototype;function l(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function u(t){return null==t||s(t)||(t={isIgnore:t}),t||{}}function d(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}c.updateData=function(t,e){e=u(e);var n=this.group,r=t.hostModel,o=this._data,s=this._symbolCtor,a=d(t);o||n.removeAll(),t.diff(o).add((function(i){var r=t.getItemLayout(i);if(l(t,r,i,e)){var o=new s(t,i,a);o.attr("position",r),t.setItemGraphicEl(i,o),n.add(o)}})).update((function(c,u){var d=o.getItemGraphicEl(u),h=t.getItemLayout(c);l(t,h,c,e)?(d?(d.updateData(t,c,a),i.updateProps(d,{position:h},r)):(d=new s(t,c),d.attr("position",h)),n.add(d),t.setItemGraphicEl(c,d)):n.remove(d)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&e.fadeOut((function(){n.remove(e)}))})).execute(),this._data=t},c.isPersistent=function(){return!0},c.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl((function(e,n){var i=t.getItemLayout(n);e.attr("position",i)}))},c.incrementalPrepareUpdate=function(t){this._seriesScope=d(t),this._data=null,this.group.removeAll()},c.incrementalUpdate=function(t,e,n){function i(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}n=u(n);for(var r=t.start;r<t.end;r++){var o=e.getItemLayout(r);if(l(e,o,r,n)){var s=new this._symbolCtor(e,r,this._seriesScope);s.traverse(i),s.attr("position",o),this.group.add(s),e.setItemGraphicEl(r,s)}}},c.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll()};var h=a;t.exports=h},f751:function(t,e,n){var i=n("5ca1");i(i.S+i.F,"Object",{assign:n("7333")})},f934:function(t,e,n){var i=n("6d8b"),r=n("9850"),o=n("3842"),s=o.parsePercent,a=n("eda2"),c=i.each,l=["left","right","top","bottom","width","height"],u=[["width","left","right"],["height","top","bottom"]];function d(t,e,n,i,r){var o=0,s=0;null==i&&(i=1/0),null==r&&(r=1/0);var a=0;e.eachChild((function(c,l){var u,d,h=c.position,p=c.getBoundingRect(),f=e.childAt(l+1),m=f&&f.getBoundingRect();if("horizontal"===t){var v=p.width+(m?-m.x+p.x:0);u=o+v,u>i||c.newline?(o=0,u=v,s+=a+n,a=p.height):a=Math.max(a,p.height)}else{var g=p.height+(m?-m.y+p.y:0);d=s+g,d>r||c.newline?(o+=a+n,s=0,d=g,a=p.width):a=Math.max(a,p.width)}c.newline||(h[0]=o,h[1]=s,"horizontal"===t?o=u+n:s=d+n)}))}var h=d,p=i.curry(d,"vertical"),f=i.curry(d,"horizontal");function m(t,e,n){var i=e.width,r=e.height,o=s(t.x,i),c=s(t.y,r),l=s(t.x2,i),u=s(t.y2,r);return(isNaN(o)||isNaN(parseFloat(t.x)))&&(o=0),(isNaN(l)||isNaN(parseFloat(t.x2)))&&(l=i),(isNaN(c)||isNaN(parseFloat(t.y)))&&(c=0),(isNaN(u)||isNaN(parseFloat(t.y2)))&&(u=r),n=a.normalizeCssArray(n||0),{width:Math.max(l-o-n[1]-n[3],0),height:Math.max(u-c-n[0]-n[2],0)}}function v(t,e,n){n=a.normalizeCssArray(n||0);var i=e.width,o=e.height,c=s(t.left,i),l=s(t.top,o),u=s(t.right,i),d=s(t.bottom,o),h=s(t.width,i),p=s(t.height,o),f=n[2]+n[0],m=n[1]+n[3],v=t.aspect;switch(isNaN(h)&&(h=i-u-m-c),isNaN(p)&&(p=o-d-f-l),null!=v&&(isNaN(h)&&isNaN(p)&&(v>i/o?h=.8*i:p=.8*o),isNaN(h)&&(h=v*p),isNaN(p)&&(p=h/v)),isNaN(c)&&(c=i-u-h-m),isNaN(l)&&(l=o-d-p-f),t.left||t.right){case"center":c=i/2-h/2-n[3];break;case"right":c=i-h-m;break}switch(t.top||t.bottom){case"middle":case"center":l=o/2-p/2-n[0];break;case"bottom":l=o-p-f;break}c=c||0,l=l||0,isNaN(h)&&(h=i-m-c-(u||0)),isNaN(p)&&(p=o-f-l-(d||0));var g=new r(c+n[3],l+n[0],h,p);return g.margin=n,g}function g(t,e,n,o,s){var a=!s||!s.hv||s.hv[0],c=!s||!s.hv||s.hv[1],l=s&&s.boundingMode||"all";if(a||c){var u;if("raw"===l)u="group"===t.type?new r(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(u=t.getBoundingRect(),t.needLocalTransform()){var d=t.getLocalTransform();u=u.clone(),u.applyTransform(d)}e=v(i.defaults({width:u.width,height:u.height},e),n,o);var h=t.position,p=a?e.x-u.x:0,f=c?e.y-u.y:0;t.attr("position","raw"===l?[p,f]:[h[0]+p,h[1]+f])}}function _(t,e){return null!=t[u[e][0]]||null!=t[u[e][1]]&&null!=t[u[e][2]]}function y(t,e,n){!i.isObject(n)&&(n={});var r=n.ignoreSize;!i.isArray(r)&&(r=[r,r]);var o=a(u[0],0),s=a(u[1],1);function a(n,i){var o={},s=0,a={},u=0,h=2;if(c(n,(function(e){a[e]=t[e]})),c(n,(function(t){l(e,t)&&(o[t]=a[t]=e[t]),d(o,t)&&s++,d(a,t)&&u++})),r[i])return d(e,n[1])?a[n[2]]=null:d(e,n[2])&&(a[n[1]]=null),a;if(u!==h&&s){if(s>=h)return o;for(var p=0;p<n.length;p++){var f=n[p];if(!l(o,f)&&l(t,f)){o[f]=t[f];break}}return o}return a}function l(t,e){return t.hasOwnProperty(e)}function d(t,e){return null!=t[e]&&"auto"!==t[e]}function h(t,e,n){c(t,(function(t){e[t]=n[t]}))}h(u[0],t,o),h(u[1],t,s)}function E(t){return b({},t)}function b(t,e){return e&&t&&c(l,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}e.LOCATION_PARAMS=l,e.HV_NAMES=u,e.box=h,e.vbox=p,e.hbox=f,e.getAvailableSize=m,e.getLayoutRect=v,e.positionElement=g,e.sizeCalculable=_,e.mergeLayoutParam=y,e.getLayoutParams=E,e.copyLayoutParams=b},f9ab:function(t,e,n){var i=n("5ca1"),r=n("96fb");i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fa83:function(t,e,n){"use strict";n("386b")("blink",(function(t){return function(){return t(this,"blink","","")}}))},fab2:function(t,e,n){var i=n("7726").document;t.exports=i&&i.documentElement},fab22:function(t,e,n){var i=n("6d8b"),r=i.retrieve,o=i.defaults,s=i.extend,a=i.each,c=n("eda2"),l=n("2306"),u=n("4319"),d=n("3842"),h=d.isRadianAroundZero,p=d.remRadian,f=n("a15a"),m=f.createSymbol,v=n("1687"),g=n("401b"),_=g.applyTransform,y=n("697e"),E=y.shouldShowAllLabels,b=Math.PI,S=function(t,e){this.opt=e,this.axisModel=t,o(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new l.Group;var n=new l.Group({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};S.prototype={constructor:S,hasBuilder:function(t){return!!T[t]},add:function(t){T[t].call(this)},getGroup:function(){return this.group}};var T={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,r=[n[0],0],o=[n[1],0];i&&(_(r,r,i),_(o,o,i));var c=s({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new l.Line({anid:"line",subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:o[0],y2:o[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1}));var u=e.get("axisLine.symbol"),d=e.get("axisLine.symbolSize"),h=e.get("axisLine.symbolOffset")||0;if("number"===typeof h&&(h=[h,h]),null!=u){"string"===typeof u&&(u=[u,u]),"string"!==typeof d&&"number"!==typeof d||(d=[d,d]);var p=d[0],f=d[1];a([{rotate:t.rotation+Math.PI/2,offset:h[0],r:0},{rotate:t.rotation-Math.PI/2,offset:h[1],r:Math.sqrt((r[0]-o[0])*(r[0]-o[0])+(r[1]-o[1])*(r[1]-o[1]))}],(function(e,n){if("none"!==u[n]&&null!=u[n]){var i=m(u[n],-p/2,-f/2,p,f,c.stroke,!0),o=e.r+e.offset,s=[r[0]+o*Math.cos(t.rotation),r[1]-o*Math.sin(t.rotation)];i.attr({rotation:e.rotate,position:s,silent:!0,z2:11}),this.group.add(i)}}),this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,n=N(this,t,e),i=L(this,t,e);A(t,i,n),P(this,t,e)},axisName:function(){var t=this.opt,e=this.axisModel,n=r(t.axisName,e.get("name"));if(n){var i,o,a=e.get("nameLocation"),u=t.nameDirection,d=e.getModel("nameTextStyle"),h=e.get("nameGap")||0,p=this.axisModel.axis.getExtent(),f=p[0]>p[1]?-1:1,m=["start"===a?p[0]-f*h:"end"===a?p[1]+f*h:(p[0]+p[1])/2,D(a)?t.labelOffset+u*h:0],v=e.get("nameRotate");null!=v&&(v=v*b/180),D(a)?i=C(t.rotation,null!=v?v:t.rotation,u):(i=I(t,a,v||0,p),o=t.axisNameAvailableWidth,null!=o&&(o=Math.abs(o/Math.sin(i.rotation)),!isFinite(o)&&(o=null)));var g=d.getFont(),_=e.get("nameTruncate",!0)||{},y=_.ellipsis,E=r(t.nameTruncateMaxWidth,_.maxWidth,o),S=null!=y&&null!=E?c.truncateText(n,E,g,y,{minChar:2,placeholder:_.placeholder}):n,T=e.get("tooltip",!0),A=e.mainType,O={componentType:A,name:n,$vars:["name"]};O[A+"Index"]=e.componentIndex;var x=new l.Text({anid:"name",__fullText:n,__truncatedText:S,position:m,rotation:i.rotation,silent:R(e),z2:1,tooltip:T&&T.show?s({content:n,formatter:function(){return n},formatterParams:O},T):null});l.setTextStyle(x.style,d,{text:S,textFont:g,textFill:d.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:d.get("align")||i.textAlign,textVerticalAlign:d.get("verticalAlign")||i.textVerticalAlign}),e.get("triggerEvent")&&(x.eventData=w(e),x.eventData.targetType="axisName",x.eventData.name=n),this._dumbGroup.add(x),x.updateTransform(),this.group.add(x),x.decomposeTransform()}}},w=S.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},C=S.innerTextLayout=function(t,e,n){var i,r,o=p(e-t);return h(o)?(r=n>0?"top":"bottom",i="center"):h(o-b)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=o>0&&o<b?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,textVerticalAlign:r}};function I(t,e,n,i){var r,o,s=p(n-t.rotation),a=i[0]>i[1],c="start"===e&&!a||"start"!==e&&a;return h(s-b/2)?(o=c?"bottom":"top",r="center"):h(s-1.5*b)?(o=c?"top":"bottom",r="center"):(o="middle",r=s<1.5*b&&s>b/2?c?"left":"right":c?"right":"left"),{rotation:s,textAlign:r,textVerticalAlign:o}}var R=S.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)};function A(t,e,n){if(!E(t.axis)){var i=t.get("axisLabel.showMinLabel"),r=t.get("axisLabel.showMaxLabel");e=e||[],n=n||[];var o=e[0],s=e[1],a=e[e.length-1],c=e[e.length-2],l=n[0],u=n[1],d=n[n.length-1],h=n[n.length-2];!1===i?(O(o),O(l)):x(o,s)&&(i?(O(s),O(u)):(O(o),O(l))),!1===r?(O(a),O(d)):x(c,a)&&(r?(O(c),O(h)):(O(a),O(d)))}}function O(t){t&&(t.ignore=!0)}function x(t,e,n){var i=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(i&&r){var o=v.identity([]);return v.rotate(o,o,-t.rotation),i.applyTransform(v.mul([],o,t.getLocalTransform())),r.applyTransform(v.mul([],o,e.getLocalTransform())),i.intersect(r)}}function D(t){return"middle"===t||"center"===t}function k(t,e,n,i,r){for(var o=[],s=[],a=[],c=0;c<t.length;c++){var u=t[c].coord;s[0]=u,s[1]=0,a[0]=u,a[1]=n,e&&(_(s,s,e),_(a,a,e));var d=new l.Line({anid:r+"_"+t[c].tickValue,subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:a[0],y2:a[1]},style:i,z2:2,silent:!0});o.push(d)}return o}function N(t,e,n){var i=e.axis,r=e.getModel("axisTick");if(r.get("show")&&!i.scale.isBlank()){for(var s=r.getModel("lineStyle"),a=n.tickDirection*r.get("length"),c=i.getTicksCoords(),l=k(c,t._transform,a,o(s.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),"ticks"),u=0;u<l.length;u++)t.group.add(l[u]);return l}}function P(t,e,n){var i=e.axis,r=e.getModel("minorTick");if(r.get("show")&&!i.scale.isBlank()){var s=i.getMinorTicksCoords();if(s.length)for(var a=r.getModel("lineStyle"),c=n.tickDirection*r.get("length"),l=o(a.getLineStyle(),o(e.getModel("axisTick").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})),u=0;u<s.length;u++)for(var d=k(s[u],t._transform,c,l,"minorticks_"+u),h=0;h<d.length;h++)t.group.add(d[h])}}function L(t,e,n){var i=e.axis,o=r(n.axisLabelShow,e.get("axisLabel.show"));if(o&&!i.scale.isBlank()){var s=e.getModel("axisLabel"),c=s.get("margin"),d=i.getViewLabels(),h=(r(n.labelRotate,s.get("rotate"))||0)*b/180,p=C(n.rotation,h,n.labelDirection),f=e.getCategories&&e.getCategories(!0),m=[],v=R(e),g=e.get("triggerEvent");return a(d,(function(r,o){var a=r.tickValue,d=r.formattedLabel,h=r.rawLabel,_=s;f&&f[a]&&f[a].textStyle&&(_=new u(f[a].textStyle,s,e.ecModel));var y=_.getTextColor()||e.get("axisLine.lineStyle.color"),E=i.dataToCoord(a),b=[E,n.labelOffset+n.labelDirection*c],S=new l.Text({anid:"label_"+a,position:b,rotation:p.rotation,silent:v,z2:10});l.setTextStyle(S.style,_,{text:d,textAlign:_.getShallow("align",!0)||p.textAlign,textVerticalAlign:_.getShallow("verticalAlign",!0)||_.getShallow("baseline",!0)||p.textVerticalAlign,textFill:"function"===typeof y?y("category"===i.type?h:"value"===i.type?a+"":a,o):y}),g&&(S.eventData=w(e),S.eventData.targetType="axisLabel",S.eventData.value=h),t._dumbGroup.add(S),S.updateTransform(),m.push(S),t.group.add(S),S.decomposeTransform()})),m}}var M=S;t.exports=M},fb05:function(t,e,n){var i=n("6d8b"),r=i.each,o=i.isArray,s=i.isObject,a=n("26e1"),c=n("e0d3"),l=c.normalizeToArray;function u(t,e){e=e.split(",");for(var n=t,i=0;i<e.length;i++)if(n=n&&n[e[i]],null==n)break;return n}function d(t,e,n,i){e=e.split(",");for(var r,o=t,s=0;s<e.length-1;s++)r=e[s],null==o[r]&&(o[r]={}),o=o[r];(i||null==o[e[s]])&&(o[e[s]]=n)}function h(t){r(p,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var p=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],f=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function m(t,e){a(t,e),t.series=l(t.series),r(t.series,(function(t){if(s(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e)null!=t.clockWise&&(t.clockwise=t.clockWise);else if("gauge"===e){var n=u(t,"pointer.color");null!=n&&d(t,"itemStyle.color",n)}h(t)}})),t.dataRange&&(t.visualMap=t.dataRange),r(f,(function(e){var n=t[e];n&&(o(n)||(n=[n]),r(n,(function(t){h(t)})))}))}t.exports=m},fca0:function(t,e,n){var i=n("5ca1"),r=n("7726").isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},fd24:function(t,e,n){var i=n("5ca1");i(i.S,"Object",{setPrototypeOf:n("8b97").set})},fd63:function(t,e,n){var i=n("42e5"),r=n("6d8b"),o=r.isFunction,s={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=(t.visualColorAccessPath||"itemStyle.color").split("."),s=t.get(r),a=!o(s)||s instanceof i?null:s;s&&!a||(s=t.getColorFromPalette(t.name,null,e.getSeriesCount())),n.setVisual("color",s);var c=(t.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),l=t.get(c);if(n.setVisual("borderColor",l),!e.isSeriesFiltered(t)){a&&n.each((function(e){n.setItemVisual(e,"color",a(t.getDataParams(e)))}));var u=function(t,e){var n=t.getItemModel(e),i=n.get(r,!0),o=n.get(c,!0);null!=i&&t.setItemVisual(e,"color",i),null!=o&&t.setItemVisual(e,"borderColor",o)};return{dataEach:n.hasItemOption?u:null}}}};t.exports=s},fdde:function(t,e){var n={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},i=function(t,e){return Math.round(t.length/2)};function r(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t,e,r){var o=t.getData(),s=t.get("sampling"),a=t.coordinateSystem;if("cartesian2d"===a.type&&s){var c,l=a.getBaseAxis(),u=a.getOtherAxis(l),d=l.getExtent(),h=d[1]-d[0],p=Math.round(o.count()/h);if(p>1)"string"===typeof s?c=n[s]:"function"===typeof s&&(c=s),c&&t.setData(o.downSample(o.mapDimension(u.dim),1/p,c,i))}}}}t.exports=r},fdef:function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},fe21:function(t,e,n){var i=n("e86a"),r=n("2306"),o=["textStyle","color"],s={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(o):null)},getFont:function(){return r.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return i.getBoundingRect(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};t.exports=s},fee7:function(t,e,n){"use strict";var i=n("5ca1"),r=n("4bf8"),o=n("d8e8"),s=n("86cc");n("9e1e")&&i(i.P+n("c5b4"),"Object",{__defineSetter__:function(t,e){s.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},ff2e:function(t,e,n){var i=n("6d8b"),r=n("2306"),o=n("e86a"),s=n("eda2"),a=n("1687"),c=n("697e"),l=n("fab22");function u(t){var e,n=t.get("type"),i=t.getModel(n+"Style");return"line"===n?(e=i.getLineStyle(),e.fill=null):"shadow"===n&&(e=i.getAreaStyle(),e.stroke=null),e}function d(t,e,n,i,r){var a=n.get("value"),c=p(a,e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),l=n.getModel("label"),u=s.normalizeCssArray(l.get("padding")||0),d=l.getFont(),f=o.getBoundingRect(c,d),m=r.position,v=f.width+u[1]+u[3],g=f.height+u[0]+u[2],_=r.align;"right"===_&&(m[0]-=v),"center"===_&&(m[0]-=v/2);var y=r.verticalAlign;"bottom"===y&&(m[1]-=g),"middle"===y&&(m[1]-=g/2),h(m,v,g,i);var E=l.get("backgroundColor");E&&"auto"!==E||(E=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:v,height:g,r:l.get("borderRadius")},position:m.slice(),style:{text:c,textFont:d,textFill:l.getTextColor(),textPosition:"inside",textPadding:u,fill:E,stroke:l.get("borderColor")||"transparent",lineWidth:l.get("borderWidth")||0,shadowBlur:l.get("shadowBlur"),shadowColor:l.get("shadowColor"),shadowOffsetX:l.get("shadowOffsetX"),shadowOffsetY:l.get("shadowOffsetY")},z2:10}}function h(t,e,n,i){var r=i.getWidth(),o=i.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function p(t,e,n,r,o){t=e.scale.parse(t);var s=e.scale.getLabel(t,{precision:o.precision}),a=o.formatter;if(a){var l={value:c.getAxisRawValue(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};i.each(r,(function(t){var e=n.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,r=e&&e.getDataParams(i);r&&l.seriesData.push(r)})),i.isString(a)?s=a.replace("{value}",s):i.isFunction(a)&&(s=a(l))}return s}function f(t,e,n){var i=a.create();return a.rotate(i,i,n.rotation),a.translate(i,i,n.position),r.applyTransform([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function m(t,e,n,i,r,o){var s=l.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get("label.margin"),d(e,i,r,o,{position:f(i.axis,t,n),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function v(t,e,n){return n=n||0,{x1:t[n],y1:t[1-n],x2:e[n],y2:e[1-n]}}function g(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}function _(t,e,n,i,r,o){return{cx:t,cy:e,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}e.buildElStyle=u,e.buildLabelElOption=d,e.getValueLabel=p,e.getTransformedPosition=f,e.buildCartesianSingleLabelElOption=m,e.makeLineShape=v,e.makeRectShape=g,e.makeSectorShape=_},ffc1:function(t,e,n){var i=n("5ca1"),r=n("504c")(!0);i(i.S,"Object",{entries:function(t){return r(t)}})}}]);
//# sourceMappingURL=chunk-vendors.37eb7c8f.js.map